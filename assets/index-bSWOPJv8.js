function yh(J,te){for(var r=0;r<te.length;r++){const I=te[r];if(typeof I!="string"&&!Array.isArray(I)){for(const k in I)if(k!=="default"&&!(k in J)){const p=Object.getOwnPropertyDescriptor(I,k);p&&Object.defineProperty(J,k,p.get?p:{enumerable:!0,get:()=>I[k]})}}}return Object.freeze(Object.defineProperty(J,Symbol.toStringTag,{value:"Module"}))}(function(){const te=document.createElement("link").relList;if(te&&te.supports&&te.supports("modulepreload"))return;for(const k of document.querySelectorAll('link[rel="modulepreload"]'))I(k);new MutationObserver(k=>{for(const p of k)if(p.type==="childList")for(const u of p.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&I(u)}).observe(document,{childList:!0,subtree:!0});function r(k){const p={};return k.integrity&&(p.integrity=k.integrity),k.referrerPolicy&&(p.referrerPolicy=k.referrerPolicy),k.crossOrigin==="use-credentials"?p.credentials="include":k.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function I(k){if(k.ep)return;k.ep=!0;const p=r(k);fetch(k.href,p)}})();var yr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ka(J){return J&&J.__esModule&&Object.prototype.hasOwnProperty.call(J,"default")?J.default:J}var vu={exports:{}},jo={},_u={exports:{}},Cr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf;function Md(){if(Lf)return Cr;Lf=1;var J=Symbol.for("react.element"),te=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),i=Symbol.for("react.suspense"),t=Symbol.for("react.memo"),n=Symbol.for("react.lazy"),c=Symbol.iterator;function a(B){return B===null||typeof B!="object"?null:(B=c&&B[c]||B["@@iterator"],typeof B=="function"?B:null)}var l={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,b={};function d(B,z,re){this.props=B,this.context=z,this.refs=b,this.updater=re||l}d.prototype.isReactComponent={},d.prototype.setState=function(B,z){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,z,"setState")},d.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function w(){}w.prototype=d.prototype;function y(B,z,re){this.props=B,this.context=z,this.refs=b,this.updater=re||l}var T=y.prototype=new w;T.constructor=y,g(T,d.prototype),T.isPureReactComponent=!0;var M=Array.isArray,j=Object.prototype.hasOwnProperty,X={current:null},Y={key:!0,ref:!0,__self:!0,__source:!0};function W(B,z,re){var ne,de={},H=null,ae=null;if(z!=null)for(ne in z.ref!==void 0&&(ae=z.ref),z.key!==void 0&&(H=""+z.key),z)j.call(z,ne)&&!Y.hasOwnProperty(ne)&&(de[ne]=z[ne]);var U=arguments.length-2;if(U===1)de.children=re;else if(1<U){for(var L=Array(U),ee=0;ee<U;ee++)L[ee]=arguments[ee+2];de.children=L}if(B&&B.defaultProps)for(ne in U=B.defaultProps,U)de[ne]===void 0&&(de[ne]=U[ne]);return{$$typeof:J,type:B,key:H,ref:ae,props:de,_owner:X.current}}function q(B,z){return{$$typeof:J,type:B.type,key:z,ref:B.ref,props:B.props,_owner:B._owner}}function K(B){return typeof B=="object"&&B!==null&&B.$$typeof===J}function ie(B){var z={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(re){return z[re]})}var $=/\/+/g;function D(B,z){return typeof B=="object"&&B!==null&&B.key!=null?ie(""+B.key):z.toString(36)}function F(B,z,re,ne,de){var H=typeof B;(H==="undefined"||H==="boolean")&&(B=null);var ae=!1;if(B===null)ae=!0;else switch(H){case"string":case"number":ae=!0;break;case"object":switch(B.$$typeof){case J:case te:ae=!0}}if(ae)return ae=B,de=de(ae),B=ne===""?"."+D(ae,0):ne,M(de)?(re="",B!=null&&(re=B.replace($,"$&/")+"/"),F(de,z,re,"",function(ee){return ee})):de!=null&&(K(de)&&(de=q(de,re+(!de.key||ae&&ae.key===de.key?"":(""+de.key).replace($,"$&/")+"/")+B)),z.push(de)),1;if(ae=0,ne=ne===""?".":ne+":",M(B))for(var U=0;U<B.length;U++){H=B[U];var L=ne+D(H,U);ae+=F(H,z,re,L,de)}else if(L=a(B),typeof L=="function")for(B=L.call(B),U=0;!(H=B.next()).done;)H=H.value,L=ne+D(H,U++),ae+=F(H,z,re,L,de);else if(H==="object")throw z=String(B),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return ae}function A(B,z,re){if(B==null)return B;var ne=[],de=0;return F(B,ne,"","",function(H){return z.call(re,H,de++)}),ne}function v(B){if(B._status===-1){var z=B._result;z=z(),z.then(function(re){(B._status===0||B._status===-1)&&(B._status=1,B._result=re)},function(re){(B._status===0||B._status===-1)&&(B._status=2,B._result=re)}),B._status===-1&&(B._status=0,B._result=z)}if(B._status===1)return B._result.default;throw B._result}var _={current:null},S={transition:null},C={ReactCurrentDispatcher:_,ReactCurrentBatchConfig:S,ReactCurrentOwner:X};function O(){throw Error("act(...) is not supported in production builds of React.")}return Cr.Children={map:A,forEach:function(B,z,re){A(B,function(){z.apply(this,arguments)},re)},count:function(B){var z=0;return A(B,function(){z++}),z},toArray:function(B){return A(B,function(z){return z})||[]},only:function(B){if(!K(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Cr.Component=d,Cr.Fragment=r,Cr.Profiler=k,Cr.PureComponent=y,Cr.StrictMode=I,Cr.Suspense=i,Cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C,Cr.act=O,Cr.cloneElement=function(B,z,re){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var ne=g({},B.props),de=B.key,H=B.ref,ae=B._owner;if(z!=null){if(z.ref!==void 0&&(H=z.ref,ae=X.current),z.key!==void 0&&(de=""+z.key),B.type&&B.type.defaultProps)var U=B.type.defaultProps;for(L in z)j.call(z,L)&&!Y.hasOwnProperty(L)&&(ne[L]=z[L]===void 0&&U!==void 0?U[L]:z[L])}var L=arguments.length-2;if(L===1)ne.children=re;else if(1<L){U=Array(L);for(var ee=0;ee<L;ee++)U[ee]=arguments[ee+2];ne.children=U}return{$$typeof:J,type:B.type,key:de,ref:H,props:ne,_owner:ae}},Cr.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:p,_context:B},B.Consumer=B},Cr.createElement=W,Cr.createFactory=function(B){var z=W.bind(null,B);return z.type=B,z},Cr.createRef=function(){return{current:null}},Cr.forwardRef=function(B){return{$$typeof:f,render:B}},Cr.isValidElement=K,Cr.lazy=function(B){return{$$typeof:n,_payload:{_status:-1,_result:B},_init:v}},Cr.memo=function(B,z){return{$$typeof:t,type:B,compare:z===void 0?null:z}},Cr.startTransition=function(B){var z=S.transition;S.transition={};try{B()}finally{S.transition=z}},Cr.unstable_act=O,Cr.useCallback=function(B,z){return _.current.useCallback(B,z)},Cr.useContext=function(B){return _.current.useContext(B)},Cr.useDebugValue=function(){},Cr.useDeferredValue=function(B){return _.current.useDeferredValue(B)},Cr.useEffect=function(B,z){return _.current.useEffect(B,z)},Cr.useId=function(){return _.current.useId()},Cr.useImperativeHandle=function(B,z,re){return _.current.useImperativeHandle(B,z,re)},Cr.useInsertionEffect=function(B,z){return _.current.useInsertionEffect(B,z)},Cr.useLayoutEffect=function(B,z){return _.current.useLayoutEffect(B,z)},Cr.useMemo=function(B,z){return _.current.useMemo(B,z)},Cr.useReducer=function(B,z,re){return _.current.useReducer(B,z,re)},Cr.useRef=function(B){return _.current.useRef(B)},Cr.useState=function(B){return _.current.useState(B)},Cr.useSyncExternalStore=function(B,z,re){return _.current.useSyncExternalStore(B,z,re)},Cr.useTransition=function(){return _.current.useTransition()},Cr.version="18.3.1",Cr}var Ff;function Bu(){return Ff||(Ff=1,_u.exports=Md()),_u.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uf;function Od(){if(Uf)return jo;Uf=1;var J=Bu(),te=Symbol.for("react.element"),r=Symbol.for("react.fragment"),I=Object.prototype.hasOwnProperty,k=J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function u(f,i,t){var n,c={},a=null,l=null;t!==void 0&&(a=""+t),i.key!==void 0&&(a=""+i.key),i.ref!==void 0&&(l=i.ref);for(n in i)I.call(i,n)&&!p.hasOwnProperty(n)&&(c[n]=i[n]);if(f&&f.defaultProps)for(n in i=f.defaultProps,i)c[n]===void 0&&(c[n]=i[n]);return{$$typeof:te,type:f,key:a,ref:l,props:c,_owner:k.current}}return jo.Fragment=r,jo.jsx=u,jo.jsxs=u,jo}var zf;function Dd(){return zf||(zf=1,vu.exports=Od()),vu.exports}var le=Dd(),tt=Bu();const ju=Ka(tt),Pd=yh({__proto__:null,default:ju},[tt]);var Va={},Su={exports:{}},Wn={},Eu={exports:{}},Cu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vf;function Bd(){return Vf||(Vf=1,function(J){function te(S,C){var O=S.length;S.push(C);e:for(;0<O;){var B=O-1>>>1,z=S[B];if(0<k(z,C))S[B]=C,S[O]=z,O=B;else break e}}function r(S){return S.length===0?null:S[0]}function I(S){if(S.length===0)return null;var C=S[0],O=S.pop();if(O!==C){S[0]=O;e:for(var B=0,z=S.length,re=z>>>1;B<re;){var ne=2*(B+1)-1,de=S[ne],H=ne+1,ae=S[H];if(0>k(de,O))H<z&&0>k(ae,de)?(S[B]=ae,S[H]=O,B=H):(S[B]=de,S[ne]=O,B=ne);else if(H<z&&0>k(ae,O))S[B]=ae,S[H]=O,B=H;else break e}}return C}function k(S,C){var O=S.sortIndex-C.sortIndex;return O!==0?O:S.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;J.unstable_now=function(){return p.now()}}else{var u=Date,f=u.now();J.unstable_now=function(){return u.now()-f}}var i=[],t=[],n=1,c=null,a=3,l=!1,g=!1,b=!1,d=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(S){for(var C=r(t);C!==null;){if(C.callback===null)I(t);else if(C.startTime<=S)I(t),C.sortIndex=C.expirationTime,te(i,C);else break;C=r(t)}}function M(S){if(b=!1,T(S),!g)if(r(i)!==null)g=!0,v(j);else{var C=r(t);C!==null&&_(M,C.startTime-S)}}function j(S,C){g=!1,b&&(b=!1,w(W),W=-1),l=!0;var O=a;try{for(T(C),c=r(i);c!==null&&(!(c.expirationTime>C)||S&&!ie());){var B=c.callback;if(typeof B=="function"){c.callback=null,a=c.priorityLevel;var z=B(c.expirationTime<=C);C=J.unstable_now(),typeof z=="function"?c.callback=z:c===r(i)&&I(i),T(C)}else I(i);c=r(i)}if(c!==null)var re=!0;else{var ne=r(t);ne!==null&&_(M,ne.startTime-C),re=!1}return re}finally{c=null,a=O,l=!1}}var X=!1,Y=null,W=-1,q=5,K=-1;function ie(){return!(J.unstable_now()-K<q)}function $(){if(Y!==null){var S=J.unstable_now();K=S;var C=!0;try{C=Y(!0,S)}finally{C?D():(X=!1,Y=null)}}else X=!1}var D;if(typeof y=="function")D=function(){y($)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,A=F.port2;F.port1.onmessage=$,D=function(){A.postMessage(null)}}else D=function(){d($,0)};function v(S){Y=S,X||(X=!0,D())}function _(S,C){W=d(function(){S(J.unstable_now())},C)}J.unstable_IdlePriority=5,J.unstable_ImmediatePriority=1,J.unstable_LowPriority=4,J.unstable_NormalPriority=3,J.unstable_Profiling=null,J.unstable_UserBlockingPriority=2,J.unstable_cancelCallback=function(S){S.callback=null},J.unstable_continueExecution=function(){g||l||(g=!0,v(j))},J.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<S?Math.floor(1e3/S):5},J.unstable_getCurrentPriorityLevel=function(){return a},J.unstable_getFirstCallbackNode=function(){return r(i)},J.unstable_next=function(S){switch(a){case 1:case 2:case 3:var C=3;break;default:C=a}var O=a;a=C;try{return S()}finally{a=O}},J.unstable_pauseExecution=function(){},J.unstable_requestPaint=function(){},J.unstable_runWithPriority=function(S,C){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var O=a;a=S;try{return C()}finally{a=O}},J.unstable_scheduleCallback=function(S,C,O){var B=J.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?B+O:B):O=B,S){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=O+z,S={id:n++,callback:C,priorityLevel:S,startTime:O,expirationTime:z,sortIndex:-1},O>B?(S.sortIndex=O,te(t,S),r(i)===null&&S===r(t)&&(b?(w(W),W=-1):b=!0,_(M,O-B))):(S.sortIndex=z,te(i,S),g||l||(g=!0,v(j))),S},J.unstable_shouldYield=ie,J.unstable_wrapCallback=function(S){var C=a;return function(){var O=a;a=C;try{return S.apply(this,arguments)}finally{a=O}}}}(Cu)),Cu}var Hf;function jd(){return Hf||(Hf=1,Eu.exports=Bd()),Eu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wf;function Ld(){if(Wf)return Wn;Wf=1;var J=Bu(),te=jd();function r(s){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+s,R=1;R<arguments.length;R++)m+="&args[]="+encodeURIComponent(arguments[R]);return"Minified React error #"+s+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var I=new Set,k={};function p(s,m){u(s,m),u(s+"Capture",m)}function u(s,m){for(k[s]=m,s=0;s<m.length;s++)I.add(m[s])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),i=Object.prototype.hasOwnProperty,t=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,n={},c={};function a(s){return i.call(c,s)?!0:i.call(n,s)?!1:t.test(s)?c[s]=!0:(n[s]=!0,!1)}function l(s,m,R,V){if(R!==null&&R.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return V?!1:R!==null?!R.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function g(s,m,R,V){if(m===null||typeof m>"u"||l(s,m,R,V))return!0;if(V)return!1;if(R!==null)switch(R.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function b(s,m,R,V,Q,se,me){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=V,this.attributeNamespace=Q,this.mustUseProperty=R,this.propertyName=s,this.type=m,this.sanitizeURL=se,this.removeEmptyString=me}var d={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){d[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var m=s[0];d[m]=new b(m,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){d[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){d[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){d[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){d[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){d[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){d[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){d[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function y(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var m=s.replace(w,y);d[m]=new b(m,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var m=s.replace(w,y);d[m]=new b(m,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var m=s.replace(w,y);d[m]=new b(m,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){d[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),d.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){d[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function T(s,m,R,V){var Q=d.hasOwnProperty(m)?d[m]:null;(Q!==null?Q.type!==0:V||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(g(m,R,Q,V)&&(R=null),V||Q===null?a(m)&&(R===null?s.removeAttribute(m):s.setAttribute(m,""+R)):Q.mustUseProperty?s[Q.propertyName]=R===null?Q.type===3?!1:"":R:(m=Q.attributeName,V=Q.attributeNamespace,R===null?s.removeAttribute(m):(Q=Q.type,R=Q===3||Q===4&&R===!0?"":""+R,V?s.setAttributeNS(V,m,R):s.setAttribute(m,R))))}var M=J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),X=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),ie=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),S=Symbol.iterator;function C(s){return s===null||typeof s!="object"?null:(s=S&&s[S]||s["@@iterator"],typeof s=="function"?s:null)}var O=Object.assign,B;function z(s){if(B===void 0)try{throw Error()}catch(R){var m=R.stack.trim().match(/\n( *(at )?)/);B=m&&m[1]||""}return`
`+B+s}var re=!1;function ne(s,m){if(!s||re)return"";re=!0;var R=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(Je){var V=Je}Reflect.construct(s,[],m)}else{try{m.call()}catch(Je){V=Je}s.call(m.prototype)}else{try{throw Error()}catch(Je){V=Je}s()}}catch(Je){if(Je&&V&&typeof Je.stack=="string"){for(var Q=Je.stack.split(`
`),se=V.stack.split(`
`),me=Q.length-1,Ne=se.length-1;1<=me&&0<=Ne&&Q[me]!==se[Ne];)Ne--;for(;1<=me&&0<=Ne;me--,Ne--)if(Q[me]!==se[Ne]){if(me!==1||Ne!==1)do if(me--,Ne--,0>Ne||Q[me]!==se[Ne]){var je=`
`+Q[me].replace(" at new "," at ");return s.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",s.displayName)),je}while(1<=me&&0<=Ne);break}}}finally{re=!1,Error.prepareStackTrace=R}return(s=s?s.displayName||s.name:"")?z(s):""}function de(s){switch(s.tag){case 5:return z(s.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return s=ne(s.type,!1),s;case 11:return s=ne(s.type.render,!1),s;case 1:return s=ne(s.type,!0),s;default:return""}}function H(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case Y:return"Fragment";case X:return"Portal";case q:return"Profiler";case W:return"StrictMode";case D:return"Suspense";case F:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case ie:return(s.displayName||"Context")+".Consumer";case K:return(s._context.displayName||"Context")+".Provider";case $:var m=s.render;return s=s.displayName,s||(s=m.displayName||m.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case A:return m=s.displayName||null,m!==null?m:H(s.type)||"Memo";case v:m=s._payload,s=s._init;try{return H(s(m))}catch{}}return null}function ae(s){var m=s.type;switch(s.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=m.render,s=s.displayName||s.name||"",m.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(m);case 8:return m===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function U(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function L(s){var m=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function ee(s){var m=L(s)?"checked":"value",R=Object.getOwnPropertyDescriptor(s.constructor.prototype,m),V=""+s[m];if(!s.hasOwnProperty(m)&&typeof R<"u"&&typeof R.get=="function"&&typeof R.set=="function"){var Q=R.get,se=R.set;return Object.defineProperty(s,m,{configurable:!0,get:function(){return Q.call(this)},set:function(me){V=""+me,se.call(this,me)}}),Object.defineProperty(s,m,{enumerable:R.enumerable}),{getValue:function(){return V},setValue:function(me){V=""+me},stopTracking:function(){s._valueTracker=null,delete s[m]}}}}function ce(s){s._valueTracker||(s._valueTracker=ee(s))}function ve(s){if(!s)return!1;var m=s._valueTracker;if(!m)return!0;var R=m.getValue(),V="";return s&&(V=L(s)?s.checked?"true":"false":s.value),s=V,s!==R?(m.setValue(s),!0):!1}function he(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function xe(s,m){var R=m.checked;return O({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:R??s._wrapperState.initialChecked})}function _e(s,m){var R=m.defaultValue==null?"":m.defaultValue,V=m.checked!=null?m.checked:m.defaultChecked;R=U(m.value!=null?m.value:R),s._wrapperState={initialChecked:V,initialValue:R,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function Re(s,m){m=m.checked,m!=null&&T(s,"checked",m,!1)}function pe(s,m){Re(s,m);var R=U(m.value),V=m.type;if(R!=null)V==="number"?(R===0&&s.value===""||s.value!=R)&&(s.value=""+R):s.value!==""+R&&(s.value=""+R);else if(V==="submit"||V==="reset"){s.removeAttribute("value");return}m.hasOwnProperty("value")?Se(s,m.type,R):m.hasOwnProperty("defaultValue")&&Se(s,m.type,U(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(s.defaultChecked=!!m.defaultChecked)}function Ae(s,m,R){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var V=m.type;if(!(V!=="submit"&&V!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+s._wrapperState.initialValue,R||m===s.value||(s.value=m),s.defaultValue=m}R=s.name,R!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,R!==""&&(s.name=R)}function Se(s,m,R){(m!=="number"||he(s.ownerDocument)!==s)&&(R==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+R&&(s.defaultValue=""+R))}var Ue=Array.isArray;function ke(s,m,R,V){if(s=s.options,m){m={};for(var Q=0;Q<R.length;Q++)m["$"+R[Q]]=!0;for(R=0;R<s.length;R++)Q=m.hasOwnProperty("$"+s[R].value),s[R].selected!==Q&&(s[R].selected=Q),Q&&V&&(s[R].defaultSelected=!0)}else{for(R=""+U(R),m=null,Q=0;Q<s.length;Q++){if(s[Q].value===R){s[Q].selected=!0,V&&(s[Q].defaultSelected=!0);return}m!==null||s[Q].disabled||(m=s[Q])}m!==null&&(m.selected=!0)}}function We(s,m){if(m.dangerouslySetInnerHTML!=null)throw Error(r(91));return O({},m,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function $e(s,m){var R=m.value;if(R==null){if(R=m.children,m=m.defaultValue,R!=null){if(m!=null)throw Error(r(92));if(Ue(R)){if(1<R.length)throw Error(r(93));R=R[0]}m=R}m==null&&(m=""),R=m}s._wrapperState={initialValue:U(R)}}function Ze(s,m){var R=U(m.value),V=U(m.defaultValue);R!=null&&(R=""+R,R!==s.value&&(s.value=R),m.defaultValue==null&&s.defaultValue!==R&&(s.defaultValue=R)),V!=null&&(s.defaultValue=""+V)}function lt(s){var m=s.textContent;m===s._wrapperState.initialValue&&m!==""&&m!==null&&(s.value=m)}function xt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tt(s,m){return s==null||s==="http://www.w3.org/1999/xhtml"?xt(m):s==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var gt,Mt=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,R,V,Q){MSApp.execUnsafeLocalFunction(function(){return s(m,R,V,Q)})}:s}(function(s,m){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=m;else{for(gt=gt||document.createElement("div"),gt.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=gt.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;m.firstChild;)s.appendChild(m.firstChild)}});function Ft(s,m){if(m){var R=s.firstChild;if(R&&R===s.lastChild&&R.nodeType===3){R.nodeValue=m;return}}s.textContent=m}var Bt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gt=["Webkit","ms","Moz","O"];Object.keys(Bt).forEach(function(s){Gt.forEach(function(m){m=m+s.charAt(0).toUpperCase()+s.substring(1),Bt[m]=Bt[s]})});function ft(s,m,R){return m==null||typeof m=="boolean"||m===""?"":R||typeof m!="number"||m===0||Bt.hasOwnProperty(s)&&Bt[s]?(""+m).trim():m+"px"}function Ge(s,m){s=s.style;for(var R in m)if(m.hasOwnProperty(R)){var V=R.indexOf("--")===0,Q=ft(R,m[R],V);R==="float"&&(R="cssFloat"),V?s.setProperty(R,Q):s[R]=Q}}var bt=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Et(s,m){if(m){if(bt[s]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(r(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(r(61))}if(m.style!=null&&typeof m.style!="object")throw Error(r(62))}}function yt(s,m){if(s.indexOf("-")===-1)return typeof m.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fr=null;function _r(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Lt=null,Dt=null,ir=null;function rr(s){if(s=_o(s)){if(typeof Lt!="function")throw Error(r(280));var m=s.stateNode;m&&(m=na(m),Lt(s.stateNode,s.type,m))}}function kr(s){Dt?ir?ir.push(s):ir=[s]:Dt=s}function hr(){if(Dt){var s=Dt,m=ir;if(ir=Dt=null,rr(s),m)for(s=0;s<m.length;s++)rr(m[s])}}function Yt(s,m){return s(m)}function Jt(){}var vr=!1;function Kt(s,m,R){if(vr)return s(m,R);vr=!0;try{return Yt(s,m,R)}finally{vr=!1,(Dt!==null||ir!==null)&&(Jt(),hr())}}function ur(s,m){var R=s.stateNode;if(R===null)return null;var V=na(R);if(V===null)return null;R=V[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(V=!V.disabled)||(s=s.type,V=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!V;break e;default:s=!1}if(s)return null;if(R&&typeof R!="function")throw Error(r(231,m,typeof R));return R}var Ar=!1;if(f)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Ar=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{Ar=!1}function Oe(s,m,R,V,Q,se,me,Ne,je){var Je=Array.prototype.slice.call(arguments,3);try{m.apply(R,Je)}catch(mt){this.onError(mt)}}var He=!1,et=null,ht=!1,it=null,kt={onError:function(s){He=!0,et=s}};function er(s,m,R,V,Q,se,me,Ne,je){He=!1,et=null,Oe.apply(kt,arguments)}function jt(s,m,R,V,Q,se,me,Ne,je){if(er.apply(this,arguments),He){if(He){var Je=et;He=!1,et=null}else throw Error(r(198));ht||(ht=!0,it=Je)}}function Pt(s){var m=s,R=s;if(s.alternate)for(;m.return;)m=m.return;else{s=m;do m=s,(m.flags&4098)!==0&&(R=m.return),s=m.return;while(s)}return m.tag===3?R:null}function nr(s){if(s.tag===13){var m=s.memoizedState;if(m===null&&(s=s.alternate,s!==null&&(m=s.memoizedState)),m!==null)return m.dehydrated}return null}function Qt(s){if(Pt(s)!==s)throw Error(r(188))}function sr(s){var m=s.alternate;if(!m){if(m=Pt(s),m===null)throw Error(r(188));return m!==s?null:s}for(var R=s,V=m;;){var Q=R.return;if(Q===null)break;var se=Q.alternate;if(se===null){if(V=Q.return,V!==null){R=V;continue}break}if(Q.child===se.child){for(se=Q.child;se;){if(se===R)return Qt(Q),s;if(se===V)return Qt(Q),m;se=se.sibling}throw Error(r(188))}if(R.return!==V.return)R=Q,V=se;else{for(var me=!1,Ne=Q.child;Ne;){if(Ne===R){me=!0,R=Q,V=se;break}if(Ne===V){me=!0,V=Q,R=se;break}Ne=Ne.sibling}if(!me){for(Ne=se.child;Ne;){if(Ne===R){me=!0,R=se,V=Q;break}if(Ne===V){me=!0,V=se,R=Q;break}Ne=Ne.sibling}if(!me)throw Error(r(189))}}if(R.alternate!==V)throw Error(r(190))}if(R.tag!==3)throw Error(r(188));return R.stateNode.current===R?s:m}function jr(s){return s=sr(s),s!==null?Mr(s):null}function Mr(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var m=Mr(s);if(m!==null)return m;s=s.sibling}return null}var Nr=te.unstable_scheduleCallback,Sr=te.unstable_cancelCallback,wr=te.unstable_shouldYield,Ee=te.unstable_requestPaint,Fe=te.unstable_now,ot=te.unstable_getCurrentPriorityLevel,De=te.unstable_ImmediatePriority,zt=te.unstable_UserBlockingPriority,at=te.unstable_NormalPriority,vt=te.unstable_LowPriority,xr=te.unstable_IdlePriority,Rt=null,Nt=null;function Ct(s){if(Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Rt,s,void 0,(s.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:we,be=Math.log,Ie=Math.LN2;function we(s){return s>>>=0,s===0?32:31-(be(s)/Ie|0)|0}var Pe=64,ze=4194304;function Me(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function rt(s,m){var R=s.pendingLanes;if(R===0)return 0;var V=0,Q=s.suspendedLanes,se=s.pingedLanes,me=R&268435455;if(me!==0){var Ne=me&~Q;Ne!==0?V=Me(Ne):(se&=me,se!==0&&(V=Me(se)))}else me=R&~Q,me!==0?V=Me(me):se!==0&&(V=Me(se));if(V===0)return 0;if(m!==0&&m!==V&&(m&Q)===0&&(Q=V&-V,se=m&-m,Q>=se||Q===16&&(se&4194240)!==0))return m;if((V&4)!==0&&(V|=R&16),m=s.entangledLanes,m!==0)for(s=s.entanglements,m&=V;0<m;)R=31-dr(m),Q=1<<R,V|=s[R],m&=~Q;return V}function ut(s,m){switch(s){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ct(s,m){for(var R=s.suspendedLanes,V=s.pingedLanes,Q=s.expirationTimes,se=s.pendingLanes;0<se;){var me=31-dr(se),Ne=1<<me,je=Q[me];je===-1?((Ne&R)===0||(Ne&V)!==0)&&(Q[me]=ut(Ne,m)):je<=m&&(s.expiredLanes|=Ne),se&=~Ne}}function st(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function nt(){var s=Pe;return Pe<<=1,(Pe&4194240)===0&&(Pe=64),s}function Te(s){for(var m=[],R=0;31>R;R++)m.push(s);return m}function ye(s,m,R){s.pendingLanes|=m,m!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,m=31-dr(m),s[m]=R}function wt(s,m){var R=s.pendingLanes&~m;s.pendingLanes=m,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=m,s.mutableReadLanes&=m,s.entangledLanes&=m,m=s.entanglements;var V=s.eventTimes;for(s=s.expirationTimes;0<R;){var Q=31-dr(R),se=1<<Q;m[Q]=0,V[Q]=-1,s[Q]=-1,R&=~se}}function tr(s,m){var R=s.entangledLanes|=m;for(s=s.entanglements;R;){var V=31-dr(R),Q=1<<V;Q&m|s[V]&m&&(s[V]|=m),R&=~Q}}var Ot=0;function Tr(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Ur,zr,Wt,Rr,bn,xi=!1,Pn=[],fn=null,un=null,Bn=null,Wr=new Map,Tn=new Map,en=[],cr="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vo(s,m){switch(s){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":un=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":Wr.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tn.delete(m.pointerId)}}function mr(s,m,R,V,Q,se){return s===null||s.nativeEvent!==se?(s={blockedOn:m,domEventName:R,eventSystemFlags:V,nativeEvent:se,targetContainers:[Q]},m!==null&&(m=_o(m),m!==null&&zr(m)),s):(s.eventSystemFlags|=V,m=s.targetContainers,Q!==null&&m.indexOf(Q)===-1&&m.push(Q),s)}function hn(s,m,R,V,Q){switch(m){case"focusin":return fn=mr(fn,s,m,R,V,Q),!0;case"dragenter":return un=mr(un,s,m,R,V,Q),!0;case"mouseover":return Bn=mr(Bn,s,m,R,V,Q),!0;case"pointerover":var se=Q.pointerId;return Wr.set(se,mr(Wr.get(se)||null,s,m,R,V,Q)),!0;case"gotpointercapture":return se=Q.pointerId,Tn.set(se,mr(Tn.get(se)||null,s,m,R,V,Q)),!0}return!1}function Ho(s){var m=ws(s.target);if(m!==null){var R=Pt(m);if(R!==null){if(m=R.tag,m===13){if(m=nr(R),m!==null){s.blockedOn=m,bn(s.priority,function(){Wt(R)});return}}else if(m===3&&R.stateNode.current.memoizedState.isDehydrated){s.blockedOn=R.tag===3?R.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ji(s){if(s.blockedOn!==null)return!1;for(var m=s.targetContainers;0<m.length;){var R=Ds(s.domEventName,s.eventSystemFlags,m[0],s.nativeEvent);if(R===null){R=s.nativeEvent;var V=new R.constructor(R.type,R);fr=V,R.target.dispatchEvent(V),fr=null}else return m=_o(R),m!==null&&zr(m),s.blockedOn=R,!1;m.shift()}return!0}function oo(s,m,R){ji(s)&&R.delete(m)}function vi(){xi=!1,fn!==null&&ji(fn)&&(fn=null),un!==null&&ji(un)&&(un=null),Bn!==null&&ji(Bn)&&(Bn=null),Wr.forEach(oo),Tn.forEach(oo)}function cs(s,m){s.blockedOn===m&&(s.blockedOn=null,xi||(xi=!0,te.unstable_scheduleCallback(te.unstable_NormalPriority,vi)))}function oi(s){function m(Q){return cs(Q,s)}if(0<Pn.length){cs(Pn[0],s);for(var R=1;R<Pn.length;R++){var V=Pn[R];V.blockedOn===s&&(V.blockedOn=null)}}for(fn!==null&&cs(fn,s),un!==null&&cs(un,s),Bn!==null&&cs(Bn,s),Wr.forEach(m),Tn.forEach(m),R=0;R<en.length;R++)V=en[R],V.blockedOn===s&&(V.blockedOn=null);for(;0<en.length&&(R=en[0],R.blockedOn===null);)Ho(R),R.blockedOn===null&&en.shift()}var Qn=M.ReactCurrentBatchConfig,pi=!0;function Wo(s,m,R,V){var Q=Ot,se=Qn.transition;Qn.transition=null;try{Ot=1,_i(s,m,R,V)}finally{Ot=Q,Qn.transition=se}}function fs(s,m,R,V){var Q=Ot,se=Qn.transition;Qn.transition=null;try{Ot=4,_i(s,m,R,V)}finally{Ot=Q,Qn.transition=se}}function _i(s,m,R,V){if(pi){var Q=Ds(s,m,R,V);if(Q===null)fl(s,m,V,dn,R),Vo(s,V);else if(hn(Q,s,m,R,V))V.stopPropagation();else if(Vo(s,V),m&4&&-1<cr.indexOf(s)){for(;Q!==null;){var se=_o(Q);if(se!==null&&Ur(se),se=Ds(s,m,R,V),se===null&&fl(s,m,V,dn,R),se===Q)break;Q=se}Q!==null&&V.stopPropagation()}else fl(s,m,V,null,R)}}var dn=null;function Ds(s,m,R,V){if(dn=null,s=_r(V),s=ws(s),s!==null)if(m=Pt(s),m===null)s=null;else if(R=m.tag,R===13){if(s=nr(m),s!==null)return s;s=null}else if(R===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;s=null}else m!==s&&(s=null);return dn=s,null}function ao(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ot()){case De:return 1;case zt:return 4;case at:case vt:return 16;case xr:return 536870912;default:return 16}default:return 16}}var ai=null,lo=null,Ps=null;function Xo(){if(Ps)return Ps;var s,m=lo,R=m.length,V,Q="value"in ai?ai.value:ai.textContent,se=Q.length;for(s=0;s<R&&m[s]===Q[s];s++);var me=R-s;for(V=1;V<=me&&m[R-V]===Q[se-V];V++);return Ps=Q.slice(s,1<V?1-V:void 0)}function Or(s){var m=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&m===13&&(s=13)):s=m,s===10&&(s=13),32<=s||s===13?s:0}function hs(){return!0}function ds(){return!1}function tn(s){function m(R,V,Q,se,me){this._reactName=R,this._targetInst=Q,this.type=V,this.nativeEvent=se,this.target=me,this.currentTarget=null;for(var Ne in s)s.hasOwnProperty(Ne)&&(R=s[Ne],this[Ne]=R?R(se):se[Ne]);return this.isDefaultPrevented=(se.defaultPrevented!=null?se.defaultPrevented:se.returnValue===!1)?hs:ds,this.isPropagationStopped=ds,this}return O(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var R=this.nativeEvent;R&&(R.preventDefault?R.preventDefault():typeof R.returnValue!="unknown"&&(R.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var R=this.nativeEvent;R&&(R.stopPropagation?R.stopPropagation():typeof R.cancelBubble!="unknown"&&(R.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),m}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qe=tn(Li),br=O({},Li,{view:0,detail:0}),pn=tn(br),Fi,Bs,ps,js=O({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ps&&(ps&&s.type==="mousemove"?(Fi=s.screenX-ps.screenX,Bs=s.screenY-ps.screenY):Bs=Fi=0,ps=s),Fi)},movementY:function(s){return"movementY"in s?s.movementY:Bs}}),Go=tn(js),uo=O({},js,{dataTransfer:0}),sn=tn(uo),co=O({},br,{relatedTarget:0}),Xr=tn(co),Ls=O({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),Si=tn(Ls),Lr=O({},Li,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),or=tn(Lr),rl=O({},Li,{data:0}),Vr=tn(rl),Ei={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ui={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jn(s){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(s):(s=nl[s])?!!m[s]:!1}function ms(){return Jn}var qo=O({},br,{key:function(s){if(s.key){var m=Ei[s.key]||s.key;if(m!=="Unidentified")return m}return s.type==="keypress"?(s=Or(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ui[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(s){return s.type==="keypress"?Or(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Or(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),fo=tn(qo),Yo=O({},js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ho=tn(Yo),il=O({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),zi=tn(il),po=O({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),sl=tn(po),gs=O({},js,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ol=tn(gs),mi=[9,13,27,32],Vi=f&&"CompositionEvent"in window,yn=null;f&&"documentMode"in document&&(yn=document.documentMode);var $o=f&&"TextEvent"in window&&!yn,Gn=f&&(!Vi||yn&&8<yn&&11>=yn),Zo=" ",Fs=!1;function Ko(s,m){switch(s){case"keyup":return mi.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var En=!1;function al(s,m){switch(s){case"compositionend":return mo(m);case"keypress":return m.which!==32?null:(Fs=!0,Zo);case"textInput":return s=m.data,s===Zo&&Fs?null:s;default:return null}}function go(s,m){if(En)return s==="compositionend"||!Vi&&Ko(s,m)?(s=Xo(),Ps=lo=ai=null,En=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return Gn&&m.locale!=="ko"?null:m.data;default:return null}}var bs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ir(s){var m=s&&s.nodeName&&s.nodeName.toLowerCase();return m==="input"?!!bs[s.type]:m==="textarea"}function ys(s,m,R,V){kr(V),m=ea(m,"onChange"),0<m.length&&(R=new Qe("onChange","change",null,R,V),s.push({event:R,listeners:m}))}var ue=null,e=null;function o(s){Ju(s,0)}function h(s){var m=Vs(s);if(ve(m))return s}function x(s,m){if(s==="change")return m}var E=!1;if(f){var N;if(f){var P="oninput"in document;if(!P){var G=document.createElement("div");G.setAttribute("oninput","return;"),P=typeof G.oninput=="function"}N=P}else N=!1;E=N&&(!document.documentMode||9<document.documentMode)}function Z(){ue&&(ue.detachEvent("onpropertychange",oe),e=ue=null)}function oe(s){if(s.propertyName==="value"&&h(e)){var m=[];ys(m,e,s,_r(s)),Kt(o,m)}}function fe(s,m,R){s==="focusin"?(Z(),ue=m,e=R,ue.attachEvent("onpropertychange",oe)):s==="focusout"&&Z()}function ge(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return h(e)}function Ce(s,m){if(s==="click")return h(m)}function Be(s,m){if(s==="input"||s==="change")return h(m)}function Le(s,m){return s===m&&(s!==0||1/s===1/m)||s!==s&&m!==m}var Xe=typeof Object.is=="function"?Object.is:Le;function Ke(s,m){if(Xe(s,m))return!0;if(typeof s!="object"||s===null||typeof m!="object"||m===null)return!1;var R=Object.keys(s),V=Object.keys(m);if(R.length!==V.length)return!1;for(V=0;V<R.length;V++){var Q=R[V];if(!i.call(m,Q)||!Xe(s[Q],m[Q]))return!1}return!0}function St(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function At(s,m){var R=St(s);s=0;for(var V;R;){if(R.nodeType===3){if(V=s+R.textContent.length,s<=m&&V>=m)return{node:R,offset:m-s};s=V}e:{for(;R;){if(R.nextSibling){R=R.nextSibling;break e}R=R.parentNode}R=void 0}R=St(R)}}function pt(s,m){return s&&m?s===m?!0:s&&s.nodeType===3?!1:m&&m.nodeType===3?pt(s,m.parentNode):"contains"in s?s.contains(m):s.compareDocumentPosition?!!(s.compareDocumentPosition(m)&16):!1:!1}function Er(){for(var s=window,m=he();m instanceof s.HTMLIFrameElement;){try{var R=typeof m.contentWindow.location.href=="string"}catch{R=!1}if(R)s=m.contentWindow;else break;m=he(s.document)}return m}function gr(s){var m=s&&s.nodeName&&s.nodeName.toLowerCase();return m&&(m==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||m==="textarea"||s.contentEditable==="true")}function In(s){var m=Er(),R=s.focusedElem,V=s.selectionRange;if(m!==R&&R&&R.ownerDocument&&pt(R.ownerDocument.documentElement,R)){if(V!==null&&gr(R)){if(m=V.start,s=V.end,s===void 0&&(s=m),"selectionStart"in R)R.selectionStart=m,R.selectionEnd=Math.min(s,R.value.length);else if(s=(m=R.ownerDocument||document)&&m.defaultView||window,s.getSelection){s=s.getSelection();var Q=R.textContent.length,se=Math.min(V.start,Q);V=V.end===void 0?se:Math.min(V.end,Q),!s.extend&&se>V&&(Q=V,V=se,se=Q),Q=At(R,se);var me=At(R,V);Q&&me&&(s.rangeCount!==1||s.anchorNode!==Q.node||s.anchorOffset!==Q.offset||s.focusNode!==me.node||s.focusOffset!==me.offset)&&(m=m.createRange(),m.setStart(Q.node,Q.offset),s.removeAllRanges(),se>V?(s.addRange(m),s.extend(me.node,me.offset)):(m.setEnd(me.node,me.offset),s.addRange(m)))}}for(m=[],s=R;s=s.parentNode;)s.nodeType===1&&m.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<m.length;R++)s=m[R],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var qn=f&&"documentMode"in document&&11>=document.documentMode,on=null,Br=null,Kr=null,Cn=!1;function Ci(s,m,R){var V=R.window===R?R.document:R.nodeType===9?R:R.ownerDocument;Cn||on==null||on!==he(V)||(V=on,"selectionStart"in V&&gr(V)?V={start:V.selectionStart,end:V.selectionEnd}:(V=(V.ownerDocument&&V.ownerDocument.defaultView||window).getSelection(),V={anchorNode:V.anchorNode,anchorOffset:V.anchorOffset,focusNode:V.focusNode,focusOffset:V.focusOffset}),Kr&&Ke(Kr,V)||(Kr=V,V=ea(Br,"onSelect"),0<V.length&&(m=new Qe("onSelect","select",null,m,R),s.push({event:m,listeners:V}),m.target=on)))}function li(s,m){var R={};return R[s.toLowerCase()]=m.toLowerCase(),R["Webkit"+s]="webkit"+m,R["Moz"+s]="moz"+m,R}var Hi={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionend:li("Transition","TransitionEnd")},bo={},Xu={};f&&(Xu=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function Qo(s){if(bo[s])return bo[s];if(!Hi[s])return s;var m=Hi[s],R;for(R in m)if(m.hasOwnProperty(R)&&R in Xu)return bo[s]=m[R];return s}var Gu=Qo("animationend"),qu=Qo("animationiteration"),Yu=Qo("animationstart"),$u=Qo("transitionend"),Zu=new Map,Ku="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wi(s,m){Zu.set(s,m),p(m,[s])}for(var ll=0;ll<Ku.length;ll++){var ul=Ku[ll],zh=ul.toLowerCase(),Vh=ul[0].toUpperCase()+ul.slice(1);Wi(zh,"on"+Vh)}Wi(Gu,"onAnimationEnd"),Wi(qu,"onAnimationIteration"),Wi(Yu,"onAnimationStart"),Wi("dblclick","onDoubleClick"),Wi("focusin","onFocus"),Wi("focusout","onBlur"),Wi($u,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hh=new Set("cancel close invalid load scroll toggle".split(" ").concat(yo));function Qu(s,m,R){var V=s.type||"unknown-event";s.currentTarget=R,jt(V,m,void 0,s),s.currentTarget=null}function Ju(s,m){m=(m&4)!==0;for(var R=0;R<s.length;R++){var V=s[R],Q=V.event;V=V.listeners;e:{var se=void 0;if(m)for(var me=V.length-1;0<=me;me--){var Ne=V[me],je=Ne.instance,Je=Ne.currentTarget;if(Ne=Ne.listener,je!==se&&Q.isPropagationStopped())break e;Qu(Q,Ne,Je),se=je}else for(me=0;me<V.length;me++){if(Ne=V[me],je=Ne.instance,Je=Ne.currentTarget,Ne=Ne.listener,je!==se&&Q.isPropagationStopped())break e;Qu(Q,Ne,Je),se=je}}}if(ht)throw s=it,ht=!1,it=null,s}function qr(s,m){var R=m[bl];R===void 0&&(R=m[bl]=new Set);var V=s+"__bubble";R.has(V)||(ec(m,s,2,!1),R.add(V))}function cl(s,m,R){var V=0;m&&(V|=4),ec(R,s,V,m)}var Jo="_reactListening"+Math.random().toString(36).slice(2);function wo(s){if(!s[Jo]){s[Jo]=!0,I.forEach(function(R){R!=="selectionchange"&&(Hh.has(R)||cl(R,!1,s),cl(R,!0,s))});var m=s.nodeType===9?s:s.ownerDocument;m===null||m[Jo]||(m[Jo]=!0,cl("selectionchange",!1,m))}}function ec(s,m,R,V){switch(ao(m)){case 1:var Q=Wo;break;case 4:Q=fs;break;default:Q=_i}R=Q.bind(null,m,R,s),Q=void 0,!Ar||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(Q=!0),V?Q!==void 0?s.addEventListener(m,R,{capture:!0,passive:Q}):s.addEventListener(m,R,!0):Q!==void 0?s.addEventListener(m,R,{passive:Q}):s.addEventListener(m,R,!1)}function fl(s,m,R,V,Q){var se=V;if((m&1)===0&&(m&2)===0&&V!==null)e:for(;;){if(V===null)return;var me=V.tag;if(me===3||me===4){var Ne=V.stateNode.containerInfo;if(Ne===Q||Ne.nodeType===8&&Ne.parentNode===Q)break;if(me===4)for(me=V.return;me!==null;){var je=me.tag;if((je===3||je===4)&&(je=me.stateNode.containerInfo,je===Q||je.nodeType===8&&je.parentNode===Q))return;me=me.return}for(;Ne!==null;){if(me=ws(Ne),me===null)return;if(je=me.tag,je===5||je===6){V=se=me;continue e}Ne=Ne.parentNode}}V=V.return}Kt(function(){var Je=se,mt=_r(R),_t=[];e:{var dt=Zu.get(s);if(dt!==void 0){var Ut=Qe,Xt=s;switch(s){case"keypress":if(Or(R)===0)break e;case"keydown":case"keyup":Ut=fo;break;case"focusin":Xt="focus",Ut=Xr;break;case"focusout":Xt="blur",Ut=Xr;break;case"beforeblur":case"afterblur":Ut=Xr;break;case"click":if(R.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ut=Go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ut=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ut=zi;break;case Gu:case qu:case Yu:Ut=Si;break;case $u:Ut=sl;break;case"scroll":Ut=pn;break;case"wheel":Ut=ol;break;case"copy":case"cut":case"paste":Ut=or;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ut=ho}var qt=(m&4)!==0,an=!qt&&s==="scroll",qe=qt?dt!==null?dt+"Capture":null:dt;qt=[];for(var Ve=Je,Ye;Ve!==null;){Ye=Ve;var It=Ye.stateNode;if(Ye.tag===5&&It!==null&&(Ye=It,qe!==null&&(It=ur(Ve,qe),It!=null&&qt.push(xo(Ve,It,Ye)))),an)break;Ve=Ve.return}0<qt.length&&(dt=new Ut(dt,Xt,null,R,mt),_t.push({event:dt,listeners:qt}))}}if((m&7)===0){e:{if(dt=s==="mouseover"||s==="pointerover",Ut=s==="mouseout"||s==="pointerout",dt&&R!==fr&&(Xt=R.relatedTarget||R.fromElement)&&(ws(Xt)||Xt[Ai]))break e;if((Ut||dt)&&(dt=mt.window===mt?mt:(dt=mt.ownerDocument)?dt.defaultView||dt.parentWindow:window,Ut?(Xt=R.relatedTarget||R.toElement,Ut=Je,Xt=Xt?ws(Xt):null,Xt!==null&&(an=Pt(Xt),Xt!==an||Xt.tag!==5&&Xt.tag!==6)&&(Xt=null)):(Ut=null,Xt=Je),Ut!==Xt)){if(qt=Go,It="onMouseLeave",qe="onMouseEnter",Ve="mouse",(s==="pointerout"||s==="pointerover")&&(qt=ho,It="onPointerLeave",qe="onPointerEnter",Ve="pointer"),an=Ut==null?dt:Vs(Ut),Ye=Xt==null?dt:Vs(Xt),dt=new qt(It,Ve+"leave",Ut,R,mt),dt.target=an,dt.relatedTarget=Ye,It=null,ws(mt)===Je&&(qt=new qt(qe,Ve+"enter",Xt,R,mt),qt.target=Ye,qt.relatedTarget=an,It=qt),an=It,Ut&&Xt)t:{for(qt=Ut,qe=Xt,Ve=0,Ye=qt;Ye;Ye=Us(Ye))Ve++;for(Ye=0,It=qe;It;It=Us(It))Ye++;for(;0<Ve-Ye;)qt=Us(qt),Ve--;for(;0<Ye-Ve;)qe=Us(qe),Ye--;for(;Ve--;){if(qt===qe||qe!==null&&qt===qe.alternate)break t;qt=Us(qt),qe=Us(qe)}qt=null}else qt=null;Ut!==null&&tc(_t,dt,Ut,qt,!1),Xt!==null&&an!==null&&tc(_t,an,Xt,qt,!0)}}e:{if(dt=Je?Vs(Je):window,Ut=dt.nodeName&&dt.nodeName.toLowerCase(),Ut==="select"||Ut==="input"&&dt.type==="file")var Zt=x;else if(Ir(dt))if(E)Zt=Be;else{Zt=ge;var ar=fe}else(Ut=dt.nodeName)&&Ut.toLowerCase()==="input"&&(dt.type==="checkbox"||dt.type==="radio")&&(Zt=Ce);if(Zt&&(Zt=Zt(s,Je))){ys(_t,Zt,R,mt);break e}ar&&ar(s,dt,Je),s==="focusout"&&(ar=dt._wrapperState)&&ar.controlled&&dt.type==="number"&&Se(dt,"number",dt.value)}switch(ar=Je?Vs(Je):window,s){case"focusin":(Ir(ar)||ar.contentEditable==="true")&&(on=ar,Br=Je,Kr=null);break;case"focusout":Kr=Br=on=null;break;case"mousedown":Cn=!0;break;case"contextmenu":case"mouseup":case"dragend":Cn=!1,Ci(_t,R,mt);break;case"selectionchange":if(qn)break;case"keydown":case"keyup":Ci(_t,R,mt)}var lr;if(Vi)e:{switch(s){case"compositionstart":var pr="onCompositionStart";break e;case"compositionend":pr="onCompositionEnd";break e;case"compositionupdate":pr="onCompositionUpdate";break e}pr=void 0}else En?Ko(s,R)&&(pr="onCompositionEnd"):s==="keydown"&&R.keyCode===229&&(pr="onCompositionStart");pr&&(Gn&&R.locale!=="ko"&&(En||pr!=="onCompositionStart"?pr==="onCompositionEnd"&&En&&(lr=Xo()):(ai=mt,lo="value"in ai?ai.value:ai.textContent,En=!0)),ar=ea(Je,pr),0<ar.length&&(pr=new Vr(pr,s,null,R,mt),_t.push({event:pr,listeners:ar}),lr?pr.data=lr:(lr=mo(R),lr!==null&&(pr.data=lr)))),(lr=$o?al(s,R):go(s,R))&&(Je=ea(Je,"onBeforeInput"),0<Je.length&&(mt=new Vr("onBeforeInput","beforeinput",null,R,mt),_t.push({event:mt,listeners:Je}),mt.data=lr))}Ju(_t,m)})}function xo(s,m,R){return{instance:s,listener:m,currentTarget:R}}function ea(s,m){for(var R=m+"Capture",V=[];s!==null;){var Q=s,se=Q.stateNode;Q.tag===5&&se!==null&&(Q=se,se=ur(s,R),se!=null&&V.unshift(xo(s,se,Q)),se=ur(s,m),se!=null&&V.push(xo(s,se,Q))),s=s.return}return V}function Us(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function tc(s,m,R,V,Q){for(var se=m._reactName,me=[];R!==null&&R!==V;){var Ne=R,je=Ne.alternate,Je=Ne.stateNode;if(je!==null&&je===V)break;Ne.tag===5&&Je!==null&&(Ne=Je,Q?(je=ur(R,se),je!=null&&me.unshift(xo(R,je,Ne))):Q||(je=ur(R,se),je!=null&&me.push(xo(R,je,Ne)))),R=R.return}me.length!==0&&s.push({event:m,listeners:me})}var Wh=/\r\n?/g,Xh=/\u0000|\uFFFD/g;function rc(s){return(typeof s=="string"?s:""+s).replace(Wh,`
`).replace(Xh,"")}function ta(s,m,R){if(m=rc(m),rc(s)!==m&&R)throw Error(r(425))}function ra(){}var hl=null,dl=null;function pl(s,m){return s==="textarea"||s==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var ml=typeof setTimeout=="function"?setTimeout:void 0,Gh=typeof clearTimeout=="function"?clearTimeout:void 0,nc=typeof Promise=="function"?Promise:void 0,qh=typeof queueMicrotask=="function"?queueMicrotask:typeof nc<"u"?function(s){return nc.resolve(null).then(s).catch(Yh)}:ml;function Yh(s){setTimeout(function(){throw s})}function gl(s,m){var R=m,V=0;do{var Q=R.nextSibling;if(s.removeChild(R),Q&&Q.nodeType===8)if(R=Q.data,R==="/$"){if(V===0){s.removeChild(Q),oi(m);return}V--}else R!=="$"&&R!=="$?"&&R!=="$!"||V++;R=Q}while(R);oi(m)}function Xi(s){for(;s!=null;s=s.nextSibling){var m=s.nodeType;if(m===1||m===3)break;if(m===8){if(m=s.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return s}function ic(s){s=s.previousSibling;for(var m=0;s;){if(s.nodeType===8){var R=s.data;if(R==="$"||R==="$!"||R==="$?"){if(m===0)return s;m--}else R==="/$"&&m++}s=s.previousSibling}return null}var zs=Math.random().toString(36).slice(2),gi="__reactFiber$"+zs,vo="__reactProps$"+zs,Ai="__reactContainer$"+zs,bl="__reactEvents$"+zs,$h="__reactListeners$"+zs,Zh="__reactHandles$"+zs;function ws(s){var m=s[gi];if(m)return m;for(var R=s.parentNode;R;){if(m=R[Ai]||R[gi]){if(R=m.alternate,m.child!==null||R!==null&&R.child!==null)for(s=ic(s);s!==null;){if(R=s[gi])return R;s=ic(s)}return m}s=R,R=s.parentNode}return null}function _o(s){return s=s[gi]||s[Ai],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Vs(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function na(s){return s[vo]||null}var yl=[],Hs=-1;function Gi(s){return{current:s}}function Yr(s){0>Hs||(s.current=yl[Hs],yl[Hs]=null,Hs--)}function Gr(s,m){Hs++,yl[Hs]=s.current,s.current=m}var qi={},Nn=Gi(qi),Fn=Gi(!1),xs=qi;function Ws(s,m){var R=s.type.contextTypes;if(!R)return qi;var V=s.stateNode;if(V&&V.__reactInternalMemoizedUnmaskedChildContext===m)return V.__reactInternalMemoizedMaskedChildContext;var Q={},se;for(se in R)Q[se]=m[se];return V&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=Q),Q}function Un(s){return s=s.childContextTypes,s!=null}function ia(){Yr(Fn),Yr(Nn)}function sc(s,m,R){if(Nn.current!==qi)throw Error(r(168));Gr(Nn,m),Gr(Fn,R)}function oc(s,m,R){var V=s.stateNode;if(m=m.childContextTypes,typeof V.getChildContext!="function")return R;V=V.getChildContext();for(var Q in V)if(!(Q in m))throw Error(r(108,ae(s)||"Unknown",Q));return O({},R,V)}function sa(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||qi,xs=Nn.current,Gr(Nn,s),Gr(Fn,Fn.current),!0}function ac(s,m,R){var V=s.stateNode;if(!V)throw Error(r(169));R?(s=oc(s,m,xs),V.__reactInternalMemoizedMergedChildContext=s,Yr(Fn),Yr(Nn),Gr(Nn,s)):Yr(Fn),Gr(Fn,R)}var ki=null,oa=!1,wl=!1;function lc(s){ki===null?ki=[s]:ki.push(s)}function Kh(s){oa=!0,lc(s)}function Yi(){if(!wl&&ki!==null){wl=!0;var s=0,m=Ot;try{var R=ki;for(Ot=1;s<R.length;s++){var V=R[s];do V=V(!0);while(V!==null)}ki=null,oa=!1}catch(Q){throw ki!==null&&(ki=ki.slice(s+1)),Nr(De,Yi),Q}finally{Ot=m,wl=!1}}return null}var Xs=[],Gs=0,aa=null,la=0,ei=[],ti=0,vs=null,Ti=1,Ii="";function _s(s,m){Xs[Gs++]=la,Xs[Gs++]=aa,aa=s,la=m}function uc(s,m,R){ei[ti++]=Ti,ei[ti++]=Ii,ei[ti++]=vs,vs=s;var V=Ti;s=Ii;var Q=32-dr(V)-1;V&=~(1<<Q),R+=1;var se=32-dr(m)+Q;if(30<se){var me=Q-Q%5;se=(V&(1<<me)-1).toString(32),V>>=me,Q-=me,Ti=1<<32-dr(m)+Q|R<<Q|V,Ii=se+s}else Ti=1<<se|R<<Q|V,Ii=s}function xl(s){s.return!==null&&(_s(s,1),uc(s,1,0))}function vl(s){for(;s===aa;)aa=Xs[--Gs],Xs[Gs]=null,la=Xs[--Gs],Xs[Gs]=null;for(;s===vs;)vs=ei[--ti],ei[ti]=null,Ii=ei[--ti],ei[ti]=null,Ti=ei[--ti],ei[ti]=null}var Yn=null,$n=null,Zr=!1,ui=null;function cc(s,m){var R=si(5,null,null,0);R.elementType="DELETED",R.stateNode=m,R.return=s,m=s.deletions,m===null?(s.deletions=[R],s.flags|=16):m.push(R)}function fc(s,m){switch(s.tag){case 5:var R=s.type;return m=m.nodeType!==1||R.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(s.stateNode=m,Yn=s,$n=Xi(m.firstChild),!0):!1;case 6:return m=s.pendingProps===""||m.nodeType!==3?null:m,m!==null?(s.stateNode=m,Yn=s,$n=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(R=vs!==null?{id:Ti,overflow:Ii}:null,s.memoizedState={dehydrated:m,treeContext:R,retryLane:1073741824},R=si(18,null,null,0),R.stateNode=m,R.return=s,s.child=R,Yn=s,$n=null,!0):!1;default:return!1}}function _l(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Sl(s){if(Zr){var m=$n;if(m){var R=m;if(!fc(s,m)){if(_l(s))throw Error(r(418));m=Xi(R.nextSibling);var V=Yn;m&&fc(s,m)?cc(V,R):(s.flags=s.flags&-4097|2,Zr=!1,Yn=s)}}else{if(_l(s))throw Error(r(418));s.flags=s.flags&-4097|2,Zr=!1,Yn=s}}}function hc(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Yn=s}function ua(s){if(s!==Yn)return!1;if(!Zr)return hc(s),Zr=!0,!1;var m;if((m=s.tag!==3)&&!(m=s.tag!==5)&&(m=s.type,m=m!=="head"&&m!=="body"&&!pl(s.type,s.memoizedProps)),m&&(m=$n)){if(_l(s))throw dc(),Error(r(418));for(;m;)cc(s,m),m=Xi(m.nextSibling)}if(hc(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,m=0;s;){if(s.nodeType===8){var R=s.data;if(R==="/$"){if(m===0){$n=Xi(s.nextSibling);break e}m--}else R!=="$"&&R!=="$!"&&R!=="$?"||m++}s=s.nextSibling}$n=null}}else $n=Yn?Xi(s.stateNode.nextSibling):null;return!0}function dc(){for(var s=$n;s;)s=Xi(s.nextSibling)}function qs(){$n=Yn=null,Zr=!1}function El(s){ui===null?ui=[s]:ui.push(s)}var Qh=M.ReactCurrentBatchConfig;function So(s,m,R){if(s=R.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(R._owner){if(R=R._owner,R){if(R.tag!==1)throw Error(r(309));var V=R.stateNode}if(!V)throw Error(r(147,s));var Q=V,se=""+s;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===se?m.ref:(m=function(me){var Ne=Q.refs;me===null?delete Ne[se]:Ne[se]=me},m._stringRef=se,m)}if(typeof s!="string")throw Error(r(284));if(!R._owner)throw Error(r(290,s))}return s}function ca(s,m){throw s=Object.prototype.toString.call(m),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":s))}function pc(s){var m=s._init;return m(s._payload)}function mc(s){function m(qe,Ve){if(s){var Ye=qe.deletions;Ye===null?(qe.deletions=[Ve],qe.flags|=16):Ye.push(Ve)}}function R(qe,Ve){if(!s)return null;for(;Ve!==null;)m(qe,Ve),Ve=Ve.sibling;return null}function V(qe,Ve){for(qe=new Map;Ve!==null;)Ve.key!==null?qe.set(Ve.key,Ve):qe.set(Ve.index,Ve),Ve=Ve.sibling;return qe}function Q(qe,Ve){return qe=rs(qe,Ve),qe.index=0,qe.sibling=null,qe}function se(qe,Ve,Ye){return qe.index=Ye,s?(Ye=qe.alternate,Ye!==null?(Ye=Ye.index,Ye<Ve?(qe.flags|=2,Ve):Ye):(qe.flags|=2,Ve)):(qe.flags|=1048576,Ve)}function me(qe){return s&&qe.alternate===null&&(qe.flags|=2),qe}function Ne(qe,Ve,Ye,It){return Ve===null||Ve.tag!==6?(Ve=mu(Ye,qe.mode,It),Ve.return=qe,Ve):(Ve=Q(Ve,Ye),Ve.return=qe,Ve)}function je(qe,Ve,Ye,It){var Zt=Ye.type;return Zt===Y?mt(qe,Ve,Ye.props.children,It,Ye.key):Ve!==null&&(Ve.elementType===Zt||typeof Zt=="object"&&Zt!==null&&Zt.$$typeof===v&&pc(Zt)===Ve.type)?(It=Q(Ve,Ye.props),It.ref=So(qe,Ve,Ye),It.return=qe,It):(It=Da(Ye.type,Ye.key,Ye.props,null,qe.mode,It),It.ref=So(qe,Ve,Ye),It.return=qe,It)}function Je(qe,Ve,Ye,It){return Ve===null||Ve.tag!==4||Ve.stateNode.containerInfo!==Ye.containerInfo||Ve.stateNode.implementation!==Ye.implementation?(Ve=gu(Ye,qe.mode,It),Ve.return=qe,Ve):(Ve=Q(Ve,Ye.children||[]),Ve.return=qe,Ve)}function mt(qe,Ve,Ye,It,Zt){return Ve===null||Ve.tag!==7?(Ve=Ns(Ye,qe.mode,It,Zt),Ve.return=qe,Ve):(Ve=Q(Ve,Ye),Ve.return=qe,Ve)}function _t(qe,Ve,Ye){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number")return Ve=mu(""+Ve,qe.mode,Ye),Ve.return=qe,Ve;if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case j:return Ye=Da(Ve.type,Ve.key,Ve.props,null,qe.mode,Ye),Ye.ref=So(qe,null,Ve),Ye.return=qe,Ye;case X:return Ve=gu(Ve,qe.mode,Ye),Ve.return=qe,Ve;case v:var It=Ve._init;return _t(qe,It(Ve._payload),Ye)}if(Ue(Ve)||C(Ve))return Ve=Ns(Ve,qe.mode,Ye,null),Ve.return=qe,Ve;ca(qe,Ve)}return null}function dt(qe,Ve,Ye,It){var Zt=Ve!==null?Ve.key:null;if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number")return Zt!==null?null:Ne(qe,Ve,""+Ye,It);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case j:return Ye.key===Zt?je(qe,Ve,Ye,It):null;case X:return Ye.key===Zt?Je(qe,Ve,Ye,It):null;case v:return Zt=Ye._init,dt(qe,Ve,Zt(Ye._payload),It)}if(Ue(Ye)||C(Ye))return Zt!==null?null:mt(qe,Ve,Ye,It,null);ca(qe,Ye)}return null}function Ut(qe,Ve,Ye,It,Zt){if(typeof It=="string"&&It!==""||typeof It=="number")return qe=qe.get(Ye)||null,Ne(Ve,qe,""+It,Zt);if(typeof It=="object"&&It!==null){switch(It.$$typeof){case j:return qe=qe.get(It.key===null?Ye:It.key)||null,je(Ve,qe,It,Zt);case X:return qe=qe.get(It.key===null?Ye:It.key)||null,Je(Ve,qe,It,Zt);case v:var ar=It._init;return Ut(qe,Ve,Ye,ar(It._payload),Zt)}if(Ue(It)||C(It))return qe=qe.get(Ye)||null,mt(Ve,qe,It,Zt,null);ca(Ve,It)}return null}function Xt(qe,Ve,Ye,It){for(var Zt=null,ar=null,lr=Ve,pr=Ve=0,vn=null;lr!==null&&pr<Ye.length;pr++){lr.index>pr?(vn=lr,lr=null):vn=lr.sibling;var Pr=dt(qe,lr,Ye[pr],It);if(Pr===null){lr===null&&(lr=vn);break}s&&lr&&Pr.alternate===null&&m(qe,lr),Ve=se(Pr,Ve,pr),ar===null?Zt=Pr:ar.sibling=Pr,ar=Pr,lr=vn}if(pr===Ye.length)return R(qe,lr),Zr&&_s(qe,pr),Zt;if(lr===null){for(;pr<Ye.length;pr++)lr=_t(qe,Ye[pr],It),lr!==null&&(Ve=se(lr,Ve,pr),ar===null?Zt=lr:ar.sibling=lr,ar=lr);return Zr&&_s(qe,pr),Zt}for(lr=V(qe,lr);pr<Ye.length;pr++)vn=Ut(lr,qe,pr,Ye[pr],It),vn!==null&&(s&&vn.alternate!==null&&lr.delete(vn.key===null?pr:vn.key),Ve=se(vn,Ve,pr),ar===null?Zt=vn:ar.sibling=vn,ar=vn);return s&&lr.forEach(function(ns){return m(qe,ns)}),Zr&&_s(qe,pr),Zt}function qt(qe,Ve,Ye,It){var Zt=C(Ye);if(typeof Zt!="function")throw Error(r(150));if(Ye=Zt.call(Ye),Ye==null)throw Error(r(151));for(var ar=Zt=null,lr=Ve,pr=Ve=0,vn=null,Pr=Ye.next();lr!==null&&!Pr.done;pr++,Pr=Ye.next()){lr.index>pr?(vn=lr,lr=null):vn=lr.sibling;var ns=dt(qe,lr,Pr.value,It);if(ns===null){lr===null&&(lr=vn);break}s&&lr&&ns.alternate===null&&m(qe,lr),Ve=se(ns,Ve,pr),ar===null?Zt=ns:ar.sibling=ns,ar=ns,lr=vn}if(Pr.done)return R(qe,lr),Zr&&_s(qe,pr),Zt;if(lr===null){for(;!Pr.done;pr++,Pr=Ye.next())Pr=_t(qe,Pr.value,It),Pr!==null&&(Ve=se(Pr,Ve,pr),ar===null?Zt=Pr:ar.sibling=Pr,ar=Pr);return Zr&&_s(qe,pr),Zt}for(lr=V(qe,lr);!Pr.done;pr++,Pr=Ye.next())Pr=Ut(lr,qe,pr,Pr.value,It),Pr!==null&&(s&&Pr.alternate!==null&&lr.delete(Pr.key===null?pr:Pr.key),Ve=se(Pr,Ve,pr),ar===null?Zt=Pr:ar.sibling=Pr,ar=Pr);return s&&lr.forEach(function(Rd){return m(qe,Rd)}),Zr&&_s(qe,pr),Zt}function an(qe,Ve,Ye,It){if(typeof Ye=="object"&&Ye!==null&&Ye.type===Y&&Ye.key===null&&(Ye=Ye.props.children),typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case j:e:{for(var Zt=Ye.key,ar=Ve;ar!==null;){if(ar.key===Zt){if(Zt=Ye.type,Zt===Y){if(ar.tag===7){R(qe,ar.sibling),Ve=Q(ar,Ye.props.children),Ve.return=qe,qe=Ve;break e}}else if(ar.elementType===Zt||typeof Zt=="object"&&Zt!==null&&Zt.$$typeof===v&&pc(Zt)===ar.type){R(qe,ar.sibling),Ve=Q(ar,Ye.props),Ve.ref=So(qe,ar,Ye),Ve.return=qe,qe=Ve;break e}R(qe,ar);break}else m(qe,ar);ar=ar.sibling}Ye.type===Y?(Ve=Ns(Ye.props.children,qe.mode,It,Ye.key),Ve.return=qe,qe=Ve):(It=Da(Ye.type,Ye.key,Ye.props,null,qe.mode,It),It.ref=So(qe,Ve,Ye),It.return=qe,qe=It)}return me(qe);case X:e:{for(ar=Ye.key;Ve!==null;){if(Ve.key===ar)if(Ve.tag===4&&Ve.stateNode.containerInfo===Ye.containerInfo&&Ve.stateNode.implementation===Ye.implementation){R(qe,Ve.sibling),Ve=Q(Ve,Ye.children||[]),Ve.return=qe,qe=Ve;break e}else{R(qe,Ve);break}else m(qe,Ve);Ve=Ve.sibling}Ve=gu(Ye,qe.mode,It),Ve.return=qe,qe=Ve}return me(qe);case v:return ar=Ye._init,an(qe,Ve,ar(Ye._payload),It)}if(Ue(Ye))return Xt(qe,Ve,Ye,It);if(C(Ye))return qt(qe,Ve,Ye,It);ca(qe,Ye)}return typeof Ye=="string"&&Ye!==""||typeof Ye=="number"?(Ye=""+Ye,Ve!==null&&Ve.tag===6?(R(qe,Ve.sibling),Ve=Q(Ve,Ye),Ve.return=qe,qe=Ve):(R(qe,Ve),Ve=mu(Ye,qe.mode,It),Ve.return=qe,qe=Ve),me(qe)):R(qe,Ve)}return an}var Ys=mc(!0),gc=mc(!1),fa=Gi(null),ha=null,$s=null,Cl=null;function Al(){Cl=$s=ha=null}function kl(s){var m=fa.current;Yr(fa),s._currentValue=m}function Tl(s,m,R){for(;s!==null;){var V=s.alternate;if((s.childLanes&m)!==m?(s.childLanes|=m,V!==null&&(V.childLanes|=m)):V!==null&&(V.childLanes&m)!==m&&(V.childLanes|=m),s===R)break;s=s.return}}function Zs(s,m){ha=s,Cl=$s=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&m)!==0&&(zn=!0),s.firstContext=null)}function ri(s){var m=s._currentValue;if(Cl!==s)if(s={context:s,memoizedValue:m,next:null},$s===null){if(ha===null)throw Error(r(308));$s=s,ha.dependencies={lanes:0,firstContext:s}}else $s=$s.next=s;return m}var Ss=null;function Il(s){Ss===null?Ss=[s]:Ss.push(s)}function bc(s,m,R,V){var Q=m.interleaved;return Q===null?(R.next=R,Il(m)):(R.next=Q.next,Q.next=R),m.interleaved=R,Ni(s,V)}function Ni(s,m){s.lanes|=m;var R=s.alternate;for(R!==null&&(R.lanes|=m),R=s,s=s.return;s!==null;)s.childLanes|=m,R=s.alternate,R!==null&&(R.childLanes|=m),R=s,s=s.return;return R.tag===3?R.stateNode:null}var $i=!1;function Nl(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yc(s,m){s=s.updateQueue,m.updateQueue===s&&(m.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ri(s,m){return{eventTime:s,lane:m,tag:0,payload:null,callback:null,next:null}}function Zi(s,m,R){var V=s.updateQueue;if(V===null)return null;if(V=V.shared,(Dr&2)!==0){var Q=V.pending;return Q===null?m.next=m:(m.next=Q.next,Q.next=m),V.pending=m,Ni(s,R)}return Q=V.interleaved,Q===null?(m.next=m,Il(V)):(m.next=Q.next,Q.next=m),V.interleaved=m,Ni(s,R)}function da(s,m,R){if(m=m.updateQueue,m!==null&&(m=m.shared,(R&4194240)!==0)){var V=m.lanes;V&=s.pendingLanes,R|=V,m.lanes=R,tr(s,R)}}function wc(s,m){var R=s.updateQueue,V=s.alternate;if(V!==null&&(V=V.updateQueue,R===V)){var Q=null,se=null;if(R=R.firstBaseUpdate,R!==null){do{var me={eventTime:R.eventTime,lane:R.lane,tag:R.tag,payload:R.payload,callback:R.callback,next:null};se===null?Q=se=me:se=se.next=me,R=R.next}while(R!==null);se===null?Q=se=m:se=se.next=m}else Q=se=m;R={baseState:V.baseState,firstBaseUpdate:Q,lastBaseUpdate:se,shared:V.shared,effects:V.effects},s.updateQueue=R;return}s=R.lastBaseUpdate,s===null?R.firstBaseUpdate=m:s.next=m,R.lastBaseUpdate=m}function pa(s,m,R,V){var Q=s.updateQueue;$i=!1;var se=Q.firstBaseUpdate,me=Q.lastBaseUpdate,Ne=Q.shared.pending;if(Ne!==null){Q.shared.pending=null;var je=Ne,Je=je.next;je.next=null,me===null?se=Je:me.next=Je,me=je;var mt=s.alternate;mt!==null&&(mt=mt.updateQueue,Ne=mt.lastBaseUpdate,Ne!==me&&(Ne===null?mt.firstBaseUpdate=Je:Ne.next=Je,mt.lastBaseUpdate=je))}if(se!==null){var _t=Q.baseState;me=0,mt=Je=je=null,Ne=se;do{var dt=Ne.lane,Ut=Ne.eventTime;if((V&dt)===dt){mt!==null&&(mt=mt.next={eventTime:Ut,lane:0,tag:Ne.tag,payload:Ne.payload,callback:Ne.callback,next:null});e:{var Xt=s,qt=Ne;switch(dt=m,Ut=R,qt.tag){case 1:if(Xt=qt.payload,typeof Xt=="function"){_t=Xt.call(Ut,_t,dt);break e}_t=Xt;break e;case 3:Xt.flags=Xt.flags&-65537|128;case 0:if(Xt=qt.payload,dt=typeof Xt=="function"?Xt.call(Ut,_t,dt):Xt,dt==null)break e;_t=O({},_t,dt);break e;case 2:$i=!0}}Ne.callback!==null&&Ne.lane!==0&&(s.flags|=64,dt=Q.effects,dt===null?Q.effects=[Ne]:dt.push(Ne))}else Ut={eventTime:Ut,lane:dt,tag:Ne.tag,payload:Ne.payload,callback:Ne.callback,next:null},mt===null?(Je=mt=Ut,je=_t):mt=mt.next=Ut,me|=dt;if(Ne=Ne.next,Ne===null){if(Ne=Q.shared.pending,Ne===null)break;dt=Ne,Ne=dt.next,dt.next=null,Q.lastBaseUpdate=dt,Q.shared.pending=null}}while(!0);if(mt===null&&(je=_t),Q.baseState=je,Q.firstBaseUpdate=Je,Q.lastBaseUpdate=mt,m=Q.shared.interleaved,m!==null){Q=m;do me|=Q.lane,Q=Q.next;while(Q!==m)}else se===null&&(Q.shared.lanes=0);As|=me,s.lanes=me,s.memoizedState=_t}}function xc(s,m,R){if(s=m.effects,m.effects=null,s!==null)for(m=0;m<s.length;m++){var V=s[m],Q=V.callback;if(Q!==null){if(V.callback=null,V=R,typeof Q!="function")throw Error(r(191,Q));Q.call(V)}}}var Eo={},bi=Gi(Eo),Co=Gi(Eo),Ao=Gi(Eo);function Es(s){if(s===Eo)throw Error(r(174));return s}function Rl(s,m){switch(Gr(Ao,m),Gr(Co,s),Gr(bi,Eo),s=m.nodeType,s){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:Tt(null,"");break;default:s=s===8?m.parentNode:m,m=s.namespaceURI||null,s=s.tagName,m=Tt(m,s)}Yr(bi),Gr(bi,m)}function Ks(){Yr(bi),Yr(Co),Yr(Ao)}function vc(s){Es(Ao.current);var m=Es(bi.current),R=Tt(m,s.type);m!==R&&(Gr(Co,s),Gr(bi,R))}function Ml(s){Co.current===s&&(Yr(bi),Yr(Co))}var Qr=Gi(0);function ma(s){for(var m=s;m!==null;){if(m.tag===13){var R=m.memoizedState;if(R!==null&&(R=R.dehydrated,R===null||R.data==="$?"||R.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break;for(;m.sibling===null;){if(m.return===null||m.return===s)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var Ol=[];function Dl(){for(var s=0;s<Ol.length;s++)Ol[s]._workInProgressVersionPrimary=null;Ol.length=0}var ga=M.ReactCurrentDispatcher,Pl=M.ReactCurrentBatchConfig,Cs=0,Jr=null,mn=null,wn=null,ba=!1,ko=!1,To=0,Jh=0;function Rn(){throw Error(r(321))}function Bl(s,m){if(m===null)return!1;for(var R=0;R<m.length&&R<s.length;R++)if(!Xe(s[R],m[R]))return!1;return!0}function jl(s,m,R,V,Q,se){if(Cs=se,Jr=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,ga.current=s===null||s.memoizedState===null?nd:id,s=R(V,Q),ko){se=0;do{if(ko=!1,To=0,25<=se)throw Error(r(301));se+=1,wn=mn=null,m.updateQueue=null,ga.current=sd,s=R(V,Q)}while(ko)}if(ga.current=xa,m=mn!==null&&mn.next!==null,Cs=0,wn=mn=Jr=null,ba=!1,m)throw Error(r(300));return s}function Ll(){var s=To!==0;return To=0,s}function yi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?Jr.memoizedState=wn=s:wn=wn.next=s,wn}function ni(){if(mn===null){var s=Jr.alternate;s=s!==null?s.memoizedState:null}else s=mn.next;var m=wn===null?Jr.memoizedState:wn.next;if(m!==null)wn=m,mn=s;else{if(s===null)throw Error(r(310));mn=s,s={memoizedState:mn.memoizedState,baseState:mn.baseState,baseQueue:mn.baseQueue,queue:mn.queue,next:null},wn===null?Jr.memoizedState=wn=s:wn=wn.next=s}return wn}function Io(s,m){return typeof m=="function"?m(s):m}function Fl(s){var m=ni(),R=m.queue;if(R===null)throw Error(r(311));R.lastRenderedReducer=s;var V=mn,Q=V.baseQueue,se=R.pending;if(se!==null){if(Q!==null){var me=Q.next;Q.next=se.next,se.next=me}V.baseQueue=Q=se,R.pending=null}if(Q!==null){se=Q.next,V=V.baseState;var Ne=me=null,je=null,Je=se;do{var mt=Je.lane;if((Cs&mt)===mt)je!==null&&(je=je.next={lane:0,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null}),V=Je.hasEagerState?Je.eagerState:s(V,Je.action);else{var _t={lane:mt,action:Je.action,hasEagerState:Je.hasEagerState,eagerState:Je.eagerState,next:null};je===null?(Ne=je=_t,me=V):je=je.next=_t,Jr.lanes|=mt,As|=mt}Je=Je.next}while(Je!==null&&Je!==se);je===null?me=V:je.next=Ne,Xe(V,m.memoizedState)||(zn=!0),m.memoizedState=V,m.baseState=me,m.baseQueue=je,R.lastRenderedState=V}if(s=R.interleaved,s!==null){Q=s;do se=Q.lane,Jr.lanes|=se,As|=se,Q=Q.next;while(Q!==s)}else Q===null&&(R.lanes=0);return[m.memoizedState,R.dispatch]}function Ul(s){var m=ni(),R=m.queue;if(R===null)throw Error(r(311));R.lastRenderedReducer=s;var V=R.dispatch,Q=R.pending,se=m.memoizedState;if(Q!==null){R.pending=null;var me=Q=Q.next;do se=s(se,me.action),me=me.next;while(me!==Q);Xe(se,m.memoizedState)||(zn=!0),m.memoizedState=se,m.baseQueue===null&&(m.baseState=se),R.lastRenderedState=se}return[se,V]}function _c(){}function Sc(s,m){var R=Jr,V=ni(),Q=m(),se=!Xe(V.memoizedState,Q);if(se&&(V.memoizedState=Q,zn=!0),V=V.queue,zl(Ac.bind(null,R,V,s),[s]),V.getSnapshot!==m||se||wn!==null&&wn.memoizedState.tag&1){if(R.flags|=2048,No(9,Cc.bind(null,R,V,Q,m),void 0,null),xn===null)throw Error(r(349));(Cs&30)!==0||Ec(R,m,Q)}return Q}function Ec(s,m,R){s.flags|=16384,s={getSnapshot:m,value:R},m=Jr.updateQueue,m===null?(m={lastEffect:null,stores:null},Jr.updateQueue=m,m.stores=[s]):(R=m.stores,R===null?m.stores=[s]:R.push(s))}function Cc(s,m,R,V){m.value=R,m.getSnapshot=V,kc(m)&&Tc(s)}function Ac(s,m,R){return R(function(){kc(m)&&Tc(s)})}function kc(s){var m=s.getSnapshot;s=s.value;try{var R=m();return!Xe(s,R)}catch{return!0}}function Tc(s){var m=Ni(s,1);m!==null&&di(m,s,1,-1)}function Ic(s){var m=yi();return typeof s=="function"&&(s=s()),m.memoizedState=m.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:s},m.queue=s,s=s.dispatch=rd.bind(null,Jr,s),[m.memoizedState,s]}function No(s,m,R,V){return s={tag:s,create:m,destroy:R,deps:V,next:null},m=Jr.updateQueue,m===null?(m={lastEffect:null,stores:null},Jr.updateQueue=m,m.lastEffect=s.next=s):(R=m.lastEffect,R===null?m.lastEffect=s.next=s:(V=R.next,R.next=s,s.next=V,m.lastEffect=s)),s}function Nc(){return ni().memoizedState}function ya(s,m,R,V){var Q=yi();Jr.flags|=s,Q.memoizedState=No(1|m,R,void 0,V===void 0?null:V)}function wa(s,m,R,V){var Q=ni();V=V===void 0?null:V;var se=void 0;if(mn!==null){var me=mn.memoizedState;if(se=me.destroy,V!==null&&Bl(V,me.deps)){Q.memoizedState=No(m,R,se,V);return}}Jr.flags|=s,Q.memoizedState=No(1|m,R,se,V)}function Rc(s,m){return ya(8390656,8,s,m)}function zl(s,m){return wa(2048,8,s,m)}function Mc(s,m){return wa(4,2,s,m)}function Oc(s,m){return wa(4,4,s,m)}function Dc(s,m){if(typeof m=="function")return s=s(),m(s),function(){m(null)};if(m!=null)return s=s(),m.current=s,function(){m.current=null}}function Pc(s,m,R){return R=R!=null?R.concat([s]):null,wa(4,4,Dc.bind(null,m,s),R)}function Vl(){}function Bc(s,m){var R=ni();m=m===void 0?null:m;var V=R.memoizedState;return V!==null&&m!==null&&Bl(m,V[1])?V[0]:(R.memoizedState=[s,m],s)}function jc(s,m){var R=ni();m=m===void 0?null:m;var V=R.memoizedState;return V!==null&&m!==null&&Bl(m,V[1])?V[0]:(s=s(),R.memoizedState=[s,m],s)}function Lc(s,m,R){return(Cs&21)===0?(s.baseState&&(s.baseState=!1,zn=!0),s.memoizedState=R):(Xe(R,m)||(R=nt(),Jr.lanes|=R,As|=R,s.baseState=!0),m)}function ed(s,m){var R=Ot;Ot=R!==0&&4>R?R:4,s(!0);var V=Pl.transition;Pl.transition={};try{s(!1),m()}finally{Ot=R,Pl.transition=V}}function Fc(){return ni().memoizedState}function td(s,m,R){var V=es(s);if(R={lane:V,action:R,hasEagerState:!1,eagerState:null,next:null},Uc(s))zc(m,R);else if(R=bc(s,m,R,V),R!==null){var Q=Ln();di(R,s,V,Q),Vc(R,m,V)}}function rd(s,m,R){var V=es(s),Q={lane:V,action:R,hasEagerState:!1,eagerState:null,next:null};if(Uc(s))zc(m,Q);else{var se=s.alternate;if(s.lanes===0&&(se===null||se.lanes===0)&&(se=m.lastRenderedReducer,se!==null))try{var me=m.lastRenderedState,Ne=se(me,R);if(Q.hasEagerState=!0,Q.eagerState=Ne,Xe(Ne,me)){var je=m.interleaved;je===null?(Q.next=Q,Il(m)):(Q.next=je.next,je.next=Q),m.interleaved=Q;return}}catch{}finally{}R=bc(s,m,Q,V),R!==null&&(Q=Ln(),di(R,s,V,Q),Vc(R,m,V))}}function Uc(s){var m=s.alternate;return s===Jr||m!==null&&m===Jr}function zc(s,m){ko=ba=!0;var R=s.pending;R===null?m.next=m:(m.next=R.next,R.next=m),s.pending=m}function Vc(s,m,R){if((R&4194240)!==0){var V=m.lanes;V&=s.pendingLanes,R|=V,m.lanes=R,tr(s,R)}}var xa={readContext:ri,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useInsertionEffect:Rn,useLayoutEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useMutableSource:Rn,useSyncExternalStore:Rn,useId:Rn,unstable_isNewReconciler:!1},nd={readContext:ri,useCallback:function(s,m){return yi().memoizedState=[s,m===void 0?null:m],s},useContext:ri,useEffect:Rc,useImperativeHandle:function(s,m,R){return R=R!=null?R.concat([s]):null,ya(4194308,4,Dc.bind(null,m,s),R)},useLayoutEffect:function(s,m){return ya(4194308,4,s,m)},useInsertionEffect:function(s,m){return ya(4,2,s,m)},useMemo:function(s,m){var R=yi();return m=m===void 0?null:m,s=s(),R.memoizedState=[s,m],s},useReducer:function(s,m,R){var V=yi();return m=R!==void 0?R(m):m,V.memoizedState=V.baseState=m,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},V.queue=s,s=s.dispatch=td.bind(null,Jr,s),[V.memoizedState,s]},useRef:function(s){var m=yi();return s={current:s},m.memoizedState=s},useState:Ic,useDebugValue:Vl,useDeferredValue:function(s){return yi().memoizedState=s},useTransition:function(){var s=Ic(!1),m=s[0];return s=ed.bind(null,s[1]),yi().memoizedState=s,[m,s]},useMutableSource:function(){},useSyncExternalStore:function(s,m,R){var V=Jr,Q=yi();if(Zr){if(R===void 0)throw Error(r(407));R=R()}else{if(R=m(),xn===null)throw Error(r(349));(Cs&30)!==0||Ec(V,m,R)}Q.memoizedState=R;var se={value:R,getSnapshot:m};return Q.queue=se,Rc(Ac.bind(null,V,se,s),[s]),V.flags|=2048,No(9,Cc.bind(null,V,se,R,m),void 0,null),R},useId:function(){var s=yi(),m=xn.identifierPrefix;if(Zr){var R=Ii,V=Ti;R=(V&~(1<<32-dr(V)-1)).toString(32)+R,m=":"+m+"R"+R,R=To++,0<R&&(m+="H"+R.toString(32)),m+=":"}else R=Jh++,m=":"+m+"r"+R.toString(32)+":";return s.memoizedState=m},unstable_isNewReconciler:!1},id={readContext:ri,useCallback:Bc,useContext:ri,useEffect:zl,useImperativeHandle:Pc,useInsertionEffect:Mc,useLayoutEffect:Oc,useMemo:jc,useReducer:Fl,useRef:Nc,useState:function(){return Fl(Io)},useDebugValue:Vl,useDeferredValue:function(s){var m=ni();return Lc(m,mn.memoizedState,s)},useTransition:function(){var s=Fl(Io)[0],m=ni().memoizedState;return[s,m]},useMutableSource:_c,useSyncExternalStore:Sc,useId:Fc,unstable_isNewReconciler:!1},sd={readContext:ri,useCallback:Bc,useContext:ri,useEffect:zl,useImperativeHandle:Pc,useInsertionEffect:Mc,useLayoutEffect:Oc,useMemo:jc,useReducer:Ul,useRef:Nc,useState:function(){return Ul(Io)},useDebugValue:Vl,useDeferredValue:function(s){var m=ni();return mn===null?m.memoizedState=s:Lc(m,mn.memoizedState,s)},useTransition:function(){var s=Ul(Io)[0],m=ni().memoizedState;return[s,m]},useMutableSource:_c,useSyncExternalStore:Sc,useId:Fc,unstable_isNewReconciler:!1};function ci(s,m){if(s&&s.defaultProps){m=O({},m),s=s.defaultProps;for(var R in s)m[R]===void 0&&(m[R]=s[R]);return m}return m}function Hl(s,m,R,V){m=s.memoizedState,R=R(V,m),R=R==null?m:O({},m,R),s.memoizedState=R,s.lanes===0&&(s.updateQueue.baseState=R)}var va={isMounted:function(s){return(s=s._reactInternals)?Pt(s)===s:!1},enqueueSetState:function(s,m,R){s=s._reactInternals;var V=Ln(),Q=es(s),se=Ri(V,Q);se.payload=m,R!=null&&(se.callback=R),m=Zi(s,se,Q),m!==null&&(di(m,s,Q,V),da(m,s,Q))},enqueueReplaceState:function(s,m,R){s=s._reactInternals;var V=Ln(),Q=es(s),se=Ri(V,Q);se.tag=1,se.payload=m,R!=null&&(se.callback=R),m=Zi(s,se,Q),m!==null&&(di(m,s,Q,V),da(m,s,Q))},enqueueForceUpdate:function(s,m){s=s._reactInternals;var R=Ln(),V=es(s),Q=Ri(R,V);Q.tag=2,m!=null&&(Q.callback=m),m=Zi(s,Q,V),m!==null&&(di(m,s,V,R),da(m,s,V))}};function Hc(s,m,R,V,Q,se,me){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(V,se,me):m.prototype&&m.prototype.isPureReactComponent?!Ke(R,V)||!Ke(Q,se):!0}function Wc(s,m,R){var V=!1,Q=qi,se=m.contextType;return typeof se=="object"&&se!==null?se=ri(se):(Q=Un(m)?xs:Nn.current,V=m.contextTypes,se=(V=V!=null)?Ws(s,Q):qi),m=new m(R,se),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=va,s.stateNode=m,m._reactInternals=s,V&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=Q,s.__reactInternalMemoizedMaskedChildContext=se),m}function Xc(s,m,R,V){s=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(R,V),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(R,V),m.state!==s&&va.enqueueReplaceState(m,m.state,null)}function Wl(s,m,R,V){var Q=s.stateNode;Q.props=R,Q.state=s.memoizedState,Q.refs={},Nl(s);var se=m.contextType;typeof se=="object"&&se!==null?Q.context=ri(se):(se=Un(m)?xs:Nn.current,Q.context=Ws(s,se)),Q.state=s.memoizedState,se=m.getDerivedStateFromProps,typeof se=="function"&&(Hl(s,m,se,R),Q.state=s.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof Q.getSnapshotBeforeUpdate=="function"||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(m=Q.state,typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount(),m!==Q.state&&va.enqueueReplaceState(Q,Q.state,null),pa(s,R,Q,V),Q.state=s.memoizedState),typeof Q.componentDidMount=="function"&&(s.flags|=4194308)}function Qs(s,m){try{var R="",V=m;do R+=de(V),V=V.return;while(V);var Q=R}catch(se){Q=`
Error generating stack: `+se.message+`
`+se.stack}return{value:s,source:m,stack:Q,digest:null}}function Xl(s,m,R){return{value:s,source:null,stack:R??null,digest:m??null}}function Gl(s,m){try{console.error(m.value)}catch(R){setTimeout(function(){throw R})}}var od=typeof WeakMap=="function"?WeakMap:Map;function Gc(s,m,R){R=Ri(-1,R),R.tag=3,R.payload={element:null};var V=m.value;return R.callback=function(){Ta||(Ta=!0,au=V),Gl(s,m)},R}function qc(s,m,R){R=Ri(-1,R),R.tag=3;var V=s.type.getDerivedStateFromError;if(typeof V=="function"){var Q=m.value;R.payload=function(){return V(Q)},R.callback=function(){Gl(s,m)}}var se=s.stateNode;return se!==null&&typeof se.componentDidCatch=="function"&&(R.callback=function(){Gl(s,m),typeof V!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var me=m.stack;this.componentDidCatch(m.value,{componentStack:me!==null?me:""})}),R}function Yc(s,m,R){var V=s.pingCache;if(V===null){V=s.pingCache=new od;var Q=new Set;V.set(m,Q)}else Q=V.get(m),Q===void 0&&(Q=new Set,V.set(m,Q));Q.has(R)||(Q.add(R),s=xd.bind(null,s,m,R),m.then(s,s))}function $c(s){do{var m;if((m=s.tag===13)&&(m=s.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return s;s=s.return}while(s!==null);return null}function Zc(s,m,R,V,Q){return(s.mode&1)===0?(s===m?s.flags|=65536:(s.flags|=128,R.flags|=131072,R.flags&=-52805,R.tag===1&&(R.alternate===null?R.tag=17:(m=Ri(-1,1),m.tag=2,Zi(R,m,1))),R.lanes|=1),s):(s.flags|=65536,s.lanes=Q,s)}var ad=M.ReactCurrentOwner,zn=!1;function jn(s,m,R,V){m.child=s===null?gc(m,null,R,V):Ys(m,s.child,R,V)}function Kc(s,m,R,V,Q){R=R.render;var se=m.ref;return Zs(m,Q),V=jl(s,m,R,V,se,Q),R=Ll(),s!==null&&!zn?(m.updateQueue=s.updateQueue,m.flags&=-2053,s.lanes&=~Q,Mi(s,m,Q)):(Zr&&R&&xl(m),m.flags|=1,jn(s,m,V,Q),m.child)}function Qc(s,m,R,V,Q){if(s===null){var se=R.type;return typeof se=="function"&&!pu(se)&&se.defaultProps===void 0&&R.compare===null&&R.defaultProps===void 0?(m.tag=15,m.type=se,Jc(s,m,se,V,Q)):(s=Da(R.type,null,V,m,m.mode,Q),s.ref=m.ref,s.return=m,m.child=s)}if(se=s.child,(s.lanes&Q)===0){var me=se.memoizedProps;if(R=R.compare,R=R!==null?R:Ke,R(me,V)&&s.ref===m.ref)return Mi(s,m,Q)}return m.flags|=1,s=rs(se,V),s.ref=m.ref,s.return=m,m.child=s}function Jc(s,m,R,V,Q){if(s!==null){var se=s.memoizedProps;if(Ke(se,V)&&s.ref===m.ref)if(zn=!1,m.pendingProps=V=se,(s.lanes&Q)!==0)(s.flags&131072)!==0&&(zn=!0);else return m.lanes=s.lanes,Mi(s,m,Q)}return ql(s,m,R,V,Q)}function ef(s,m,R){var V=m.pendingProps,Q=V.children,se=s!==null?s.memoizedState:null;if(V.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gr(eo,Zn),Zn|=R;else{if((R&1073741824)===0)return s=se!==null?se.baseLanes|R:R,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:s,cachePool:null,transitions:null},m.updateQueue=null,Gr(eo,Zn),Zn|=s,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},V=se!==null?se.baseLanes:R,Gr(eo,Zn),Zn|=V}else se!==null?(V=se.baseLanes|R,m.memoizedState=null):V=R,Gr(eo,Zn),Zn|=V;return jn(s,m,Q,R),m.child}function tf(s,m){var R=m.ref;(s===null&&R!==null||s!==null&&s.ref!==R)&&(m.flags|=512,m.flags|=2097152)}function ql(s,m,R,V,Q){var se=Un(R)?xs:Nn.current;return se=Ws(m,se),Zs(m,Q),R=jl(s,m,R,V,se,Q),V=Ll(),s!==null&&!zn?(m.updateQueue=s.updateQueue,m.flags&=-2053,s.lanes&=~Q,Mi(s,m,Q)):(Zr&&V&&xl(m),m.flags|=1,jn(s,m,R,Q),m.child)}function rf(s,m,R,V,Q){if(Un(R)){var se=!0;sa(m)}else se=!1;if(Zs(m,Q),m.stateNode===null)Sa(s,m),Wc(m,R,V),Wl(m,R,V,Q),V=!0;else if(s===null){var me=m.stateNode,Ne=m.memoizedProps;me.props=Ne;var je=me.context,Je=R.contextType;typeof Je=="object"&&Je!==null?Je=ri(Je):(Je=Un(R)?xs:Nn.current,Je=Ws(m,Je));var mt=R.getDerivedStateFromProps,_t=typeof mt=="function"||typeof me.getSnapshotBeforeUpdate=="function";_t||typeof me.UNSAFE_componentWillReceiveProps!="function"&&typeof me.componentWillReceiveProps!="function"||(Ne!==V||je!==Je)&&Xc(m,me,V,Je),$i=!1;var dt=m.memoizedState;me.state=dt,pa(m,V,me,Q),je=m.memoizedState,Ne!==V||dt!==je||Fn.current||$i?(typeof mt=="function"&&(Hl(m,R,mt,V),je=m.memoizedState),(Ne=$i||Hc(m,R,Ne,V,dt,je,Je))?(_t||typeof me.UNSAFE_componentWillMount!="function"&&typeof me.componentWillMount!="function"||(typeof me.componentWillMount=="function"&&me.componentWillMount(),typeof me.UNSAFE_componentWillMount=="function"&&me.UNSAFE_componentWillMount()),typeof me.componentDidMount=="function"&&(m.flags|=4194308)):(typeof me.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=V,m.memoizedState=je),me.props=V,me.state=je,me.context=Je,V=Ne):(typeof me.componentDidMount=="function"&&(m.flags|=4194308),V=!1)}else{me=m.stateNode,yc(s,m),Ne=m.memoizedProps,Je=m.type===m.elementType?Ne:ci(m.type,Ne),me.props=Je,_t=m.pendingProps,dt=me.context,je=R.contextType,typeof je=="object"&&je!==null?je=ri(je):(je=Un(R)?xs:Nn.current,je=Ws(m,je));var Ut=R.getDerivedStateFromProps;(mt=typeof Ut=="function"||typeof me.getSnapshotBeforeUpdate=="function")||typeof me.UNSAFE_componentWillReceiveProps!="function"&&typeof me.componentWillReceiveProps!="function"||(Ne!==_t||dt!==je)&&Xc(m,me,V,je),$i=!1,dt=m.memoizedState,me.state=dt,pa(m,V,me,Q);var Xt=m.memoizedState;Ne!==_t||dt!==Xt||Fn.current||$i?(typeof Ut=="function"&&(Hl(m,R,Ut,V),Xt=m.memoizedState),(Je=$i||Hc(m,R,Je,V,dt,Xt,je)||!1)?(mt||typeof me.UNSAFE_componentWillUpdate!="function"&&typeof me.componentWillUpdate!="function"||(typeof me.componentWillUpdate=="function"&&me.componentWillUpdate(V,Xt,je),typeof me.UNSAFE_componentWillUpdate=="function"&&me.UNSAFE_componentWillUpdate(V,Xt,je)),typeof me.componentDidUpdate=="function"&&(m.flags|=4),typeof me.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof me.componentDidUpdate!="function"||Ne===s.memoizedProps&&dt===s.memoizedState||(m.flags|=4),typeof me.getSnapshotBeforeUpdate!="function"||Ne===s.memoizedProps&&dt===s.memoizedState||(m.flags|=1024),m.memoizedProps=V,m.memoizedState=Xt),me.props=V,me.state=Xt,me.context=je,V=Je):(typeof me.componentDidUpdate!="function"||Ne===s.memoizedProps&&dt===s.memoizedState||(m.flags|=4),typeof me.getSnapshotBeforeUpdate!="function"||Ne===s.memoizedProps&&dt===s.memoizedState||(m.flags|=1024),V=!1)}return Yl(s,m,R,V,se,Q)}function Yl(s,m,R,V,Q,se){tf(s,m);var me=(m.flags&128)!==0;if(!V&&!me)return Q&&ac(m,R,!1),Mi(s,m,se);V=m.stateNode,ad.current=m;var Ne=me&&typeof R.getDerivedStateFromError!="function"?null:V.render();return m.flags|=1,s!==null&&me?(m.child=Ys(m,s.child,null,se),m.child=Ys(m,null,Ne,se)):jn(s,m,Ne,se),m.memoizedState=V.state,Q&&ac(m,R,!0),m.child}function nf(s){var m=s.stateNode;m.pendingContext?sc(s,m.pendingContext,m.pendingContext!==m.context):m.context&&sc(s,m.context,!1),Rl(s,m.containerInfo)}function sf(s,m,R,V,Q){return qs(),El(Q),m.flags|=256,jn(s,m,R,V),m.child}var $l={dehydrated:null,treeContext:null,retryLane:0};function Zl(s){return{baseLanes:s,cachePool:null,transitions:null}}function of(s,m,R){var V=m.pendingProps,Q=Qr.current,se=!1,me=(m.flags&128)!==0,Ne;if((Ne=me)||(Ne=s!==null&&s.memoizedState===null?!1:(Q&2)!==0),Ne?(se=!0,m.flags&=-129):(s===null||s.memoizedState!==null)&&(Q|=1),Gr(Qr,Q&1),s===null)return Sl(m),s=m.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((m.mode&1)===0?m.lanes=1:s.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(me=V.children,s=V.fallback,se?(V=m.mode,se=m.child,me={mode:"hidden",children:me},(V&1)===0&&se!==null?(se.childLanes=0,se.pendingProps=me):se=Pa(me,V,0,null),s=Ns(s,V,R,null),se.return=m,s.return=m,se.sibling=s,m.child=se,m.child.memoizedState=Zl(R),m.memoizedState=$l,s):Kl(m,me));if(Q=s.memoizedState,Q!==null&&(Ne=Q.dehydrated,Ne!==null))return ld(s,m,me,V,Ne,Q,R);if(se){se=V.fallback,me=m.mode,Q=s.child,Ne=Q.sibling;var je={mode:"hidden",children:V.children};return(me&1)===0&&m.child!==Q?(V=m.child,V.childLanes=0,V.pendingProps=je,m.deletions=null):(V=rs(Q,je),V.subtreeFlags=Q.subtreeFlags&14680064),Ne!==null?se=rs(Ne,se):(se=Ns(se,me,R,null),se.flags|=2),se.return=m,V.return=m,V.sibling=se,m.child=V,V=se,se=m.child,me=s.child.memoizedState,me=me===null?Zl(R):{baseLanes:me.baseLanes|R,cachePool:null,transitions:me.transitions},se.memoizedState=me,se.childLanes=s.childLanes&~R,m.memoizedState=$l,V}return se=s.child,s=se.sibling,V=rs(se,{mode:"visible",children:V.children}),(m.mode&1)===0&&(V.lanes=R),V.return=m,V.sibling=null,s!==null&&(R=m.deletions,R===null?(m.deletions=[s],m.flags|=16):R.push(s)),m.child=V,m.memoizedState=null,V}function Kl(s,m){return m=Pa({mode:"visible",children:m},s.mode,0,null),m.return=s,s.child=m}function _a(s,m,R,V){return V!==null&&El(V),Ys(m,s.child,null,R),s=Kl(m,m.pendingProps.children),s.flags|=2,m.memoizedState=null,s}function ld(s,m,R,V,Q,se,me){if(R)return m.flags&256?(m.flags&=-257,V=Xl(Error(r(422))),_a(s,m,me,V)):m.memoizedState!==null?(m.child=s.child,m.flags|=128,null):(se=V.fallback,Q=m.mode,V=Pa({mode:"visible",children:V.children},Q,0,null),se=Ns(se,Q,me,null),se.flags|=2,V.return=m,se.return=m,V.sibling=se,m.child=V,(m.mode&1)!==0&&Ys(m,s.child,null,me),m.child.memoizedState=Zl(me),m.memoizedState=$l,se);if((m.mode&1)===0)return _a(s,m,me,null);if(Q.data==="$!"){if(V=Q.nextSibling&&Q.nextSibling.dataset,V)var Ne=V.dgst;return V=Ne,se=Error(r(419)),V=Xl(se,V,void 0),_a(s,m,me,V)}if(Ne=(me&s.childLanes)!==0,zn||Ne){if(V=xn,V!==null){switch(me&-me){case 4:Q=2;break;case 16:Q=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Q=32;break;case 536870912:Q=268435456;break;default:Q=0}Q=(Q&(V.suspendedLanes|me))!==0?0:Q,Q!==0&&Q!==se.retryLane&&(se.retryLane=Q,Ni(s,Q),di(V,s,Q,-1))}return du(),V=Xl(Error(r(421))),_a(s,m,me,V)}return Q.data==="$?"?(m.flags|=128,m.child=s.child,m=vd.bind(null,s),Q._reactRetry=m,null):(s=se.treeContext,$n=Xi(Q.nextSibling),Yn=m,Zr=!0,ui=null,s!==null&&(ei[ti++]=Ti,ei[ti++]=Ii,ei[ti++]=vs,Ti=s.id,Ii=s.overflow,vs=m),m=Kl(m,V.children),m.flags|=4096,m)}function af(s,m,R){s.lanes|=m;var V=s.alternate;V!==null&&(V.lanes|=m),Tl(s.return,m,R)}function Ql(s,m,R,V,Q){var se=s.memoizedState;se===null?s.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:V,tail:R,tailMode:Q}:(se.isBackwards=m,se.rendering=null,se.renderingStartTime=0,se.last=V,se.tail=R,se.tailMode=Q)}function lf(s,m,R){var V=m.pendingProps,Q=V.revealOrder,se=V.tail;if(jn(s,m,V.children,R),V=Qr.current,(V&2)!==0)V=V&1|2,m.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=m.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&af(s,R,m);else if(s.tag===19)af(s,R,m);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===m)break e;for(;s.sibling===null;){if(s.return===null||s.return===m)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}V&=1}if(Gr(Qr,V),(m.mode&1)===0)m.memoizedState=null;else switch(Q){case"forwards":for(R=m.child,Q=null;R!==null;)s=R.alternate,s!==null&&ma(s)===null&&(Q=R),R=R.sibling;R=Q,R===null?(Q=m.child,m.child=null):(Q=R.sibling,R.sibling=null),Ql(m,!1,Q,R,se);break;case"backwards":for(R=null,Q=m.child,m.child=null;Q!==null;){if(s=Q.alternate,s!==null&&ma(s)===null){m.child=Q;break}s=Q.sibling,Q.sibling=R,R=Q,Q=s}Ql(m,!0,R,null,se);break;case"together":Ql(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Sa(s,m){(m.mode&1)===0&&s!==null&&(s.alternate=null,m.alternate=null,m.flags|=2)}function Mi(s,m,R){if(s!==null&&(m.dependencies=s.dependencies),As|=m.lanes,(R&m.childLanes)===0)return null;if(s!==null&&m.child!==s.child)throw Error(r(153));if(m.child!==null){for(s=m.child,R=rs(s,s.pendingProps),m.child=R,R.return=m;s.sibling!==null;)s=s.sibling,R=R.sibling=rs(s,s.pendingProps),R.return=m;R.sibling=null}return m.child}function ud(s,m,R){switch(m.tag){case 3:nf(m),qs();break;case 5:vc(m);break;case 1:Un(m.type)&&sa(m);break;case 4:Rl(m,m.stateNode.containerInfo);break;case 10:var V=m.type._context,Q=m.memoizedProps.value;Gr(fa,V._currentValue),V._currentValue=Q;break;case 13:if(V=m.memoizedState,V!==null)return V.dehydrated!==null?(Gr(Qr,Qr.current&1),m.flags|=128,null):(R&m.child.childLanes)!==0?of(s,m,R):(Gr(Qr,Qr.current&1),s=Mi(s,m,R),s!==null?s.sibling:null);Gr(Qr,Qr.current&1);break;case 19:if(V=(R&m.childLanes)!==0,(s.flags&128)!==0){if(V)return lf(s,m,R);m.flags|=128}if(Q=m.memoizedState,Q!==null&&(Q.rendering=null,Q.tail=null,Q.lastEffect=null),Gr(Qr,Qr.current),V)break;return null;case 22:case 23:return m.lanes=0,ef(s,m,R)}return Mi(s,m,R)}var uf,Jl,cf,ff;uf=function(s,m){for(var R=m.child;R!==null;){if(R.tag===5||R.tag===6)s.appendChild(R.stateNode);else if(R.tag!==4&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===m)break;for(;R.sibling===null;){if(R.return===null||R.return===m)return;R=R.return}R.sibling.return=R.return,R=R.sibling}},Jl=function(){},cf=function(s,m,R,V){var Q=s.memoizedProps;if(Q!==V){s=m.stateNode,Es(bi.current);var se=null;switch(R){case"input":Q=xe(s,Q),V=xe(s,V),se=[];break;case"select":Q=O({},Q,{value:void 0}),V=O({},V,{value:void 0}),se=[];break;case"textarea":Q=We(s,Q),V=We(s,V),se=[];break;default:typeof Q.onClick!="function"&&typeof V.onClick=="function"&&(s.onclick=ra)}Et(R,V);var me;R=null;for(Je in Q)if(!V.hasOwnProperty(Je)&&Q.hasOwnProperty(Je)&&Q[Je]!=null)if(Je==="style"){var Ne=Q[Je];for(me in Ne)Ne.hasOwnProperty(me)&&(R||(R={}),R[me]="")}else Je!=="dangerouslySetInnerHTML"&&Je!=="children"&&Je!=="suppressContentEditableWarning"&&Je!=="suppressHydrationWarning"&&Je!=="autoFocus"&&(k.hasOwnProperty(Je)?se||(se=[]):(se=se||[]).push(Je,null));for(Je in V){var je=V[Je];if(Ne=Q!=null?Q[Je]:void 0,V.hasOwnProperty(Je)&&je!==Ne&&(je!=null||Ne!=null))if(Je==="style")if(Ne){for(me in Ne)!Ne.hasOwnProperty(me)||je&&je.hasOwnProperty(me)||(R||(R={}),R[me]="");for(me in je)je.hasOwnProperty(me)&&Ne[me]!==je[me]&&(R||(R={}),R[me]=je[me])}else R||(se||(se=[]),se.push(Je,R)),R=je;else Je==="dangerouslySetInnerHTML"?(je=je?je.__html:void 0,Ne=Ne?Ne.__html:void 0,je!=null&&Ne!==je&&(se=se||[]).push(Je,je)):Je==="children"?typeof je!="string"&&typeof je!="number"||(se=se||[]).push(Je,""+je):Je!=="suppressContentEditableWarning"&&Je!=="suppressHydrationWarning"&&(k.hasOwnProperty(Je)?(je!=null&&Je==="onScroll"&&qr("scroll",s),se||Ne===je||(se=[])):(se=se||[]).push(Je,je))}R&&(se=se||[]).push("style",R);var Je=se;(m.updateQueue=Je)&&(m.flags|=4)}},ff=function(s,m,R,V){R!==V&&(m.flags|=4)};function Ro(s,m){if(!Zr)switch(s.tailMode){case"hidden":m=s.tail;for(var R=null;m!==null;)m.alternate!==null&&(R=m),m=m.sibling;R===null?s.tail=null:R.sibling=null;break;case"collapsed":R=s.tail;for(var V=null;R!==null;)R.alternate!==null&&(V=R),R=R.sibling;V===null?m||s.tail===null?s.tail=null:s.tail.sibling=null:V.sibling=null}}function Mn(s){var m=s.alternate!==null&&s.alternate.child===s.child,R=0,V=0;if(m)for(var Q=s.child;Q!==null;)R|=Q.lanes|Q.childLanes,V|=Q.subtreeFlags&14680064,V|=Q.flags&14680064,Q.return=s,Q=Q.sibling;else for(Q=s.child;Q!==null;)R|=Q.lanes|Q.childLanes,V|=Q.subtreeFlags,V|=Q.flags,Q.return=s,Q=Q.sibling;return s.subtreeFlags|=V,s.childLanes=R,m}function cd(s,m,R){var V=m.pendingProps;switch(vl(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(m),null;case 1:return Un(m.type)&&ia(),Mn(m),null;case 3:return V=m.stateNode,Ks(),Yr(Fn),Yr(Nn),Dl(),V.pendingContext&&(V.context=V.pendingContext,V.pendingContext=null),(s===null||s.child===null)&&(ua(m)?m.flags|=4:s===null||s.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,ui!==null&&(cu(ui),ui=null))),Jl(s,m),Mn(m),null;case 5:Ml(m);var Q=Es(Ao.current);if(R=m.type,s!==null&&m.stateNode!=null)cf(s,m,R,V,Q),s.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!V){if(m.stateNode===null)throw Error(r(166));return Mn(m),null}if(s=Es(bi.current),ua(m)){V=m.stateNode,R=m.type;var se=m.memoizedProps;switch(V[gi]=m,V[vo]=se,s=(m.mode&1)!==0,R){case"dialog":qr("cancel",V),qr("close",V);break;case"iframe":case"object":case"embed":qr("load",V);break;case"video":case"audio":for(Q=0;Q<yo.length;Q++)qr(yo[Q],V);break;case"source":qr("error",V);break;case"img":case"image":case"link":qr("error",V),qr("load",V);break;case"details":qr("toggle",V);break;case"input":_e(V,se),qr("invalid",V);break;case"select":V._wrapperState={wasMultiple:!!se.multiple},qr("invalid",V);break;case"textarea":$e(V,se),qr("invalid",V)}Et(R,se),Q=null;for(var me in se)if(se.hasOwnProperty(me)){var Ne=se[me];me==="children"?typeof Ne=="string"?V.textContent!==Ne&&(se.suppressHydrationWarning!==!0&&ta(V.textContent,Ne,s),Q=["children",Ne]):typeof Ne=="number"&&V.textContent!==""+Ne&&(se.suppressHydrationWarning!==!0&&ta(V.textContent,Ne,s),Q=["children",""+Ne]):k.hasOwnProperty(me)&&Ne!=null&&me==="onScroll"&&qr("scroll",V)}switch(R){case"input":ce(V),Ae(V,se,!0);break;case"textarea":ce(V),lt(V);break;case"select":case"option":break;default:typeof se.onClick=="function"&&(V.onclick=ra)}V=Q,m.updateQueue=V,V!==null&&(m.flags|=4)}else{me=Q.nodeType===9?Q:Q.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=xt(R)),s==="http://www.w3.org/1999/xhtml"?R==="script"?(s=me.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof V.is=="string"?s=me.createElement(R,{is:V.is}):(s=me.createElement(R),R==="select"&&(me=s,V.multiple?me.multiple=!0:V.size&&(me.size=V.size))):s=me.createElementNS(s,R),s[gi]=m,s[vo]=V,uf(s,m,!1,!1),m.stateNode=s;e:{switch(me=yt(R,V),R){case"dialog":qr("cancel",s),qr("close",s),Q=V;break;case"iframe":case"object":case"embed":qr("load",s),Q=V;break;case"video":case"audio":for(Q=0;Q<yo.length;Q++)qr(yo[Q],s);Q=V;break;case"source":qr("error",s),Q=V;break;case"img":case"image":case"link":qr("error",s),qr("load",s),Q=V;break;case"details":qr("toggle",s),Q=V;break;case"input":_e(s,V),Q=xe(s,V),qr("invalid",s);break;case"option":Q=V;break;case"select":s._wrapperState={wasMultiple:!!V.multiple},Q=O({},V,{value:void 0}),qr("invalid",s);break;case"textarea":$e(s,V),Q=We(s,V),qr("invalid",s);break;default:Q=V}Et(R,Q),Ne=Q;for(se in Ne)if(Ne.hasOwnProperty(se)){var je=Ne[se];se==="style"?Ge(s,je):se==="dangerouslySetInnerHTML"?(je=je?je.__html:void 0,je!=null&&Mt(s,je)):se==="children"?typeof je=="string"?(R!=="textarea"||je!=="")&&Ft(s,je):typeof je=="number"&&Ft(s,""+je):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(k.hasOwnProperty(se)?je!=null&&se==="onScroll"&&qr("scroll",s):je!=null&&T(s,se,je,me))}switch(R){case"input":ce(s),Ae(s,V,!1);break;case"textarea":ce(s),lt(s);break;case"option":V.value!=null&&s.setAttribute("value",""+U(V.value));break;case"select":s.multiple=!!V.multiple,se=V.value,se!=null?ke(s,!!V.multiple,se,!1):V.defaultValue!=null&&ke(s,!!V.multiple,V.defaultValue,!0);break;default:typeof Q.onClick=="function"&&(s.onclick=ra)}switch(R){case"button":case"input":case"select":case"textarea":V=!!V.autoFocus;break e;case"img":V=!0;break e;default:V=!1}}V&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return Mn(m),null;case 6:if(s&&m.stateNode!=null)ff(s,m,s.memoizedProps,V);else{if(typeof V!="string"&&m.stateNode===null)throw Error(r(166));if(R=Es(Ao.current),Es(bi.current),ua(m)){if(V=m.stateNode,R=m.memoizedProps,V[gi]=m,(se=V.nodeValue!==R)&&(s=Yn,s!==null))switch(s.tag){case 3:ta(V.nodeValue,R,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ta(V.nodeValue,R,(s.mode&1)!==0)}se&&(m.flags|=4)}else V=(R.nodeType===9?R:R.ownerDocument).createTextNode(V),V[gi]=m,m.stateNode=V}return Mn(m),null;case 13:if(Yr(Qr),V=m.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Zr&&$n!==null&&(m.mode&1)!==0&&(m.flags&128)===0)dc(),qs(),m.flags|=98560,se=!1;else if(se=ua(m),V!==null&&V.dehydrated!==null){if(s===null){if(!se)throw Error(r(318));if(se=m.memoizedState,se=se!==null?se.dehydrated:null,!se)throw Error(r(317));se[gi]=m}else qs(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Mn(m),se=!1}else ui!==null&&(cu(ui),ui=null),se=!0;if(!se)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=R,m):(V=V!==null,V!==(s!==null&&s.memoizedState!==null)&&V&&(m.child.flags|=8192,(m.mode&1)!==0&&(s===null||(Qr.current&1)!==0?gn===0&&(gn=3):du())),m.updateQueue!==null&&(m.flags|=4),Mn(m),null);case 4:return Ks(),Jl(s,m),s===null&&wo(m.stateNode.containerInfo),Mn(m),null;case 10:return kl(m.type._context),Mn(m),null;case 17:return Un(m.type)&&ia(),Mn(m),null;case 19:if(Yr(Qr),se=m.memoizedState,se===null)return Mn(m),null;if(V=(m.flags&128)!==0,me=se.rendering,me===null)if(V)Ro(se,!1);else{if(gn!==0||s!==null&&(s.flags&128)!==0)for(s=m.child;s!==null;){if(me=ma(s),me!==null){for(m.flags|=128,Ro(se,!1),V=me.updateQueue,V!==null&&(m.updateQueue=V,m.flags|=4),m.subtreeFlags=0,V=R,R=m.child;R!==null;)se=R,s=V,se.flags&=14680066,me=se.alternate,me===null?(se.childLanes=0,se.lanes=s,se.child=null,se.subtreeFlags=0,se.memoizedProps=null,se.memoizedState=null,se.updateQueue=null,se.dependencies=null,se.stateNode=null):(se.childLanes=me.childLanes,se.lanes=me.lanes,se.child=me.child,se.subtreeFlags=0,se.deletions=null,se.memoizedProps=me.memoizedProps,se.memoizedState=me.memoizedState,se.updateQueue=me.updateQueue,se.type=me.type,s=me.dependencies,se.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),R=R.sibling;return Gr(Qr,Qr.current&1|2),m.child}s=s.sibling}se.tail!==null&&Fe()>to&&(m.flags|=128,V=!0,Ro(se,!1),m.lanes=4194304)}else{if(!V)if(s=ma(me),s!==null){if(m.flags|=128,V=!0,R=s.updateQueue,R!==null&&(m.updateQueue=R,m.flags|=4),Ro(se,!0),se.tail===null&&se.tailMode==="hidden"&&!me.alternate&&!Zr)return Mn(m),null}else 2*Fe()-se.renderingStartTime>to&&R!==1073741824&&(m.flags|=128,V=!0,Ro(se,!1),m.lanes=4194304);se.isBackwards?(me.sibling=m.child,m.child=me):(R=se.last,R!==null?R.sibling=me:m.child=me,se.last=me)}return se.tail!==null?(m=se.tail,se.rendering=m,se.tail=m.sibling,se.renderingStartTime=Fe(),m.sibling=null,R=Qr.current,Gr(Qr,V?R&1|2:R&1),m):(Mn(m),null);case 22:case 23:return hu(),V=m.memoizedState!==null,s!==null&&s.memoizedState!==null!==V&&(m.flags|=8192),V&&(m.mode&1)!==0?(Zn&1073741824)!==0&&(Mn(m),m.subtreeFlags&6&&(m.flags|=8192)):Mn(m),null;case 24:return null;case 25:return null}throw Error(r(156,m.tag))}function fd(s,m){switch(vl(m),m.tag){case 1:return Un(m.type)&&ia(),s=m.flags,s&65536?(m.flags=s&-65537|128,m):null;case 3:return Ks(),Yr(Fn),Yr(Nn),Dl(),s=m.flags,(s&65536)!==0&&(s&128)===0?(m.flags=s&-65537|128,m):null;case 5:return Ml(m),null;case 13:if(Yr(Qr),s=m.memoizedState,s!==null&&s.dehydrated!==null){if(m.alternate===null)throw Error(r(340));qs()}return s=m.flags,s&65536?(m.flags=s&-65537|128,m):null;case 19:return Yr(Qr),null;case 4:return Ks(),null;case 10:return kl(m.type._context),null;case 22:case 23:return hu(),null;case 24:return null;default:return null}}var Ea=!1,On=!1,hd=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function Js(s,m){var R=s.ref;if(R!==null)if(typeof R=="function")try{R(null)}catch(V){rn(s,m,V)}else R.current=null}function eu(s,m,R){try{R()}catch(V){rn(s,m,V)}}var hf=!1;function dd(s,m){if(hl=pi,s=Er(),gr(s)){if("selectionStart"in s)var R={start:s.selectionStart,end:s.selectionEnd};else e:{R=(R=s.ownerDocument)&&R.defaultView||window;var V=R.getSelection&&R.getSelection();if(V&&V.rangeCount!==0){R=V.anchorNode;var Q=V.anchorOffset,se=V.focusNode;V=V.focusOffset;try{R.nodeType,se.nodeType}catch{R=null;break e}var me=0,Ne=-1,je=-1,Je=0,mt=0,_t=s,dt=null;t:for(;;){for(var Ut;_t!==R||Q!==0&&_t.nodeType!==3||(Ne=me+Q),_t!==se||V!==0&&_t.nodeType!==3||(je=me+V),_t.nodeType===3&&(me+=_t.nodeValue.length),(Ut=_t.firstChild)!==null;)dt=_t,_t=Ut;for(;;){if(_t===s)break t;if(dt===R&&++Je===Q&&(Ne=me),dt===se&&++mt===V&&(je=me),(Ut=_t.nextSibling)!==null)break;_t=dt,dt=_t.parentNode}_t=Ut}R=Ne===-1||je===-1?null:{start:Ne,end:je}}else R=null}R=R||{start:0,end:0}}else R=null;for(dl={focusedElem:s,selectionRange:R},pi=!1,Ht=m;Ht!==null;)if(m=Ht,s=m.child,(m.subtreeFlags&1028)!==0&&s!==null)s.return=m,Ht=s;else for(;Ht!==null;){m=Ht;try{var Xt=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(Xt!==null){var qt=Xt.memoizedProps,an=Xt.memoizedState,qe=m.stateNode,Ve=qe.getSnapshotBeforeUpdate(m.elementType===m.type?qt:ci(m.type,qt),an);qe.__reactInternalSnapshotBeforeUpdate=Ve}break;case 3:var Ye=m.stateNode.containerInfo;Ye.nodeType===1?Ye.textContent="":Ye.nodeType===9&&Ye.documentElement&&Ye.removeChild(Ye.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(It){rn(m,m.return,It)}if(s=m.sibling,s!==null){s.return=m.return,Ht=s;break}Ht=m.return}return Xt=hf,hf=!1,Xt}function Mo(s,m,R){var V=m.updateQueue;if(V=V!==null?V.lastEffect:null,V!==null){var Q=V=V.next;do{if((Q.tag&s)===s){var se=Q.destroy;Q.destroy=void 0,se!==void 0&&eu(m,R,se)}Q=Q.next}while(Q!==V)}}function Ca(s,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var R=m=m.next;do{if((R.tag&s)===s){var V=R.create;R.destroy=V()}R=R.next}while(R!==m)}}function tu(s){var m=s.ref;if(m!==null){var R=s.stateNode;switch(s.tag){case 5:s=R;break;default:s=R}typeof m=="function"?m(s):m.current=s}}function df(s){var m=s.alternate;m!==null&&(s.alternate=null,df(m)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(m=s.stateNode,m!==null&&(delete m[gi],delete m[vo],delete m[bl],delete m[$h],delete m[Zh])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function pf(s){return s.tag===5||s.tag===3||s.tag===4}function mf(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||pf(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ru(s,m,R){var V=s.tag;if(V===5||V===6)s=s.stateNode,m?R.nodeType===8?R.parentNode.insertBefore(s,m):R.insertBefore(s,m):(R.nodeType===8?(m=R.parentNode,m.insertBefore(s,R)):(m=R,m.appendChild(s)),R=R._reactRootContainer,R!=null||m.onclick!==null||(m.onclick=ra));else if(V!==4&&(s=s.child,s!==null))for(ru(s,m,R),s=s.sibling;s!==null;)ru(s,m,R),s=s.sibling}function nu(s,m,R){var V=s.tag;if(V===5||V===6)s=s.stateNode,m?R.insertBefore(s,m):R.appendChild(s);else if(V!==4&&(s=s.child,s!==null))for(nu(s,m,R),s=s.sibling;s!==null;)nu(s,m,R),s=s.sibling}var An=null,fi=!1;function Ki(s,m,R){for(R=R.child;R!==null;)gf(s,m,R),R=R.sibling}function gf(s,m,R){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Rt,R)}catch{}switch(R.tag){case 5:On||Js(R,m);case 6:var V=An,Q=fi;An=null,Ki(s,m,R),An=V,fi=Q,An!==null&&(fi?(s=An,R=R.stateNode,s.nodeType===8?s.parentNode.removeChild(R):s.removeChild(R)):An.removeChild(R.stateNode));break;case 18:An!==null&&(fi?(s=An,R=R.stateNode,s.nodeType===8?gl(s.parentNode,R):s.nodeType===1&&gl(s,R),oi(s)):gl(An,R.stateNode));break;case 4:V=An,Q=fi,An=R.stateNode.containerInfo,fi=!0,Ki(s,m,R),An=V,fi=Q;break;case 0:case 11:case 14:case 15:if(!On&&(V=R.updateQueue,V!==null&&(V=V.lastEffect,V!==null))){Q=V=V.next;do{var se=Q,me=se.destroy;se=se.tag,me!==void 0&&((se&2)!==0||(se&4)!==0)&&eu(R,m,me),Q=Q.next}while(Q!==V)}Ki(s,m,R);break;case 1:if(!On&&(Js(R,m),V=R.stateNode,typeof V.componentWillUnmount=="function"))try{V.props=R.memoizedProps,V.state=R.memoizedState,V.componentWillUnmount()}catch(Ne){rn(R,m,Ne)}Ki(s,m,R);break;case 21:Ki(s,m,R);break;case 22:R.mode&1?(On=(V=On)||R.memoizedState!==null,Ki(s,m,R),On=V):Ki(s,m,R);break;default:Ki(s,m,R)}}function bf(s){var m=s.updateQueue;if(m!==null){s.updateQueue=null;var R=s.stateNode;R===null&&(R=s.stateNode=new hd),m.forEach(function(V){var Q=_d.bind(null,s,V);R.has(V)||(R.add(V),V.then(Q,Q))})}}function hi(s,m){var R=m.deletions;if(R!==null)for(var V=0;V<R.length;V++){var Q=R[V];try{var se=s,me=m,Ne=me;e:for(;Ne!==null;){switch(Ne.tag){case 5:An=Ne.stateNode,fi=!1;break e;case 3:An=Ne.stateNode.containerInfo,fi=!0;break e;case 4:An=Ne.stateNode.containerInfo,fi=!0;break e}Ne=Ne.return}if(An===null)throw Error(r(160));gf(se,me,Q),An=null,fi=!1;var je=Q.alternate;je!==null&&(je.return=null),Q.return=null}catch(Je){rn(Q,m,Je)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)yf(m,s),m=m.sibling}function yf(s,m){var R=s.alternate,V=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(hi(m,s),wi(s),V&4){try{Mo(3,s,s.return),Ca(3,s)}catch(qt){rn(s,s.return,qt)}try{Mo(5,s,s.return)}catch(qt){rn(s,s.return,qt)}}break;case 1:hi(m,s),wi(s),V&512&&R!==null&&Js(R,R.return);break;case 5:if(hi(m,s),wi(s),V&512&&R!==null&&Js(R,R.return),s.flags&32){var Q=s.stateNode;try{Ft(Q,"")}catch(qt){rn(s,s.return,qt)}}if(V&4&&(Q=s.stateNode,Q!=null)){var se=s.memoizedProps,me=R!==null?R.memoizedProps:se,Ne=s.type,je=s.updateQueue;if(s.updateQueue=null,je!==null)try{Ne==="input"&&se.type==="radio"&&se.name!=null&&Re(Q,se),yt(Ne,me);var Je=yt(Ne,se);for(me=0;me<je.length;me+=2){var mt=je[me],_t=je[me+1];mt==="style"?Ge(Q,_t):mt==="dangerouslySetInnerHTML"?Mt(Q,_t):mt==="children"?Ft(Q,_t):T(Q,mt,_t,Je)}switch(Ne){case"input":pe(Q,se);break;case"textarea":Ze(Q,se);break;case"select":var dt=Q._wrapperState.wasMultiple;Q._wrapperState.wasMultiple=!!se.multiple;var Ut=se.value;Ut!=null?ke(Q,!!se.multiple,Ut,!1):dt!==!!se.multiple&&(se.defaultValue!=null?ke(Q,!!se.multiple,se.defaultValue,!0):ke(Q,!!se.multiple,se.multiple?[]:"",!1))}Q[vo]=se}catch(qt){rn(s,s.return,qt)}}break;case 6:if(hi(m,s),wi(s),V&4){if(s.stateNode===null)throw Error(r(162));Q=s.stateNode,se=s.memoizedProps;try{Q.nodeValue=se}catch(qt){rn(s,s.return,qt)}}break;case 3:if(hi(m,s),wi(s),V&4&&R!==null&&R.memoizedState.isDehydrated)try{oi(m.containerInfo)}catch(qt){rn(s,s.return,qt)}break;case 4:hi(m,s),wi(s);break;case 13:hi(m,s),wi(s),Q=s.child,Q.flags&8192&&(se=Q.memoizedState!==null,Q.stateNode.isHidden=se,!se||Q.alternate!==null&&Q.alternate.memoizedState!==null||(ou=Fe())),V&4&&bf(s);break;case 22:if(mt=R!==null&&R.memoizedState!==null,s.mode&1?(On=(Je=On)||mt,hi(m,s),On=Je):hi(m,s),wi(s),V&8192){if(Je=s.memoizedState!==null,(s.stateNode.isHidden=Je)&&!mt&&(s.mode&1)!==0)for(Ht=s,mt=s.child;mt!==null;){for(_t=Ht=mt;Ht!==null;){switch(dt=Ht,Ut=dt.child,dt.tag){case 0:case 11:case 14:case 15:Mo(4,dt,dt.return);break;case 1:Js(dt,dt.return);var Xt=dt.stateNode;if(typeof Xt.componentWillUnmount=="function"){V=dt,R=dt.return;try{m=V,Xt.props=m.memoizedProps,Xt.state=m.memoizedState,Xt.componentWillUnmount()}catch(qt){rn(V,R,qt)}}break;case 5:Js(dt,dt.return);break;case 22:if(dt.memoizedState!==null){vf(_t);continue}}Ut!==null?(Ut.return=dt,Ht=Ut):vf(_t)}mt=mt.sibling}e:for(mt=null,_t=s;;){if(_t.tag===5){if(mt===null){mt=_t;try{Q=_t.stateNode,Je?(se=Q.style,typeof se.setProperty=="function"?se.setProperty("display","none","important"):se.display="none"):(Ne=_t.stateNode,je=_t.memoizedProps.style,me=je!=null&&je.hasOwnProperty("display")?je.display:null,Ne.style.display=ft("display",me))}catch(qt){rn(s,s.return,qt)}}}else if(_t.tag===6){if(mt===null)try{_t.stateNode.nodeValue=Je?"":_t.memoizedProps}catch(qt){rn(s,s.return,qt)}}else if((_t.tag!==22&&_t.tag!==23||_t.memoizedState===null||_t===s)&&_t.child!==null){_t.child.return=_t,_t=_t.child;continue}if(_t===s)break e;for(;_t.sibling===null;){if(_t.return===null||_t.return===s)break e;mt===_t&&(mt=null),_t=_t.return}mt===_t&&(mt=null),_t.sibling.return=_t.return,_t=_t.sibling}}break;case 19:hi(m,s),wi(s),V&4&&bf(s);break;case 21:break;default:hi(m,s),wi(s)}}function wi(s){var m=s.flags;if(m&2){try{e:{for(var R=s.return;R!==null;){if(pf(R)){var V=R;break e}R=R.return}throw Error(r(160))}switch(V.tag){case 5:var Q=V.stateNode;V.flags&32&&(Ft(Q,""),V.flags&=-33);var se=mf(s);nu(s,se,Q);break;case 3:case 4:var me=V.stateNode.containerInfo,Ne=mf(s);ru(s,Ne,me);break;default:throw Error(r(161))}}catch(je){rn(s,s.return,je)}s.flags&=-3}m&4096&&(s.flags&=-4097)}function pd(s,m,R){Ht=s,wf(s)}function wf(s,m,R){for(var V=(s.mode&1)!==0;Ht!==null;){var Q=Ht,se=Q.child;if(Q.tag===22&&V){var me=Q.memoizedState!==null||Ea;if(!me){var Ne=Q.alternate,je=Ne!==null&&Ne.memoizedState!==null||On;Ne=Ea;var Je=On;if(Ea=me,(On=je)&&!Je)for(Ht=Q;Ht!==null;)me=Ht,je=me.child,me.tag===22&&me.memoizedState!==null?_f(Q):je!==null?(je.return=me,Ht=je):_f(Q);for(;se!==null;)Ht=se,wf(se),se=se.sibling;Ht=Q,Ea=Ne,On=Je}xf(s)}else(Q.subtreeFlags&8772)!==0&&se!==null?(se.return=Q,Ht=se):xf(s)}}function xf(s){for(;Ht!==null;){var m=Ht;if((m.flags&8772)!==0){var R=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:On||Ca(5,m);break;case 1:var V=m.stateNode;if(m.flags&4&&!On)if(R===null)V.componentDidMount();else{var Q=m.elementType===m.type?R.memoizedProps:ci(m.type,R.memoizedProps);V.componentDidUpdate(Q,R.memoizedState,V.__reactInternalSnapshotBeforeUpdate)}var se=m.updateQueue;se!==null&&xc(m,se,V);break;case 3:var me=m.updateQueue;if(me!==null){if(R=null,m.child!==null)switch(m.child.tag){case 5:R=m.child.stateNode;break;case 1:R=m.child.stateNode}xc(m,me,R)}break;case 5:var Ne=m.stateNode;if(R===null&&m.flags&4){R=Ne;var je=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":je.autoFocus&&R.focus();break;case"img":je.src&&(R.src=je.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var Je=m.alternate;if(Je!==null){var mt=Je.memoizedState;if(mt!==null){var _t=mt.dehydrated;_t!==null&&oi(_t)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}On||m.flags&512&&tu(m)}catch(dt){rn(m,m.return,dt)}}if(m===s){Ht=null;break}if(R=m.sibling,R!==null){R.return=m.return,Ht=R;break}Ht=m.return}}function vf(s){for(;Ht!==null;){var m=Ht;if(m===s){Ht=null;break}var R=m.sibling;if(R!==null){R.return=m.return,Ht=R;break}Ht=m.return}}function _f(s){for(;Ht!==null;){var m=Ht;try{switch(m.tag){case 0:case 11:case 15:var R=m.return;try{Ca(4,m)}catch(je){rn(m,R,je)}break;case 1:var V=m.stateNode;if(typeof V.componentDidMount=="function"){var Q=m.return;try{V.componentDidMount()}catch(je){rn(m,Q,je)}}var se=m.return;try{tu(m)}catch(je){rn(m,se,je)}break;case 5:var me=m.return;try{tu(m)}catch(je){rn(m,me,je)}}}catch(je){rn(m,m.return,je)}if(m===s){Ht=null;break}var Ne=m.sibling;if(Ne!==null){Ne.return=m.return,Ht=Ne;break}Ht=m.return}}var md=Math.ceil,Aa=M.ReactCurrentDispatcher,iu=M.ReactCurrentOwner,ii=M.ReactCurrentBatchConfig,Dr=0,xn=null,cn=null,kn=0,Zn=0,eo=Gi(0),gn=0,Oo=null,As=0,ka=0,su=0,Do=null,Vn=null,ou=0,to=1/0,Oi=null,Ta=!1,au=null,Qi=null,Ia=!1,Ji=null,Na=0,Po=0,lu=null,Ra=-1,Ma=0;function Ln(){return(Dr&6)!==0?Fe():Ra!==-1?Ra:Ra=Fe()}function es(s){return(s.mode&1)===0?1:(Dr&2)!==0&&kn!==0?kn&-kn:Qh.transition!==null?(Ma===0&&(Ma=nt()),Ma):(s=Ot,s!==0||(s=window.event,s=s===void 0?16:ao(s.type)),s)}function di(s,m,R,V){if(50<Po)throw Po=0,lu=null,Error(r(185));ye(s,R,V),((Dr&2)===0||s!==xn)&&(s===xn&&((Dr&2)===0&&(ka|=R),gn===4&&ts(s,kn)),Hn(s,V),R===1&&Dr===0&&(m.mode&1)===0&&(to=Fe()+500,oa&&Yi()))}function Hn(s,m){var R=s.callbackNode;ct(s,m);var V=rt(s,s===xn?kn:0);if(V===0)R!==null&&Sr(R),s.callbackNode=null,s.callbackPriority=0;else if(m=V&-V,s.callbackPriority!==m){if(R!=null&&Sr(R),m===1)s.tag===0?Kh(Ef.bind(null,s)):lc(Ef.bind(null,s)),qh(function(){(Dr&6)===0&&Yi()}),R=null;else{switch(Tr(V)){case 1:R=De;break;case 4:R=zt;break;case 16:R=at;break;case 536870912:R=xr;break;default:R=at}R=Mf(R,Sf.bind(null,s))}s.callbackPriority=m,s.callbackNode=R}}function Sf(s,m){if(Ra=-1,Ma=0,(Dr&6)!==0)throw Error(r(327));var R=s.callbackNode;if(ro()&&s.callbackNode!==R)return null;var V=rt(s,s===xn?kn:0);if(V===0)return null;if((V&30)!==0||(V&s.expiredLanes)!==0||m)m=Oa(s,V);else{m=V;var Q=Dr;Dr|=2;var se=Af();(xn!==s||kn!==m)&&(Oi=null,to=Fe()+500,Ts(s,m));do try{yd();break}catch(Ne){Cf(s,Ne)}while(!0);Al(),Aa.current=se,Dr=Q,cn!==null?m=0:(xn=null,kn=0,m=gn)}if(m!==0){if(m===2&&(Q=st(s),Q!==0&&(V=Q,m=uu(s,Q))),m===1)throw R=Oo,Ts(s,0),ts(s,V),Hn(s,Fe()),R;if(m===6)ts(s,V);else{if(Q=s.current.alternate,(V&30)===0&&!gd(Q)&&(m=Oa(s,V),m===2&&(se=st(s),se!==0&&(V=se,m=uu(s,se))),m===1))throw R=Oo,Ts(s,0),ts(s,V),Hn(s,Fe()),R;switch(s.finishedWork=Q,s.finishedLanes=V,m){case 0:case 1:throw Error(r(345));case 2:Is(s,Vn,Oi);break;case 3:if(ts(s,V),(V&130023424)===V&&(m=ou+500-Fe(),10<m)){if(rt(s,0)!==0)break;if(Q=s.suspendedLanes,(Q&V)!==V){Ln(),s.pingedLanes|=s.suspendedLanes&Q;break}s.timeoutHandle=ml(Is.bind(null,s,Vn,Oi),m);break}Is(s,Vn,Oi);break;case 4:if(ts(s,V),(V&4194240)===V)break;for(m=s.eventTimes,Q=-1;0<V;){var me=31-dr(V);se=1<<me,me=m[me],me>Q&&(Q=me),V&=~se}if(V=Q,V=Fe()-V,V=(120>V?120:480>V?480:1080>V?1080:1920>V?1920:3e3>V?3e3:4320>V?4320:1960*md(V/1960))-V,10<V){s.timeoutHandle=ml(Is.bind(null,s,Vn,Oi),V);break}Is(s,Vn,Oi);break;case 5:Is(s,Vn,Oi);break;default:throw Error(r(329))}}}return Hn(s,Fe()),s.callbackNode===R?Sf.bind(null,s):null}function uu(s,m){var R=Do;return s.current.memoizedState.isDehydrated&&(Ts(s,m).flags|=256),s=Oa(s,m),s!==2&&(m=Vn,Vn=R,m!==null&&cu(m)),s}function cu(s){Vn===null?Vn=s:Vn.push.apply(Vn,s)}function gd(s){for(var m=s;;){if(m.flags&16384){var R=m.updateQueue;if(R!==null&&(R=R.stores,R!==null))for(var V=0;V<R.length;V++){var Q=R[V],se=Q.getSnapshot;Q=Q.value;try{if(!Xe(se(),Q))return!1}catch{return!1}}}if(R=m.child,m.subtreeFlags&16384&&R!==null)R.return=m,m=R;else{if(m===s)break;for(;m.sibling===null;){if(m.return===null||m.return===s)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function ts(s,m){for(m&=~su,m&=~ka,s.suspendedLanes|=m,s.pingedLanes&=~m,s=s.expirationTimes;0<m;){var R=31-dr(m),V=1<<R;s[R]=-1,m&=~V}}function Ef(s){if((Dr&6)!==0)throw Error(r(327));ro();var m=rt(s,0);if((m&1)===0)return Hn(s,Fe()),null;var R=Oa(s,m);if(s.tag!==0&&R===2){var V=st(s);V!==0&&(m=V,R=uu(s,V))}if(R===1)throw R=Oo,Ts(s,0),ts(s,m),Hn(s,Fe()),R;if(R===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=m,Is(s,Vn,Oi),Hn(s,Fe()),null}function fu(s,m){var R=Dr;Dr|=1;try{return s(m)}finally{Dr=R,Dr===0&&(to=Fe()+500,oa&&Yi())}}function ks(s){Ji!==null&&Ji.tag===0&&(Dr&6)===0&&ro();var m=Dr;Dr|=1;var R=ii.transition,V=Ot;try{if(ii.transition=null,Ot=1,s)return s()}finally{Ot=V,ii.transition=R,Dr=m,(Dr&6)===0&&Yi()}}function hu(){Zn=eo.current,Yr(eo)}function Ts(s,m){s.finishedWork=null,s.finishedLanes=0;var R=s.timeoutHandle;if(R!==-1&&(s.timeoutHandle=-1,Gh(R)),cn!==null)for(R=cn.return;R!==null;){var V=R;switch(vl(V),V.tag){case 1:V=V.type.childContextTypes,V!=null&&ia();break;case 3:Ks(),Yr(Fn),Yr(Nn),Dl();break;case 5:Ml(V);break;case 4:Ks();break;case 13:Yr(Qr);break;case 19:Yr(Qr);break;case 10:kl(V.type._context);break;case 22:case 23:hu()}R=R.return}if(xn=s,cn=s=rs(s.current,null),kn=Zn=m,gn=0,Oo=null,su=ka=As=0,Vn=Do=null,Ss!==null){for(m=0;m<Ss.length;m++)if(R=Ss[m],V=R.interleaved,V!==null){R.interleaved=null;var Q=V.next,se=R.pending;if(se!==null){var me=se.next;se.next=Q,V.next=me}R.pending=V}Ss=null}return s}function Cf(s,m){do{var R=cn;try{if(Al(),ga.current=xa,ba){for(var V=Jr.memoizedState;V!==null;){var Q=V.queue;Q!==null&&(Q.pending=null),V=V.next}ba=!1}if(Cs=0,wn=mn=Jr=null,ko=!1,To=0,iu.current=null,R===null||R.return===null){gn=1,Oo=m,cn=null;break}e:{var se=s,me=R.return,Ne=R,je=m;if(m=kn,Ne.flags|=32768,je!==null&&typeof je=="object"&&typeof je.then=="function"){var Je=je,mt=Ne,_t=mt.tag;if((mt.mode&1)===0&&(_t===0||_t===11||_t===15)){var dt=mt.alternate;dt?(mt.updateQueue=dt.updateQueue,mt.memoizedState=dt.memoizedState,mt.lanes=dt.lanes):(mt.updateQueue=null,mt.memoizedState=null)}var Ut=$c(me);if(Ut!==null){Ut.flags&=-257,Zc(Ut,me,Ne,se,m),Ut.mode&1&&Yc(se,Je,m),m=Ut,je=Je;var Xt=m.updateQueue;if(Xt===null){var qt=new Set;qt.add(je),m.updateQueue=qt}else Xt.add(je);break e}else{if((m&1)===0){Yc(se,Je,m),du();break e}je=Error(r(426))}}else if(Zr&&Ne.mode&1){var an=$c(me);if(an!==null){(an.flags&65536)===0&&(an.flags|=256),Zc(an,me,Ne,se,m),El(Qs(je,Ne));break e}}se=je=Qs(je,Ne),gn!==4&&(gn=2),Do===null?Do=[se]:Do.push(se),se=me;do{switch(se.tag){case 3:se.flags|=65536,m&=-m,se.lanes|=m;var qe=Gc(se,je,m);wc(se,qe);break e;case 1:Ne=je;var Ve=se.type,Ye=se.stateNode;if((se.flags&128)===0&&(typeof Ve.getDerivedStateFromError=="function"||Ye!==null&&typeof Ye.componentDidCatch=="function"&&(Qi===null||!Qi.has(Ye)))){se.flags|=65536,m&=-m,se.lanes|=m;var It=qc(se,Ne,m);wc(se,It);break e}}se=se.return}while(se!==null)}Tf(R)}catch(Zt){m=Zt,cn===R&&R!==null&&(cn=R=R.return);continue}break}while(!0)}function Af(){var s=Aa.current;return Aa.current=xa,s===null?xa:s}function du(){(gn===0||gn===3||gn===2)&&(gn=4),xn===null||(As&268435455)===0&&(ka&268435455)===0||ts(xn,kn)}function Oa(s,m){var R=Dr;Dr|=2;var V=Af();(xn!==s||kn!==m)&&(Oi=null,Ts(s,m));do try{bd();break}catch(Q){Cf(s,Q)}while(!0);if(Al(),Dr=R,Aa.current=V,cn!==null)throw Error(r(261));return xn=null,kn=0,gn}function bd(){for(;cn!==null;)kf(cn)}function yd(){for(;cn!==null&&!wr();)kf(cn)}function kf(s){var m=Rf(s.alternate,s,Zn);s.memoizedProps=s.pendingProps,m===null?Tf(s):cn=m,iu.current=null}function Tf(s){var m=s;do{var R=m.alternate;if(s=m.return,(m.flags&32768)===0){if(R=cd(R,m,Zn),R!==null){cn=R;return}}else{if(R=fd(R,m),R!==null){R.flags&=32767,cn=R;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{gn=6,cn=null;return}}if(m=m.sibling,m!==null){cn=m;return}cn=m=s}while(m!==null);gn===0&&(gn=5)}function Is(s,m,R){var V=Ot,Q=ii.transition;try{ii.transition=null,Ot=1,wd(s,m,R,V)}finally{ii.transition=Q,Ot=V}return null}function wd(s,m,R,V){do ro();while(Ji!==null);if((Dr&6)!==0)throw Error(r(327));R=s.finishedWork;var Q=s.finishedLanes;if(R===null)return null;if(s.finishedWork=null,s.finishedLanes=0,R===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var se=R.lanes|R.childLanes;if(wt(s,se),s===xn&&(cn=xn=null,kn=0),(R.subtreeFlags&2064)===0&&(R.flags&2064)===0||Ia||(Ia=!0,Mf(at,function(){return ro(),null})),se=(R.flags&15990)!==0,(R.subtreeFlags&15990)!==0||se){se=ii.transition,ii.transition=null;var me=Ot;Ot=1;var Ne=Dr;Dr|=4,iu.current=null,dd(s,R),yf(R,s),In(dl),pi=!!hl,dl=hl=null,s.current=R,pd(R),Ee(),Dr=Ne,Ot=me,ii.transition=se}else s.current=R;if(Ia&&(Ia=!1,Ji=s,Na=Q),se=s.pendingLanes,se===0&&(Qi=null),Ct(R.stateNode),Hn(s,Fe()),m!==null)for(V=s.onRecoverableError,R=0;R<m.length;R++)Q=m[R],V(Q.value,{componentStack:Q.stack,digest:Q.digest});if(Ta)throw Ta=!1,s=au,au=null,s;return(Na&1)!==0&&s.tag!==0&&ro(),se=s.pendingLanes,(se&1)!==0?s===lu?Po++:(Po=0,lu=s):Po=0,Yi(),null}function ro(){if(Ji!==null){var s=Tr(Na),m=ii.transition,R=Ot;try{if(ii.transition=null,Ot=16>s?16:s,Ji===null)var V=!1;else{if(s=Ji,Ji=null,Na=0,(Dr&6)!==0)throw Error(r(331));var Q=Dr;for(Dr|=4,Ht=s.current;Ht!==null;){var se=Ht,me=se.child;if((Ht.flags&16)!==0){var Ne=se.deletions;if(Ne!==null){for(var je=0;je<Ne.length;je++){var Je=Ne[je];for(Ht=Je;Ht!==null;){var mt=Ht;switch(mt.tag){case 0:case 11:case 15:Mo(8,mt,se)}var _t=mt.child;if(_t!==null)_t.return=mt,Ht=_t;else for(;Ht!==null;){mt=Ht;var dt=mt.sibling,Ut=mt.return;if(df(mt),mt===Je){Ht=null;break}if(dt!==null){dt.return=Ut,Ht=dt;break}Ht=Ut}}}var Xt=se.alternate;if(Xt!==null){var qt=Xt.child;if(qt!==null){Xt.child=null;do{var an=qt.sibling;qt.sibling=null,qt=an}while(qt!==null)}}Ht=se}}if((se.subtreeFlags&2064)!==0&&me!==null)me.return=se,Ht=me;else e:for(;Ht!==null;){if(se=Ht,(se.flags&2048)!==0)switch(se.tag){case 0:case 11:case 15:Mo(9,se,se.return)}var qe=se.sibling;if(qe!==null){qe.return=se.return,Ht=qe;break e}Ht=se.return}}var Ve=s.current;for(Ht=Ve;Ht!==null;){me=Ht;var Ye=me.child;if((me.subtreeFlags&2064)!==0&&Ye!==null)Ye.return=me,Ht=Ye;else e:for(me=Ve;Ht!==null;){if(Ne=Ht,(Ne.flags&2048)!==0)try{switch(Ne.tag){case 0:case 11:case 15:Ca(9,Ne)}}catch(Zt){rn(Ne,Ne.return,Zt)}if(Ne===me){Ht=null;break e}var It=Ne.sibling;if(It!==null){It.return=Ne.return,Ht=It;break e}Ht=Ne.return}}if(Dr=Q,Yi(),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Rt,s)}catch{}V=!0}return V}finally{Ot=R,ii.transition=m}}return!1}function If(s,m,R){m=Qs(R,m),m=Gc(s,m,1),s=Zi(s,m,1),m=Ln(),s!==null&&(ye(s,1,m),Hn(s,m))}function rn(s,m,R){if(s.tag===3)If(s,s,R);else for(;m!==null;){if(m.tag===3){If(m,s,R);break}else if(m.tag===1){var V=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof V.componentDidCatch=="function"&&(Qi===null||!Qi.has(V))){s=Qs(R,s),s=qc(m,s,1),m=Zi(m,s,1),s=Ln(),m!==null&&(ye(m,1,s),Hn(m,s));break}}m=m.return}}function xd(s,m,R){var V=s.pingCache;V!==null&&V.delete(m),m=Ln(),s.pingedLanes|=s.suspendedLanes&R,xn===s&&(kn&R)===R&&(gn===4||gn===3&&(kn&130023424)===kn&&500>Fe()-ou?Ts(s,0):su|=R),Hn(s,m)}function Nf(s,m){m===0&&((s.mode&1)===0?m=1:(m=ze,ze<<=1,(ze&130023424)===0&&(ze=4194304)));var R=Ln();s=Ni(s,m),s!==null&&(ye(s,m,R),Hn(s,R))}function vd(s){var m=s.memoizedState,R=0;m!==null&&(R=m.retryLane),Nf(s,R)}function _d(s,m){var R=0;switch(s.tag){case 13:var V=s.stateNode,Q=s.memoizedState;Q!==null&&(R=Q.retryLane);break;case 19:V=s.stateNode;break;default:throw Error(r(314))}V!==null&&V.delete(m),Nf(s,R)}var Rf;Rf=function(s,m,R){if(s!==null)if(s.memoizedProps!==m.pendingProps||Fn.current)zn=!0;else{if((s.lanes&R)===0&&(m.flags&128)===0)return zn=!1,ud(s,m,R);zn=(s.flags&131072)!==0}else zn=!1,Zr&&(m.flags&1048576)!==0&&uc(m,la,m.index);switch(m.lanes=0,m.tag){case 2:var V=m.type;Sa(s,m),s=m.pendingProps;var Q=Ws(m,Nn.current);Zs(m,R),Q=jl(null,m,V,s,Q,R);var se=Ll();return m.flags|=1,typeof Q=="object"&&Q!==null&&typeof Q.render=="function"&&Q.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,Un(V)?(se=!0,sa(m)):se=!1,m.memoizedState=Q.state!==null&&Q.state!==void 0?Q.state:null,Nl(m),Q.updater=va,m.stateNode=Q,Q._reactInternals=m,Wl(m,V,s,R),m=Yl(null,m,V,!0,se,R)):(m.tag=0,Zr&&se&&xl(m),jn(null,m,Q,R),m=m.child),m;case 16:V=m.elementType;e:{switch(Sa(s,m),s=m.pendingProps,Q=V._init,V=Q(V._payload),m.type=V,Q=m.tag=Ed(V),s=ci(V,s),Q){case 0:m=ql(null,m,V,s,R);break e;case 1:m=rf(null,m,V,s,R);break e;case 11:m=Kc(null,m,V,s,R);break e;case 14:m=Qc(null,m,V,ci(V.type,s),R);break e}throw Error(r(306,V,""))}return m;case 0:return V=m.type,Q=m.pendingProps,Q=m.elementType===V?Q:ci(V,Q),ql(s,m,V,Q,R);case 1:return V=m.type,Q=m.pendingProps,Q=m.elementType===V?Q:ci(V,Q),rf(s,m,V,Q,R);case 3:e:{if(nf(m),s===null)throw Error(r(387));V=m.pendingProps,se=m.memoizedState,Q=se.element,yc(s,m),pa(m,V,null,R);var me=m.memoizedState;if(V=me.element,se.isDehydrated)if(se={element:V,isDehydrated:!1,cache:me.cache,pendingSuspenseBoundaries:me.pendingSuspenseBoundaries,transitions:me.transitions},m.updateQueue.baseState=se,m.memoizedState=se,m.flags&256){Q=Qs(Error(r(423)),m),m=sf(s,m,V,R,Q);break e}else if(V!==Q){Q=Qs(Error(r(424)),m),m=sf(s,m,V,R,Q);break e}else for($n=Xi(m.stateNode.containerInfo.firstChild),Yn=m,Zr=!0,ui=null,R=gc(m,null,V,R),m.child=R;R;)R.flags=R.flags&-3|4096,R=R.sibling;else{if(qs(),V===Q){m=Mi(s,m,R);break e}jn(s,m,V,R)}m=m.child}return m;case 5:return vc(m),s===null&&Sl(m),V=m.type,Q=m.pendingProps,se=s!==null?s.memoizedProps:null,me=Q.children,pl(V,Q)?me=null:se!==null&&pl(V,se)&&(m.flags|=32),tf(s,m),jn(s,m,me,R),m.child;case 6:return s===null&&Sl(m),null;case 13:return of(s,m,R);case 4:return Rl(m,m.stateNode.containerInfo),V=m.pendingProps,s===null?m.child=Ys(m,null,V,R):jn(s,m,V,R),m.child;case 11:return V=m.type,Q=m.pendingProps,Q=m.elementType===V?Q:ci(V,Q),Kc(s,m,V,Q,R);case 7:return jn(s,m,m.pendingProps,R),m.child;case 8:return jn(s,m,m.pendingProps.children,R),m.child;case 12:return jn(s,m,m.pendingProps.children,R),m.child;case 10:e:{if(V=m.type._context,Q=m.pendingProps,se=m.memoizedProps,me=Q.value,Gr(fa,V._currentValue),V._currentValue=me,se!==null)if(Xe(se.value,me)){if(se.children===Q.children&&!Fn.current){m=Mi(s,m,R);break e}}else for(se=m.child,se!==null&&(se.return=m);se!==null;){var Ne=se.dependencies;if(Ne!==null){me=se.child;for(var je=Ne.firstContext;je!==null;){if(je.context===V){if(se.tag===1){je=Ri(-1,R&-R),je.tag=2;var Je=se.updateQueue;if(Je!==null){Je=Je.shared;var mt=Je.pending;mt===null?je.next=je:(je.next=mt.next,mt.next=je),Je.pending=je}}se.lanes|=R,je=se.alternate,je!==null&&(je.lanes|=R),Tl(se.return,R,m),Ne.lanes|=R;break}je=je.next}}else if(se.tag===10)me=se.type===m.type?null:se.child;else if(se.tag===18){if(me=se.return,me===null)throw Error(r(341));me.lanes|=R,Ne=me.alternate,Ne!==null&&(Ne.lanes|=R),Tl(me,R,m),me=se.sibling}else me=se.child;if(me!==null)me.return=se;else for(me=se;me!==null;){if(me===m){me=null;break}if(se=me.sibling,se!==null){se.return=me.return,me=se;break}me=me.return}se=me}jn(s,m,Q.children,R),m=m.child}return m;case 9:return Q=m.type,V=m.pendingProps.children,Zs(m,R),Q=ri(Q),V=V(Q),m.flags|=1,jn(s,m,V,R),m.child;case 14:return V=m.type,Q=ci(V,m.pendingProps),Q=ci(V.type,Q),Qc(s,m,V,Q,R);case 15:return Jc(s,m,m.type,m.pendingProps,R);case 17:return V=m.type,Q=m.pendingProps,Q=m.elementType===V?Q:ci(V,Q),Sa(s,m),m.tag=1,Un(V)?(s=!0,sa(m)):s=!1,Zs(m,R),Wc(m,V,Q),Wl(m,V,Q,R),Yl(null,m,V,!0,s,R);case 19:return lf(s,m,R);case 22:return ef(s,m,R)}throw Error(r(156,m.tag))};function Mf(s,m){return Nr(s,m)}function Sd(s,m,R,V){this.tag=s,this.key=R,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=V,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(s,m,R,V){return new Sd(s,m,R,V)}function pu(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ed(s){if(typeof s=="function")return pu(s)?1:0;if(s!=null){if(s=s.$$typeof,s===$)return 11;if(s===A)return 14}return 2}function rs(s,m){var R=s.alternate;return R===null?(R=si(s.tag,m,s.key,s.mode),R.elementType=s.elementType,R.type=s.type,R.stateNode=s.stateNode,R.alternate=s,s.alternate=R):(R.pendingProps=m,R.type=s.type,R.flags=0,R.subtreeFlags=0,R.deletions=null),R.flags=s.flags&14680064,R.childLanes=s.childLanes,R.lanes=s.lanes,R.child=s.child,R.memoizedProps=s.memoizedProps,R.memoizedState=s.memoizedState,R.updateQueue=s.updateQueue,m=s.dependencies,R.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},R.sibling=s.sibling,R.index=s.index,R.ref=s.ref,R}function Da(s,m,R,V,Q,se){var me=2;if(V=s,typeof s=="function")pu(s)&&(me=1);else if(typeof s=="string")me=5;else e:switch(s){case Y:return Ns(R.children,Q,se,m);case W:me=8,Q|=8;break;case q:return s=si(12,R,m,Q|2),s.elementType=q,s.lanes=se,s;case D:return s=si(13,R,m,Q),s.elementType=D,s.lanes=se,s;case F:return s=si(19,R,m,Q),s.elementType=F,s.lanes=se,s;case _:return Pa(R,Q,se,m);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case K:me=10;break e;case ie:me=9;break e;case $:me=11;break e;case A:me=14;break e;case v:me=16,V=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return m=si(me,R,m,Q),m.elementType=s,m.type=V,m.lanes=se,m}function Ns(s,m,R,V){return s=si(7,s,V,m),s.lanes=R,s}function Pa(s,m,R,V){return s=si(22,s,V,m),s.elementType=_,s.lanes=R,s.stateNode={isHidden:!1},s}function mu(s,m,R){return s=si(6,s,null,m),s.lanes=R,s}function gu(s,m,R){return m=si(4,s.children!==null?s.children:[],s.key,m),m.lanes=R,m.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},m}function Cd(s,m,R,V,Q){this.tag=m,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Te(0),this.expirationTimes=Te(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Te(0),this.identifierPrefix=V,this.onRecoverableError=Q,this.mutableSourceEagerHydrationData=null}function bu(s,m,R,V,Q,se,me,Ne,je){return s=new Cd(s,m,R,Ne,je),m===1?(m=1,se===!0&&(m|=8)):m=0,se=si(3,null,null,m),s.current=se,se.stateNode=s,se.memoizedState={element:V,isDehydrated:R,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nl(se),s}function Ad(s,m,R){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:V==null?null:""+V,children:s,containerInfo:m,implementation:R}}function Of(s){if(!s)return qi;s=s._reactInternals;e:{if(Pt(s)!==s||s.tag!==1)throw Error(r(170));var m=s;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(Un(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(r(171))}if(s.tag===1){var R=s.type;if(Un(R))return oc(s,R,m)}return m}function Df(s,m,R,V,Q,se,me,Ne,je){return s=bu(R,V,!0,s,Q,se,me,Ne,je),s.context=Of(null),R=s.current,V=Ln(),Q=es(R),se=Ri(V,Q),se.callback=m??null,Zi(R,se,Q),s.current.lanes=Q,ye(s,Q,V),Hn(s,V),s}function Ba(s,m,R,V){var Q=m.current,se=Ln(),me=es(Q);return R=Of(R),m.context===null?m.context=R:m.pendingContext=R,m=Ri(se,me),m.payload={element:s},V=V===void 0?null:V,V!==null&&(m.callback=V),s=Zi(Q,m,me),s!==null&&(di(s,Q,me,se),da(s,Q,me)),me}function ja(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Pf(s,m){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var R=s.retryLane;s.retryLane=R!==0&&R<m?R:m}}function yu(s,m){Pf(s,m),(s=s.alternate)&&Pf(s,m)}function kd(){return null}var Bf=typeof reportError=="function"?reportError:function(s){console.error(s)};function wu(s){this._internalRoot=s}La.prototype.render=wu.prototype.render=function(s){var m=this._internalRoot;if(m===null)throw Error(r(409));Ba(s,m,null,null)},La.prototype.unmount=wu.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var m=s.containerInfo;ks(function(){Ba(null,s,null,null)}),m[Ai]=null}};function La(s){this._internalRoot=s}La.prototype.unstable_scheduleHydration=function(s){if(s){var m=Rr();s={blockedOn:null,target:s,priority:m};for(var R=0;R<en.length&&m!==0&&m<en[R].priority;R++);en.splice(R,0,s),R===0&&Ho(s)}};function xu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Fa(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function jf(){}function Td(s,m,R,V,Q){if(Q){if(typeof V=="function"){var se=V;V=function(){var Je=ja(me);se.call(Je)}}var me=Df(m,V,s,0,null,!1,!1,"",jf);return s._reactRootContainer=me,s[Ai]=me.current,wo(s.nodeType===8?s.parentNode:s),ks(),me}for(;Q=s.lastChild;)s.removeChild(Q);if(typeof V=="function"){var Ne=V;V=function(){var Je=ja(je);Ne.call(Je)}}var je=bu(s,0,!1,null,null,!1,!1,"",jf);return s._reactRootContainer=je,s[Ai]=je.current,wo(s.nodeType===8?s.parentNode:s),ks(function(){Ba(m,je,R,V)}),je}function Ua(s,m,R,V,Q){var se=R._reactRootContainer;if(se){var me=se;if(typeof Q=="function"){var Ne=Q;Q=function(){var je=ja(me);Ne.call(je)}}Ba(m,me,s,Q)}else me=Td(R,m,s,Q,V);return ja(me)}Ur=function(s){switch(s.tag){case 3:var m=s.stateNode;if(m.current.memoizedState.isDehydrated){var R=Me(m.pendingLanes);R!==0&&(tr(m,R|1),Hn(m,Fe()),(Dr&6)===0&&(to=Fe()+500,Yi()))}break;case 13:ks(function(){var V=Ni(s,1);if(V!==null){var Q=Ln();di(V,s,1,Q)}}),yu(s,1)}},zr=function(s){if(s.tag===13){var m=Ni(s,134217728);if(m!==null){var R=Ln();di(m,s,134217728,R)}yu(s,134217728)}},Wt=function(s){if(s.tag===13){var m=es(s),R=Ni(s,m);if(R!==null){var V=Ln();di(R,s,m,V)}yu(s,m)}},Rr=function(){return Ot},bn=function(s,m){var R=Ot;try{return Ot=s,m()}finally{Ot=R}},Lt=function(s,m,R){switch(m){case"input":if(pe(s,R),m=R.name,R.type==="radio"&&m!=null){for(R=s;R.parentNode;)R=R.parentNode;for(R=R.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<R.length;m++){var V=R[m];if(V!==s&&V.form===s.form){var Q=na(V);if(!Q)throw Error(r(90));ve(V),pe(V,Q)}}}break;case"textarea":Ze(s,R);break;case"select":m=R.value,m!=null&&ke(s,!!R.multiple,m,!1)}},Yt=fu,Jt=ks;var Id={usingClientEntryPoint:!1,Events:[_o,Vs,na,kr,hr,fu]},Bo={findFiberByHostInstance:ws,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nd={bundleType:Bo.bundleType,version:Bo.version,rendererPackageName:Bo.rendererPackageName,rendererConfig:Bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=jr(s),s===null?null:s.stateNode},findFiberByHostInstance:Bo.findFiberByHostInstance||kd,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var za=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!za.isDisabled&&za.supportsFiber)try{Rt=za.inject(Nd),Nt=za}catch{}}return Wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Id,Wn.createPortal=function(s,m){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xu(m))throw Error(r(200));return Ad(s,m,null,R)},Wn.createRoot=function(s,m){if(!xu(s))throw Error(r(299));var R=!1,V="",Q=Bf;return m!=null&&(m.unstable_strictMode===!0&&(R=!0),m.identifierPrefix!==void 0&&(V=m.identifierPrefix),m.onRecoverableError!==void 0&&(Q=m.onRecoverableError)),m=bu(s,1,!1,null,null,R,!1,V,Q),s[Ai]=m.current,wo(s.nodeType===8?s.parentNode:s),new wu(m)},Wn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var m=s._reactInternals;if(m===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=jr(m),s=s===null?null:s.stateNode,s},Wn.flushSync=function(s){return ks(s)},Wn.hydrate=function(s,m,R){if(!Fa(m))throw Error(r(200));return Ua(null,s,m,!0,R)},Wn.hydrateRoot=function(s,m,R){if(!xu(s))throw Error(r(405));var V=R!=null&&R.hydratedSources||null,Q=!1,se="",me=Bf;if(R!=null&&(R.unstable_strictMode===!0&&(Q=!0),R.identifierPrefix!==void 0&&(se=R.identifierPrefix),R.onRecoverableError!==void 0&&(me=R.onRecoverableError)),m=Df(m,null,s,1,R??null,Q,!1,se,me),s[Ai]=m.current,wo(s),V)for(s=0;s<V.length;s++)R=V[s],Q=R._getVersion,Q=Q(R._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[R,Q]:m.mutableSourceEagerHydrationData.push(R,Q);return new La(m)},Wn.render=function(s,m,R){if(!Fa(m))throw Error(r(200));return Ua(null,s,m,!1,R)},Wn.unmountComponentAtNode=function(s){if(!Fa(s))throw Error(r(40));return s._reactRootContainer?(ks(function(){Ua(null,null,s,!1,function(){s._reactRootContainer=null,s[Ai]=null})}),!0):!1},Wn.unstable_batchedUpdates=fu,Wn.unstable_renderSubtreeIntoContainer=function(s,m,R,V){if(!Fa(R))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return Ua(s,m,R,!1,V)},Wn.version="18.3.1-next-f1338f8080-20240426",Wn}var Xf;function wh(){if(Xf)return Su.exports;Xf=1;function J(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(J)}catch(te){console.error(te)}}return J(),Su.exports=Ld(),Su.exports}var Gf;function Fd(){if(Gf)return Va;Gf=1;var J=wh();return Va.createRoot=J.createRoot,Va.hydrateRoot=J.hydrateRoot,Va}var Ud=Fd();wh();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uo(){return Uo=Object.assign?Object.assign.bind():function(J){for(var te=1;te<arguments.length;te++){var r=arguments[te];for(var I in r)Object.prototype.hasOwnProperty.call(r,I)&&(J[I]=r[I])}return J},Uo.apply(this,arguments)}var is;(function(J){J.Pop="POP",J.Push="PUSH",J.Replace="REPLACE"})(is||(is={}));const qf="popstate";function zd(J){J===void 0&&(J={});function te(k,p){let{pathname:u="/",search:f="",hash:i=""}=Ms(k.location.hash.substr(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Nu("",{pathname:u,search:f,hash:i},p.state&&p.state.usr||null,p.state&&p.state.key||"default")}function r(k,p){let u=k.document.querySelector("base"),f="";if(u&&u.getAttribute("href")){let i=k.location.href,t=i.indexOf("#");f=t===-1?i:i.slice(0,t)}return f+"#"+(typeof p=="string"?p:Ha(p))}function I(k,p){Lu(k.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(p)+")")}return Hd(te,r,I,J)}function ln(J,te){if(J===!1||J===null||typeof J>"u")throw new Error(te)}function Lu(J,te){if(!J){typeof console<"u"&&console.warn(te);try{throw new Error(te)}catch{}}}function Vd(){return Math.random().toString(36).substr(2,8)}function Yf(J,te){return{usr:J.state,key:J.key,idx:te}}function Nu(J,te,r,I){return r===void 0&&(r=null),Uo({pathname:typeof J=="string"?J:J.pathname,search:"",hash:""},typeof te=="string"?Ms(te):te,{state:r,key:te&&te.key||I||Vd()})}function Ha(J){let{pathname:te="/",search:r="",hash:I=""}=J;return r&&r!=="?"&&(te+=r.charAt(0)==="?"?r:"?"+r),I&&I!=="#"&&(te+=I.charAt(0)==="#"?I:"#"+I),te}function Ms(J){let te={};if(J){let r=J.indexOf("#");r>=0&&(te.hash=J.substr(r),J=J.substr(0,r));let I=J.indexOf("?");I>=0&&(te.search=J.substr(I),J=J.substr(0,I)),J&&(te.pathname=J)}return te}function Hd(J,te,r,I){I===void 0&&(I={});let{window:k=document.defaultView,v5Compat:p=!1}=I,u=k.history,f=is.Pop,i=null,t=n();t==null&&(t=0,u.replaceState(Uo({},u.state,{idx:t}),""));function n(){return(u.state||{idx:null}).idx}function c(){f=is.Pop;let d=n(),w=d==null?null:d-t;t=d,i&&i({action:f,location:b.location,delta:w})}function a(d,w){f=is.Push;let y=Nu(b.location,d,w);r&&r(y,d),t=n()+1;let T=Yf(y,t),M=b.createHref(y);try{u.pushState(T,"",M)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;k.location.assign(M)}p&&i&&i({action:f,location:b.location,delta:1})}function l(d,w){f=is.Replace;let y=Nu(b.location,d,w);r&&r(y,d),t=n();let T=Yf(y,t),M=b.createHref(y);u.replaceState(T,"",M),p&&i&&i({action:f,location:b.location,delta:0})}function g(d){let w=k.location.origin!=="null"?k.location.origin:k.location.href,y=typeof d=="string"?d:Ha(d);return y=y.replace(/ $/,"%20"),ln(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let b={get action(){return f},get location(){return J(k,u)},listen(d){if(i)throw new Error("A history only accepts one active listener");return k.addEventListener(qf,c),i=d,()=>{k.removeEventListener(qf,c),i=null}},createHref(d){return te(k,d)},createURL:g,encodeLocation(d){let w=g(d);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:a,replace:l,go(d){return u.go(d)}};return b}var $f;(function(J){J.data="data",J.deferred="deferred",J.redirect="redirect",J.error="error"})($f||($f={}));function Wd(J,te,r){return r===void 0&&(r="/"),Xd(J,te,r)}function Xd(J,te,r,I){let k=typeof te=="string"?Ms(te):te,p=Fu(k.pathname||"/",r);if(p==null)return null;let u=xh(J);Gd(u);let f=null;for(let i=0;f==null&&i<u.length;++i){let t=i0(p);f=t0(u[i],t)}return f}function xh(J,te,r,I){te===void 0&&(te=[]),r===void 0&&(r=[]),I===void 0&&(I="");let k=(p,u,f)=>{let i={relativePath:f===void 0?p.path||"":f,caseSensitive:p.caseSensitive===!0,childrenIndex:u,route:p};i.relativePath.startsWith("/")&&(ln(i.relativePath.startsWith(I),'Absolute route path "'+i.relativePath+'" nested under path '+('"'+I+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),i.relativePath=i.relativePath.slice(I.length));let t=os([I,i.relativePath]),n=r.concat(i);p.children&&p.children.length>0&&(ln(p.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+t+'".')),xh(p.children,te,n,t)),!(p.path==null&&!p.index)&&te.push({path:t,score:Jd(t,p.index),routesMeta:n})};return J.forEach((p,u)=>{var f;if(p.path===""||!((f=p.path)!=null&&f.includes("?")))k(p,u);else for(let i of vh(p.path))k(p,u,i)}),te}function vh(J){let te=J.split("/");if(te.length===0)return[];let[r,...I]=te,k=r.endsWith("?"),p=r.replace(/\?$/,"");if(I.length===0)return k?[p,""]:[p];let u=vh(I.join("/")),f=[];return f.push(...u.map(i=>i===""?p:[p,i].join("/"))),k&&f.push(...u),f.map(i=>J.startsWith("/")&&i===""?"/":i)}function Gd(J){J.sort((te,r)=>te.score!==r.score?r.score-te.score:e0(te.routesMeta.map(I=>I.childrenIndex),r.routesMeta.map(I=>I.childrenIndex)))}const qd=/^:[\w-]+$/,Yd=3,$d=2,Zd=1,Kd=10,Qd=-2,Zf=J=>J==="*";function Jd(J,te){let r=J.split("/"),I=r.length;return r.some(Zf)&&(I+=Qd),te&&(I+=$d),r.filter(k=>!Zf(k)).reduce((k,p)=>k+(qd.test(p)?Yd:p===""?Zd:Kd),I)}function e0(J,te){return J.length===te.length&&J.slice(0,-1).every((I,k)=>I===te[k])?J[J.length-1]-te[te.length-1]:0}function t0(J,te,r){let{routesMeta:I}=J,k={},p="/",u=[];for(let f=0;f<I.length;++f){let i=I[f],t=f===I.length-1,n=p==="/"?te:te.slice(p.length)||"/",c=r0({path:i.relativePath,caseSensitive:i.caseSensitive,end:t},n),a=i.route;if(!c)return null;Object.assign(k,c.params),u.push({params:k,pathname:os([p,c.pathname]),pathnameBase:l0(os([p,c.pathnameBase])),route:a}),c.pathnameBase!=="/"&&(p=os([p,c.pathnameBase]))}return u}function r0(J,te){typeof J=="string"&&(J={path:J,caseSensitive:!1,end:!0});let[r,I]=n0(J.path,J.caseSensitive,J.end),k=te.match(r);if(!k)return null;let p=k[0],u=p.replace(/(.)\/+$/,"$1"),f=k.slice(1);return{params:I.reduce((t,n,c)=>{let{paramName:a,isOptional:l}=n;if(a==="*"){let b=f[c]||"";u=p.slice(0,p.length-b.length).replace(/(.)\/+$/,"$1")}const g=f[c];return l&&!g?t[a]=void 0:t[a]=(g||"").replace(/%2F/g,"/"),t},{}),pathname:p,pathnameBase:u,pattern:J}}function n0(J,te,r){te===void 0&&(te=!1),r===void 0&&(r=!0),Lu(J==="*"||!J.endsWith("*")||J.endsWith("/*"),'Route path "'+J+'" will be treated as if it were '+('"'+J.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+J.replace(/\*$/,"/*")+'".'));let I=[],k="^"+J.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,i)=>(I.push({paramName:f,isOptional:i!=null}),i?"/?([^\\/]+)?":"/([^\\/]+)"));return J.endsWith("*")?(I.push({paramName:"*"}),k+=J==="*"||J==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?k+="\\/*$":J!==""&&J!=="/"&&(k+="(?:(?=\\/|$))"),[new RegExp(k,te?void 0:"i"),I]}function i0(J){try{return J.split("/").map(te=>decodeURIComponent(te).replace(/\//g,"%2F")).join("/")}catch(te){return Lu(!1,'The URL path "'+J+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+te+").")),J}}function Fu(J,te){if(te==="/")return J;if(!J.toLowerCase().startsWith(te.toLowerCase()))return null;let r=te.endsWith("/")?te.length-1:te.length,I=J.charAt(r);return I&&I!=="/"?null:J.slice(r)||"/"}function s0(J,te){te===void 0&&(te="/");let{pathname:r,search:I="",hash:k=""}=typeof J=="string"?Ms(J):J;return{pathname:r?r.startsWith("/")?r:o0(r,te):te,search:u0(I),hash:c0(k)}}function o0(J,te){let r=te.replace(/\/+$/,"").split("/");return J.split("/").forEach(k=>{k===".."?r.length>1&&r.pop():k!=="."&&r.push(k)}),r.length>1?r.join("/"):"/"}function Au(J,te,r,I){return"Cannot include a '"+J+"' character in a manually specified "+("`to."+te+"` field ["+JSON.stringify(I)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function a0(J){return J.filter((te,r)=>r===0||te.route.path&&te.route.path.length>0)}function Uu(J,te){let r=a0(J);return te?r.map((I,k)=>k===r.length-1?I.pathname:I.pathnameBase):r.map(I=>I.pathnameBase)}function zu(J,te,r,I){I===void 0&&(I=!1);let k;typeof J=="string"?k=Ms(J):(k=Uo({},J),ln(!k.pathname||!k.pathname.includes("?"),Au("?","pathname","search",k)),ln(!k.pathname||!k.pathname.includes("#"),Au("#","pathname","hash",k)),ln(!k.search||!k.search.includes("#"),Au("#","search","hash",k)));let p=J===""||k.pathname==="",u=p?"/":k.pathname,f;if(u==null)f=r;else{let c=te.length-1;if(!I&&u.startsWith("..")){let a=u.split("/");for(;a[0]==="..";)a.shift(),c-=1;k.pathname=a.join("/")}f=c>=0?te[c]:"/"}let i=s0(k,f),t=u&&u!=="/"&&u.endsWith("/"),n=(p||u===".")&&r.endsWith("/");return!i.pathname.endsWith("/")&&(t||n)&&(i.pathname+="/"),i}const os=J=>J.join("/").replace(/\/\/+/g,"/"),l0=J=>J.replace(/\/+$/,"").replace(/^\/*/,"/"),u0=J=>!J||J==="?"?"":J.startsWith("?")?J:"?"+J,c0=J=>!J||J==="#"?"":J.startsWith("#")?J:"#"+J;function f0(J){return J!=null&&typeof J.status=="number"&&typeof J.statusText=="string"&&typeof J.internal=="boolean"&&"data"in J}const _h=["post","put","patch","delete"];new Set(_h);const h0=["get",..._h];new Set(h0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zo(){return zo=Object.assign?Object.assign.bind():function(J){for(var te=1;te<arguments.length;te++){var r=arguments[te];for(var I in r)Object.prototype.hasOwnProperty.call(r,I)&&(J[I]=r[I])}return J},zo.apply(this,arguments)}const Vu=tt.createContext(null),d0=tt.createContext(null),us=tt.createContext(null),Qa=tt.createContext(null),Bi=tt.createContext({outlet:null,matches:[],isDataRoute:!1}),Sh=tt.createContext(null);function p0(J,te){let{relative:r}=te===void 0?{}:te;io()||ln(!1);let{basename:I,navigator:k}=tt.useContext(us),{hash:p,pathname:u,search:f}=Ch(J,{relative:r}),i=u;return I!=="/"&&(i=u==="/"?I:os([I,u])),k.createHref({pathname:i,search:f,hash:p})}function io(){return tt.useContext(Qa)!=null}function Os(){return io()||ln(!1),tt.useContext(Qa).location}function Eh(J){tt.useContext(us).static||tt.useLayoutEffect(J)}function Ja(){let{isDataRoute:J}=tt.useContext(Bi);return J?I0():m0()}function m0(){io()||ln(!1);let J=tt.useContext(Vu),{basename:te,future:r,navigator:I}=tt.useContext(us),{matches:k}=tt.useContext(Bi),{pathname:p}=Os(),u=JSON.stringify(Uu(k,r.v7_relativeSplatPath)),f=tt.useRef(!1);return Eh(()=>{f.current=!0}),tt.useCallback(function(t,n){if(n===void 0&&(n={}),!f.current)return;if(typeof t=="number"){I.go(t);return}let c=zu(t,JSON.parse(u),p,n.relative==="path");J==null&&te!=="/"&&(c.pathname=c.pathname==="/"?te:os([te,c.pathname])),(n.replace?I.replace:I.push)(c,n.state,n)},[te,I,u,p,J])}const g0=tt.createContext(null);function b0(J){let te=tt.useContext(Bi).outlet;return te&&tt.createElement(g0.Provider,{value:J},te)}function Ch(J,te){let{relative:r}=te===void 0?{}:te,{future:I}=tt.useContext(us),{matches:k}=tt.useContext(Bi),{pathname:p}=Os(),u=JSON.stringify(Uu(k,I.v7_relativeSplatPath));return tt.useMemo(()=>zu(J,JSON.parse(u),p,r==="path"),[J,u,p,r])}function y0(J,te){return w0(J,te)}function w0(J,te,r,I){io()||ln(!1);let{navigator:k}=tt.useContext(us),{matches:p}=tt.useContext(Bi),u=p[p.length-1],f=u?u.params:{};u&&u.pathname;let i=u?u.pathnameBase:"/";u&&u.route;let t=Os(),n;if(te){var c;let d=typeof te=="string"?Ms(te):te;i==="/"||(c=d.pathname)!=null&&c.startsWith(i)||ln(!1),n=d}else n=t;let a=n.pathname||"/",l=a;if(i!=="/"){let d=i.replace(/^\//,"").split("/");l="/"+a.replace(/^\//,"").split("/").slice(d.length).join("/")}let g=Wd(J,{pathname:l}),b=E0(g&&g.map(d=>Object.assign({},d,{params:Object.assign({},f,d.params),pathname:os([i,k.encodeLocation?k.encodeLocation(d.pathname).pathname:d.pathname]),pathnameBase:d.pathnameBase==="/"?i:os([i,k.encodeLocation?k.encodeLocation(d.pathnameBase).pathname:d.pathnameBase])})),p,r,I);return te&&b?tt.createElement(Qa.Provider,{value:{location:zo({pathname:"/",search:"",hash:"",state:null,key:"default"},n),navigationType:is.Pop}},b):b}function x0(){let J=T0(),te=f0(J)?J.status+" "+J.statusText:J instanceof Error?J.message:JSON.stringify(J),r=J instanceof Error?J.stack:null,k={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return tt.createElement(tt.Fragment,null,tt.createElement("h2",null,"Unexpected Application Error!"),tt.createElement("h3",{style:{fontStyle:"italic"}},te),r?tt.createElement("pre",{style:k},r):null,null)}const v0=tt.createElement(x0,null);class _0 extends tt.Component{constructor(te){super(te),this.state={location:te.location,revalidation:te.revalidation,error:te.error}}static getDerivedStateFromError(te){return{error:te}}static getDerivedStateFromProps(te,r){return r.location!==te.location||r.revalidation!=="idle"&&te.revalidation==="idle"?{error:te.error,location:te.location,revalidation:te.revalidation}:{error:te.error!==void 0?te.error:r.error,location:r.location,revalidation:te.revalidation||r.revalidation}}componentDidCatch(te,r){console.error("React Router caught the following error during render",te,r)}render(){return this.state.error!==void 0?tt.createElement(Bi.Provider,{value:this.props.routeContext},tt.createElement(Sh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function S0(J){let{routeContext:te,match:r,children:I}=J,k=tt.useContext(Vu);return k&&k.static&&k.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(k.staticContext._deepestRenderedBoundaryId=r.route.id),tt.createElement(Bi.Provider,{value:te},I)}function E0(J,te,r,I){var k;if(te===void 0&&(te=[]),r===void 0&&(r=null),I===void 0&&(I=null),J==null){var p;if(!r)return null;if(r.errors)J=r.matches;else if((p=I)!=null&&p.v7_partialHydration&&te.length===0&&!r.initialized&&r.matches.length>0)J=r.matches;else return null}let u=J,f=(k=r)==null?void 0:k.errors;if(f!=null){let n=u.findIndex(c=>c.route.id&&(f==null?void 0:f[c.route.id])!==void 0);n>=0||ln(!1),u=u.slice(0,Math.min(u.length,n+1))}let i=!1,t=-1;if(r&&I&&I.v7_partialHydration)for(let n=0;n<u.length;n++){let c=u[n];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(t=n),c.route.id){let{loaderData:a,errors:l}=r,g=c.route.loader&&a[c.route.id]===void 0&&(!l||l[c.route.id]===void 0);if(c.route.lazy||g){i=!0,t>=0?u=u.slice(0,t+1):u=[u[0]];break}}}return u.reduceRight((n,c,a)=>{let l,g=!1,b=null,d=null;r&&(l=f&&c.route.id?f[c.route.id]:void 0,b=c.route.errorElement||v0,i&&(t<0&&a===0?(N0("route-fallback"),g=!0,d=null):t===a&&(g=!0,d=c.route.hydrateFallbackElement||null)));let w=te.concat(u.slice(0,a+1)),y=()=>{let T;return l?T=b:g?T=d:c.route.Component?T=tt.createElement(c.route.Component,null):c.route.element?T=c.route.element:T=n,tt.createElement(S0,{match:c,routeContext:{outlet:n,matches:w,isDataRoute:r!=null},children:T})};return r&&(c.route.ErrorBoundary||c.route.errorElement||a===0)?tt.createElement(_0,{location:r.location,revalidation:r.revalidation,component:b,error:l,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var Ah=function(J){return J.UseBlocker="useBlocker",J.UseRevalidator="useRevalidator",J.UseNavigateStable="useNavigate",J}(Ah||{}),kh=function(J){return J.UseBlocker="useBlocker",J.UseLoaderData="useLoaderData",J.UseActionData="useActionData",J.UseRouteError="useRouteError",J.UseNavigation="useNavigation",J.UseRouteLoaderData="useRouteLoaderData",J.UseMatches="useMatches",J.UseRevalidator="useRevalidator",J.UseNavigateStable="useNavigate",J.UseRouteId="useRouteId",J}(kh||{});function C0(J){let te=tt.useContext(Vu);return te||ln(!1),te}function A0(J){let te=tt.useContext(d0);return te||ln(!1),te}function k0(J){let te=tt.useContext(Bi);return te||ln(!1),te}function Th(J){let te=k0(),r=te.matches[te.matches.length-1];return r.route.id||ln(!1),r.route.id}function T0(){var J;let te=tt.useContext(Sh),r=A0(),I=Th();return te!==void 0?te:(J=r.errors)==null?void 0:J[I]}function I0(){let{router:J}=C0(Ah.UseNavigateStable),te=Th(kh.UseNavigateStable),r=tt.useRef(!1);return Eh(()=>{r.current=!0}),tt.useCallback(function(k,p){p===void 0&&(p={}),r.current&&(typeof k=="number"?J.navigate(k):J.navigate(k,zo({fromRouteId:te},p)))},[J,te])}const Kf={};function N0(J,te,r){Kf[J]||(Kf[J]=!0)}function R0(J,te){J==null||J.v7_startTransition,J==null||J.v7_relativeSplatPath}function Ru(J){let{to:te,replace:r,state:I,relative:k}=J;io()||ln(!1);let{future:p,static:u}=tt.useContext(us),{matches:f}=tt.useContext(Bi),{pathname:i}=Os(),t=Ja(),n=zu(te,Uu(f,p.v7_relativeSplatPath),i,k==="path"),c=JSON.stringify(n);return tt.useEffect(()=>t(JSON.parse(c),{replace:r,state:I,relative:k}),[t,c,k,r,I]),null}function M0(J){return b0(J.context)}function Di(J){ln(!1)}function O0(J){let{basename:te="/",children:r=null,location:I,navigationType:k=is.Pop,navigator:p,static:u=!1,future:f}=J;io()&&ln(!1);let i=te.replace(/^\/*/,"/"),t=tt.useMemo(()=>({basename:i,navigator:p,static:u,future:zo({v7_relativeSplatPath:!1},f)}),[i,f,p,u]);typeof I=="string"&&(I=Ms(I));let{pathname:n="/",search:c="",hash:a="",state:l=null,key:g="default"}=I,b=tt.useMemo(()=>{let d=Fu(n,i);return d==null?null:{location:{pathname:d,search:c,hash:a,state:l,key:g},navigationType:k}},[i,n,c,a,l,g,k]);return b==null?null:tt.createElement(us.Provider,{value:t},tt.createElement(Qa.Provider,{children:r,value:b}))}function D0(J){let{children:te,location:r}=J;return y0(Mu(te),r)}new Promise(()=>{});function Mu(J,te){te===void 0&&(te=[]);let r=[];return tt.Children.forEach(J,(I,k)=>{if(!tt.isValidElement(I))return;let p=[...te,k];if(I.type===tt.Fragment){r.push.apply(r,Mu(I.props.children,p));return}I.type!==Di&&ln(!1),!I.props.index||!I.props.children||ln(!1);let u={id:I.props.id||p.join("-"),caseSensitive:I.props.caseSensitive,element:I.props.element,Component:I.props.Component,index:I.props.index,path:I.props.path,loader:I.props.loader,action:I.props.action,errorElement:I.props.errorElement,ErrorBoundary:I.props.ErrorBoundary,hasErrorBoundary:I.props.ErrorBoundary!=null||I.props.errorElement!=null,shouldRevalidate:I.props.shouldRevalidate,handle:I.props.handle,lazy:I.props.lazy};I.props.children&&(u.children=Mu(I.props.children,p)),r.push(u)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ou(){return Ou=Object.assign?Object.assign.bind():function(J){for(var te=1;te<arguments.length;te++){var r=arguments[te];for(var I in r)Object.prototype.hasOwnProperty.call(r,I)&&(J[I]=r[I])}return J},Ou.apply(this,arguments)}function P0(J,te){if(J==null)return{};var r={},I=Object.keys(J),k,p;for(p=0;p<I.length;p++)k=I[p],!(te.indexOf(k)>=0)&&(r[k]=J[k]);return r}function B0(J){return!!(J.metaKey||J.altKey||J.ctrlKey||J.shiftKey)}function j0(J,te){return J.button===0&&(!te||te==="_self")&&!B0(J)}const L0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],F0="6";try{window.__reactRouterVersion=F0}catch{}const U0="startTransition",Qf=Pd[U0];function z0(J){let{basename:te,children:r,future:I,window:k}=J,p=tt.useRef();p.current==null&&(p.current=zd({window:k,v5Compat:!0}));let u=p.current,[f,i]=tt.useState({action:u.action,location:u.location}),{v7_startTransition:t}=I||{},n=tt.useCallback(c=>{t&&Qf?Qf(()=>i(c)):i(c)},[i,t]);return tt.useLayoutEffect(()=>u.listen(n),[u,n]),tt.useEffect(()=>R0(I),[I]),tt.createElement(O0,{basename:te,children:r,location:f.location,navigationType:f.action,navigator:u,future:I})}const V0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",H0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W0=tt.forwardRef(function(te,r){let{onClick:I,relative:k,reloadDocument:p,replace:u,state:f,target:i,to:t,preventScrollReset:n,viewTransition:c}=te,a=P0(te,L0),{basename:l}=tt.useContext(us),g,b=!1;if(typeof t=="string"&&H0.test(t)&&(g=t,V0))try{let T=new URL(window.location.href),M=t.startsWith("//")?new URL(T.protocol+t):new URL(t),j=Fu(M.pathname,l);M.origin===T.origin&&j!=null?t=j+M.search+M.hash:b=!0}catch{}let d=p0(t,{relative:k}),w=X0(t,{replace:u,state:f,target:i,preventScrollReset:n,relative:k,viewTransition:c});function y(T){I&&I(T),T.defaultPrevented||w(T)}return tt.createElement("a",Ou({},a,{href:g||d,onClick:b||p?I:y,ref:r,target:i}))});var Jf;(function(J){J.UseScrollRestoration="useScrollRestoration",J.UseSubmit="useSubmit",J.UseSubmitFetcher="useSubmitFetcher",J.UseFetcher="useFetcher",J.useViewTransitionState="useViewTransitionState"})(Jf||(Jf={}));var eh;(function(J){J.UseFetcher="useFetcher",J.UseFetchers="useFetchers",J.UseScrollRestoration="useScrollRestoration"})(eh||(eh={}));function X0(J,te){let{target:r,replace:I,state:k,preventScrollReset:p,relative:u,viewTransition:f}=te===void 0?{}:te,i=Ja(),t=Os(),n=Ch(J,{relative:u});return tt.useCallback(c=>{if(j0(c,r)){c.preventDefault();let a=I!==void 0?I:Ha(t)===Ha(n);i(J,{replace:a,state:k,preventScrollReset:p,relative:u,viewTransition:f})}},[t,i,n,I,k,r,J,p,u,f])}const Ih=tt.createContext(void 0),so=()=>{const J=tt.useContext(Ih);if(!J)throw new Error("useAuth must be used within an AuthProvider");return J},G0=({children:J})=>{const[te,r]=tt.useState(null),I=f=>{r(f),localStorage.setItem("user",JSON.stringify(f))},k=()=>{r(null),localStorage.removeItem("user")},p=(te==null?void 0:te.role)==="stock-manager",u={currentUser:te,login:I,logout:k,isAuthenticated:!!te,isStockManager:p};return le.jsx(Ih.Provider,{value:u,children:J})};function ss(J){throw new Error('Could not dynamically require "'+J+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ku={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var th;function q0(){return th||(th=1,function(J,te){(function(r){J.exports=r()})(function(){return function r(I,k,p){function u(t,n){if(!k[t]){if(!I[t]){var c=typeof ss=="function"&&ss;if(!n&&c)return c(t,!0);if(f)return f(t,!0);var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}var l=k[t]={exports:{}};I[t][0].call(l.exports,function(g){var b=I[t][1][g];return u(b||g)},l,l.exports,r,I,k,p)}return k[t].exports}for(var f=typeof ss=="function"&&ss,i=0;i<p.length;i++)u(p[i]);return u}({1:[function(r,I,k){(function(p){var u=p.MutationObserver||p.WebKitMutationObserver,f;if(u){var i=0,t=new u(g),n=p.document.createTextNode("");t.observe(n,{characterData:!0}),f=function(){n.data=i=++i%2}}else if(!p.setImmediate&&typeof p.MessageChannel<"u"){var c=new p.MessageChannel;c.port1.onmessage=g,f=function(){c.port2.postMessage(0)}}else"document"in p&&"onreadystatechange"in p.document.createElement("script")?f=function(){var d=p.document.createElement("script");d.onreadystatechange=function(){g(),d.onreadystatechange=null,d.parentNode.removeChild(d),d=null},p.document.documentElement.appendChild(d)}:f=function(){setTimeout(g,0)};var a,l=[];function g(){a=!0;for(var d,w,y=l.length;y;){for(w=l,l=[],d=-1;++d<y;)w[d]();y=l.length}a=!1}I.exports=b;function b(d){l.push(d)===1&&!a&&f()}}).call(this,typeof yr<"u"?yr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,I,k){var p=r(1);function u(){}var f={},i=["REJECTED"],t=["FULFILLED"],n=["PENDING"];I.exports=c;function c(j){if(typeof j!="function")throw new TypeError("resolver must be a function");this.state=n,this.queue=[],this.outcome=void 0,j!==u&&b(this,j)}c.prototype.catch=function(j){return this.then(null,j)},c.prototype.then=function(j,X){if(typeof j!="function"&&this.state===t||typeof X!="function"&&this.state===i)return this;var Y=new this.constructor(u);if(this.state!==n){var W=this.state===t?j:X;l(Y,W,this.outcome)}else this.queue.push(new a(Y,j,X));return Y};function a(j,X,Y){this.promise=j,typeof X=="function"&&(this.onFulfilled=X,this.callFulfilled=this.otherCallFulfilled),typeof Y=="function"&&(this.onRejected=Y,this.callRejected=this.otherCallRejected)}a.prototype.callFulfilled=function(j){f.resolve(this.promise,j)},a.prototype.otherCallFulfilled=function(j){l(this.promise,this.onFulfilled,j)},a.prototype.callRejected=function(j){f.reject(this.promise,j)},a.prototype.otherCallRejected=function(j){l(this.promise,this.onRejected,j)};function l(j,X,Y){p(function(){var W;try{W=X(Y)}catch(q){return f.reject(j,q)}W===j?f.reject(j,new TypeError("Cannot resolve promise with itself")):f.resolve(j,W)})}f.resolve=function(j,X){var Y=d(g,X);if(Y.status==="error")return f.reject(j,Y.value);var W=Y.value;if(W)b(j,W);else{j.state=t,j.outcome=X;for(var q=-1,K=j.queue.length;++q<K;)j.queue[q].callFulfilled(X)}return j},f.reject=function(j,X){j.state=i,j.outcome=X;for(var Y=-1,W=j.queue.length;++Y<W;)j.queue[Y].callRejected(X);return j};function g(j){var X=j&&j.then;if(j&&(typeof j=="object"||typeof j=="function")&&typeof X=="function")return function(){X.apply(j,arguments)}}function b(j,X){var Y=!1;function W($){Y||(Y=!0,f.reject(j,$))}function q($){Y||(Y=!0,f.resolve(j,$))}function K(){X(q,W)}var ie=d(K);ie.status==="error"&&W(ie.value)}function d(j,X){var Y={};try{Y.value=j(X),Y.status="success"}catch(W){Y.status="error",Y.value=W}return Y}c.resolve=w;function w(j){return j instanceof this?j:f.resolve(new this(u),j)}c.reject=y;function y(j){var X=new this(u);return f.reject(X,j)}c.all=T;function T(j){var X=this;if(Object.prototype.toString.call(j)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Y=j.length,W=!1;if(!Y)return this.resolve([]);for(var q=new Array(Y),K=0,ie=-1,$=new this(u);++ie<Y;)D(j[ie],ie);return $;function D(F,A){X.resolve(F).then(v,function(_){W||(W=!0,f.reject($,_))});function v(_){q[A]=_,++K===Y&&!W&&(W=!0,f.resolve($,q))}}}c.race=M;function M(j){var X=this;if(Object.prototype.toString.call(j)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Y=j.length,W=!1;if(!Y)return this.resolve([]);for(var q=-1,K=new this(u);++q<Y;)ie(j[q]);return K;function ie($){X.resolve($).then(function(D){W||(W=!0,f.resolve(K,D))},function(D){W||(W=!0,f.reject(K,D))})}}},{1:1}],3:[function(r,I,k){(function(p){typeof p.Promise!="function"&&(p.Promise=r(2))}).call(this,typeof yr<"u"?yr:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,I,k){var p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(be){return typeof be}:function(be){return be&&typeof Symbol=="function"&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be};function u(be,Ie){if(!(be instanceof Ie))throw new TypeError("Cannot call a class as a function")}function f(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var i=f();function t(){try{if(!i||!i.open)return!1;var be=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Ie=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!be||Ie)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function n(be,Ie){be=be||[],Ie=Ie||{};try{return new Blob(be,Ie)}catch(Me){if(Me.name!=="TypeError")throw Me;for(var we=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,Pe=new we,ze=0;ze<be.length;ze+=1)Pe.append(be[ze]);return Pe.getBlob(Ie.type)}}typeof Promise>"u"&&r(3);var c=Promise;function a(be,Ie){Ie&&be.then(function(we){Ie(null,we)},function(we){Ie(we)})}function l(be,Ie,we){typeof Ie=="function"&&be.then(Ie),typeof we=="function"&&be.catch(we)}function g(be){return typeof be!="string"&&(console.warn(be+" used as a key, but it is not a string."),be=String(be)),be}function b(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var d="local-forage-detect-blob-support",w=void 0,y={},T=Object.prototype.toString,M="readonly",j="readwrite";function X(be){for(var Ie=be.length,we=new ArrayBuffer(Ie),Pe=new Uint8Array(we),ze=0;ze<Ie;ze++)Pe[ze]=be.charCodeAt(ze);return we}function Y(be){return new c(function(Ie){var we=be.transaction(d,j),Pe=n([""]);we.objectStore(d).put(Pe,"key"),we.onabort=function(ze){ze.preventDefault(),ze.stopPropagation(),Ie(!1)},we.oncomplete=function(){var ze=navigator.userAgent.match(/Chrome\/(\d+)/),Me=navigator.userAgent.match(/Edge\//);Ie(Me||!ze||parseInt(ze[1],10)>=43)}}).catch(function(){return!1})}function W(be){return typeof w=="boolean"?c.resolve(w):Y(be).then(function(Ie){return w=Ie,w})}function q(be){var Ie=y[be.name],we={};we.promise=new c(function(Pe,ze){we.resolve=Pe,we.reject=ze}),Ie.deferredOperations.push(we),Ie.dbReady?Ie.dbReady=Ie.dbReady.then(function(){return we.promise}):Ie.dbReady=we.promise}function K(be){var Ie=y[be.name],we=Ie.deferredOperations.pop();if(we)return we.resolve(),we.promise}function ie(be,Ie){var we=y[be.name],Pe=we.deferredOperations.pop();if(Pe)return Pe.reject(Ie),Pe.promise}function $(be,Ie){return new c(function(we,Pe){if(y[be.name]=y[be.name]||z(),be.db)if(Ie)q(be),be.db.close();else return we(be.db);var ze=[be.name];Ie&&ze.push(be.version);var Me=i.open.apply(i,ze);Ie&&(Me.onupgradeneeded=function(rt){var ut=Me.result;try{ut.createObjectStore(be.storeName),rt.oldVersion<=1&&ut.createObjectStore(d)}catch(ct){if(ct.name==="ConstraintError")console.warn('The database "'+be.name+'" has been upgraded from version '+rt.oldVersion+" to version "+rt.newVersion+', but the storage "'+be.storeName+'" already exists.');else throw ct}}),Me.onerror=function(rt){rt.preventDefault(),Pe(Me.error)},Me.onsuccess=function(){var rt=Me.result;rt.onversionchange=function(ut){ut.target.close()},we(rt),K(be)}})}function D(be){return $(be,!1)}function F(be){return $(be,!0)}function A(be,Ie){if(!be.db)return!0;var we=!be.db.objectStoreNames.contains(be.storeName),Pe=be.version<be.db.version,ze=be.version>be.db.version;if(Pe&&(be.version!==Ie&&console.warn('The database "'+be.name+`" can't be downgraded from version `+be.db.version+" to version "+be.version+"."),be.version=be.db.version),ze||we){if(we){var Me=be.db.version+1;Me>be.version&&(be.version=Me)}return!0}return!1}function v(be){return new c(function(Ie,we){var Pe=new FileReader;Pe.onerror=we,Pe.onloadend=function(ze){var Me=btoa(ze.target.result||"");Ie({__local_forage_encoded_blob:!0,data:Me,type:be.type})},Pe.readAsBinaryString(be)})}function _(be){var Ie=X(atob(be.data));return n([Ie],{type:be.type})}function S(be){return be&&be.__local_forage_encoded_blob}function C(be){var Ie=this,we=Ie._initReady().then(function(){var Pe=y[Ie._dbInfo.name];if(Pe&&Pe.dbReady)return Pe.dbReady});return l(we,be,be),we}function O(be){q(be);for(var Ie=y[be.name],we=Ie.forages,Pe=0;Pe<we.length;Pe++){var ze=we[Pe];ze._dbInfo.db&&(ze._dbInfo.db.close(),ze._dbInfo.db=null)}return be.db=null,D(be).then(function(Me){return be.db=Me,A(be)?F(be):Me}).then(function(Me){be.db=Ie.db=Me;for(var rt=0;rt<we.length;rt++)we[rt]._dbInfo.db=Me}).catch(function(Me){throw ie(be,Me),Me})}function B(be,Ie,we,Pe){Pe===void 0&&(Pe=1);try{var ze=be.db.transaction(be.storeName,Ie);we(null,ze)}catch(Me){if(Pe>0&&(!be.db||Me.name==="InvalidStateError"||Me.name==="NotFoundError"))return c.resolve().then(function(){if(!be.db||Me.name==="NotFoundError"&&!be.db.objectStoreNames.contains(be.storeName)&&be.version<=be.db.version)return be.db&&(be.version=be.db.version+1),F(be)}).then(function(){return O(be).then(function(){B(be,Ie,we,Pe-1)})}).catch(we);we(Me)}}function z(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function re(be){var Ie=this,we={db:null};if(be)for(var Pe in be)we[Pe]=be[Pe];var ze=y[we.name];ze||(ze=z(),y[we.name]=ze),ze.forages.push(Ie),Ie._initReady||(Ie._initReady=Ie.ready,Ie.ready=C);var Me=[];function rt(){return c.resolve()}for(var ut=0;ut<ze.forages.length;ut++){var ct=ze.forages[ut];ct!==Ie&&Me.push(ct._initReady().catch(rt))}var st=ze.forages.slice(0);return c.all(Me).then(function(){return we.db=ze.db,D(we)}).then(function(nt){return we.db=nt,A(we,Ie._defaultConfig.version)?F(we):nt}).then(function(nt){we.db=ze.db=nt,Ie._dbInfo=we;for(var Te=0;Te<st.length;Te++){var ye=st[Te];ye!==Ie&&(ye._dbInfo.db=we.db,ye._dbInfo.version=we.version)}})}function ne(be,Ie){var we=this;be=g(be);var Pe=new c(function(ze,Me){we.ready().then(function(){B(we._dbInfo,M,function(rt,ut){if(rt)return Me(rt);try{var ct=ut.objectStore(we._dbInfo.storeName),st=ct.get(be);st.onsuccess=function(){var nt=st.result;nt===void 0&&(nt=null),S(nt)&&(nt=_(nt)),ze(nt)},st.onerror=function(){Me(st.error)}}catch(nt){Me(nt)}})}).catch(Me)});return a(Pe,Ie),Pe}function de(be,Ie){var we=this,Pe=new c(function(ze,Me){we.ready().then(function(){B(we._dbInfo,M,function(rt,ut){if(rt)return Me(rt);try{var ct=ut.objectStore(we._dbInfo.storeName),st=ct.openCursor(),nt=1;st.onsuccess=function(){var Te=st.result;if(Te){var ye=Te.value;S(ye)&&(ye=_(ye));var wt=be(ye,Te.key,nt++);wt!==void 0?ze(wt):Te.continue()}else ze()},st.onerror=function(){Me(st.error)}}catch(Te){Me(Te)}})}).catch(Me)});return a(Pe,Ie),Pe}function H(be,Ie,we){var Pe=this;be=g(be);var ze=new c(function(Me,rt){var ut;Pe.ready().then(function(){return ut=Pe._dbInfo,T.call(Ie)==="[object Blob]"?W(ut.db).then(function(ct){return ct?Ie:v(Ie)}):Ie}).then(function(ct){B(Pe._dbInfo,j,function(st,nt){if(st)return rt(st);try{var Te=nt.objectStore(Pe._dbInfo.storeName);ct===null&&(ct=void 0);var ye=Te.put(ct,be);nt.oncomplete=function(){ct===void 0&&(ct=null),Me(ct)},nt.onabort=nt.onerror=function(){var wt=ye.error?ye.error:ye.transaction.error;rt(wt)}}catch(wt){rt(wt)}})}).catch(rt)});return a(ze,we),ze}function ae(be,Ie){var we=this;be=g(be);var Pe=new c(function(ze,Me){we.ready().then(function(){B(we._dbInfo,j,function(rt,ut){if(rt)return Me(rt);try{var ct=ut.objectStore(we._dbInfo.storeName),st=ct.delete(be);ut.oncomplete=function(){ze()},ut.onerror=function(){Me(st.error)},ut.onabort=function(){var nt=st.error?st.error:st.transaction.error;Me(nt)}}catch(nt){Me(nt)}})}).catch(Me)});return a(Pe,Ie),Pe}function U(be){var Ie=this,we=new c(function(Pe,ze){Ie.ready().then(function(){B(Ie._dbInfo,j,function(Me,rt){if(Me)return ze(Me);try{var ut=rt.objectStore(Ie._dbInfo.storeName),ct=ut.clear();rt.oncomplete=function(){Pe()},rt.onabort=rt.onerror=function(){var st=ct.error?ct.error:ct.transaction.error;ze(st)}}catch(st){ze(st)}})}).catch(ze)});return a(we,be),we}function L(be){var Ie=this,we=new c(function(Pe,ze){Ie.ready().then(function(){B(Ie._dbInfo,M,function(Me,rt){if(Me)return ze(Me);try{var ut=rt.objectStore(Ie._dbInfo.storeName),ct=ut.count();ct.onsuccess=function(){Pe(ct.result)},ct.onerror=function(){ze(ct.error)}}catch(st){ze(st)}})}).catch(ze)});return a(we,be),we}function ee(be,Ie){var we=this,Pe=new c(function(ze,Me){if(be<0){ze(null);return}we.ready().then(function(){B(we._dbInfo,M,function(rt,ut){if(rt)return Me(rt);try{var ct=ut.objectStore(we._dbInfo.storeName),st=!1,nt=ct.openKeyCursor();nt.onsuccess=function(){var Te=nt.result;if(!Te){ze(null);return}be===0||st?ze(Te.key):(st=!0,Te.advance(be))},nt.onerror=function(){Me(nt.error)}}catch(Te){Me(Te)}})}).catch(Me)});return a(Pe,Ie),Pe}function ce(be){var Ie=this,we=new c(function(Pe,ze){Ie.ready().then(function(){B(Ie._dbInfo,M,function(Me,rt){if(Me)return ze(Me);try{var ut=rt.objectStore(Ie._dbInfo.storeName),ct=ut.openKeyCursor(),st=[];ct.onsuccess=function(){var nt=ct.result;if(!nt){Pe(st);return}st.push(nt.key),nt.continue()},ct.onerror=function(){ze(ct.error)}}catch(nt){ze(nt)}})}).catch(ze)});return a(we,be),we}function ve(be,Ie){Ie=b.apply(this,arguments);var we=this.config();be=typeof be!="function"&&be||{},be.name||(be.name=be.name||we.name,be.storeName=be.storeName||we.storeName);var Pe=this,ze;if(!be.name)ze=c.reject("Invalid arguments");else{var Me=be.name===we.name&&Pe._dbInfo.db,rt=Me?c.resolve(Pe._dbInfo.db):D(be).then(function(ut){var ct=y[be.name],st=ct.forages;ct.db=ut;for(var nt=0;nt<st.length;nt++)st[nt]._dbInfo.db=ut;return ut});be.storeName?ze=rt.then(function(ut){if(ut.objectStoreNames.contains(be.storeName)){var ct=ut.version+1;q(be);var st=y[be.name],nt=st.forages;ut.close();for(var Te=0;Te<nt.length;Te++){var ye=nt[Te];ye._dbInfo.db=null,ye._dbInfo.version=ct}var wt=new c(function(tr,Ot){var Tr=i.open(be.name,ct);Tr.onerror=function(Ur){var zr=Tr.result;zr.close(),Ot(Ur)},Tr.onupgradeneeded=function(){var Ur=Tr.result;Ur.deleteObjectStore(be.storeName)},Tr.onsuccess=function(){var Ur=Tr.result;Ur.close(),tr(Ur)}});return wt.then(function(tr){st.db=tr;for(var Ot=0;Ot<nt.length;Ot++){var Tr=nt[Ot];Tr._dbInfo.db=tr,K(Tr._dbInfo)}}).catch(function(tr){throw(ie(be,tr)||c.resolve()).catch(function(){}),tr})}}):ze=rt.then(function(ut){q(be);var ct=y[be.name],st=ct.forages;ut.close();for(var nt=0;nt<st.length;nt++){var Te=st[nt];Te._dbInfo.db=null}var ye=new c(function(wt,tr){var Ot=i.deleteDatabase(be.name);Ot.onerror=function(){var Tr=Ot.result;Tr&&Tr.close(),tr(Ot.error)},Ot.onblocked=function(){console.warn('dropInstance blocked for database "'+be.name+'" until all open connections are closed')},Ot.onsuccess=function(){var Tr=Ot.result;Tr&&Tr.close(),wt(Tr)}});return ye.then(function(wt){ct.db=wt;for(var tr=0;tr<st.length;tr++){var Ot=st[tr];K(Ot._dbInfo)}}).catch(function(wt){throw(ie(be,wt)||c.resolve()).catch(function(){}),wt})})}return a(ze,Ie),ze}var he={_driver:"asyncStorage",_initStorage:re,_support:t(),iterate:de,getItem:ne,setItem:H,removeItem:ae,clear:U,length:L,key:ee,keys:ce,dropInstance:ve};function xe(){return typeof openDatabase=="function"}var _e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Re="~~local_forage_type~",pe=/^~~local_forage_type~([^~]+)~/,Ae="__lfsc__:",Se=Ae.length,Ue="arbf",ke="blob",We="si08",$e="ui08",Ze="uic8",lt="si16",xt="si32",Tt="ur16",gt="ui32",Mt="fl32",Ft="fl64",Bt=Se+Ue.length,Gt=Object.prototype.toString;function ft(be){var Ie=be.length*.75,we=be.length,Pe,ze=0,Me,rt,ut,ct;be[be.length-1]==="="&&(Ie--,be[be.length-2]==="="&&Ie--);var st=new ArrayBuffer(Ie),nt=new Uint8Array(st);for(Pe=0;Pe<we;Pe+=4)Me=_e.indexOf(be[Pe]),rt=_e.indexOf(be[Pe+1]),ut=_e.indexOf(be[Pe+2]),ct=_e.indexOf(be[Pe+3]),nt[ze++]=Me<<2|rt>>4,nt[ze++]=(rt&15)<<4|ut>>2,nt[ze++]=(ut&3)<<6|ct&63;return st}function Ge(be){var Ie=new Uint8Array(be),we="",Pe;for(Pe=0;Pe<Ie.length;Pe+=3)we+=_e[Ie[Pe]>>2],we+=_e[(Ie[Pe]&3)<<4|Ie[Pe+1]>>4],we+=_e[(Ie[Pe+1]&15)<<2|Ie[Pe+2]>>6],we+=_e[Ie[Pe+2]&63];return Ie.length%3===2?we=we.substring(0,we.length-1)+"=":Ie.length%3===1&&(we=we.substring(0,we.length-2)+"=="),we}function bt(be,Ie){var we="";if(be&&(we=Gt.call(be)),be&&(we==="[object ArrayBuffer]"||be.buffer&&Gt.call(be.buffer)==="[object ArrayBuffer]")){var Pe,ze=Ae;be instanceof ArrayBuffer?(Pe=be,ze+=Ue):(Pe=be.buffer,we==="[object Int8Array]"?ze+=We:we==="[object Uint8Array]"?ze+=$e:we==="[object Uint8ClampedArray]"?ze+=Ze:we==="[object Int16Array]"?ze+=lt:we==="[object Uint16Array]"?ze+=Tt:we==="[object Int32Array]"?ze+=xt:we==="[object Uint32Array]"?ze+=gt:we==="[object Float32Array]"?ze+=Mt:we==="[object Float64Array]"?ze+=Ft:Ie(new Error("Failed to get type for BinaryArray"))),Ie(ze+Ge(Pe))}else if(we==="[object Blob]"){var Me=new FileReader;Me.onload=function(){var rt=Re+be.type+"~"+Ge(this.result);Ie(Ae+ke+rt)},Me.readAsArrayBuffer(be)}else try{Ie(JSON.stringify(be))}catch(rt){console.error("Couldn't convert value into a JSON string: ",be),Ie(null,rt)}}function Et(be){if(be.substring(0,Se)!==Ae)return JSON.parse(be);var Ie=be.substring(Bt),we=be.substring(Se,Bt),Pe;if(we===ke&&pe.test(Ie)){var ze=Ie.match(pe);Pe=ze[1],Ie=Ie.substring(ze[0].length)}var Me=ft(Ie);switch(we){case Ue:return Me;case ke:return n([Me],{type:Pe});case We:return new Int8Array(Me);case $e:return new Uint8Array(Me);case Ze:return new Uint8ClampedArray(Me);case lt:return new Int16Array(Me);case Tt:return new Uint16Array(Me);case xt:return new Int32Array(Me);case gt:return new Uint32Array(Me);case Mt:return new Float32Array(Me);case Ft:return new Float64Array(Me);default:throw new Error("Unkown type: "+we)}}var yt={serialize:bt,deserialize:Et,stringToBuffer:ft,bufferToString:Ge};function fr(be,Ie,we,Pe){be.executeSql("CREATE TABLE IF NOT EXISTS "+Ie.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],we,Pe)}function _r(be){var Ie=this,we={db:null};if(be)for(var Pe in be)we[Pe]=typeof be[Pe]!="string"?be[Pe].toString():be[Pe];var ze=new c(function(Me,rt){try{we.db=openDatabase(we.name,String(we.version),we.description,we.size)}catch(ut){return rt(ut)}we.db.transaction(function(ut){fr(ut,we,function(){Ie._dbInfo=we,Me()},function(ct,st){rt(st)})},rt)});return we.serializer=yt,ze}function Lt(be,Ie,we,Pe,ze,Me){be.executeSql(we,Pe,ze,function(rt,ut){ut.code===ut.SYNTAX_ERR?rt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Ie.storeName],function(ct,st){st.rows.length?Me(ct,ut):fr(ct,Ie,function(){ct.executeSql(we,Pe,ze,Me)},Me)},Me):Me(rt,ut)},Me)}function Dt(be,Ie){var we=this;be=g(be);var Pe=new c(function(ze,Me){we.ready().then(function(){var rt=we._dbInfo;rt.db.transaction(function(ut){Lt(ut,rt,"SELECT * FROM "+rt.storeName+" WHERE key = ? LIMIT 1",[be],function(ct,st){var nt=st.rows.length?st.rows.item(0).value:null;nt&&(nt=rt.serializer.deserialize(nt)),ze(nt)},function(ct,st){Me(st)})})}).catch(Me)});return a(Pe,Ie),Pe}function ir(be,Ie){var we=this,Pe=new c(function(ze,Me){we.ready().then(function(){var rt=we._dbInfo;rt.db.transaction(function(ut){Lt(ut,rt,"SELECT * FROM "+rt.storeName,[],function(ct,st){for(var nt=st.rows,Te=nt.length,ye=0;ye<Te;ye++){var wt=nt.item(ye),tr=wt.value;if(tr&&(tr=rt.serializer.deserialize(tr)),tr=be(tr,wt.key,ye+1),tr!==void 0){ze(tr);return}}ze()},function(ct,st){Me(st)})})}).catch(Me)});return a(Pe,Ie),Pe}function rr(be,Ie,we,Pe){var ze=this;be=g(be);var Me=new c(function(rt,ut){ze.ready().then(function(){Ie===void 0&&(Ie=null);var ct=Ie,st=ze._dbInfo;st.serializer.serialize(Ie,function(nt,Te){Te?ut(Te):st.db.transaction(function(ye){Lt(ye,st,"INSERT OR REPLACE INTO "+st.storeName+" (key, value) VALUES (?, ?)",[be,nt],function(){rt(ct)},function(wt,tr){ut(tr)})},function(ye){if(ye.code===ye.QUOTA_ERR){if(Pe>0){rt(rr.apply(ze,[be,ct,we,Pe-1]));return}ut(ye)}})})}).catch(ut)});return a(Me,we),Me}function kr(be,Ie,we){return rr.apply(this,[be,Ie,we,1])}function hr(be,Ie){var we=this;be=g(be);var Pe=new c(function(ze,Me){we.ready().then(function(){var rt=we._dbInfo;rt.db.transaction(function(ut){Lt(ut,rt,"DELETE FROM "+rt.storeName+" WHERE key = ?",[be],function(){ze()},function(ct,st){Me(st)})})}).catch(Me)});return a(Pe,Ie),Pe}function Yt(be){var Ie=this,we=new c(function(Pe,ze){Ie.ready().then(function(){var Me=Ie._dbInfo;Me.db.transaction(function(rt){Lt(rt,Me,"DELETE FROM "+Me.storeName,[],function(){Pe()},function(ut,ct){ze(ct)})})}).catch(ze)});return a(we,be),we}function Jt(be){var Ie=this,we=new c(function(Pe,ze){Ie.ready().then(function(){var Me=Ie._dbInfo;Me.db.transaction(function(rt){Lt(rt,Me,"SELECT COUNT(key) as c FROM "+Me.storeName,[],function(ut,ct){var st=ct.rows.item(0).c;Pe(st)},function(ut,ct){ze(ct)})})}).catch(ze)});return a(we,be),we}function vr(be,Ie){var we=this,Pe=new c(function(ze,Me){we.ready().then(function(){var rt=we._dbInfo;rt.db.transaction(function(ut){Lt(ut,rt,"SELECT key FROM "+rt.storeName+" WHERE id = ? LIMIT 1",[be+1],function(ct,st){var nt=st.rows.length?st.rows.item(0).key:null;ze(nt)},function(ct,st){Me(st)})})}).catch(Me)});return a(Pe,Ie),Pe}function Kt(be){var Ie=this,we=new c(function(Pe,ze){Ie.ready().then(function(){var Me=Ie._dbInfo;Me.db.transaction(function(rt){Lt(rt,Me,"SELECT key FROM "+Me.storeName,[],function(ut,ct){for(var st=[],nt=0;nt<ct.rows.length;nt++)st.push(ct.rows.item(nt).key);Pe(st)},function(ut,ct){ze(ct)})})}).catch(ze)});return a(we,be),we}function ur(be){return new c(function(Ie,we){be.transaction(function(Pe){Pe.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ze,Me){for(var rt=[],ut=0;ut<Me.rows.length;ut++)rt.push(Me.rows.item(ut).name);Ie({db:be,storeNames:rt})},function(ze,Me){we(Me)})},function(Pe){we(Pe)})})}function Ar(be,Ie){Ie=b.apply(this,arguments);var we=this.config();be=typeof be!="function"&&be||{},be.name||(be.name=be.name||we.name,be.storeName=be.storeName||we.storeName);var Pe=this,ze;return be.name?ze=new c(function(Me){var rt;be.name===we.name?rt=Pe._dbInfo.db:rt=openDatabase(be.name,"","",0),be.storeName?Me({db:rt,storeNames:[be.storeName]}):Me(ur(rt))}).then(function(Me){return new c(function(rt,ut){Me.db.transaction(function(ct){function st(wt){return new c(function(tr,Ot){ct.executeSql("DROP TABLE IF EXISTS "+wt,[],function(){tr()},function(Tr,Ur){Ot(Ur)})})}for(var nt=[],Te=0,ye=Me.storeNames.length;Te<ye;Te++)nt.push(st(Me.storeNames[Te]));c.all(nt).then(function(){rt()}).catch(function(wt){ut(wt)})},function(ct){ut(ct)})})}):ze=c.reject("Invalid arguments"),a(ze,Ie),ze}var $t={_driver:"webSQLStorage",_initStorage:_r,_support:xe(),iterate:ir,getItem:Dt,setItem:kr,removeItem:hr,clear:Yt,length:Jt,key:vr,keys:Kt,dropInstance:Ar};function Oe(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function He(be,Ie){var we=be.name+"/";return be.storeName!==Ie.storeName&&(we+=be.storeName+"/"),we}function et(){var be="_localforage_support_test";try{return localStorage.setItem(be,!0),localStorage.removeItem(be),!1}catch{return!0}}function ht(){return!et()||localStorage.length>0}function it(be){var Ie=this,we={};if(be)for(var Pe in be)we[Pe]=be[Pe];return we.keyPrefix=He(be,Ie._defaultConfig),ht()?(Ie._dbInfo=we,we.serializer=yt,c.resolve()):c.reject()}function kt(be){var Ie=this,we=Ie.ready().then(function(){for(var Pe=Ie._dbInfo.keyPrefix,ze=localStorage.length-1;ze>=0;ze--){var Me=localStorage.key(ze);Me.indexOf(Pe)===0&&localStorage.removeItem(Me)}});return a(we,be),we}function er(be,Ie){var we=this;be=g(be);var Pe=we.ready().then(function(){var ze=we._dbInfo,Me=localStorage.getItem(ze.keyPrefix+be);return Me&&(Me=ze.serializer.deserialize(Me)),Me});return a(Pe,Ie),Pe}function jt(be,Ie){var we=this,Pe=we.ready().then(function(){for(var ze=we._dbInfo,Me=ze.keyPrefix,rt=Me.length,ut=localStorage.length,ct=1,st=0;st<ut;st++){var nt=localStorage.key(st);if(nt.indexOf(Me)===0){var Te=localStorage.getItem(nt);if(Te&&(Te=ze.serializer.deserialize(Te)),Te=be(Te,nt.substring(rt),ct++),Te!==void 0)return Te}}});return a(Pe,Ie),Pe}function Pt(be,Ie){var we=this,Pe=we.ready().then(function(){var ze=we._dbInfo,Me;try{Me=localStorage.key(be)}catch{Me=null}return Me&&(Me=Me.substring(ze.keyPrefix.length)),Me});return a(Pe,Ie),Pe}function nr(be){var Ie=this,we=Ie.ready().then(function(){for(var Pe=Ie._dbInfo,ze=localStorage.length,Me=[],rt=0;rt<ze;rt++){var ut=localStorage.key(rt);ut.indexOf(Pe.keyPrefix)===0&&Me.push(ut.substring(Pe.keyPrefix.length))}return Me});return a(we,be),we}function Qt(be){var Ie=this,we=Ie.keys().then(function(Pe){return Pe.length});return a(we,be),we}function sr(be,Ie){var we=this;be=g(be);var Pe=we.ready().then(function(){var ze=we._dbInfo;localStorage.removeItem(ze.keyPrefix+be)});return a(Pe,Ie),Pe}function jr(be,Ie,we){var Pe=this;be=g(be);var ze=Pe.ready().then(function(){Ie===void 0&&(Ie=null);var Me=Ie;return new c(function(rt,ut){var ct=Pe._dbInfo;ct.serializer.serialize(Ie,function(st,nt){if(nt)ut(nt);else try{localStorage.setItem(ct.keyPrefix+be,st),rt(Me)}catch(Te){(Te.name==="QuotaExceededError"||Te.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ut(Te),ut(Te)}})})});return a(ze,we),ze}function Mr(be,Ie){if(Ie=b.apply(this,arguments),be=typeof be!="function"&&be||{},!be.name){var we=this.config();be.name=be.name||we.name,be.storeName=be.storeName||we.storeName}var Pe=this,ze;return be.name?ze=new c(function(Me){be.storeName?Me(He(be,Pe._defaultConfig)):Me(be.name+"/")}).then(function(Me){for(var rt=localStorage.length-1;rt>=0;rt--){var ut=localStorage.key(rt);ut.indexOf(Me)===0&&localStorage.removeItem(ut)}}):ze=c.reject("Invalid arguments"),a(ze,Ie),ze}var Nr={_driver:"localStorageWrapper",_initStorage:it,_support:Oe(),iterate:jt,getItem:er,setItem:jr,removeItem:sr,clear:kt,length:Qt,key:Pt,keys:nr,dropInstance:Mr},Sr=function(Ie,we){return Ie===we||typeof Ie=="number"&&typeof we=="number"&&isNaN(Ie)&&isNaN(we)},wr=function(Ie,we){for(var Pe=Ie.length,ze=0;ze<Pe;){if(Sr(Ie[ze],we))return!0;ze++}return!1},Ee=Array.isArray||function(be){return Object.prototype.toString.call(be)==="[object Array]"},Fe={},ot={},De={INDEXEDDB:he,WEBSQL:$t,LOCALSTORAGE:Nr},zt=[De.INDEXEDDB._driver,De.WEBSQL._driver,De.LOCALSTORAGE._driver],at=["dropInstance"],vt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(at),xr={description:"",driver:zt.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Rt(be,Ie){be[Ie]=function(){var we=arguments;return be.ready().then(function(){return be[Ie].apply(be,we)})}}function Nt(){for(var be=1;be<arguments.length;be++){var Ie=arguments[be];if(Ie)for(var we in Ie)Ie.hasOwnProperty(we)&&(Ee(Ie[we])?arguments[0][we]=Ie[we].slice():arguments[0][we]=Ie[we])}return arguments[0]}var Ct=function(){function be(Ie){u(this,be);for(var we in De)if(De.hasOwnProperty(we)){var Pe=De[we],ze=Pe._driver;this[we]=ze,Fe[ze]||this.defineDriver(Pe)}this._defaultConfig=Nt({},xr),this._config=Nt({},this._defaultConfig,Ie),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return be.prototype.config=function(we){if((typeof we>"u"?"undefined":p(we))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Pe in we){if(Pe==="storeName"&&(we[Pe]=we[Pe].replace(/\W/g,"_")),Pe==="version"&&typeof we[Pe]!="number")return new Error("Database version must be a number.");this._config[Pe]=we[Pe]}return"driver"in we&&we.driver?this.setDriver(this._config.driver):!0}else return typeof we=="string"?this._config[we]:this._config},be.prototype.defineDriver=function(we,Pe,ze){var Me=new c(function(rt,ut){try{var ct=we._driver,st=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!we._driver){ut(st);return}for(var nt=vt.concat("_initStorage"),Te=0,ye=nt.length;Te<ye;Te++){var wt=nt[Te],tr=!wr(at,wt);if((tr||we[wt])&&typeof we[wt]!="function"){ut(st);return}}var Ot=function(){for(var zr=function(Pn){return function(){var fn=new Error("Method "+Pn+" is not implemented by the current driver"),un=c.reject(fn);return a(un,arguments[arguments.length-1]),un}},Wt=0,Rr=at.length;Wt<Rr;Wt++){var bn=at[Wt];we[bn]||(we[bn]=zr(bn))}};Ot();var Tr=function(zr){Fe[ct]&&console.info("Redefining LocalForage driver: "+ct),Fe[ct]=we,ot[ct]=zr,rt()};"_support"in we?we._support&&typeof we._support=="function"?we._support().then(Tr,ut):Tr(!!we._support):Tr(!0)}catch(Ur){ut(Ur)}});return l(Me,Pe,ze),Me},be.prototype.driver=function(){return this._driver||null},be.prototype.getDriver=function(we,Pe,ze){var Me=Fe[we]?c.resolve(Fe[we]):c.reject(new Error("Driver not found."));return l(Me,Pe,ze),Me},be.prototype.getSerializer=function(we){var Pe=c.resolve(yt);return l(Pe,we),Pe},be.prototype.ready=function(we){var Pe=this,ze=Pe._driverSet.then(function(){return Pe._ready===null&&(Pe._ready=Pe._initDriver()),Pe._ready});return l(ze,we,we),ze},be.prototype.setDriver=function(we,Pe,ze){var Me=this;Ee(we)||(we=[we]);var rt=this._getSupportedDrivers(we);function ut(){Me._config.driver=Me.driver()}function ct(Te){return Me._extend(Te),ut(),Me._ready=Me._initStorage(Me._config),Me._ready}function st(Te){return function(){var ye=0;function wt(){for(;ye<Te.length;){var tr=Te[ye];return ye++,Me._dbInfo=null,Me._ready=null,Me.getDriver(tr).then(ct).catch(wt)}ut();var Ot=new Error("No available storage method found.");return Me._driverSet=c.reject(Ot),Me._driverSet}return wt()}}var nt=this._driverSet!==null?this._driverSet.catch(function(){return c.resolve()}):c.resolve();return this._driverSet=nt.then(function(){var Te=rt[0];return Me._dbInfo=null,Me._ready=null,Me.getDriver(Te).then(function(ye){Me._driver=ye._driver,ut(),Me._wrapLibraryMethodsWithReady(),Me._initDriver=st(rt)})}).catch(function(){ut();var Te=new Error("No available storage method found.");return Me._driverSet=c.reject(Te),Me._driverSet}),l(this._driverSet,Pe,ze),this._driverSet},be.prototype.supports=function(we){return!!ot[we]},be.prototype._extend=function(we){Nt(this,we)},be.prototype._getSupportedDrivers=function(we){for(var Pe=[],ze=0,Me=we.length;ze<Me;ze++){var rt=we[ze];this.supports(rt)&&Pe.push(rt)}return Pe},be.prototype._wrapLibraryMethodsWithReady=function(){for(var we=0,Pe=vt.length;we<Pe;we++)Rt(this,vt[we])},be.prototype.createInstance=function(we){return new be(we)},be}(),dr=new Ct;I.exports=dr},{3:3}]},{},[4])(4)})}(ku)),ku.exports}var Y0=q0();const Xn=Ka(Y0),Nh=tt.createContext(void 0),el=()=>{const J=tt.useContext(Nh);if(!J)throw new Error("useInventory must be used within an InventoryProvider");return J},$0=({children:J})=>{const[te,r]=tt.useState([]),[I,k]=tt.useState([]),[p,u]=tt.useState([]);tt.useEffect(()=>{(async()=>{try{const w=await Xn.getItem("products");w&&r(w);const y=await Xn.getItem("boxes");y&&k(y);const T=await Xn.getItem("stockHistory");T&&u(T)}catch(w){console.error("Error loading data:",w)}})()},[]),tt.useEffect(()=>{te.length&&Xn.setItem("products",te)},[te]),tt.useEffect(()=>{I.length&&Xn.setItem("boxes",I)},[I]),tt.useEffect(()=>{p.length&&Xn.setItem("stockHistory",p)},[p]);const b={products:te,boxes:I,stockHistory:p,uploadInventory:async(d,w)=>{if(!Array.isArray(d)||d.length===0)throw new Error("Invalid products data");const y=(W,q)=>{window.dispatchEvent(new CustomEvent("inventoryUploadProgress",{detail:{progress:W,stage:q}}))};y(5,"Processing products...");const T={added:0,removed:0,updated:0},M=new Map(te.map(W=>[W.barcode,W])),j=new Map(d.map(W=>[W.barcode,W])),X=[];if(j.forEach((W,q)=>{if(M.has(q)){const K=M.get(q);X.push({...W,location:W.location||K.location,boxNumber:W.boxNumber||K.boxNumber}),T.updated++}else X.push(W),T.added++}),T.removed=te.length-T.updated,y(25,"Updating product state..."),r(X),y(40,"Saving products to storage..."),await Xn.setItem("products",X),y(60,"Processing boxes..."),w&&w.length>0){const W=new Set(I.map(K=>K.id)),q=[...I];w.forEach(K=>{W.has(K.id)||q.push(K)}),y(75,"Saving boxes to storage..."),k(q),await Xn.setItem("boxes",q)}y(90,"Saving upload history...");const Y={date:new Date().toISOString(),fileName:`SOH_${new Date().toLocaleDateString().replace(/\//g,"-")}.xlsx`,changes:T};u([Y,...p]),await Xn.setItem("stockHistory",[Y,...p]),y(100,"Upload complete!")},getProductByBarcode:d=>te.find(w=>w.barcode===d),getLowStockProducts:(d=5)=>te.filter(w=>w.quantity<d),assignProductToBox:async(d,w)=>{const y=te.findIndex(q=>q.barcode===d),T=I.findIndex(q=>q.id===w);if(y===-1||T===-1)throw new Error("Product or box not found");const M=[...te];M[y]={...M[y],location:"Box",boxNumber:w};const j=[...I],X=j[T],Y=X.products||[],W=Y.findIndex(q=>q.barcode===d);W>=0?Y[W]={...M[y]}:Y.push({...M[y]}),j[T]={...X,products:Y},r(M),k(j),await Xn.setItem("products",M),await Xn.setItem("boxes",j)},createBox:async d=>{const w={...d,products:[]},y=[...I,w];k(y),await Xn.setItem("boxes",y)},getBoxById:d=>I.find(w=>w.id===d),removeProductFromBox:async d=>{const w=te.findIndex(X=>X.barcode===d);if(w===-1)throw new Error("Product not found");const y=te[w];if(!y.boxNumber)return;const T=I.findIndex(X=>X.id===y.boxNumber),M=[...te];M[w]={...M[w],location:"Main Store",boxNumber:void 0};let j=[...I];if(T!==-1){const X=j[T],Y=X.products.filter(W=>W.barcode!==d);j[T]={...X,products:Y}}r(M),k(j),await Xn.setItem("products",M),await Xn.setItem("boxes",j)},searchProducts:d=>{if(!d)return[];const w=d.toLowerCase();return te.filter(y=>y.barcode.toLowerCase().includes(w)||y.size.toLowerCase().includes(w)||y.color.toLowerCase().includes(w)||y.department.toLowerCase().includes(w)||y.styleNumber.toLowerCase().includes(w))}};return le.jsx(Nh.Provider,{value:b,children:J})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Z0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=J=>J.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Hr=(J,te)=>{const r=tt.forwardRef(({color:I="currentColor",size:k=24,strokeWidth:p=2,absoluteStrokeWidth:u,className:f="",children:i,...t},n)=>tt.createElement("svg",{ref:n,...Z0,width:k,height:k,stroke:I,strokeWidth:u?Number(p)*24/Number(k):p,className:["lucide",`lucide-${K0(J)}`,f].join(" "),...t},[...te.map(([c,a])=>tt.createElement(c,a)),...Array.isArray(i)?i:[i]]));return r.displayName=`${J}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=Hr("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=Hr("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=Hr("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=Hr("BarChart4",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M13 17V9",key:"1fwyjl"}],["path",{d:"M18 17V5",key:"sfb6ij"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=Hr("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=Hr("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=Hr("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=Hr("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=Hr("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=Hr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=Hr("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=Hr("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=Hr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=Hr("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=Hr("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=Hr("PackageOpen",[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=Hr("PackageSearch",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=Hr("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=Hr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=Hr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=Hr("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=Hr("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=Hr("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=Hr("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=Hr("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=Hr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=Hr("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=Hr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Ph(J){var te,r,I="";if(typeof J=="string"||typeof J=="number")I+=J;else if(typeof J=="object")if(Array.isArray(J)){var k=J.length;for(te=0;te<k;te++)J[te]&&(r=Ph(J[te]))&&(I&&(I+=" "),I+=r)}else for(r in J)J[r]&&(I&&(I+=" "),I+=r);return I}function Dn(){for(var J,te,r=0,I="",k=arguments.length;r<k;r++)(J=arguments[r])&&(te=Ph(J))&&(I&&(I+=" "),I+=te);return I}const Lo=({to:J,icon:te,label:r,collapsed:I})=>{const p=Os().pathname===J;return le.jsxs(W0,{to:J,className:Dn("flex items-center py-2 px-3 mb-1 rounded-md text-sm font-medium transition-colors",p?"bg-indigo-100 text-indigo-900":"text-slate-600 hover:text-slate-900 hover:bg-slate-100",I?"justify-center":""),children:[le.jsx("span",{className:Dn(I?"mx-auto":"mr-3"),children:te}),!I&&le.jsx("span",{children:r})]})},m1=({open:J,setOpen:te})=>{const[r,I]=ju.useState(!1),{currentUser:k,logout:p,isStockManager:u}=so(),f=()=>{window.innerWidth<768&&te(!1)},i=le.jsxs("div",{className:Dn("h-full bg-white border-r border-slate-200 flex flex-col transition-all duration-300 ease-in-out",r?"w-16":"w-64"),children:[le.jsxs("div",{className:"p-4 flex items-center border-b border-slate-200",children:[le.jsx("div",{className:Dn("flex-1",r?"hidden":""),children:le.jsx("h1",{className:"text-xl font-bold text-indigo-700",children:"StockTrack"})}),le.jsx("button",{onClick:()=>I(!r),className:"p-1 rounded-md hover:bg-slate-100 text-slate-500 md:block hidden",children:r?le.jsx(r1,{size:20}):le.jsx(t1,{size:20})}),le.jsx("button",{onClick:()=>te(!1),className:"p-1 rounded-md hover:bg-slate-100 text-slate-500 md:hidden block ml-2",children:le.jsx(Dh,{size:20})})]}),le.jsx("div",{className:"flex-1 overflow-y-auto p-3",children:le.jsx("nav",{className:"space-y-1",children:le.jsxs("div",{onClick:f,children:[le.jsx(Lo,{to:"/",icon:le.jsx(Rh,{size:20}),label:"Dashboard",collapsed:r}),le.jsx(Lo,{to:"/inventory",icon:le.jsx(Ga,{size:20}),label:"Inventory Lookup",collapsed:r}),le.jsx(Lo,{to:"/boxes",icon:le.jsx(Hu,{size:20}),label:"Boxes",collapsed:r}),u&&le.jsxs(le.Fragment,{children:[le.jsx(Lo,{to:"/upload",icon:le.jsx(Du,{size:20}),label:"SOH Upload",collapsed:r}),le.jsx(Lo,{to:"/users",icon:le.jsx(p1,{size:20}),label:"User Management",collapsed:r})]})]})})}),le.jsxs("div",{className:"p-3 border-t border-slate-200",children:[!r&&k&&le.jsxs("div",{className:"mb-3 px-3 py-2",children:[le.jsx("div",{className:"text-sm font-medium text-slate-900",children:k.name}),le.jsx("div",{className:"text-xs text-slate-500",children:k.role==="stock-manager"?"Stock Manager":"Sales Staff"})]}),le.jsxs("button",{onClick:p,className:Dn("flex items-center py-2 px-3 w-full rounded-md text-sm font-medium text-red-600 hover:bg-red-50 transition-colors",r?"justify-center":""),children:[le.jsx("span",{className:Dn(r?"mx-auto":"mr-3"),children:le.jsx(o1,{size:20})}),!r&&le.jsx("span",{children:"Logout"})]})]})]});return le.jsxs(le.Fragment,{children:[J&&le.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-30 md:hidden",onClick:()=>te(!1)}),le.jsx("aside",{className:Dn("fixed z-50 top-0 left-0 h-full md:static md:translate-x-0 transition-transform duration-300",J?"translate-x-0":"-translate-x-full","md:translate-x-0","md:block","w-64","md:h-screen"),style:{width:r?64:256},"aria-label":"Sidebar",children:i})]})},g1=()=>{const[J,te]=tt.useState(!1);return le.jsxs("div",{className:"flex h-screen bg-slate-50",children:[le.jsx(m1,{open:J,setOpen:te}),le.jsxs("div",{className:"flex-1 flex flex-col",children:[le.jsxs("header",{className:"md:hidden flex items-center h-14 px-4 bg-white border-b border-slate-200",children:[le.jsx("button",{className:"mr-3 p-2 rounded-md hover:bg-slate-100",onClick:()=>te(!0),"aria-label":"Open menu",children:le.jsx(l1,{size:24})}),le.jsx("span",{className:"text-lg font-bold text-indigo-700",children:"StockTrack"})]}),le.jsx("main",{className:"flex-1 overflow-auto p-2 md:p-6",children:le.jsx(M0,{})})]})]})},_n=({children:J,className:te})=>le.jsx("div",{className:Dn("bg-white rounded-lg shadow-md overflow-hidden",te),children:J}),as=({children:J,className:te})=>le.jsx("div",{className:Dn("p-4 border-b border-slate-200",te),children:J}),ls=({children:J,className:te})=>le.jsx("h3",{className:Dn("text-lg font-semibold text-slate-900",te),children:J}),b1=({children:J,className:te})=>le.jsx("p",{className:Dn("text-sm text-slate-500",te),children:J}),Sn=({children:J,className:te})=>le.jsx("div",{className:Dn("p-4",te),children:J}),Bh=({children:J,className:te})=>le.jsx("div",{className:Dn("p-4 border-t border-slate-200",te),children:J}),Fr=ju.forwardRef(({children:J,className:te,variant:r="primary",size:I="md",isLoading:k=!1,leftIcon:p,rightIcon:u,disabled:f,as:i="button",...t},n)=>{const c="inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none cursor-pointer",a={primary:"bg-indigo-600 text-white hover:bg-indigo-700 focus-visible:ring-indigo-500",secondary:"bg-emerald-600 text-white hover:bg-emerald-700 focus-visible:ring-emerald-500",outline:"border border-slate-300 bg-transparent hover:bg-slate-100 focus-visible:ring-slate-500",ghost:"bg-transparent hover:bg-slate-100 focus-visible:ring-slate-500",danger:"bg-red-600 text-white hover:bg-red-700 focus-visible:ring-red-500"},l={sm:"h-8 px-3 text-sm",md:"h-10 px-4",lg:"h-12 px-6 text-lg"},g=Dn(c,a[r],l[I],k&&"opacity-70 pointer-events-none",te);return le.jsxs(i,{className:g,disabled:f||k,ref:n,...t,children:[k&&le.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[le.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),le.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!k&&p&&le.jsx("span",{className:"mr-2",children:p}),J,!k&&u&&le.jsx("span",{className:"ml-2",children:u})]})});Fr.displayName="Button";const nh=({children:J,variant:te="default",className:r})=>{const I={default:"bg-slate-100 text-slate-800",success:"bg-emerald-100 text-emerald-800",warning:"bg-amber-100 text-amber-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"};return le.jsx("span",{className:Dn("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",I[te],r),children:J})},qa=({product:J,onAssignToBox:te})=>{const{isStockManager:r}=so(),I=J.quantity<5;return le.jsxs(_n,{className:"w-full transition-shadow hover:shadow-lg",children:[le.jsx(as,{className:`${I?"bg-amber-50":""}`,children:le.jsxs("div",{className:"flex justify-between items-start",children:[le.jsxs(ls,{className:"flex items-center gap-2",children:[le.jsx(Xa,{className:"h-5 w-5 text-indigo-600"}),le.jsxs("span",{children:["Product #",J.styleNumber]})]}),I&&le.jsxs(nh,{variant:"warning",className:"flex items-center gap-1",children:[le.jsx(tl,{className:"h-3 w-3"}),le.jsx("span",{children:"Low Stock"})]})]})}),le.jsxs(Sn,{className:"pt-4",children:[le.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[le.jsxs("div",{children:[le.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Barcode"}),le.jsx("p",{className:"text-lg font-mono",children:J.barcode})]}),le.jsxs("div",{children:[le.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Department"}),le.jsx("p",{className:"text-lg",children:J.department})]}),le.jsxs("div",{children:[le.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Color"}),le.jsx("p",{className:"text-lg",children:J.color})]}),le.jsxs("div",{children:[le.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Size"}),le.jsx("p",{className:"text-lg",children:J.size})]}),le.jsxs("div",{children:[le.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Quantity"}),le.jsxs("p",{className:`text-lg font-semibold ${I?"text-amber-600":""}`,children:[J.quantity," units"]})]}),le.jsxs("div",{children:[le.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Retail Price"}),le.jsxs("p",{className:"text-lg",children:["$",J.retailPrice.toFixed(2)]})]})]}),le.jsx("div",{className:"mt-4 pt-3 border-t border-slate-200",children:le.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[le.jsx(a1,{className:"h-4 w-4"}),le.jsx("span",{className:"font-medium",children:"Location:"}),le.jsx("span",{children:J.location||"Main Store"}),J.boxNumber&&le.jsxs(nh,{variant:"info",className:"ml-2",children:["Box #",J.boxNumber]})]})})]}),r&&te&&le.jsx(Bh,{className:"bg-slate-50",children:le.jsx(Fr,{variant:"outline",size:"sm",className:"w-full",onClick:()=>te(J),children:"Assign to Box"})})]})},y1=()=>{const J=Ja(),{products:te,boxes:r,getLowStockProducts:I}=el(),[k,p]=tt.useState([]);tt.useEffect(()=>{p(I(5))},[te,I]);const u=te.reduce((f,i)=>f+i.quantity,0);return le.jsxs("div",{className:"space-y-6",children:[le.jsxs("div",{className:"flex items-center justify-between mb-6",children:[le.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Dashboard"}),le.jsx(Fr,{onClick:()=>J("/inventory"),rightIcon:le.jsx(J0,{size:16}),children:"Inventory Lookup"})]}),le.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 mb-6",children:[le.jsx(_n,{className:"bg-gradient-to-br from-indigo-500 to-indigo-600 text-white shadow-md",children:le.jsxs(Sn,{className:"p-4 sm:p-6",children:[le.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-4",children:[le.jsx("h3",{className:"text-base sm:text-lg font-medium",children:"Total Inventory"}),le.jsx(Xa,{className:"h-7 w-7 sm:h-8 sm:w-8 opacity-80"})]}),le.jsx("p",{className:"text-2xl sm:text-3xl font-bold",children:u.toLocaleString()}),le.jsx("p",{className:"text-indigo-100 mt-1 text-sm sm:text-base",children:"items in stock"})]})}),le.jsx(_n,{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 text-white shadow-md",children:le.jsxs(Sn,{className:"p-4 sm:p-6",children:[le.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-4",children:[le.jsx("h3",{className:"text-base sm:text-lg font-medium",children:"Product Variants"}),le.jsx(f1,{className:"h-7 w-7 sm:h-8 sm:w-8 opacity-80"})]}),le.jsx("p",{className:"text-2xl sm:text-3xl font-bold",children:te.length.toLocaleString()}),le.jsx("p",{className:"text-emerald-100 mt-1 text-sm sm:text-base",children:"unique products"})]})}),le.jsx(_n,{className:"bg-gradient-to-br from-amber-500 to-amber-600 text-white shadow-md",children:le.jsxs(Sn,{className:"p-4 sm:p-6",children:[le.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-4",children:[le.jsx("h3",{className:"text-base sm:text-lg font-medium",children:"Storage Boxes"}),le.jsx(Wa,{className:"h-7 w-7 sm:h-8 sm:w-8 opacity-80"})]}),le.jsx("p",{className:"text-2xl sm:text-3xl font-bold",children:r.length.toLocaleString()}),le.jsx("p",{className:"text-amber-100 mt-1 text-sm sm:text-base",children:"boxes in use"})]})})]}),k.length>0&&le.jsxs("div",{className:"mb-8",children:[le.jsxs("div",{className:"flex items-center mb-4",children:[le.jsx(tl,{className:"h-5 w-5 text-amber-500 mr-2"}),le.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Low Stock Items"})]}),le.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:k.slice(0,3).map(f=>le.jsx(qa,{product:f},f.barcode))}),k.length>3&&le.jsx("div",{className:"mt-4 text-center",children:le.jsxs(Fr,{variant:"outline",onClick:()=>J("/inventory",{state:{filter:"low-stock"}}),children:["View All ",k.length," Low Stock Items"]})})]}),le.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[le.jsxs("div",{children:[le.jsxs("div",{className:"flex items-center mb-4",children:[le.jsx(rh,{className:"h-5 w-5 text-indigo-600 mr-2"}),le.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Quick Actions"})]}),le.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[le.jsx(_n,{className:"bg-white shadow-sm hover:shadow-md transition-shadow",children:le.jsxs(Sn,{className:"p-6 flex flex-col items-center text-center",children:[le.jsx(rh,{className:"h-10 w-10 text-indigo-600 mb-3"}),le.jsx("h3",{className:"text-lg font-medium mb-2",children:"Inventory Lookup"}),le.jsx("p",{className:"text-slate-500 text-sm mb-4",children:"Scan or search for items in your inventory"}),le.jsx(Fr,{variant:"outline",className:"w-full",onClick:()=>J("/inventory"),children:"Search Inventory"})]})}),le.jsx(_n,{className:"bg-white shadow-sm hover:shadow-md transition-shadow",children:le.jsxs(Sn,{className:"p-6 flex flex-col items-center text-center",children:[le.jsx(Wa,{className:"h-10 w-10 text-indigo-600 mb-3"}),le.jsx("h3",{className:"text-lg font-medium mb-2",children:"Box Management"}),le.jsx("p",{className:"text-slate-500 text-sm mb-4",children:"View and manage storage boxes"}),le.jsx(Fr,{variant:"outline",className:"w-full",onClick:()=>J("/boxes"),children:"View Boxes"})]})})]})]}),le.jsxs("div",{children:[le.jsxs("div",{className:"flex items-center mb-4",children:[le.jsx(Xa,{className:"h-5 w-5 text-indigo-600 mr-2"}),le.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Recent Activity"})]}),le.jsx(_n,{className:"bg-white shadow-sm",children:le.jsx(Sn,{className:"p-4",children:te.length===0?le.jsxs("div",{className:"py-8 text-center",children:[le.jsx("p",{className:"text-slate-500 mb-3",children:"No inventory data available"}),le.jsx(Fr,{variant:"primary",onClick:()=>J("/upload"),children:"Upload Inventory"})]}):le.jsxs("div",{className:"space-y-4",children:[le.jsxs("p",{className:"text-sm text-slate-500",children:[te.length," products in inventory"]}),le.jsx("div",{className:"h-32 flex items-center justify-center border border-slate-200 rounded-md",children:le.jsx("p",{className:"text-slate-400 text-sm",children:"Activity chart will appear here"})})]})})})]})]})]})},Rs=tt.forwardRef(({className:J,label:te,error:r,leftIcon:I,rightIcon:k,...p},u)=>le.jsxs("div",{className:"w-full",children:[te&&le.jsx("label",{htmlFor:p.id,className:"block text-sm font-medium text-slate-700 mb-1",children:te}),le.jsxs("div",{className:"relative rounded-md shadow-sm",children:[I&&le.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:I}),le.jsx("input",{ref:u,className:Dn("block w-full rounded-md border-slate-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",I&&"pl-10",k&&"pr-10",r&&"border-red-300 text-red-900 placeholder-red-300 focus:border-red-500 focus:ring-red-500",J),...p}),k&&le.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:k})]}),r&&le.jsx("p",{className:"mt-1 text-sm text-red-600",id:`${p.id}-error`,children:r})]}));Rs.displayName="Input";var Vt;(function(J){J[J.QR_CODE=0]="QR_CODE",J[J.AZTEC=1]="AZTEC",J[J.CODABAR=2]="CODABAR",J[J.CODE_39=3]="CODE_39",J[J.CODE_93=4]="CODE_93",J[J.CODE_128=5]="CODE_128",J[J.DATA_MATRIX=6]="DATA_MATRIX",J[J.MAXICODE=7]="MAXICODE",J[J.ITF=8]="ITF",J[J.EAN_13=9]="EAN_13",J[J.EAN_8=10]="EAN_8",J[J.PDF_417=11]="PDF_417",J[J.RSS_14=12]="RSS_14",J[J.RSS_EXPANDED=13]="RSS_EXPANDED",J[J.UPC_A=14]="UPC_A",J[J.UPC_E=15]="UPC_E",J[J.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Vt||(Vt={}));var ih=new Map([[Vt.QR_CODE,"QR_CODE"],[Vt.AZTEC,"AZTEC"],[Vt.CODABAR,"CODABAR"],[Vt.CODE_39,"CODE_39"],[Vt.CODE_93,"CODE_93"],[Vt.CODE_128,"CODE_128"],[Vt.DATA_MATRIX,"DATA_MATRIX"],[Vt.MAXICODE,"MAXICODE"],[Vt.ITF,"ITF"],[Vt.EAN_13,"EAN_13"],[Vt.EAN_8,"EAN_8"],[Vt.PDF_417,"PDF_417"],[Vt.RSS_14,"RSS_14"],[Vt.RSS_EXPANDED,"RSS_EXPANDED"],[Vt.UPC_A,"UPC_A"],[Vt.UPC_E,"UPC_E"],[Vt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),sh;(function(J){J[J.UNKNOWN=0]="UNKNOWN",J[J.URL=1]="URL"})(sh||(sh={}));function w1(J){return Object.values(Vt).includes(J)}var Ya;(function(J){J[J.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",J[J.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Ya||(Ya={}));var x1=function(){function J(){}return J.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",J.SCAN_DEFAULT_FPS=2,J.DEFAULT_DISABLE_FLIP=!1,J.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,J.DEFAULT_SUPPORTED_SCAN_TYPE=[Ya.SCAN_TYPE_CAMERA,Ya.SCAN_TYPE_FILE],J}(),jh=function(){function J(te,r){this.format=te,this.formatName=r}return J.prototype.toString=function(){return this.formatName},J.create=function(te){if(!ih.has(te))throw"".concat(te," not in html5QrcodeSupportedFormatsTextMap");return new J(te,ih.get(te))},J}(),oh=function(){function J(){}return J.createFromText=function(te){var r={text:te};return{decodedText:te,result:r}},J.createFromQrcodeResult=function(te){return{decodedText:te.text,result:te}},J}(),Pu;(function(J){J[J.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",J[J.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",J[J.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Pu||(Pu={}));var v1=function(){function J(){}return J.createFrom=function(te){return{errorMessage:te,type:Pu.UNKWOWN_ERROR}},J}(),_1=function(){function J(te){this.verbose=te}return J.prototype.log=function(te){this.verbose&&console.log(te)},J.prototype.warn=function(te){this.verbose&&console.warn(te)},J.prototype.logError=function(te,r){(this.verbose||r===!0)&&console.error(te)},J.prototype.logErrors=function(te){if(te.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(te)},J}();function Pi(J){return typeof J>"u"||J===null}var no=function(){function J(){}return J.codeParseError=function(te){return"QR code parse error, error = ".concat(te)},J.errorGettingUserMedia=function(te){return"Error getting userMedia, error = ".concat(te)},J.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},J.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},J.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},J.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},J.scannerPaused=function(){return"Scanner paused"},J}(),Lh=function(){function J(){}return J.isMediaStreamConstraintsValid=function(te,r){if(typeof te!="object"){var I=typeof te;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(I,"."),!0),!1}for(var k=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],p=new Set(k),u=Object.keys(te),f=0,i=u;f<i.length;f++){var t=i[f];if(p.has(t))return r.logError("".concat(t," is not supported videoConstaints."),!0),!1}return!0},J}(),Fo={exports:{}},S1=Fo.exports,ah;function E1(){return ah||(ah=1,function(J,te){(function(r,I){I(te)})(S1,function(r){function I(ue){return ue==null}var k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ue,e){ue.__proto__=e}||function(ue,e){for(var o in e)e.hasOwnProperty(o)&&(ue[o]=e[o])};function p(ue,e){k(ue,e);function o(){this.constructor=ue}ue.prototype=e===null?Object.create(e):(o.prototype=e.prototype,new o)}function u(ue,e){var o=Object.setPrototypeOf;o?o(ue,e):ue.__proto__=e}function f(ue,e){e===void 0&&(e=ue.constructor);var o=Error.captureStackTrace;o&&o(ue,e)}var i=function(ue){p(e,ue);function e(o){var h=this.constructor,x=ue.call(this,o)||this;return Object.defineProperty(x,"name",{value:h.name,enumerable:!1}),u(x,h.prototype),f(x),x}return e}(Error);class t extends i{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}t.kind="Exception";class n extends t{}n.kind="ArgumentException";class c extends t{}c.kind="IllegalArgumentException";class a{constructor(e){if(this.binarizer=e,e===null)throw new c("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,o){return this.binarizer.getBlackRow(e,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,o,h,x){const E=this.binarizer.getLuminanceSource().crop(e,o,h,x);return new a(this.binarizer.createBinarizer(E))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new a(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new a(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class l extends t{static getChecksumInstance(){return new l}}l.kind="ChecksumException";class g{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class b{static arraycopy(e,o,h,x,E){for(;E--;)h[x++]=e[o++]}static currentTimeMillis(){return Date.now()}}class d extends t{}d.kind="IndexOutOfBoundsException";class w extends d{constructor(e=void 0,o=void 0){super(o),this.index=e,this.message=o}}w.kind="ArrayIndexOutOfBoundsException";class y{static fill(e,o){for(let h=0,x=e.length;h<x;h++)e[h]=o}static fillWithin(e,o,h,x){y.rangeCheck(e.length,o,h);for(let E=o;E<h;E++)e[E]=x}static rangeCheck(e,o,h){if(o>h)throw new c("fromIndex("+o+") > toIndex("+h+")");if(o<0)throw new w(o);if(h>e)throw new w(h)}static asList(...e){return e}static create(e,o,h){return Array.from({length:e}).map(E=>Array.from({length:o}).fill(h))}static createInt32Array(e,o,h){return Array.from({length:e}).map(E=>Int32Array.from({length:o}).fill(h))}static equals(e,o){if(!e||!o||!e.length||!o.length||e.length!==o.length)return!1;for(let h=0,x=e.length;h<x;h++)if(e[h]!==o[h])return!1;return!0}static hashCode(e){if(e===null)return 0;let o=1;for(const h of e)o=31*o+h;return o}static fillUint8Array(e,o){for(let h=0;h!==e.length;h++)e[h]=o}static copyOf(e,o){return e.slice(0,o)}static copyOfUint8Array(e,o){if(e.length<=o){const h=new Uint8Array(o);return h.set(e),h}return e.slice(0,o)}static copyOfRange(e,o,h){const x=h-o,E=new Int32Array(x);return b.arraycopy(e,o,E,0,x),E}static binarySearch(e,o,h){h===void 0&&(h=y.numberComparator);let x=0,E=e.length-1;for(;x<=E;){const N=E+x>>1,P=h(o,e[N]);if(P>0)x=N+1;else if(P<0)E=N-1;else return N}return-x-1}static numberComparator(e,o){return e-o}}class T{static numberOfTrailingZeros(e){let o;if(e===0)return 32;let h=31;return o=e<<16,o!==0&&(h-=16,e=o),o=e<<8,o!==0&&(h-=8,e=o),o=e<<4,o!==0&&(h-=4,e=o),o=e<<2,o!==0&&(h-=2,e=o),h-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let o=1;return e>>>16||(o+=16,e<<=16),e>>>24||(o+=8,e<<=8),e>>>28||(o+=4,e<<=4),e>>>30||(o+=2,e<<=2),o-=e>>>31,o}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,o){return Math.trunc(e/o)}static parseInt(e,o=void 0){return parseInt(e,o)}}T.MIN_VALUE_32_BITS=-2147483648,T.MAX_VALUE=Number.MAX_SAFE_INTEGER;class M{constructor(e,o){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,o==null?this.bits=M.makeArray(e):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const o=M.makeArray(e);b.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const o=this.size;if(e>=o)return o;const h=this.bits;let x=Math.floor(e/32),E=h[x];E&=~((1<<(e&31))-1);const N=h.length;for(;E===0;){if(++x===N)return o;E=h[x]}const P=x*32+T.numberOfTrailingZeros(E);return P>o?o:P}getNextUnset(e){const o=this.size;if(e>=o)return o;const h=this.bits;let x=Math.floor(e/32),E=~h[x];E&=~((1<<(e&31))-1);const N=h.length;for(;E===0;){if(++x===N)return o;E=~h[x]}const P=x*32+T.numberOfTrailingZeros(E);return P>o?o:P}setBulk(e,o){this.bits[Math.floor(e/32)]=o}setRange(e,o){if(o<e||e<0||o>this.size)throw new c;if(o===e)return;o--;const h=Math.floor(e/32),x=Math.floor(o/32),E=this.bits;for(let N=h;N<=x;N++){const P=N>h?0:e&31,Z=(2<<(N<x?31:o&31))-(1<<P);E[N]|=Z}}clear(){const e=this.bits.length,o=this.bits;for(let h=0;h<e;h++)o[h]=0}isRange(e,o,h){if(o<e||e<0||o>this.size)throw new c;if(o===e)return!0;o--;const x=Math.floor(e/32),E=Math.floor(o/32),N=this.bits;for(let P=x;P<=E;P++){const G=P>x?0:e&31,oe=(2<<(P<E?31:o&31))-(1<<G)&4294967295;if((N[P]&oe)!==(h?oe:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,o){if(o<0||o>32)throw new c("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let h=o;h>0;h--)this.appendBit((e>>h-1&1)===1)}appendBitArray(e){const o=e.size;this.ensureCapacity(this.size+o);for(let h=0;h<o;h++)this.appendBit(e.get(h))}xor(e){if(this.size!==e.size)throw new c("Sizes don't match");const o=this.bits;for(let h=0,x=o.length;h<x;h++)o[h]^=e.bits[h]}toBytes(e,o,h,x){for(let E=0;E<x;E++){let N=0;for(let P=0;P<8;P++)this.get(e)&&(N|=1<<7-P),e++;o[h+E]=N}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),h=o+1,x=this.bits;for(let E=0;E<h;E++){let N=x[E];N=N>>1&1431655765|(N&1431655765)<<1,N=N>>2&858993459|(N&858993459)<<2,N=N>>4&252645135|(N&252645135)<<4,N=N>>8&16711935|(N&16711935)<<8,N=N>>16&65535|(N&65535)<<16,e[o-E]=N}if(this.size!==h*32){const E=h*32-this.size;let N=e[0]>>>E;for(let P=1;P<h;P++){const G=e[P];N|=G<<32-E,e[P-1]=N,N=G>>>E}e[h-1]=N}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof M))return!1;const o=e;return this.size===o.size&&y.equals(this.bits,o.bits)}hashCode(){return 31*this.size+y.hashCode(this.bits)}toString(){let e="";for(let o=0,h=this.size;o<h;o++)(o&7)===0&&(e+=" "),e+=this.get(o)?"X":".";return e}clone(){return new M(this.size,this.bits.slice())}}var j;(function(ue){ue[ue.OTHER=0]="OTHER",ue[ue.PURE_BARCODE=1]="PURE_BARCODE",ue[ue.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",ue[ue.TRY_HARDER=3]="TRY_HARDER",ue[ue.CHARACTER_SET=4]="CHARACTER_SET",ue[ue.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",ue[ue.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",ue[ue.ASSUME_GS1=7]="ASSUME_GS1",ue[ue.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",ue[ue.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",ue[ue.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(j||(j={}));var X=j;class Y extends t{static getFormatInstance(){return new Y}}Y.kind="FormatException";var W;(function(ue){ue[ue.Cp437=0]="Cp437",ue[ue.ISO8859_1=1]="ISO8859_1",ue[ue.ISO8859_2=2]="ISO8859_2",ue[ue.ISO8859_3=3]="ISO8859_3",ue[ue.ISO8859_4=4]="ISO8859_4",ue[ue.ISO8859_5=5]="ISO8859_5",ue[ue.ISO8859_6=6]="ISO8859_6",ue[ue.ISO8859_7=7]="ISO8859_7",ue[ue.ISO8859_8=8]="ISO8859_8",ue[ue.ISO8859_9=9]="ISO8859_9",ue[ue.ISO8859_10=10]="ISO8859_10",ue[ue.ISO8859_11=11]="ISO8859_11",ue[ue.ISO8859_13=12]="ISO8859_13",ue[ue.ISO8859_14=13]="ISO8859_14",ue[ue.ISO8859_15=14]="ISO8859_15",ue[ue.ISO8859_16=15]="ISO8859_16",ue[ue.SJIS=16]="SJIS",ue[ue.Cp1250=17]="Cp1250",ue[ue.Cp1251=18]="Cp1251",ue[ue.Cp1252=19]="Cp1252",ue[ue.Cp1256=20]="Cp1256",ue[ue.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",ue[ue.UTF8=22]="UTF8",ue[ue.ASCII=23]="ASCII",ue[ue.Big5=24]="Big5",ue[ue.GB18030=25]="GB18030",ue[ue.EUC_KR=26]="EUC_KR"})(W||(W={}));class q{constructor(e,o,h,...x){this.valueIdentifier=e,this.name=h,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=x,q.VALUE_IDENTIFIER_TO_ECI.set(e,this),q.NAME_TO_ECI.set(h,this);const E=this.values;for(let N=0,P=E.length;N!==P;N++){const G=E[N];q.VALUES_TO_ECI.set(G,this)}for(const N of x)q.NAME_TO_ECI.set(N,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new Y("incorect value");const o=q.VALUES_TO_ECI.get(e);if(o===void 0)throw new Y("incorect value");return o}static getCharacterSetECIByName(e){const o=q.NAME_TO_ECI.get(e);if(o===void 0)throw new Y("incorect value");return o}equals(e){if(!(e instanceof q))return!1;const o=e;return this.getName()===o.getName()}}q.VALUE_IDENTIFIER_TO_ECI=new Map,q.VALUES_TO_ECI=new Map,q.NAME_TO_ECI=new Map,q.Cp437=new q(W.Cp437,Int32Array.from([0,2]),"Cp437"),q.ISO8859_1=new q(W.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),q.ISO8859_2=new q(W.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),q.ISO8859_3=new q(W.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),q.ISO8859_4=new q(W.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),q.ISO8859_5=new q(W.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),q.ISO8859_6=new q(W.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),q.ISO8859_7=new q(W.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),q.ISO8859_8=new q(W.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),q.ISO8859_9=new q(W.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),q.ISO8859_10=new q(W.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),q.ISO8859_11=new q(W.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),q.ISO8859_13=new q(W.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),q.ISO8859_14=new q(W.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),q.ISO8859_15=new q(W.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),q.ISO8859_16=new q(W.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),q.SJIS=new q(W.SJIS,20,"SJIS","Shift_JIS"),q.Cp1250=new q(W.Cp1250,21,"Cp1250","windows-1250"),q.Cp1251=new q(W.Cp1251,22,"Cp1251","windows-1251"),q.Cp1252=new q(W.Cp1252,23,"Cp1252","windows-1252"),q.Cp1256=new q(W.Cp1256,24,"Cp1256","windows-1256"),q.UnicodeBigUnmarked=new q(W.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),q.UTF8=new q(W.UTF8,26,"UTF8","UTF-8"),q.ASCII=new q(W.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),q.Big5=new q(W.Big5,28,"Big5"),q.GB18030=new q(W.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),q.EUC_KR=new q(W.EUC_KR,30,"EUC_KR","EUC-KR");class K extends t{}K.kind="UnsupportedOperationException";class ie{static decode(e,o){const h=this.encodingName(o);return this.customDecoder?this.customDecoder(e,h):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(h)?this.decodeFallback(e,h):new TextDecoder(h).decode(e)}static shouldDecodeOnFallback(e){return!ie.isBrowser()&&e==="ISO-8859-1"}static encode(e,o){const h=this.encodingName(o);return this.customEncoder?this.customEncoder(e,h):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof q?e:q.getCharacterSetECIByName(e)}static decodeFallback(e,o){const h=this.encodingCharacterSet(o);if(ie.isDecodeFallbackSupported(h)){let x="";for(let E=0,N=e.length;E<N;E++){let P=e[E].toString(16);P.length<2&&(P="0"+P),x+="%"+P}return decodeURIComponent(x)}if(h.equals(q.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new K(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(q.UTF8)||e.equals(q.ISO8859_1)||e.equals(q.ASCII)}static encodeFallback(e){const h=btoa(unescape(encodeURIComponent(e))).split(""),x=[];for(let E=0;E<h.length;E++)x.push(h[E].charCodeAt(0));return new Uint8Array(x)}}class ${static castAsNonUtf8Char(e,o=null){const h=o?o.getName():this.ISO88591;return ie.decode(new Uint8Array([e]),h)}static guessEncoding(e,o){if(o!=null&&o.get(X.CHARACTER_SET)!==void 0)return o.get(X.CHARACTER_SET).toString();const h=e.length;let x=!0,E=!0,N=!0,P=0,G=0,Z=0,oe=0,fe=0,ge=0,Ce=0,Be=0,Le=0,Xe=0,Ke=0;const St=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let At=0;At<h&&(x||E||N);At++){const pt=e[At]&255;N&&(P>0?(pt&128)===0?N=!1:P--:(pt&128)!==0&&((pt&64)===0?N=!1:(P++,(pt&32)===0?G++:(P++,(pt&16)===0?Z++:(P++,(pt&8)===0?oe++:N=!1))))),x&&(pt>127&&pt<160?x=!1:pt>159&&(pt<192||pt===215||pt===247)&&Ke++),E&&(fe>0?pt<64||pt===127||pt>252?E=!1:fe--:pt===128||pt===160||pt>239?E=!1:pt>160&&pt<224?(ge++,Be=0,Ce++,Ce>Le&&(Le=Ce)):pt>127?(fe++,Ce=0,Be++,Be>Xe&&(Xe=Be)):(Ce=0,Be=0))}return N&&P>0&&(N=!1),E&&fe>0&&(E=!1),N&&(St||G+Z+oe>0)?$.UTF8:E&&($.ASSUME_SHIFT_JIS||Le>=3||Xe>=3)?$.SHIFT_JIS:x&&E?Le===2&&ge===2||Ke*10>=h?$.SHIFT_JIS:$.ISO88591:x?$.ISO88591:E?$.SHIFT_JIS:N?$.UTF8:$.PLATFORM_DEFAULT_ENCODING}static format(e,...o){let h=-1;function x(N,P,G,Z,oe,fe){if(N==="%%")return"%";if(o[++h]===void 0)return;N=Z?parseInt(Z.substr(1)):void 0;let ge=oe?parseInt(oe.substr(1)):void 0,Ce;switch(fe){case"s":Ce=o[h];break;case"c":Ce=o[h][0];break;case"f":Ce=parseFloat(o[h]).toFixed(N);break;case"p":Ce=parseFloat(o[h]).toPrecision(N);break;case"e":Ce=parseFloat(o[h]).toExponential(N);break;case"x":Ce=parseInt(o[h]).toString(ge||16);break;case"d":Ce=parseFloat(parseInt(o[h],ge||10).toPrecision(N)).toFixed(0);break}Ce=typeof Ce=="object"?JSON.stringify(Ce):(+Ce).toString(ge);let Be=parseInt(G),Le=G&&G[0]+""=="0"?"0":" ";for(;Ce.length<Be;)Ce=P!==void 0?Ce+Le:Le+Ce;return Ce}let E=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(E,x)}static getBytes(e,o){return ie.encode(e,o)}static getCharCode(e,o=0){return e.charCodeAt(o)}static getCharAt(e){return String.fromCharCode(e)}}$.SHIFT_JIS=q.SJIS.getName(),$.GB2312="GB2312",$.ISO88591=q.ISO8859_1.getName(),$.EUC_JP="EUC_JP",$.UTF8=q.UTF8.getName(),$.PLATFORM_DEFAULT_ENCODING=$.UTF8,$.ASSUME_SHIFT_JIS=!1;class D{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=$.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,o,h){for(let x=o;o<o+h;x++)this.append(e[x]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,o){this.value=this.value.substr(0,e)+o+this.value.substr(e+1)}substring(e,o){return this.value.substring(e,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,o){this.value=this.value.substr(0,e)+o+this.value.substr(e+o.length)}}class F{constructor(e,o,h,x){if(this.width=e,this.height=o,this.rowSize=h,this.bits=x,o==null&&(o=e),this.height=o,e<1||o<1)throw new c("Both dimensions must be greater than 0");h==null&&(h=Math.floor((e+31)/32)),this.rowSize=h,x==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const o=e.length,h=e[0].length,x=new F(h,o);for(let E=0;E<o;E++){const N=e[E];for(let P=0;P<h;P++)N[P]&&x.set(P,E)}return x}static parseFromString(e,o,h){if(e===null)throw new c("stringRepresentation cannot be null");const x=new Array(e.length);let E=0,N=0,P=-1,G=0,Z=0;for(;Z<e.length;)if(e.charAt(Z)===`
`||e.charAt(Z)==="\r"){if(E>N){if(P===-1)P=E-N;else if(E-N!==P)throw new c("row lengths do not match");N=E,G++}Z++}else if(e.substring(Z,Z+o.length)===o)Z+=o.length,x[E]=!0,E++;else if(e.substring(Z,Z+h.length)===h)Z+=h.length,x[E]=!1,E++;else throw new c("illegal character encountered: "+e.substring(Z));if(E>N){if(P===-1)P=E-N;else if(E-N!==P)throw new c("row lengths do not match");G++}const oe=new F(P,G);for(let fe=0;fe<E;fe++)x[fe]&&oe.set(Math.floor(fe%P),Math.floor(fe/P));return oe}get(e,o){const h=o*this.rowSize+Math.floor(e/32);return(this.bits[h]>>>(e&31)&1)!==0}set(e,o){const h=o*this.rowSize+Math.floor(e/32);this.bits[h]|=1<<(e&31)&4294967295}unset(e,o){const h=o*this.rowSize+Math.floor(e/32);this.bits[h]&=~(1<<(e&31)&4294967295)}flip(e,o){const h=o*this.rowSize+Math.floor(e/32);this.bits[h]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new c("input matrix dimensions do not match");const o=new M(Math.floor(this.width/32)+1),h=this.rowSize,x=this.bits;for(let E=0,N=this.height;E<N;E++){const P=E*h,G=e.getRow(E,o).getBitArray();for(let Z=0;Z<h;Z++)x[P+Z]^=G[Z]}}clear(){const e=this.bits,o=e.length;for(let h=0;h<o;h++)e[h]=0}setRegion(e,o,h,x){if(o<0||e<0)throw new c("Left and top must be nonnegative");if(x<1||h<1)throw new c("Height and width must be at least 1");const E=e+h,N=o+x;if(N>this.height||E>this.width)throw new c("The region must fit inside the matrix");const P=this.rowSize,G=this.bits;for(let Z=o;Z<N;Z++){const oe=Z*P;for(let fe=e;fe<E;fe++)G[oe+Math.floor(fe/32)]|=1<<(fe&31)&4294967295}}getRow(e,o){o==null||o.getSize()<this.width?o=new M(this.width):o.clear();const h=this.rowSize,x=this.bits,E=e*h;for(let N=0;N<h;N++)o.setBulk(N*32,x[E+N]);return o}setRow(e,o){b.arraycopy(o.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),o=this.getHeight();let h=new M(e),x=new M(e);for(let E=0,N=Math.floor((o+1)/2);E<N;E++)h=this.getRow(E,h),x=this.getRow(o-1-E,x),h.reverse(),x.reverse(),this.setRow(E,x),this.setRow(o-1-E,h)}getEnclosingRectangle(){const e=this.width,o=this.height,h=this.rowSize,x=this.bits;let E=e,N=o,P=-1,G=-1;for(let Z=0;Z<o;Z++)for(let oe=0;oe<h;oe++){const fe=x[Z*h+oe];if(fe!==0){if(Z<N&&(N=Z),Z>G&&(G=Z),oe*32<E){let ge=0;for(;(fe<<31-ge&4294967295)===0;)ge++;oe*32+ge<E&&(E=oe*32+ge)}if(oe*32+31>P){let ge=31;for(;!(fe>>>ge);)ge--;oe*32+ge>P&&(P=oe*32+ge)}}}return P<E||G<N?null:Int32Array.from([E,N,P-E+1,G-N+1])}getTopLeftOnBit(){const e=this.rowSize,o=this.bits;let h=0;for(;h<o.length&&o[h]===0;)h++;if(h===o.length)return null;const x=h/e;let E=h%e*32;const N=o[h];let P=0;for(;(N<<31-P&4294967295)===0;)P++;return E+=P,Int32Array.from([E,x])}getBottomRightOnBit(){const e=this.rowSize,o=this.bits;let h=o.length-1;for(;h>=0&&o[h]===0;)h--;if(h<0)return null;const x=Math.floor(h/e);let E=Math.floor(h%e)*32;const N=o[h];let P=31;for(;!(N>>>P);)P--;return E+=P,Int32Array.from([E,x])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof F))return!1;const o=e;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&y.equals(this.bits,o.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+y.hashCode(this.bits),e}toString(e="X ",o="  ",h=`
`){return this.buildToString(e,o,h)}buildToString(e,o,h){let x=new D;for(let E=0,N=this.height;E<N;E++){for(let P=0,G=this.width;P<G;P++)x.append(this.get(P,E)?e:o);x.append(h)}return x.toString()}clone(){return new F(this.width,this.height,this.rowSize,this.bits.slice())}}class A extends t{static getNotFoundInstance(){return new A}}A.kind="NotFoundException";class v extends g{constructor(e){super(e),this.luminances=v.EMPTY,this.buckets=new Int32Array(v.LUMINANCE_BUCKETS)}getBlackRow(e,o){const h=this.getLuminanceSource(),x=h.getWidth();o==null||o.getSize()<x?o=new M(x):o.clear(),this.initArrays(x);const E=h.getRow(e,this.luminances),N=this.buckets;for(let G=0;G<x;G++)N[(E[G]&255)>>v.LUMINANCE_SHIFT]++;const P=v.estimateBlackPoint(N);if(x<3)for(let G=0;G<x;G++)(E[G]&255)<P&&o.set(G);else{let G=E[0]&255,Z=E[1]&255;for(let oe=1;oe<x-1;oe++){const fe=E[oe+1]&255;(Z*4-G-fe)/2<P&&o.set(oe),G=Z,Z=fe}}return o}getBlackMatrix(){const e=this.getLuminanceSource(),o=e.getWidth(),h=e.getHeight(),x=new F(o,h);this.initArrays(o);const E=this.buckets;for(let G=1;G<5;G++){const Z=Math.floor(h*G/5),oe=e.getRow(Z,this.luminances),fe=Math.floor(o*4/5);for(let ge=Math.floor(o/5);ge<fe;ge++){const Ce=oe[ge]&255;E[Ce>>v.LUMINANCE_SHIFT]++}}const N=v.estimateBlackPoint(E),P=e.getMatrix();for(let G=0;G<h;G++){const Z=G*o;for(let oe=0;oe<o;oe++)(P[Z+oe]&255)<N&&x.set(oe,G)}return x}createBinarizer(e){return new v(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const o=this.buckets;for(let h=0;h<v.LUMINANCE_BUCKETS;h++)o[h]=0}static estimateBlackPoint(e){const o=e.length;let h=0,x=0,E=0;for(let oe=0;oe<o;oe++)e[oe]>E&&(x=oe,E=e[oe]),e[oe]>h&&(h=e[oe]);let N=0,P=0;for(let oe=0;oe<o;oe++){const fe=oe-x,ge=e[oe]*fe*fe;ge>P&&(N=oe,P=ge)}if(x>N){const oe=x;x=N,N=oe}if(N-x<=o/16)throw new A;let G=N-1,Z=-1;for(let oe=N-1;oe>x;oe--){const fe=oe-x,ge=fe*fe*(N-oe)*(h-e[oe]);ge>Z&&(G=oe,Z=ge)}return G<<v.LUMINANCE_SHIFT}}v.LUMINANCE_BITS=5,v.LUMINANCE_SHIFT=8-v.LUMINANCE_BITS,v.LUMINANCE_BUCKETS=1<<v.LUMINANCE_BITS,v.EMPTY=Uint8ClampedArray.from([0]);class _ extends v{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),o=e.getWidth(),h=e.getHeight();if(o>=_.MINIMUM_DIMENSION&&h>=_.MINIMUM_DIMENSION){const x=e.getMatrix();let E=o>>_.BLOCK_SIZE_POWER;(o&_.BLOCK_SIZE_MASK)!==0&&E++;let N=h>>_.BLOCK_SIZE_POWER;(h&_.BLOCK_SIZE_MASK)!==0&&N++;const P=_.calculateBlackPoints(x,E,N,o,h),G=new F(o,h);_.calculateThresholdForBlock(x,E,N,o,h,P,G),this.matrix=G}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new _(e)}static calculateThresholdForBlock(e,o,h,x,E,N,P){const G=E-_.BLOCK_SIZE,Z=x-_.BLOCK_SIZE;for(let oe=0;oe<h;oe++){let fe=oe<<_.BLOCK_SIZE_POWER;fe>G&&(fe=G);const ge=_.cap(oe,2,h-3);for(let Ce=0;Ce<o;Ce++){let Be=Ce<<_.BLOCK_SIZE_POWER;Be>Z&&(Be=Z);const Le=_.cap(Ce,2,o-3);let Xe=0;for(let St=-2;St<=2;St++){const At=N[ge+St];Xe+=At[Le-2]+At[Le-1]+At[Le]+At[Le+1]+At[Le+2]}const Ke=Xe/25;_.thresholdBlock(e,Be,fe,Ke,x,P)}}}static cap(e,o,h){return e<o?o:e>h?h:e}static thresholdBlock(e,o,h,x,E,N){for(let P=0,G=h*E+o;P<_.BLOCK_SIZE;P++,G+=E)for(let Z=0;Z<_.BLOCK_SIZE;Z++)(e[G+Z]&255)<=x&&N.set(o+Z,h+P)}static calculateBlackPoints(e,o,h,x,E){const N=E-_.BLOCK_SIZE,P=x-_.BLOCK_SIZE,G=new Array(h);for(let Z=0;Z<h;Z++){G[Z]=new Int32Array(o);let oe=Z<<_.BLOCK_SIZE_POWER;oe>N&&(oe=N);for(let fe=0;fe<o;fe++){let ge=fe<<_.BLOCK_SIZE_POWER;ge>P&&(ge=P);let Ce=0,Be=255,Le=0;for(let Ke=0,St=oe*x+ge;Ke<_.BLOCK_SIZE;Ke++,St+=x){for(let At=0;At<_.BLOCK_SIZE;At++){const pt=e[St+At]&255;Ce+=pt,pt<Be&&(Be=pt),pt>Le&&(Le=pt)}if(Le-Be>_.MIN_DYNAMIC_RANGE)for(Ke++,St+=x;Ke<_.BLOCK_SIZE;Ke++,St+=x)for(let At=0;At<_.BLOCK_SIZE;At++)Ce+=e[St+At]&255}let Xe=Ce>>_.BLOCK_SIZE_POWER*2;if(Le-Be<=_.MIN_DYNAMIC_RANGE&&(Xe=Be/2,Z>0&&fe>0)){const Ke=(G[Z-1][fe]+2*G[Z][fe-1]+G[Z-1][fe-1])/4;Be<Ke&&(Xe=Ke)}G[Z][fe]=Xe}}return G}}_.BLOCK_SIZE_POWER=3,_.BLOCK_SIZE=1<<_.BLOCK_SIZE_POWER,_.BLOCK_SIZE_MASK=_.BLOCK_SIZE-1,_.MINIMUM_DIMENSION=_.BLOCK_SIZE*5,_.MIN_DYNAMIC_RANGE=24;class S{constructor(e,o){this.width=e,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,o,h,x){throw new K("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new K("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new K("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let o=new D;for(let h=0;h<this.height;h++){const x=this.getRow(h,e);for(let E=0;E<this.width;E++){const N=x[E]&255;let P;N<64?P="#":N<128?P="+":N<192?P=".":P=" ",o.append(P)}o.append(`
`)}return o.toString()}}class C extends S{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,o){const h=this.delegate.getRow(e,o),x=this.getWidth();for(let E=0;E<x;E++)h[E]=255-(h[E]&255);return h}getMatrix(){const e=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),h=new Uint8ClampedArray(o);for(let x=0;x<o;x++)h[x]=255-(e[x]&255);return h}isCropSupported(){return this.delegate.isCropSupported()}crop(e,o,h,x){return new C(this.delegate.crop(e,o,h,x))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new C(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new C(this.delegate.rotateCounterClockwise45())}}class O extends S{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=O.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const o=e.getContext("2d").getImageData(0,0,e.width,e.height);return O.toGrayscaleBuffer(o.data,e.width,e.height)}static toGrayscaleBuffer(e,o,h){const x=new Uint8ClampedArray(o*h);for(let E=0,N=0,P=e.length;E<P;E+=4,N++){let G;if(e[E+3]===0)G=255;else{const oe=e[E],fe=e[E+1],ge=e[E+2];G=306*oe+601*fe+117*ge+512>>10}x[N]=G}return x}getRow(e,o){if(e<0||e>=this.getHeight())throw new c("Requested row is outside the image: "+e);const h=this.getWidth(),x=e*h;return o===null?o=this.buffer.slice(x,x+h):(o.length<h&&(o=new Uint8ClampedArray(h)),o.set(this.buffer.slice(x,x+h))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,o,h,x){return super.crop(e,o,h,x),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const o=this.getTempCanvasElement(),h=o.getContext("2d"),x=e*O.DEGREE_TO_RADIANS,E=this.canvas.width,N=this.canvas.height,P=Math.ceil(Math.abs(Math.cos(x))*E+Math.abs(Math.sin(x))*N),G=Math.ceil(Math.abs(Math.sin(x))*E+Math.abs(Math.cos(x))*N);return o.width=P,o.height=G,h.translate(P/2,G/2),h.rotate(x),h.drawImage(this.canvas,E/-2,N/-2),this.buffer=O.makeBufferFromCanvasImageData(o),this}invert(){return new C(this)}}O.DEGREE_TO_RADIANS=Math.PI/180;class B{constructor(e,o,h){this.deviceId=e,this.label=o,this.kind="videoinput",this.groupId=h||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var z=(globalThis||yr||self||window||void 0)&&(globalThis||yr||self||window||void 0).__awaiter||function(ue,e,o,h){function x(E){return E instanceof o?E:new o(function(N){N(E)})}return new(o||(o=Promise))(function(E,N){function P(oe){try{Z(h.next(oe))}catch(fe){N(fe)}}function G(oe){try{Z(h.throw(oe))}catch(fe){N(fe)}}function Z(oe){oe.done?E(oe.value):x(oe.value).then(P,G)}Z((h=h.apply(ue,e||[])).next())})};class re{constructor(e,o=500,h){this.reader=e,this.timeBetweenScansMillis=o,this._hints=h,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return z(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const h of e){const x=h.kind==="video"?"videoinput":h.kind;if(x!=="videoinput")continue;const E=h.deviceId||h.id,N=h.label||`Video device ${o.length+1}`,P=h.groupId,G={deviceId:E,label:N,kind:x,groupId:P};o.push(G)}return o})}getVideoInputDevices(){return z(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new B(o.deviceId,o.label))})}findDeviceById(e){return z(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(h=>h.deviceId===e):null})}decodeFromInputVideoDevice(e,o){return z(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,o)})}decodeOnceFromVideoDevice(e,o){return z(this,void 0,void 0,function*(){this.reset();let h;e?h={deviceId:{exact:e}}:h={facingMode:"environment"};const x={video:h};return yield this.decodeOnceFromConstraints(x,o)})}decodeOnceFromConstraints(e,o){return z(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(h,o)})}decodeOnceFromStream(e,o){return z(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(e,o);return yield this.decodeOnce(h)})}decodeFromInputVideoDeviceContinuously(e,o,h){return z(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,o,h)})}decodeFromVideoDevice(e,o,h){return z(this,void 0,void 0,function*(){let x;e?x={deviceId:{exact:e}}:x={facingMode:"environment"};const E={video:x};return yield this.decodeFromConstraints(E,o,h)})}decodeFromConstraints(e,o,h){return z(this,void 0,void 0,function*(){const x=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(x,o,h)})}decodeFromStream(e,o,h){return z(this,void 0,void 0,function*(){this.reset();const x=yield this.attachStreamToVideo(e,o);return yield this.decodeContinuously(x,h)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,o){return z(this,void 0,void 0,function*(){const h=this.prepareVideoElement(o);return this.addVideoSource(h,e),this.videoElement=h,this.stream=e,yield this.playVideoOnLoadAsync(h),h})}playVideoOnLoadAsync(e){return new Promise((o,h)=>this.playVideoOnLoad(e,()=>o()))}playVideoOnLoad(e,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",o),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return z(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,o){const h=document.getElementById(e);if(!h)throw new n(`element with id '${e}' not found`);if(h.nodeName.toLowerCase()!==o.toLowerCase())throw new n(`element with id '${e}' must be an ${o} element`);return h}decodeFromImage(e,o){if(!e&&!o)throw new n("either imageElement with a src set or an url must be provided");return o&&!e?this.decodeFromImageUrl(o):this.decodeFromImageElement(e)}decodeFromVideo(e,o){if(!e&&!o)throw new n("Either an element with a src set or an URL must be provided");return o&&!e?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,o,h){if(e===void 0&&o===void 0)throw new n("Either an element with a src set or an URL must be provided");return o&&!e?this.decodeFromVideoUrlContinuously(o,h):this.decodeFromVideoElementContinuously(e,h)}decodeFromImageElement(e){if(!e)throw new n("An image element must be provided.");this.reset();const o=this.prepareImageElement(e);this.imageElement=o;let h;return this.isImageLoaded(o)?h=this.decodeOnce(o,!1,!0):h=this._decodeOnLoadImage(o),h}decodeFromVideoElement(e){const o=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(e,o){const h=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(h,o)}_decodeFromVideoElementSetup(e){if(!e)throw new n("A video element must be provided.");this.reset();const o=this.prepareVideoElement(e);return this.videoElement=o,o}decodeFromImageUrl(e){if(!e)throw new n("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const h=this._decodeOnLoadImage(o);return o.src=e,h}decodeFromVideoUrl(e){if(!e)throw new n("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),h=this.decodeFromVideoElement(o);return o.src=e,h}decodeFromVideoUrlContinuously(e,o){if(!e)throw new n("An URL must be provided.");this.reset();const h=this.prepareVideoElement(),x=this.decodeFromVideoElementContinuously(h,o);return h.src=e,x}_decodeOnLoadImage(e){return new Promise((o,h)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(o,h),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return z(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,o){return z(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,o)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let o;return typeof e>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof e=="string"&&(o=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(o=e),o}prepareVideoElement(e){let o;return!e&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof e=="string"&&(o=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(o=e),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(e,o=!0,h=!0){this._stopAsyncDecode=!1;const x=(E,N)=>{if(this._stopAsyncDecode){N(new A("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const P=this.decode(e);E(P)}catch(P){const G=o&&P instanceof A,oe=(P instanceof l||P instanceof Y)&&h;if(G||oe)return setTimeout(x,this._timeBetweenDecodingAttempts,E,N);N(P)}};return new Promise((E,N)=>x(E,N))}decodeContinuously(e,o){this._stopContinuousDecode=!1;const h=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const x=this.decode(e);o(x,null),setTimeout(h,this.timeBetweenScansMillis)}catch(x){o(null,x);const E=x instanceof l||x instanceof Y,N=x instanceof A;(E||N)&&setTimeout(h,this._timeBetweenDecodingAttempts)}};h()}decode(e){const o=this.createBinaryBitmap(e);return this.decodeBitmap(o)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,o,h){o||(o={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),h||(h=this.captureCanvasContext),h.drawImage(e,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(e,o,h=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),h||(h=this.captureCanvasContext),h.drawImage(e,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const o=this.getCaptureCanvas(e),h=new O(o),x=new _(h);return new a(x)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const h=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=h}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const o=this.createCaptureCanvas(e);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let h,x;return typeof e<"u"&&(e instanceof HTMLVideoElement?(h=e.videoWidth,x=e.videoHeight):e instanceof HTMLImageElement&&(h=e.naturalWidth||e.width,x=e.naturalHeight||e.height)),o.style.width=h+"px",o.style.height=x+"px",o.width=h,o.height=x,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,o){try{e.srcObject=o}catch{e.src=URL.createObjectURL(o)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class ne{constructor(e,o,h=o==null?0:8*o.length,x,E,N=b.currentTimeMillis()){this.text=e,this.rawBytes=o,this.numBits=h,this.resultPoints=x,this.format=E,this.timestamp=N,this.text=e,this.rawBytes=o,h==null?this.numBits=o==null?0:8*o.length:this.numBits=h,this.resultPoints=x,this.format=E,this.resultMetadata=null,N==null?this.timestamp=b.currentTimeMillis():this.timestamp=N}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,o)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const o=this.resultPoints;if(o===null)this.resultPoints=e;else if(e!==null&&e.length>0){const h=new Array(o.length+e.length);b.arraycopy(o,0,h,0,o.length),b.arraycopy(e,0,h,o.length,e.length),this.resultPoints=h}}getTimestamp(){return this.timestamp}toString(){return this.text}}var de;(function(ue){ue[ue.AZTEC=0]="AZTEC",ue[ue.CODABAR=1]="CODABAR",ue[ue.CODE_39=2]="CODE_39",ue[ue.CODE_93=3]="CODE_93",ue[ue.CODE_128=4]="CODE_128",ue[ue.DATA_MATRIX=5]="DATA_MATRIX",ue[ue.EAN_8=6]="EAN_8",ue[ue.EAN_13=7]="EAN_13",ue[ue.ITF=8]="ITF",ue[ue.MAXICODE=9]="MAXICODE",ue[ue.PDF_417=10]="PDF_417",ue[ue.QR_CODE=11]="QR_CODE",ue[ue.RSS_14=12]="RSS_14",ue[ue.RSS_EXPANDED=13]="RSS_EXPANDED",ue[ue.UPC_A=14]="UPC_A",ue[ue.UPC_E=15]="UPC_E",ue[ue.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(de||(de={}));var H=de,ae;(function(ue){ue[ue.OTHER=0]="OTHER",ue[ue.ORIENTATION=1]="ORIENTATION",ue[ue.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",ue[ue.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",ue[ue.ISSUE_NUMBER=4]="ISSUE_NUMBER",ue[ue.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",ue[ue.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",ue[ue.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",ue[ue.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",ue[ue.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",ue[ue.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ae||(ae={}));var U=ae;class L{constructor(e,o,h,x,E=-1,N=-1){this.rawBytes=e,this.text=o,this.byteSegments=h,this.ecLevel=x,this.structuredAppendSequenceNumber=E,this.structuredAppendParity=N,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ee{exp(e){return this.expTable[e]}log(e){if(e===0)throw new c;return this.logTable[e]}static addOrSubtract(e,o){return e^o}}class ce{constructor(e,o){if(o.length===0)throw new c;this.field=e;const h=o.length;if(h>1&&o[0]===0){let x=1;for(;x<h&&o[x]===0;)x++;x===h?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(h-x),b.arraycopy(o,x,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const o=this.coefficients;let h;if(e===1){h=0;for(let N=0,P=o.length;N!==P;N++){const G=o[N];h=ee.addOrSubtract(h,G)}return h}h=o[0];const x=o.length,E=this.field;for(let N=1;N<x;N++)h=ee.addOrSubtract(E.multiply(e,h),o[N]);return h}addOrSubtract(e){if(!this.field.equals(e.field))throw new c("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let o=this.coefficients,h=e.coefficients;if(o.length>h.length){const N=o;o=h,h=N}let x=new Int32Array(h.length);const E=h.length-o.length;b.arraycopy(h,0,x,0,E);for(let N=E;N<h.length;N++)x[N]=ee.addOrSubtract(o[N-E],h[N]);return new ce(this.field,x)}multiply(e){if(!this.field.equals(e.field))throw new c("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const o=this.coefficients,h=o.length,x=e.coefficients,E=x.length,N=new Int32Array(h+E-1),P=this.field;for(let G=0;G<h;G++){const Z=o[G];for(let oe=0;oe<E;oe++)N[G+oe]=ee.addOrSubtract(N[G+oe],P.multiply(Z,x[oe]))}return new ce(P,N)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const o=this.coefficients.length,h=this.field,x=new Int32Array(o),E=this.coefficients;for(let N=0;N<o;N++)x[N]=h.multiply(E[N],e);return new ce(h,x)}multiplyByMonomial(e,o){if(e<0)throw new c;if(o===0)return this.field.getZero();const h=this.coefficients,x=h.length,E=new Int32Array(x+e),N=this.field;for(let P=0;P<x;P++)E[P]=N.multiply(h[P],o);return new ce(N,E)}divide(e){if(!this.field.equals(e.field))throw new c("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new c("Divide by 0");const o=this.field;let h=o.getZero(),x=this;const E=e.getCoefficient(e.getDegree()),N=o.inverse(E);for(;x.getDegree()>=e.getDegree()&&!x.isZero();){const P=x.getDegree()-e.getDegree(),G=o.multiply(x.getCoefficient(x.getDegree()),N),Z=e.multiplyByMonomial(P,G),oe=o.buildMonomial(P,G);h=h.addOrSubtract(oe),x=x.addOrSubtract(Z)}return[h,x]}toString(){let e="";for(let o=this.getDegree();o>=0;o--){let h=this.getCoefficient(o);if(h!==0){if(h<0?(e+=" - ",h=-h):e.length>0&&(e+=" + "),o===0||h!==1){const x=this.field.log(h);x===0?e+="1":x===1?e+="a":(e+="a^",e+=x)}o!==0&&(o===1?e+="x":(e+="x^",e+=o))}}return e}}class ve extends t{}ve.kind="ArithmeticException";class he extends ee{constructor(e,o,h){super(),this.primitive=e,this.size=o,this.generatorBase=h;const x=new Int32Array(o);let E=1;for(let P=0;P<o;P++)x[P]=E,E*=2,E>=o&&(E^=e,E&=o-1);this.expTable=x;const N=new Int32Array(o);for(let P=0;P<o-1;P++)N[x[P]]=P;this.logTable=N,this.zero=new ce(this,Int32Array.from([0])),this.one=new ce(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,o){if(e<0)throw new c;if(o===0)return this.zero;const h=new Int32Array(e+1);return h[0]=o,new ce(this,h)}inverse(e){if(e===0)throw new ve;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,o){return e===0||o===0?0:this.expTable[(this.logTable[e]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+T.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}he.AZTEC_DATA_12=new he(4201,4096,1),he.AZTEC_DATA_10=new he(1033,1024,1),he.AZTEC_DATA_6=new he(67,64,1),he.AZTEC_PARAM=new he(19,16,1),he.QR_CODE_FIELD_256=new he(285,256,0),he.DATA_MATRIX_FIELD_256=new he(301,256,1),he.AZTEC_DATA_8=he.DATA_MATRIX_FIELD_256,he.MAXICODE_FIELD_64=he.AZTEC_DATA_6;class xe extends t{}xe.kind="ReedSolomonException";class _e extends t{}_e.kind="IllegalStateException";class Re{constructor(e){this.field=e}decode(e,o){const h=this.field,x=new ce(h,e),E=new Int32Array(o);let N=!0;for(let Ce=0;Ce<o;Ce++){const Be=x.evaluateAt(h.exp(Ce+h.getGeneratorBase()));E[E.length-1-Ce]=Be,Be!==0&&(N=!1)}if(N)return;const P=new ce(h,E),G=this.runEuclideanAlgorithm(h.buildMonomial(o,1),P,o),Z=G[0],oe=G[1],fe=this.findErrorLocations(Z),ge=this.findErrorMagnitudes(oe,fe);for(let Ce=0;Ce<fe.length;Ce++){const Be=e.length-1-h.log(fe[Ce]);if(Be<0)throw new xe("Bad error location");e[Be]=he.addOrSubtract(e[Be],ge[Ce])}}runEuclideanAlgorithm(e,o,h){if(e.getDegree()<o.getDegree()){const Ce=e;e=o,o=Ce}const x=this.field;let E=e,N=o,P=x.getZero(),G=x.getOne();for(;N.getDegree()>=(h/2|0);){let Ce=E,Be=P;if(E=N,P=G,E.isZero())throw new xe("r_{i-1} was zero");N=Ce;let Le=x.getZero();const Xe=E.getCoefficient(E.getDegree()),Ke=x.inverse(Xe);for(;N.getDegree()>=E.getDegree()&&!N.isZero();){const St=N.getDegree()-E.getDegree(),At=x.multiply(N.getCoefficient(N.getDegree()),Ke);Le=Le.addOrSubtract(x.buildMonomial(St,At)),N=N.addOrSubtract(E.multiplyByMonomial(St,At))}if(G=Le.multiply(P).addOrSubtract(Be),N.getDegree()>=E.getDegree())throw new _e("Division algorithm failed to reduce polynomial?")}const Z=G.getCoefficient(0);if(Z===0)throw new xe("sigmaTilde(0) was zero");const oe=x.inverse(Z),fe=G.multiplyScalar(oe),ge=N.multiplyScalar(oe);return[fe,ge]}findErrorLocations(e){const o=e.getDegree();if(o===1)return Int32Array.from([e.getCoefficient(1)]);const h=new Int32Array(o);let x=0;const E=this.field;for(let N=1;N<E.getSize()&&x<o;N++)e.evaluateAt(N)===0&&(h[x]=E.inverse(N),x++);if(x!==o)throw new xe("Error locator degree does not match number of roots");return h}findErrorMagnitudes(e,o){const h=o.length,x=new Int32Array(h),E=this.field;for(let N=0;N<h;N++){const P=E.inverse(o[N]);let G=1;for(let Z=0;Z<h;Z++)if(N!==Z){const oe=E.multiply(o[Z],P),fe=(oe&1)===0?oe|1:oe&-2;G=E.multiply(G,fe)}x[N]=E.multiply(e.evaluateAt(P),E.inverse(G)),E.getGeneratorBase()!==0&&(x[N]=E.multiply(x[N],P))}return x}}var pe;(function(ue){ue[ue.UPPER=0]="UPPER",ue[ue.LOWER=1]="LOWER",ue[ue.MIXED=2]="MIXED",ue[ue.DIGIT=3]="DIGIT",ue[ue.PUNCT=4]="PUNCT",ue[ue.BINARY=5]="BINARY"})(pe||(pe={}));class Ae{decode(e){this.ddata=e;let o=e.getBits(),h=this.extractBits(o),x=this.correctBits(h),E=Ae.convertBoolArrayToByteArray(x),N=Ae.getEncodedData(x),P=new L(E,N,null,null);return P.setNumBits(x.length),P}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let o=e.length,h=pe.UPPER,x=pe.UPPER,E="",N=0;for(;N<o;)if(x===pe.BINARY){if(o-N<5)break;let P=Ae.readCode(e,N,5);if(N+=5,P===0){if(o-N<11)break;P=Ae.readCode(e,N,11)+31,N+=11}for(let G=0;G<P;G++){if(o-N<8){N=o;break}const Z=Ae.readCode(e,N,8);E+=$.castAsNonUtf8Char(Z),N+=8}x=h}else{let P=x===pe.DIGIT?4:5;if(o-N<P)break;let G=Ae.readCode(e,N,P);N+=P;let Z=Ae.getCharacter(x,G);Z.startsWith("CTRL_")?(h=x,x=Ae.getTable(Z.charAt(5)),Z.charAt(6)==="L"&&(h=x)):(E+=Z,x=h)}return E}static getTable(e){switch(e){case"L":return pe.LOWER;case"P":return pe.PUNCT;case"M":return pe.MIXED;case"D":return pe.DIGIT;case"B":return pe.BINARY;case"U":default:return pe.UPPER}}static getCharacter(e,o){switch(e){case pe.UPPER:return Ae.UPPER_TABLE[o];case pe.LOWER:return Ae.LOWER_TABLE[o];case pe.MIXED:return Ae.MIXED_TABLE[o];case pe.PUNCT:return Ae.PUNCT_TABLE[o];case pe.DIGIT:return Ae.DIGIT_TABLE[o];default:throw new _e("Bad table")}}correctBits(e){let o,h;this.ddata.getNbLayers()<=2?(h=6,o=he.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(h=8,o=he.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(h=10,o=he.AZTEC_DATA_10):(h=12,o=he.AZTEC_DATA_12);let x=this.ddata.getNbDatablocks(),E=e.length/h;if(E<x)throw new Y;let N=e.length%h,P=new Int32Array(E);for(let ge=0;ge<E;ge++,N+=h)P[ge]=Ae.readCode(e,N,h);try{new Re(o).decode(P,E-x)}catch(ge){throw new Y(ge)}let G=(1<<h)-1,Z=0;for(let ge=0;ge<x;ge++){let Ce=P[ge];if(Ce===0||Ce===G)throw new Y;(Ce===1||Ce===G-1)&&Z++}let oe=new Array(x*h-Z),fe=0;for(let ge=0;ge<x;ge++){let Ce=P[ge];if(Ce===1||Ce===G-1)oe.fill(Ce>1,fe,fe+h-1),fe+=h-1;else for(let Be=h-1;Be>=0;--Be)oe[fe++]=(Ce&1<<Be)!==0}return oe}extractBits(e){let o=this.ddata.isCompact(),h=this.ddata.getNbLayers(),x=(o?11:14)+h*4,E=new Int32Array(x),N=new Array(this.totalBitsInLayer(h,o));if(o)for(let P=0;P<E.length;P++)E[P]=P;else{let P=x+1+2*T.truncDivision(T.truncDivision(x,2)-1,15),G=x/2,Z=T.truncDivision(P,2);for(let oe=0;oe<G;oe++){let fe=oe+T.truncDivision(oe,15);E[G-oe-1]=Z-fe-1,E[G+oe]=Z+fe+1}}for(let P=0,G=0;P<h;P++){let Z=(h-P)*4+(o?9:12),oe=P*2,fe=x-1-oe;for(let ge=0;ge<Z;ge++){let Ce=ge*2;for(let Be=0;Be<2;Be++)N[G+Ce+Be]=e.get(E[oe+Be],E[oe+ge]),N[G+2*Z+Ce+Be]=e.get(E[oe+ge],E[fe-Be]),N[G+4*Z+Ce+Be]=e.get(E[fe-Be],E[fe-ge]),N[G+6*Z+Ce+Be]=e.get(E[fe-ge],E[oe+Be])}G+=Z*8}return N}static readCode(e,o,h){let x=0;for(let E=o;E<o+h;E++)x<<=1,e[E]&&(x|=1);return x}static readByte(e,o){let h=e.length-o;return h>=8?Ae.readCode(e,o,8):Ae.readCode(e,o,h)<<8-h}static convertBoolArrayToByteArray(e){let o=new Uint8Array((e.length+7)/8);for(let h=0;h<o.length;h++)o[h]=Ae.readByte(e,8*h);return o}totalBitsInLayer(e,o){return((o?88:112)+16*e)*e}}Ae.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ae.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ae.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ae.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ae.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Se{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,o,h,x){const E=e-h,N=o-x;return Math.sqrt(E*E+N*N)}static sum(e){let o=0;for(let h=0,x=e.length;h!==x;h++){const E=e[h];o+=E}return o}}class Ue{static floatToIntBits(e){return e}}Ue.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ke{constructor(e,o){this.x=e,this.y=o}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof ke){const o=e;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*Ue.floatToIntBits(this.x)+Ue.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const o=this.distance(e[0],e[1]),h=this.distance(e[1],e[2]),x=this.distance(e[0],e[2]);let E,N,P;if(h>=o&&h>=x?(N=e[0],E=e[1],P=e[2]):x>=h&&x>=o?(N=e[1],E=e[0],P=e[2]):(N=e[2],E=e[0],P=e[1]),this.crossProductZ(E,N,P)<0){const G=E;E=P,P=G}e[0]=E,e[1]=N,e[2]=P}static distance(e,o){return Se.distance(e.x,e.y,o.x,o.y)}static crossProductZ(e,o,h){const x=o.x,E=o.y;return(h.x-x)*(e.y-E)-(h.y-E)*(e.x-x)}}class We{constructor(e,o){this.bits=e,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class $e extends We{constructor(e,o,h,x,E){super(e,o),this.compact=h,this.nbDatablocks=x,this.nbLayers=E}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ze{constructor(e,o,h,x){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),o==null&&(o=Ze.INIT_SIZE),h==null&&(h=e.getWidth()/2|0),x==null&&(x=e.getHeight()/2|0);const E=o/2|0;if(this.leftInit=h-E,this.rightInit=h+E,this.upInit=x-E,this.downInit=x+E,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new A}detect(){let e=this.leftInit,o=this.rightInit,h=this.upInit,x=this.downInit,E=!1,N=!0,P=!1,G=!1,Z=!1,oe=!1,fe=!1;const ge=this.width,Ce=this.height;for(;N;){N=!1;let Be=!0;for(;(Be||!G)&&o<ge;)Be=this.containsBlackPoint(h,x,o,!1),Be?(o++,N=!0,G=!0):G||o++;if(o>=ge){E=!0;break}let Le=!0;for(;(Le||!Z)&&x<Ce;)Le=this.containsBlackPoint(e,o,x,!0),Le?(x++,N=!0,Z=!0):Z||x++;if(x>=Ce){E=!0;break}let Xe=!0;for(;(Xe||!oe)&&e>=0;)Xe=this.containsBlackPoint(h,x,e,!1),Xe?(e--,N=!0,oe=!0):oe||e--;if(e<0){E=!0;break}let Ke=!0;for(;(Ke||!fe)&&h>=0;)Ke=this.containsBlackPoint(e,o,h,!0),Ke?(h--,N=!0,fe=!0):fe||h--;if(h<0){E=!0;break}N&&(P=!0)}if(!E&&P){const Be=o-e;let Le=null;for(let At=1;Le===null&&At<Be;At++)Le=this.getBlackPointOnSegment(e,x-At,e+At,x);if(Le==null)throw new A;let Xe=null;for(let At=1;Xe===null&&At<Be;At++)Xe=this.getBlackPointOnSegment(e,h+At,e+At,h);if(Xe==null)throw new A;let Ke=null;for(let At=1;Ke===null&&At<Be;At++)Ke=this.getBlackPointOnSegment(o,h+At,o-At,h);if(Ke==null)throw new A;let St=null;for(let At=1;St===null&&At<Be;At++)St=this.getBlackPointOnSegment(o,x-At,o-At,x);if(St==null)throw new A;return this.centerEdges(St,Le,Ke,Xe)}else throw new A}getBlackPointOnSegment(e,o,h,x){const E=Se.round(Se.distance(e,o,h,x)),N=(h-e)/E,P=(x-o)/E,G=this.image;for(let Z=0;Z<E;Z++){const oe=Se.round(e+Z*N),fe=Se.round(o+Z*P);if(G.get(oe,fe))return new ke(oe,fe)}return null}centerEdges(e,o,h,x){const E=e.getX(),N=e.getY(),P=o.getX(),G=o.getY(),Z=h.getX(),oe=h.getY(),fe=x.getX(),ge=x.getY(),Ce=Ze.CORR;return E<this.width/2?[new ke(fe-Ce,ge+Ce),new ke(P+Ce,G+Ce),new ke(Z-Ce,oe-Ce),new ke(E+Ce,N-Ce)]:[new ke(fe+Ce,ge+Ce),new ke(P+Ce,G-Ce),new ke(Z-Ce,oe+Ce),new ke(E-Ce,N-Ce)]}containsBlackPoint(e,o,h,x){const E=this.image;if(x){for(let N=e;N<=o;N++)if(E.get(N,h))return!0}else for(let N=e;N<=o;N++)if(E.get(h,N))return!0;return!1}}Ze.INIT_SIZE=10,Ze.CORR=1;class lt{static checkAndNudgePoints(e,o){const h=e.getWidth(),x=e.getHeight();let E=!0;for(let N=0;N<o.length&&E;N+=2){const P=Math.floor(o[N]),G=Math.floor(o[N+1]);if(P<-1||P>h||G<-1||G>x)throw new A;E=!1,P===-1?(o[N]=0,E=!0):P===h&&(o[N]=h-1,E=!0),G===-1?(o[N+1]=0,E=!0):G===x&&(o[N+1]=x-1,E=!0)}E=!0;for(let N=o.length-2;N>=0&&E;N-=2){const P=Math.floor(o[N]),G=Math.floor(o[N+1]);if(P<-1||P>h||G<-1||G>x)throw new A;E=!1,P===-1?(o[N]=0,E=!0):P===h&&(o[N]=h-1,E=!0),G===-1?(o[N+1]=0,E=!0):G===x&&(o[N+1]=x-1,E=!0)}}}class xt{constructor(e,o,h,x,E,N,P,G,Z){this.a11=e,this.a21=o,this.a31=h,this.a12=x,this.a22=E,this.a32=N,this.a13=P,this.a23=G,this.a33=Z}static quadrilateralToQuadrilateral(e,o,h,x,E,N,P,G,Z,oe,fe,ge,Ce,Be,Le,Xe){const Ke=xt.quadrilateralToSquare(e,o,h,x,E,N,P,G);return xt.squareToQuadrilateral(Z,oe,fe,ge,Ce,Be,Le,Xe).times(Ke)}transformPoints(e){const o=e.length,h=this.a11,x=this.a12,E=this.a13,N=this.a21,P=this.a22,G=this.a23,Z=this.a31,oe=this.a32,fe=this.a33;for(let ge=0;ge<o;ge+=2){const Ce=e[ge],Be=e[ge+1],Le=E*Ce+G*Be+fe;e[ge]=(h*Ce+N*Be+Z)/Le,e[ge+1]=(x*Ce+P*Be+oe)/Le}}transformPointsWithValues(e,o){const h=this.a11,x=this.a12,E=this.a13,N=this.a21,P=this.a22,G=this.a23,Z=this.a31,oe=this.a32,fe=this.a33,ge=e.length;for(let Ce=0;Ce<ge;Ce++){const Be=e[Ce],Le=o[Ce],Xe=E*Be+G*Le+fe;e[Ce]=(h*Be+N*Le+Z)/Xe,o[Ce]=(x*Be+P*Le+oe)/Xe}}static squareToQuadrilateral(e,o,h,x,E,N,P,G){const Z=e-h+E-P,oe=o-x+N-G;if(Z===0&&oe===0)return new xt(h-e,E-h,e,x-o,N-x,o,0,0,1);{const fe=h-E,ge=P-E,Ce=x-N,Be=G-N,Le=fe*Be-ge*Ce,Xe=(Z*Be-ge*oe)/Le,Ke=(fe*oe-Z*Ce)/Le;return new xt(h-e+Xe*h,P-e+Ke*P,e,x-o+Xe*x,G-o+Ke*G,o,Xe,Ke,1)}}static quadrilateralToSquare(e,o,h,x,E,N,P,G){return xt.squareToQuadrilateral(e,o,h,x,E,N,P,G).buildAdjoint()}buildAdjoint(){return new xt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new xt(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class Tt extends lt{sampleGrid(e,o,h,x,E,N,P,G,Z,oe,fe,ge,Ce,Be,Le,Xe,Ke,St,At){const pt=xt.quadrilateralToQuadrilateral(x,E,N,P,G,Z,oe,fe,ge,Ce,Be,Le,Xe,Ke,St,At);return this.sampleGridWithTransform(e,o,h,pt)}sampleGridWithTransform(e,o,h,x){if(o<=0||h<=0)throw new A;const E=new F(o,h),N=new Float32Array(2*o);for(let P=0;P<h;P++){const G=N.length,Z=P+.5;for(let oe=0;oe<G;oe+=2)N[oe]=oe/2+.5,N[oe+1]=Z;x.transformPoints(N),lt.checkAndNudgePoints(e,N);try{for(let oe=0;oe<G;oe+=2)e.get(Math.floor(N[oe]),Math.floor(N[oe+1]))&&E.set(oe/2,P)}catch{throw new A}}return E}}class gt{static setGridSampler(e){gt.gridSampler=e}static getInstance(){return gt.gridSampler}}gt.gridSampler=new Tt;class Mt{constructor(e,o){this.x=e,this.y=o}toResultPoint(){return new ke(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ft{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let o=this.getMatrixCenter(),h=this.getBullsEyeCorners(o);if(e){let N=h[0];h[0]=h[2],h[2]=N}this.extractParameters(h);let x=this.sampleGrid(this.image,h[this.shift%4],h[(this.shift+1)%4],h[(this.shift+2)%4],h[(this.shift+3)%4]),E=this.getMatrixCornerPoints(h);return new $e(x,E,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new A;let o=2*this.nbCenterLayers,h=new Int32Array([this.sampleLine(e[0],e[1],o),this.sampleLine(e[1],e[2],o),this.sampleLine(e[2],e[3],o),this.sampleLine(e[3],e[0],o)]);this.shift=this.getRotation(h,o);let x=0;for(let N=0;N<4;N++){let P=h[(this.shift+N)%4];this.compact?(x<<=7,x+=P>>1&127):(x<<=10,x+=(P>>2&992)+(P>>1&31))}let E=this.getCorrectedParameterData(x,this.compact);this.compact?(this.nbLayers=(E>>6)+1,this.nbDataBlocks=(E&63)+1):(this.nbLayers=(E>>11)+1,this.nbDataBlocks=(E&2047)+1)}getRotation(e,o){let h=0;e.forEach((x,E,N)=>{let P=(x>>o-2<<1)+(x&1);h=(h<<3)+P}),h=((h&1)<<11)+(h>>1);for(let x=0;x<4;x++)if(T.bitCount(h^this.EXPECTED_CORNER_BITS[x])<=2)return x;throw new A}getCorrectedParameterData(e,o){let h,x;o?(h=7,x=2):(h=10,x=4);let E=h-x,N=new Int32Array(h);for(let G=h-1;G>=0;--G)N[G]=e&15,e>>=4;try{new Re(he.AZTEC_PARAM).decode(N,E)}catch{throw new A}let P=0;for(let G=0;G<x;G++)P=(P<<4)+N[G];return P}getBullsEyeCorners(e){let o=e,h=e,x=e,E=e,N=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let fe=this.getFirstDifferent(o,N,1,-1),ge=this.getFirstDifferent(h,N,1,1),Ce=this.getFirstDifferent(x,N,-1,1),Be=this.getFirstDifferent(E,N,-1,-1);if(this.nbCenterLayers>2){let Le=this.distancePoint(Be,fe)*this.nbCenterLayers/(this.distancePoint(E,o)*(this.nbCenterLayers+2));if(Le<.75||Le>1.25||!this.isWhiteOrBlackRectangle(fe,ge,Ce,Be))break}o=fe,h=ge,x=Ce,E=Be,N=!N}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new A;this.compact=this.nbCenterLayers===5;let P=new ke(o.getX()+.5,o.getY()-.5),G=new ke(h.getX()+.5,h.getY()+.5),Z=new ke(x.getX()-.5,x.getY()+.5),oe=new ke(E.getX()-.5,E.getY()-.5);return this.expandSquare([P,G,Z,oe],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,o,h,x;try{let P=new Ze(this.image).detect();e=P[0],o=P[1],h=P[2],x=P[3]}catch{let G=this.image.getWidth()/2,Z=this.image.getHeight()/2;e=this.getFirstDifferent(new Mt(G+7,Z-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Mt(G+7,Z+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new Mt(G-7,Z+7),!1,-1,1).toResultPoint(),x=this.getFirstDifferent(new Mt(G-7,Z-7),!1,-1,-1).toResultPoint()}let E=Se.round((e.getX()+x.getX()+o.getX()+h.getX())/4),N=Se.round((e.getY()+x.getY()+o.getY()+h.getY())/4);try{let P=new Ze(this.image,15,E,N).detect();e=P[0],o=P[1],h=P[2],x=P[3]}catch{e=this.getFirstDifferent(new Mt(E+7,N-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Mt(E+7,N+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new Mt(E-7,N+7),!1,-1,1).toResultPoint(),x=this.getFirstDifferent(new Mt(E-7,N-7),!1,-1,-1).toResultPoint()}return E=Se.round((e.getX()+x.getX()+o.getX()+h.getX())/4),N=Se.round((e.getY()+x.getY()+o.getY()+h.getY())/4),new Mt(E,N)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,o,h,x,E){let N=gt.getInstance(),P=this.getDimension(),G=P/2-this.nbCenterLayers,Z=P/2+this.nbCenterLayers;return N.sampleGrid(e,P,P,G,G,Z,G,Z,Z,G,Z,o.getX(),o.getY(),h.getX(),h.getY(),x.getX(),x.getY(),E.getX(),E.getY())}sampleLine(e,o,h){let x=0,E=this.distanceResultPoint(e,o),N=E/h,P=e.getX(),G=e.getY(),Z=N*(o.getX()-e.getX())/E,oe=N*(o.getY()-e.getY())/E;for(let fe=0;fe<h;fe++)this.image.get(Se.round(P+fe*Z),Se.round(G+fe*oe))&&(x|=1<<h-fe-1);return x}isWhiteOrBlackRectangle(e,o,h,x){let E=3;e=new Mt(e.getX()-E,e.getY()+E),o=new Mt(o.getX()-E,o.getY()-E),h=new Mt(h.getX()+E,h.getY()-E),x=new Mt(x.getX()+E,x.getY()+E);let N=this.getColor(x,e);if(N===0)return!1;let P=this.getColor(e,o);return P!==N||(P=this.getColor(o,h),P!==N)?!1:(P=this.getColor(h,x),P===N)}getColor(e,o){let h=this.distancePoint(e,o),x=(o.getX()-e.getX())/h,E=(o.getY()-e.getY())/h,N=0,P=e.getX(),G=e.getY(),Z=this.image.get(e.getX(),e.getY()),oe=Math.ceil(h);for(let ge=0;ge<oe;ge++)P+=x,G+=E,this.image.get(Se.round(P),Se.round(G))!==Z&&N++;let fe=N/h;return fe>.1&&fe<.9?0:fe<=.1===Z?1:-1}getFirstDifferent(e,o,h,x){let E=e.getX()+h,N=e.getY()+x;for(;this.isValid(E,N)&&this.image.get(E,N)===o;)E+=h,N+=x;for(E-=h,N-=x;this.isValid(E,N)&&this.image.get(E,N)===o;)E+=h;for(E-=h;this.isValid(E,N)&&this.image.get(E,N)===o;)N+=x;return N-=x,new Mt(E,N)}expandSquare(e,o,h){let x=h/(2*o),E=e[0].getX()-e[2].getX(),N=e[0].getY()-e[2].getY(),P=(e[0].getX()+e[2].getX())/2,G=(e[0].getY()+e[2].getY())/2,Z=new ke(P+x*E,G+x*N),oe=new ke(P-x*E,G-x*N);E=e[1].getX()-e[3].getX(),N=e[1].getY()-e[3].getY(),P=(e[1].getX()+e[3].getX())/2,G=(e[1].getY()+e[3].getY())/2;let fe=new ke(P+x*E,G+x*N),ge=new ke(P-x*E,G-x*N);return[Z,fe,oe,ge]}isValid(e,o){return e>=0&&e<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(e){let o=Se.round(e.getX()),h=Se.round(e.getY());return this.isValid(o,h)}distancePoint(e,o){return Se.distance(e.getX(),e.getY(),o.getX(),o.getY())}distanceResultPoint(e,o){return Se.distance(e.getX(),e.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(T.truncDivision(this.nbLayers-4,8)+1)+15}}class Bt{decode(e,o=null){let h=null,x=new Ft(e.getBlackMatrix()),E=null,N=null;try{let oe=x.detectMirror(!1);E=oe.getPoints(),this.reportFoundResultPoints(o,E),N=new Ae().decode(oe)}catch(oe){h=oe}if(N==null)try{let oe=x.detectMirror(!0);E=oe.getPoints(),this.reportFoundResultPoints(o,E),N=new Ae().decode(oe)}catch(oe){throw h??oe}let P=new ne(N.getText(),N.getRawBytes(),N.getNumBits(),E,H.AZTEC,b.currentTimeMillis()),G=N.getByteSegments();G!=null&&P.putMetadata(U.BYTE_SEGMENTS,G);let Z=N.getECLevel();return Z!=null&&P.putMetadata(U.ERROR_CORRECTION_LEVEL,Z),P}reportFoundResultPoints(e,o){if(e!=null){let h=e.get(X.NEED_RESULT_POINT_CALLBACK);h!=null&&o.forEach((x,E,N)=>{h.foundPossibleResultPoint(x)})}}reset(){}}class Gt extends re{constructor(e=500){super(new Bt,e)}}class ft{decode(e,o){try{return this.doDecode(e,o)}catch{if(o&&o.get(X.TRY_HARDER)===!0&&e.isRotateSupported()){const E=e.rotateCounterClockwise(),N=this.doDecode(E,o),P=N.getResultMetadata();let G=270;P!==null&&P.get(U.ORIENTATION)===!0&&(G=G+P.get(U.ORIENTATION)%360),N.putMetadata(U.ORIENTATION,G);const Z=N.getResultPoints();if(Z!==null){const oe=E.getHeight();for(let fe=0;fe<Z.length;fe++)Z[fe]=new ke(oe-Z[fe].getY()-1,Z[fe].getX())}return N}else throw new A}}reset(){}doDecode(e,o){const h=e.getWidth(),x=e.getHeight();let E=new M(h);const N=o&&o.get(X.TRY_HARDER)===!0,P=Math.max(1,x>>(N?8:5));let G;N?G=x:G=15;const Z=Math.trunc(x/2);for(let oe=0;oe<G;oe++){const fe=Math.trunc((oe+1)/2),ge=(oe&1)===0,Ce=Z+P*(ge?fe:-fe);if(Ce<0||Ce>=x)break;try{E=e.getBlackRow(Ce,E)}catch{continue}for(let Be=0;Be<2;Be++){if(Be===1&&(E.reverse(),o&&o.get(X.NEED_RESULT_POINT_CALLBACK)===!0)){const Le=new Map;o.forEach((Xe,Ke)=>Le.set(Ke,Xe)),Le.delete(X.NEED_RESULT_POINT_CALLBACK),o=Le}try{const Le=this.decodeRow(Ce,E,o);if(Be===1){Le.putMetadata(U.ORIENTATION,180);const Xe=Le.getResultPoints();Xe!==null&&(Xe[0]=new ke(h-Xe[0].getX()-1,Xe[0].getY()),Xe[1]=new ke(h-Xe[1].getX()-1,Xe[1].getY()))}return Le}catch{}}}throw new A}static recordPattern(e,o,h){const x=h.length;for(let Z=0;Z<x;Z++)h[Z]=0;const E=e.getSize();if(o>=E)throw new A;let N=!e.get(o),P=0,G=o;for(;G<E;){if(e.get(G)!==N)h[P]++;else{if(++P===x)break;h[P]=1,N=!N}G++}if(!(P===x||P===x-1&&G===E))throw new A}static recordPatternInReverse(e,o,h){let x=h.length,E=e.get(o);for(;o>0&&x>=0;)e.get(--o)!==E&&(x--,E=!E);if(x>=0)throw new A;ft.recordPattern(e,o+1,h)}static patternMatchVariance(e,o,h){const x=e.length;let E=0,N=0;for(let Z=0;Z<x;Z++)E+=e[Z],N+=o[Z];if(E<N)return Number.POSITIVE_INFINITY;const P=E/N;h*=P;let G=0;for(let Z=0;Z<x;Z++){const oe=e[Z],fe=o[Z]*P,ge=oe>fe?oe-fe:fe-oe;if(ge>h)return Number.POSITIVE_INFINITY;G+=ge}return G/E}}class Ge extends ft{static findStartPattern(e){const o=e.getSize(),h=e.getNextSet(0);let x=0,E=Int32Array.from([0,0,0,0,0,0]),N=h,P=!1;const G=6;for(let Z=h;Z<o;Z++)if(e.get(Z)!==P)E[x]++;else{if(x===G-1){let oe=Ge.MAX_AVG_VARIANCE,fe=-1;for(let ge=Ge.CODE_START_A;ge<=Ge.CODE_START_C;ge++){const Ce=ft.patternMatchVariance(E,Ge.CODE_PATTERNS[ge],Ge.MAX_INDIVIDUAL_VARIANCE);Ce<oe&&(oe=Ce,fe=ge)}if(fe>=0&&e.isRange(Math.max(0,N-(Z-N)/2),N,!1))return Int32Array.from([N,Z,fe]);N+=E[0]+E[1],E=E.slice(2,E.length-1),E[x-1]=0,E[x]=0,x--}else x++;E[x]=1,P=!P}throw new A}static decodeCode(e,o,h){ft.recordPattern(e,h,o);let x=Ge.MAX_AVG_VARIANCE,E=-1;for(let N=0;N<Ge.CODE_PATTERNS.length;N++){const P=Ge.CODE_PATTERNS[N],G=this.patternMatchVariance(o,P,Ge.MAX_INDIVIDUAL_VARIANCE);G<x&&(x=G,E=N)}if(E>=0)return E;throw new A}decodeRow(e,o,h){const x=h&&h.get(X.ASSUME_GS1)===!0,E=Ge.findStartPattern(o),N=E[2];let P=0;const G=new Uint8Array(20);G[P++]=N;let Z;switch(N){case Ge.CODE_START_A:Z=Ge.CODE_CODE_A;break;case Ge.CODE_START_B:Z=Ge.CODE_CODE_B;break;case Ge.CODE_START_C:Z=Ge.CODE_CODE_C;break;default:throw new Y}let oe=!1,fe=!1,ge="",Ce=E[0],Be=E[1];const Le=Int32Array.from([0,0,0,0,0,0]);let Xe=0,Ke=0,St=N,At=0,pt=!0,Er=!1,gr=!1;for(;!oe;){const li=fe;switch(fe=!1,Xe=Ke,Ke=Ge.decodeCode(o,Le,Be),G[P++]=Ke,Ke!==Ge.CODE_STOP&&(pt=!0),Ke!==Ge.CODE_STOP&&(At++,St+=At*Ke),Ce=Be,Be+=Le.reduce((Hi,bo)=>Hi+bo,0),Ke){case Ge.CODE_START_A:case Ge.CODE_START_B:case Ge.CODE_START_C:throw new Y}switch(Z){case Ge.CODE_CODE_A:if(Ke<64)gr===Er?ge+=String.fromCharCode(32+Ke):ge+=String.fromCharCode(32+Ke+128),gr=!1;else if(Ke<96)gr===Er?ge+=String.fromCharCode(Ke-64):ge+=String.fromCharCode(Ke+64),gr=!1;else switch(Ke!==Ge.CODE_STOP&&(pt=!1),Ke){case Ge.CODE_FNC_1:x&&(ge.length===0?ge+="]C1":ge+="");break;case Ge.CODE_FNC_2:case Ge.CODE_FNC_3:break;case Ge.CODE_FNC_4_A:!Er&&gr?(Er=!0,gr=!1):Er&&gr?(Er=!1,gr=!1):gr=!0;break;case Ge.CODE_SHIFT:fe=!0,Z=Ge.CODE_CODE_B;break;case Ge.CODE_CODE_B:Z=Ge.CODE_CODE_B;break;case Ge.CODE_CODE_C:Z=Ge.CODE_CODE_C;break;case Ge.CODE_STOP:oe=!0;break}break;case Ge.CODE_CODE_B:if(Ke<96)gr===Er?ge+=String.fromCharCode(32+Ke):ge+=String.fromCharCode(32+Ke+128),gr=!1;else switch(Ke!==Ge.CODE_STOP&&(pt=!1),Ke){case Ge.CODE_FNC_1:x&&(ge.length===0?ge+="]C1":ge+="");break;case Ge.CODE_FNC_2:case Ge.CODE_FNC_3:break;case Ge.CODE_FNC_4_B:!Er&&gr?(Er=!0,gr=!1):Er&&gr?(Er=!1,gr=!1):gr=!0;break;case Ge.CODE_SHIFT:fe=!0,Z=Ge.CODE_CODE_A;break;case Ge.CODE_CODE_A:Z=Ge.CODE_CODE_A;break;case Ge.CODE_CODE_C:Z=Ge.CODE_CODE_C;break;case Ge.CODE_STOP:oe=!0;break}break;case Ge.CODE_CODE_C:if(Ke<100)Ke<10&&(ge+="0"),ge+=Ke;else switch(Ke!==Ge.CODE_STOP&&(pt=!1),Ke){case Ge.CODE_FNC_1:x&&(ge.length===0?ge+="]C1":ge+="");break;case Ge.CODE_CODE_A:Z=Ge.CODE_CODE_A;break;case Ge.CODE_CODE_B:Z=Ge.CODE_CODE_B;break;case Ge.CODE_STOP:oe=!0;break}break}li&&(Z=Z===Ge.CODE_CODE_A?Ge.CODE_CODE_B:Ge.CODE_CODE_A)}const In=Be-Ce;if(Be=o.getNextUnset(Be),!o.isRange(Be,Math.min(o.getSize(),Be+(Be-Ce)/2),!1))throw new A;if(St-=At*Xe,St%103!==Xe)throw new l;const qn=ge.length;if(qn===0)throw new A;qn>0&&pt&&(Z===Ge.CODE_CODE_C?ge=ge.substring(0,qn-2):ge=ge.substring(0,qn-1));const on=(E[1]+E[0])/2,Br=Ce+In/2,Kr=G.length,Cn=new Uint8Array(Kr);for(let li=0;li<Kr;li++)Cn[li]=G[li];const Ci=[new ke(on,e),new ke(Br,e)];return new ne(ge,Cn,0,Ci,H.CODE_128,new Date().getTime())}}Ge.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ge.MAX_AVG_VARIANCE=.25,Ge.MAX_INDIVIDUAL_VARIANCE=.7,Ge.CODE_SHIFT=98,Ge.CODE_CODE_C=99,Ge.CODE_CODE_B=100,Ge.CODE_CODE_A=101,Ge.CODE_FNC_1=102,Ge.CODE_FNC_2=97,Ge.CODE_FNC_3=96,Ge.CODE_FNC_4_A=101,Ge.CODE_FNC_4_B=100,Ge.CODE_START_A=103,Ge.CODE_START_B=104,Ge.CODE_START_C=105,Ge.CODE_STOP=106;class bt extends ft{constructor(e=!1,o=!1){super(),this.usingCheckDigit=e,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,o,h){let x=this.counters;x.fill(0),this.decodeRowResult="";let E=bt.findAsteriskPattern(o,x),N=o.getNextSet(E[1]),P=o.getSize(),G,Z;do{bt.recordPattern(o,N,x);let Le=bt.toNarrowWidePattern(x);if(Le<0)throw new A;G=bt.patternToChar(Le),this.decodeRowResult+=G,Z=N;for(let Xe of x)N+=Xe;N=o.getNextSet(N)}while(G!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let oe=0;for(let Le of x)oe+=Le;let fe=N-Z-oe;if(N!==P&&fe*2<oe)throw new A;if(this.usingCheckDigit){let Le=this.decodeRowResult.length-1,Xe=0;for(let Ke=0;Ke<Le;Ke++)Xe+=bt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ke));if(this.decodeRowResult.charAt(Le)!==bt.ALPHABET_STRING.charAt(Xe%43))throw new l;this.decodeRowResult=this.decodeRowResult.substring(0,Le)}if(this.decodeRowResult.length===0)throw new A;let ge;this.extendedMode?ge=bt.decodeExtended(this.decodeRowResult):ge=this.decodeRowResult;let Ce=(E[1]+E[0])/2,Be=Z+oe/2;return new ne(ge,null,0,[new ke(Ce,e),new ke(Be,e)],H.CODE_39,new Date().getTime())}static findAsteriskPattern(e,o){let h=e.getSize(),x=e.getNextSet(0),E=0,N=x,P=!1,G=o.length;for(let Z=x;Z<h;Z++)if(e.get(Z)!==P)o[E]++;else{if(E===G-1){if(this.toNarrowWidePattern(o)===bt.ASTERISK_ENCODING&&e.isRange(Math.max(0,N-Math.floor((Z-N)/2)),N,!1))return[N,Z];N+=o[0]+o[1],o.copyWithin(0,2,2+E-1),o[E-1]=0,o[E]=0,E--}else E++;o[E]=1,P=!P}throw new A}static toNarrowWidePattern(e){let o=e.length,h=0,x;do{let E=2147483647;for(let G of e)G<E&&G>h&&(E=G);h=E,x=0;let N=0,P=0;for(let G=0;G<o;G++){let Z=e[G];Z>h&&(P|=1<<o-1-G,x++,N+=Z)}if(x===3){for(let G=0;G<o&&x>0;G++){let Z=e[G];if(Z>h&&(x--,Z*2>=N))return-1}return P}}while(x>3);return-1}static patternToChar(e){for(let o=0;o<bt.CHARACTER_ENCODINGS.length;o++)if(bt.CHARACTER_ENCODINGS[o]===e)return bt.ALPHABET_STRING.charAt(o);if(e===bt.ASTERISK_ENCODING)return"*";throw new A}static decodeExtended(e){let o=e.length,h="";for(let x=0;x<o;x++){let E=e.charAt(x);if(E==="+"||E==="$"||E==="%"||E==="/"){let N=e.charAt(x+1),P="\0";switch(E){case"+":if(N>="A"&&N<="Z")P=String.fromCharCode(N.charCodeAt(0)+32);else throw new Y;break;case"$":if(N>="A"&&N<="Z")P=String.fromCharCode(N.charCodeAt(0)-64);else throw new Y;break;case"%":if(N>="A"&&N<="E")P=String.fromCharCode(N.charCodeAt(0)-38);else if(N>="F"&&N<="J")P=String.fromCharCode(N.charCodeAt(0)-11);else if(N>="K"&&N<="O")P=String.fromCharCode(N.charCodeAt(0)+16);else if(N>="P"&&N<="T")P=String.fromCharCode(N.charCodeAt(0)+43);else if(N==="U")P="\0";else if(N==="V")P="@";else if(N==="W")P="`";else if(N==="X"||N==="Y"||N==="Z")P="";else throw new Y;break;case"/":if(N>="A"&&N<="O")P=String.fromCharCode(N.charCodeAt(0)-32);else if(N==="Z")P=":";else throw new Y;break}h+=P,x++}else h+=E}return h}}bt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",bt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],bt.ASTERISK_ENCODING=148;class Et extends ft{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,o,h){let x=this.decodeStart(o),E=this.decodeEnd(o),N=new D;Et.decodeMiddle(o,x[1],E[0],N);let P=N.toString(),G=null;h!=null&&(G=h.get(X.ALLOWED_LENGTHS)),G==null&&(G=Et.DEFAULT_ALLOWED_LENGTHS);let Z=P.length,oe=!1,fe=0;for(let Be of G){if(Z===Be){oe=!0;break}Be>fe&&(fe=Be)}if(!oe&&Z>fe&&(oe=!0),!oe)throw new Y;const ge=[new ke(x[1],e),new ke(E[0],e)];return new ne(P,null,0,ge,H.ITF,new Date().getTime())}static decodeMiddle(e,o,h,x){let E=new Int32Array(10),N=new Int32Array(5),P=new Int32Array(5);for(E.fill(0),N.fill(0),P.fill(0);o<h;){ft.recordPattern(e,o,E);for(let Z=0;Z<5;Z++){let oe=2*Z;N[Z]=E[oe],P[Z]=E[oe+1]}let G=Et.decodeDigit(N);x.append(G.toString()),G=this.decodeDigit(P),x.append(G.toString()),E.forEach(function(Z){o+=Z})}}decodeStart(e){let o=Et.skipWhiteSpace(e),h=Et.findGuardPattern(e,o,Et.START_PATTERN);return this.narrowLineWidth=(h[1]-h[0])/4,this.validateQuietZone(e,h[0]),h}validateQuietZone(e,o){let h=this.narrowLineWidth*10;h=h<o?h:o;for(let x=o-1;h>0&&x>=0&&!e.get(x);x--)h--;if(h!==0)throw new A}static skipWhiteSpace(e){const o=e.getSize(),h=e.getNextSet(0);if(h===o)throw new A;return h}decodeEnd(e){e.reverse();try{let o=Et.skipWhiteSpace(e),h;try{h=Et.findGuardPattern(e,o,Et.END_PATTERN_REVERSED[0])}catch(E){E instanceof A&&(h=Et.findGuardPattern(e,o,Et.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,h[0]);let x=h[0];return h[0]=e.getSize()-h[1],h[1]=e.getSize()-x,h}finally{e.reverse()}}static findGuardPattern(e,o,h){let x=h.length,E=new Int32Array(x),N=e.getSize(),P=!1,G=0,Z=o;E.fill(0);for(let oe=o;oe<N;oe++)if(e.get(oe)!==P)E[G]++;else{if(G===x-1){if(ft.patternMatchVariance(E,h,Et.MAX_INDIVIDUAL_VARIANCE)<Et.MAX_AVG_VARIANCE)return[Z,oe];Z+=E[0]+E[1],b.arraycopy(E,2,E,0,G-1),E[G-1]=0,E[G]=0,G--}else G++;E[G]=1,P=!P}throw new A}static decodeDigit(e){let o=Et.MAX_AVG_VARIANCE,h=-1,x=Et.PATTERNS.length;for(let E=0;E<x;E++){let N=Et.PATTERNS[E],P=ft.patternMatchVariance(e,N,Et.MAX_INDIVIDUAL_VARIANCE);P<o?(o=P,h=E):P===o&&(h=-1)}if(h>=0)return h%10;throw new A}}Et.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Et.MAX_AVG_VARIANCE=.38,Et.MAX_INDIVIDUAL_VARIANCE=.5,Et.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Et.START_PATTERN=Int32Array.from([1,1,1,1]),Et.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class yt extends ft{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let o=!1,h,x=0,E=Int32Array.from([0,0,0]);for(;!o;){E=Int32Array.from([0,0,0]),h=yt.findGuardPattern(e,x,!1,this.START_END_PATTERN,E);let N=h[0];x=h[1];let P=N-(x-N);P>=0&&(o=e.isRange(P,N,!1))}return h}static checkChecksum(e){return yt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let o=e.length;if(o===0)return!1;let h=parseInt(e.charAt(o-1),10);return yt.getStandardUPCEANChecksum(e.substring(0,o-1))===h}static getStandardUPCEANChecksum(e){let o=e.length,h=0;for(let x=o-1;x>=0;x-=2){let E=e.charAt(x).charCodeAt(0)-48;if(E<0||E>9)throw new Y;h+=E}h*=3;for(let x=o-2;x>=0;x-=2){let E=e.charAt(x).charCodeAt(0)-48;if(E<0||E>9)throw new Y;h+=E}return(1e3-h)%10}static decodeEnd(e,o){return yt.findGuardPattern(e,o,!1,yt.START_END_PATTERN,new Int32Array(yt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,o,h,x){return this.findGuardPattern(e,o,h,x,new Int32Array(x.length))}static findGuardPattern(e,o,h,x,E){let N=e.getSize();o=h?e.getNextUnset(o):e.getNextSet(o);let P=0,G=o,Z=x.length,oe=h;for(let fe=o;fe<N;fe++)if(e.get(fe)!==oe)E[P]++;else{if(P===Z-1){if(ft.patternMatchVariance(E,x,yt.MAX_INDIVIDUAL_VARIANCE)<yt.MAX_AVG_VARIANCE)return Int32Array.from([G,fe]);G+=E[0]+E[1];let ge=E.slice(2,E.length-1);for(let Ce=0;Ce<P-1;Ce++)E[Ce]=ge[Ce];E[P-1]=0,E[P]=0,P--}else P++;E[P]=1,oe=!oe}throw new A}static decodeDigit(e,o,h,x){this.recordPattern(e,h,o);let E=this.MAX_AVG_VARIANCE,N=-1,P=x.length;for(let G=0;G<P;G++){let Z=x[G],oe=ft.patternMatchVariance(o,Z,yt.MAX_INDIVIDUAL_VARIANCE);oe<E&&(E=oe,N=G)}if(N>=0)return N;throw new A}}yt.MAX_AVG_VARIANCE=.48,yt.MAX_INDIVIDUAL_VARIANCE=.7,yt.START_END_PATTERN=Int32Array.from([1,1,1]),yt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),yt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),yt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class fr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,o,h){let x=this.decodeRowStringBuffer,E=this.decodeMiddle(o,h,x),N=x.toString(),P=fr.parseExtensionString(N),G=[new ke((h[0]+h[1])/2,e),new ke(E,e)],Z=new ne(N,null,0,G,H.UPC_EAN_EXTENSION,new Date().getTime());return P!=null&&Z.putAllMetadata(P),Z}decodeMiddle(e,o,h){let x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let E=e.getSize(),N=o[1],P=0;for(let Z=0;Z<5&&N<E;Z++){let oe=yt.decodeDigit(e,x,N,yt.L_AND_G_PATTERNS);h+=String.fromCharCode(48+oe%10);for(let fe of x)N+=fe;oe>=10&&(P|=1<<4-Z),Z!==4&&(N=e.getNextSet(N),N=e.getNextUnset(N))}if(h.length!==5)throw new A;let G=this.determineCheckDigit(P);if(fr.extensionChecksum(h.toString())!==G)throw new A;return N}static extensionChecksum(e){let o=e.length,h=0;for(let x=o-2;x>=0;x-=2)h+=e.charAt(x).charCodeAt(0)-48;h*=3;for(let x=o-1;x>=0;x-=2)h+=e.charAt(x).charCodeAt(0)-48;return h*=3,h%10}determineCheckDigit(e){for(let o=0;o<10;o++)if(e===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new A}static parseExtensionString(e){if(e.length!==5)return null;let o=fr.parseExtension5String(e);return o==null?null:new Map([[U.SUGGESTED_PRICE,o]])}static parseExtension5String(e){let o;switch(e.charAt(0)){case"0":o="£";break;case"5":o="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let h=parseInt(e.substring(1)),x=(h/100).toString(),E=h%100,N=E<10?"0"+E:E.toString();return o+x+"."+N}}class _r{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,o,h){let x=this.decodeRowStringBuffer,E=this.decodeMiddle(o,h,x),N=x.toString(),P=_r.parseExtensionString(N),G=[new ke((h[0]+h[1])/2,e),new ke(E,e)],Z=new ne(N,null,0,G,H.UPC_EAN_EXTENSION,new Date().getTime());return P!=null&&Z.putAllMetadata(P),Z}decodeMiddle(e,o,h){let x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let E=e.getSize(),N=o[1],P=0;for(let G=0;G<2&&N<E;G++){let Z=yt.decodeDigit(e,x,N,yt.L_AND_G_PATTERNS);h+=String.fromCharCode(48+Z%10);for(let oe of x)N+=oe;Z>=10&&(P|=1<<1-G),G!==1&&(N=e.getNextSet(N),N=e.getNextUnset(N))}if(h.length!==2)throw new A;if(parseInt(h.toString())%4!==P)throw new A;return N}static parseExtensionString(e){return e.length!==2?null:new Map([[U.ISSUE_NUMBER,parseInt(e)]])}}class Lt{static decodeRow(e,o,h){let x=yt.findGuardPattern(o,h,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new fr().decodeRow(e,o,x)}catch{return new _r().decodeRow(e,o,x)}}}Lt.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Dt extends yt{constructor(){super(),this.decodeRowStringBuffer="",Dt.L_AND_G_PATTERNS=Dt.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let o=Dt.L_PATTERNS[e-10],h=new Int32Array(o.length);for(let x=0;x<o.length;x++)h[x]=o[o.length-x-1];Dt.L_AND_G_PATTERNS[e]=h}}decodeRow(e,o,h){let x=Dt.findStartGuardPattern(o),E=h==null?null:h.get(X.NEED_RESULT_POINT_CALLBACK);if(E!=null){const pt=new ke((x[0]+x[1])/2,e);E.foundPossibleResultPoint(pt)}let N=this.decodeMiddle(o,x,this.decodeRowStringBuffer),P=N.rowOffset,G=N.resultString;if(E!=null){const pt=new ke(P,e);E.foundPossibleResultPoint(pt)}let Z=this.decodeEnd(o,P);if(E!=null){const pt=new ke((Z[0]+Z[1])/2,e);E.foundPossibleResultPoint(pt)}let oe=Z[1],fe=oe+(oe-Z[0]);if(fe>=o.getSize()||!o.isRange(oe,fe,!1))throw new A;let ge=G.toString();if(ge.length<8)throw new Y;if(!Dt.checkChecksum(ge))throw new l;let Ce=(x[1]+x[0])/2,Be=(Z[1]+Z[0])/2,Le=this.getBarcodeFormat(),Xe=[new ke(Ce,e),new ke(Be,e)],Ke=new ne(ge,null,0,Xe,Le,new Date().getTime()),St=0;try{let pt=Lt.decodeRow(e,o,Z[1]);Ke.putMetadata(U.UPC_EAN_EXTENSION,pt.getText()),Ke.putAllMetadata(pt.getResultMetadata()),Ke.addResultPoints(pt.getResultPoints()),St=pt.getText().length}catch{}let At=h==null?null:h.get(X.ALLOWED_EAN_EXTENSIONS);if(At!=null){let pt=!1;for(let Er in At)if(St.toString()===Er){pt=!0;break}if(!pt)throw new A}return Ke}decodeEnd(e,o){return Dt.findGuardPattern(e,o,!1,Dt.START_END_PATTERN,new Int32Array(Dt.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return Dt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let o=e.length;if(o===0)return!1;let h=parseInt(e.charAt(o-1),10);return Dt.getStandardUPCEANChecksum(e.substring(0,o-1))===h}static getStandardUPCEANChecksum(e){let o=e.length,h=0;for(let x=o-1;x>=0;x-=2){let E=e.charAt(x).charCodeAt(0)-48;if(E<0||E>9)throw new Y;h+=E}h*=3;for(let x=o-2;x>=0;x-=2){let E=e.charAt(x).charCodeAt(0)-48;if(E<0||E>9)throw new Y;h+=E}return(1e3-h)%10}}class ir extends Dt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,o,h){let x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let E=e.getSize(),N=o[1],P=0;for(let Z=0;Z<6&&N<E;Z++){let oe=Dt.decodeDigit(e,x,N,Dt.L_AND_G_PATTERNS);h+=String.fromCharCode(48+oe%10);for(let fe of x)N+=fe;oe>=10&&(P|=1<<5-Z)}h=ir.determineFirstDigit(h,P),N=Dt.findGuardPattern(e,N,!0,Dt.MIDDLE_PATTERN,new Int32Array(Dt.MIDDLE_PATTERN.length).fill(0))[1];for(let Z=0;Z<6&&N<E;Z++){let oe=Dt.decodeDigit(e,x,N,Dt.L_PATTERNS);h+=String.fromCharCode(48+oe);for(let fe of x)N+=fe}return{rowOffset:N,resultString:h}}getBarcodeFormat(){return H.EAN_13}static determineFirstDigit(e,o){for(let h=0;h<10;h++)if(o===this.FIRST_DIGIT_ENCODINGS[h])return e=String.fromCharCode(48+h)+e,e;throw new A}}ir.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class rr extends Dt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,o,h){const x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let E=e.getSize(),N=o[1];for(let G=0;G<4&&N<E;G++){let Z=Dt.decodeDigit(e,x,N,Dt.L_PATTERNS);h+=String.fromCharCode(48+Z);for(let oe of x)N+=oe}N=Dt.findGuardPattern(e,N,!0,Dt.MIDDLE_PATTERN,new Int32Array(Dt.MIDDLE_PATTERN.length).fill(0))[1];for(let G=0;G<4&&N<E;G++){let Z=Dt.decodeDigit(e,x,N,Dt.L_PATTERNS);h+=String.fromCharCode(48+Z);for(let oe of x)N+=oe}return{rowOffset:N,resultString:h}}getBarcodeFormat(){return H.EAN_8}}class kr extends Dt{constructor(){super(...arguments),this.ean13Reader=new ir}getBarcodeFormat(){return H.UPC_A}decode(e,o){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,o,h){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,o,h))}decodeMiddle(e,o,h){return this.ean13Reader.decodeMiddle(e,o,h)}maybeReturnResult(e){let o=e.getText();if(o.charAt(0)==="0"){let h=new ne(o.substring(1),null,null,e.getResultPoints(),H.UPC_A);return e.getResultMetadata()!=null&&h.putAllMetadata(e.getResultMetadata()),h}else throw new A}reset(){this.ean13Reader.reset()}}class hr extends Dt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,o,h){const x=this.decodeMiddleCounters.map(Z=>Z);x[0]=0,x[1]=0,x[2]=0,x[3]=0;const E=e.getSize();let N=o[1],P=0;for(let Z=0;Z<6&&N<E;Z++){const oe=hr.decodeDigit(e,x,N,hr.L_AND_G_PATTERNS);h+=String.fromCharCode(48+oe%10);for(let fe of x)N+=fe;oe>=10&&(P|=1<<5-Z)}let G=hr.determineNumSysAndCheckDigit(h,P);return{rowOffset:N,resultString:G}}decodeEnd(e,o){return hr.findGuardPatternWithoutCounters(e,o,!0,hr.MIDDLE_END_PATTERN)}checkChecksum(e){return Dt.checkChecksum(hr.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,o){for(let h=0;h<=1;h++)for(let x=0;x<10;x++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[h][x]){let E=String.fromCharCode(48+h),N=String.fromCharCode(48+x);return E+e+N}throw A.getNotFoundInstance()}getBarcodeFormat(){return H.UPC_E}static convertUPCEtoUPCA(e){const o=e.slice(1,7).split("").map(E=>E.charCodeAt(0)),h=new D;h.append(e.charAt(0));let x=o[5];switch(x){case 0:case 1:case 2:h.appendChars(o,0,2),h.append(x),h.append("0000"),h.appendChars(o,2,3);break;case 3:h.appendChars(o,0,3),h.append("00000"),h.appendChars(o,3,2);break;case 4:h.appendChars(o,0,4),h.append("00000"),h.append(o[4]);break;default:h.appendChars(o,0,5),h.append("0000"),h.append(x);break}return e.length>=8&&h.append(e.charAt(7)),h.toString()}}hr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),hr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Yt extends ft{constructor(e){super();let o=e==null?null:e.get(X.POSSIBLE_FORMATS),h=[];I(o)?(h.push(new ir),h.push(new kr),h.push(new rr),h.push(new hr)):(o.indexOf(H.EAN_13)>-1&&h.push(new ir),o.indexOf(H.UPC_A)>-1&&h.push(new kr),o.indexOf(H.EAN_8)>-1&&h.push(new rr),o.indexOf(H.UPC_E)>-1&&h.push(new hr)),this.readers=h}decodeRow(e,o,h){for(let x of this.readers)try{const E=x.decodeRow(e,o,h),N=E.getBarcodeFormat()===H.EAN_13&&E.getText().charAt(0)==="0",P=h==null?null:h.get(X.POSSIBLE_FORMATS),G=P==null||P.includes(H.UPC_A);if(N&&G){const Z=E.getRawBytes(),oe=new ne(E.getText().substring(1),Z,Z?Z.length:null,E.getResultPoints(),H.UPC_A);return oe.putAllMetadata(E.getResultMetadata()),oe}return E}catch{}throw new A}reset(){for(let e of this.readers)e.reset()}}class Jt extends ft{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,o){for(let h=0;h<o.length;h++)if(ft.patternMatchVariance(e,o[h],Jt.MAX_INDIVIDUAL_VARIANCE)<Jt.MAX_AVG_VARIANCE)return h;throw new A}static count(e){return Se.sum(new Int32Array(e))}static increment(e,o){let h=0,x=o[0];for(let E=1;E<e.length;E++)o[E]>x&&(x=o[E],h=E);e[h]++}static decrement(e,o){let h=0,x=o[0];for(let E=1;E<e.length;E++)o[E]<x&&(x=o[E],h=E);e[h]--}static isFinderPattern(e){let o=e[0]+e[1],h=o+e[2]+e[3],x=o/h;if(x>=Jt.MIN_FINDER_PATTERN_RATIO&&x<=Jt.MAX_FINDER_PATTERN_RATIO){let E=Number.MAX_SAFE_INTEGER,N=Number.MIN_SAFE_INTEGER;for(let P of e)P>N&&(N=P),P<E&&(E=P);return N<10*E}return!1}}Jt.MAX_AVG_VARIANCE=.2,Jt.MAX_INDIVIDUAL_VARIANCE=.45,Jt.MIN_FINDER_PATTERN_RATIO=9.5/12,Jt.MAX_FINDER_PATTERN_RATIO=12.5/14;class vr{constructor(e,o){this.value=e,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof vr))return!1;const o=e;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Kt{constructor(e,o,h,x,E){this.value=e,this.startEnd=o,this.value=e,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new ke(h,E)),this.resultPoints.push(new ke(x,E))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Kt))return!1;const o=e;return this.value===o.value}hashCode(){return this.value}}class ur{constructor(){}static getRSSvalue(e,o,h){let x=0;for(let G of e)x+=G;let E=0,N=0,P=e.length;for(let G=0;G<P-1;G++){let Z;for(Z=1,N|=1<<G;Z<e[G];Z++,N&=~(1<<G)){let oe=ur.combins(x-Z-1,P-G-2);if(h&&N===0&&x-Z-(P-G-1)>=P-G-1&&(oe-=ur.combins(x-Z-(P-G),P-G-2)),P-G-1>1){let fe=0;for(let ge=x-Z-(P-G-2);ge>o;ge--)fe+=ur.combins(x-Z-ge-1,P-G-3);oe-=fe*(P-1-G)}else x-Z>o&&oe--;E+=oe}x-=Z}return E}static combins(e,o){let h,x;e-o>o?(x=o,h=e-o):(x=e-o,h=o);let E=1,N=1;for(let P=e;P>h;P--)E*=P,N<=x&&(E/=N,N++);for(;N<=x;)E/=N,N++;return E}}class Ar{static buildBitArray(e){let o=e.length*2-1;e[e.length-1].getRightChar()==null&&(o-=1);let h=12*o,x=new M(h),E=0,P=e[0].getRightChar().getValue();for(let G=11;G>=0;--G)(P&1<<G)!=0&&x.set(E),E++;for(let G=1;G<e.length;++G){let Z=e[G],oe=Z.getLeftChar().getValue();for(let fe=11;fe>=0;--fe)(oe&1<<fe)!=0&&x.set(E),E++;if(Z.getRightChar()!=null){let fe=Z.getRightChar().getValue();for(let ge=11;ge>=0;--ge)(fe&1<<ge)!=0&&x.set(E),E++}}return x}}class $t{constructor(e,o){o?this.decodedInformation=null:(this.finished=e,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Oe{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class He extends Oe{constructor(e,o){super(e),this.value=o}getValue(){return this.value}isFNC1(){return this.value===He.FNC1}}He.FNC1="$";class et extends Oe{constructor(e,o,h){super(e),h?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class ht extends Oe{constructor(e,o,h){if(super(e),o<0||o>10||h<0||h>10)throw new Y;this.firstDigit=o,this.secondDigit=h}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===ht.FNC1}isSecondDigitFNC1(){return this.secondDigit===ht.FNC1}isAnyFNC1(){return this.firstDigit===ht.FNC1||this.secondDigit===ht.FNC1}}ht.FNC1=10;class it{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new A;let o=e.substring(0,2);for(let E of it.TWO_DIGIT_DATA_LENGTH)if(E[0]===o)return E[1]===it.VARIABLE_LENGTH?it.processVariableAI(2,E[2],e):it.processFixedAI(2,E[1],e);if(e.length<3)throw new A;let h=e.substring(0,3);for(let E of it.THREE_DIGIT_DATA_LENGTH)if(E[0]===h)return E[1]===it.VARIABLE_LENGTH?it.processVariableAI(3,E[2],e):it.processFixedAI(3,E[1],e);for(let E of it.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(E[0]===h)return E[1]===it.VARIABLE_LENGTH?it.processVariableAI(4,E[2],e):it.processFixedAI(4,E[1],e);if(e.length<4)throw new A;let x=e.substring(0,4);for(let E of it.FOUR_DIGIT_DATA_LENGTH)if(E[0]===x)return E[1]===it.VARIABLE_LENGTH?it.processVariableAI(4,E[2],e):it.processFixedAI(4,E[1],e);throw new A}static processFixedAI(e,o,h){if(h.length<e)throw new A;let x=h.substring(0,e);if(h.length<e+o)throw new A;let E=h.substring(e,e+o),N=h.substring(e+o),P="("+x+")"+E,G=it.parseFieldsInGeneralPurpose(N);return G==null?P:P+G}static processVariableAI(e,o,h){let x=h.substring(0,e),E;h.length<e+o?E=h.length:E=e+o;let N=h.substring(e,E),P=h.substring(E),G="("+x+")"+N,Z=it.parseFieldsInGeneralPurpose(P);return Z==null?G:G+Z}}it.VARIABLE_LENGTH=[],it.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",it.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",it.VARIABLE_LENGTH,20],["22",it.VARIABLE_LENGTH,29],["30",it.VARIABLE_LENGTH,8],["37",it.VARIABLE_LENGTH,8],["90",it.VARIABLE_LENGTH,30],["91",it.VARIABLE_LENGTH,30],["92",it.VARIABLE_LENGTH,30],["93",it.VARIABLE_LENGTH,30],["94",it.VARIABLE_LENGTH,30],["95",it.VARIABLE_LENGTH,30],["96",it.VARIABLE_LENGTH,30],["97",it.VARIABLE_LENGTH,3],["98",it.VARIABLE_LENGTH,30],["99",it.VARIABLE_LENGTH,30]],it.THREE_DIGIT_DATA_LENGTH=[["240",it.VARIABLE_LENGTH,30],["241",it.VARIABLE_LENGTH,30],["242",it.VARIABLE_LENGTH,6],["250",it.VARIABLE_LENGTH,30],["251",it.VARIABLE_LENGTH,30],["253",it.VARIABLE_LENGTH,17],["254",it.VARIABLE_LENGTH,20],["400",it.VARIABLE_LENGTH,30],["401",it.VARIABLE_LENGTH,30],["402",17],["403",it.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",it.VARIABLE_LENGTH,20],["421",it.VARIABLE_LENGTH,15],["422",3],["423",it.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],it.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",it.VARIABLE_LENGTH,15],["391",it.VARIABLE_LENGTH,18],["392",it.VARIABLE_LENGTH,15],["393",it.VARIABLE_LENGTH,18],["703",it.VARIABLE_LENGTH,30]],it.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",it.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",it.VARIABLE_LENGTH,20],["8003",it.VARIABLE_LENGTH,30],["8004",it.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",it.VARIABLE_LENGTH,30],["8008",it.VARIABLE_LENGTH,12],["8018",18],["8020",it.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",it.VARIABLE_LENGTH,70],["8200",it.VARIABLE_LENGTH,70]];class kt{constructor(e){this.buffer=new D,this.information=e}decodeAllCodes(e,o){let h=o,x=null;do{let E=this.decodeGeneralPurposeField(h,x),N=it.parseFieldsInGeneralPurpose(E.getNewString());if(N!=null&&e.append(N),E.isRemaining()?x=""+E.getRemainingValue():x=null,h===E.getNewPosition())break;h=E.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let o=e;o<e+3;++o)if(this.information.get(o))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let E=this.extractNumericValueFromBitArray(e,4);return E===0?new ht(this.information.getSize(),ht.FNC1,ht.FNC1):new ht(this.information.getSize(),E-1,ht.FNC1)}let o=this.extractNumericValueFromBitArray(e,7),h=(o-8)/11,x=(o-8)%11;return new ht(e+7,h,x)}extractNumericValueFromBitArray(e,o){return kt.extractNumericValueFromBitArray(this.information,e,o)}static extractNumericValueFromBitArray(e,o,h){let x=0;for(let E=0;E<h;++E)e.get(o+E)&&(x|=1<<h-E-1);return x}decodeGeneralPurposeField(e,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(e);let h=this.parseBlocks();return h!=null&&h.isRemaining()?new et(this.current.getPosition(),this.buffer.toString(),h.getRemainingValue()):new et(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,o;do{let h=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),e=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),e=o.isFinished()):(o=this.parseNumericBlock(),e=o.isFinished()),!(h!==this.current.getPosition())&&!e)break}while(!e);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let o;return e.isSecondDigitFNC1()?o=new et(this.current.getPosition(),this.buffer.toString()):o=new et(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new $t(!0,o)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let o=new et(this.current.getPosition(),this.buffer.toString());return new $t(!0,o)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new $t(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let o=new et(this.current.getPosition(),this.buffer.toString());return new $t(!0,o)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new $t(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let o=new et(this.current.getPosition(),this.buffer.toString());return new $t(!0,o)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new $t(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(e,5);if(o>=5&&o<16)return!0;if(e+7>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(e,7);if(h>=64&&h<116)return!0;if(e+8>this.information.getSize())return!1;let x=this.extractNumericValueFromBitArray(e,8);return x>=232&&x<253}decodeIsoIec646(e){let o=this.extractNumericValueFromBitArray(e,5);if(o===15)return new He(e+5,He.FNC1);if(o>=5&&o<15)return new He(e+5,"0"+(o-5));let h=this.extractNumericValueFromBitArray(e,7);if(h>=64&&h<90)return new He(e+7,""+(h+1));if(h>=90&&h<116)return new He(e+7,""+(h+7));let x=this.extractNumericValueFromBitArray(e,8),E;switch(x){case 232:E="!";break;case 233:E='"';break;case 234:E="%";break;case 235:E="&";break;case 236:E="'";break;case 237:E="(";break;case 238:E=")";break;case 239:E="*";break;case 240:E="+";break;case 241:E=",";break;case 242:E="-";break;case 243:E=".";break;case 244:E="/";break;case 245:E=":";break;case 246:E=";";break;case 247:E="<";break;case 248:E="=";break;case 249:E=">";break;case 250:E="?";break;case 251:E="_";break;case 252:E=" ";break;default:throw new Y}return new He(e+8,E)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(e,5);if(o>=5&&o<16)return!0;if(e+6>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(e,6);return h>=16&&h<63}decodeAlphanumeric(e){let o=this.extractNumericValueFromBitArray(e,5);if(o===15)return new He(e+5,He.FNC1);if(o>=5&&o<15)return new He(e+5,"0"+(o-5));let h=this.extractNumericValueFromBitArray(e,6);if(h>=32&&h<58)return new He(e+6,""+(h+33));let x;switch(h){case 58:x="*";break;case 59:x=",";break;case 60:x="-";break;case 61:x=".";break;case 62:x="/";break;default:throw new _e("Decoding invalid alphanumeric value: "+h)}return new He(e+6,x)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let o=0;o<5&&o+e<this.information.getSize();++o)if(o===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+o))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let o=e;o<e+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let o=0;o<4&&o+e<this.information.getSize();++o)if(this.information.get(e+o))return!1;return!0}}class er{constructor(e){this.information=e,this.generalDecoder=new kt(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class jt extends er{constructor(e){super(e)}encodeCompressedGtin(e,o){e.append("(01)");let h=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,o,h)}encodeCompressedGtinWithoutAI(e,o,h){for(let x=0;x<4;++x){let E=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*x,10);E/100===0&&e.append("0"),E/10===0&&e.append("0"),e.append(E)}jt.appendCheckDigit(e,h)}static appendCheckDigit(e,o){let h=0;for(let x=0;x<13;x++){let E=e.charAt(x+o).charCodeAt(0)-48;h+=(x&1)===0?3*E:E}h=10-h%10,h===10&&(h=0),e.append(h)}}jt.GTIN_SIZE=40;class Pt extends jt{constructor(e){super(e)}parseInformation(){let e=new D;e.append("(01)");let o=e.length(),h=this.getGeneralDecoder().extractNumericValueFromBitArray(Pt.HEADER_SIZE,4);return e.append(h),this.encodeCompressedGtinWithoutAI(e,Pt.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(e,Pt.HEADER_SIZE+44)}}Pt.HEADER_SIZE=4;class nr extends er{constructor(e){super(e)}parseInformation(){let e=new D;return this.getGeneralDecoder().decodeAllCodes(e,nr.HEADER_SIZE)}}nr.HEADER_SIZE=5;class Qt extends jt{constructor(e){super(e)}encodeCompressedWeight(e,o,h){let x=this.getGeneralDecoder().extractNumericValueFromBitArray(o,h);this.addWeightCode(e,x);let E=this.checkWeight(x),N=1e5;for(let P=0;P<5;++P)E/N===0&&e.append("0"),N/=10;e.append(E)}}class sr extends Qt{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=sr.HEADER_SIZE+Qt.GTIN_SIZE+sr.WEIGHT_SIZE)throw new A;let e=new D;return this.encodeCompressedGtin(e,sr.HEADER_SIZE),this.encodeCompressedWeight(e,sr.HEADER_SIZE+Qt.GTIN_SIZE,sr.WEIGHT_SIZE),e.toString()}}sr.HEADER_SIZE=5,sr.WEIGHT_SIZE=15;class jr extends sr{constructor(e){super(e)}addWeightCode(e,o){e.append("(3103)")}checkWeight(e){return e}}class Mr extends sr{constructor(e){super(e)}addWeightCode(e,o){o<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Nr extends jt{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Nr.HEADER_SIZE+jt.GTIN_SIZE)throw new A;let e=new D;this.encodeCompressedGtin(e,Nr.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Nr.HEADER_SIZE+jt.GTIN_SIZE,Nr.LAST_DIGIT_SIZE);e.append("(392"),e.append(o),e.append(")");let h=this.getGeneralDecoder().decodeGeneralPurposeField(Nr.HEADER_SIZE+jt.GTIN_SIZE+Nr.LAST_DIGIT_SIZE,null);return e.append(h.getNewString()),e.toString()}}Nr.HEADER_SIZE=8,Nr.LAST_DIGIT_SIZE=2;class Sr extends jt{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Sr.HEADER_SIZE+jt.GTIN_SIZE)throw new A;let e=new D;this.encodeCompressedGtin(e,Sr.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Sr.HEADER_SIZE+jt.GTIN_SIZE,Sr.LAST_DIGIT_SIZE);e.append("(393"),e.append(o),e.append(")");let h=this.getGeneralDecoder().extractNumericValueFromBitArray(Sr.HEADER_SIZE+jt.GTIN_SIZE+Sr.LAST_DIGIT_SIZE,Sr.FIRST_THREE_DIGITS_SIZE);h/100==0&&e.append("0"),h/10==0&&e.append("0"),e.append(h);let x=this.getGeneralDecoder().decodeGeneralPurposeField(Sr.HEADER_SIZE+jt.GTIN_SIZE+Sr.LAST_DIGIT_SIZE+Sr.FIRST_THREE_DIGITS_SIZE,null);return e.append(x.getNewString()),e.toString()}}Sr.HEADER_SIZE=8,Sr.LAST_DIGIT_SIZE=2,Sr.FIRST_THREE_DIGITS_SIZE=10;class wr extends Qt{constructor(e,o,h){super(e),this.dateCode=h,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=wr.HEADER_SIZE+wr.GTIN_SIZE+wr.WEIGHT_SIZE+wr.DATE_SIZE)throw new A;let e=new D;return this.encodeCompressedGtin(e,wr.HEADER_SIZE),this.encodeCompressedWeight(e,wr.HEADER_SIZE+wr.GTIN_SIZE,wr.WEIGHT_SIZE),this.encodeCompressedDate(e,wr.HEADER_SIZE+wr.GTIN_SIZE+wr.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,o){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(o,wr.DATE_SIZE);if(h==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let x=h%32;h/=32;let E=h%12+1;h/=12;let N=h;N/10==0&&e.append("0"),e.append(N),E/10==0&&e.append("0"),e.append(E),x/10==0&&e.append("0"),e.append(x)}addWeightCode(e,o){e.append("("),e.append(this.firstAIdigits),e.append(o/1e5),e.append(")")}checkWeight(e){return e%1e5}}wr.HEADER_SIZE=8,wr.WEIGHT_SIZE=20,wr.DATE_SIZE=16;function Ee(ue){try{if(ue.get(1))return new Pt(ue);if(!ue.get(2))return new nr(ue);switch(kt.extractNumericValueFromBitArray(ue,1,4)){case 4:return new jr(ue);case 5:return new Mr(ue)}switch(kt.extractNumericValueFromBitArray(ue,1,5)){case 12:return new Nr(ue);case 13:return new Sr(ue)}switch(kt.extractNumericValueFromBitArray(ue,1,7)){case 56:return new wr(ue,"310","11");case 57:return new wr(ue,"320","11");case 58:return new wr(ue,"310","13");case 59:return new wr(ue,"320","13");case 60:return new wr(ue,"310","15");case 61:return new wr(ue,"320","15");case 62:return new wr(ue,"310","17");case 63:return new wr(ue,"320","17")}}catch(e){throw console.log(e),new _e("unknown decoder: "+ue)}}class Fe{constructor(e,o,h,x){this.leftchar=e,this.rightchar=o,this.finderpattern=h,this.maybeLast=x}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,o){return e instanceof Fe?Fe.equalsOrNull(e.leftchar,o.leftchar)&&Fe.equalsOrNull(e.rightchar,o.rightchar)&&Fe.equalsOrNull(e.finderpattern,o.finderpattern):!1}static equalsOrNull(e,o){return e===null?o===null:Fe.equals(e,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class ot{constructor(e,o,h){this.pairs=e,this.rowNumber=o,this.wasReversed=h}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,o){return e instanceof ot?this.checkEqualitity(e,o)&&e.wasReversed===o.wasReversed:!1}checkEqualitity(e,o){if(!e||!o)return;let h;return e.forEach((x,E)=>{o.forEach(N=>{x.getLeftChar().getValue()===N.getLeftChar().getValue()&&x.getRightChar().getValue()===N.getRightChar().getValue()&&x.getFinderPatter().getValue()===N.getFinderPatter().getValue()&&(h=!0)})}),h}}class De extends Jt{constructor(e){super(...arguments),this.pairs=new Array(De.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,o,h){this.pairs.length=0,this.startFromEven=!1;try{return De.constructResult(this.decodeRow2pairs(e,o))}catch(x){this.verbose&&console.log(x)}return this.pairs.length=0,this.startFromEven=!0,De.constructResult(this.decodeRow2pairs(e,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,o){let h=!1;for(;!h;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,e))}catch(E){if(E instanceof A){if(!this.pairs.length)throw new A;h=!0}}if(this.checkChecksum())return this.pairs;let x;if(this.rows.length?x=!0:x=!1,this.storeRow(e,!1),x){let E=this.checkRowsBoolean(!1);if(E!=null||(E=this.checkRowsBoolean(!0),E!=null))return E}throw new A}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(h){this.verbose&&console.log(h)}return e&&(this.rows=this.rows.reverse()),o}checkRows(e,o){for(let h=o;h<this.rows.length;h++){let x=this.rows[h];this.pairs.length=0;for(let N of e)this.pairs.push(N.getPairs());if(this.pairs.push(x.getPairs()),!De.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let E=new Array(e);E.push(x);try{return this.checkRows(E,h+1)}catch(N){this.verbose&&console.log(N)}}throw new A}static isValidSequence(e){for(let o of De.FINDER_PATTERN_SEQUENCES){if(e.length>o.length)continue;let h=!0;for(let x=0;x<e.length;x++)if(e[x].getFinderPattern().getValue()!=o[x]){h=!1;break}if(h)return!0}return!1}storeRow(e,o){let h=0,x=!1,E=!1;for(;h<this.rows.length;){let N=this.rows[h];if(N.getRowNumber()>e){E=N.isEquivalent(this.pairs);break}x=N.isEquivalent(this.pairs),h++}E||x||De.isPartialRow(this.pairs,this.rows)||(this.rows.push(h,new ot(this.pairs,e,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,o){for(let h of o)if(h.getPairs().length!==e.length){for(let x of h.getPairs())for(let E of e)if(Fe.equals(x,E))break}}static isPartialRow(e,o){for(let h of o){let x=!0;for(let E of e){let N=!1;for(let P of h.getPairs())if(E.equals(P)){N=!0;break}if(!N){x=!1;break}}if(x)return!0}return!1}getRows(){return this.rows}static constructResult(e){let o=Ar.buildBitArray(e),x=Ee(o).parseInformation(),E=e[0].getFinderPattern().getResultPoints(),N=e[e.length-1].getFinderPattern().getResultPoints(),P=[E[0],E[1],N[0],N[1]];return new ne(x,null,null,P,H.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),o=e.getLeftChar(),h=e.getRightChar();if(h==null)return!1;let x=h.getChecksumPortion(),E=2;for(let P=1;P<this.pairs.size();++P){let G=this.pairs.get(P);x+=G.getLeftChar().getChecksumPortion(),E++;let Z=G.getRightChar();Z!=null&&(x+=Z.getChecksumPortion(),E++)}return x%=211,211*(E-4)+x==o.getValue()}static getNextSecondBar(e,o){let h;return e.get(o)?(h=e.getNextUnset(o),h=e.getNextSet(h)):(h=e.getNextSet(o),h=e.getNextUnset(h)),h}retrieveNextPair(e,o,h){let x=o.length%2==0;this.startFromEven&&(x=!x);let E,N=!0,P=-1;do this.findNextPair(e,o,P),E=this.parseFoundFinderPattern(e,h,x),E==null?P=De.getNextSecondBar(e,this.startEnd[0]):N=!1;while(N);let G=this.decodeDataCharacter(e,E,x,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new A;let Z;try{Z=this.decodeDataCharacter(e,E,x,!1)}catch(oe){Z=null,this.verbose&&console.log(oe)}return new Fe(G,Z,E,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,o,h){let x=this.getDecodeFinderCounters();x[0]=0,x[1]=0,x[2]=0,x[3]=0;let E=e.getSize(),N;h>=0?N=h:this.isEmptyPair(o)?N=0:N=o[o.length-1].getFinderPattern().getStartEnd()[1];let P=o.length%2!=0;this.startFromEven&&(P=!P);let G=!1;for(;N<E&&(G=!e.get(N),!!G);)N++;let Z=0,oe=N;for(let fe=N;fe<E;fe++)if(e.get(fe)!=G)x[Z]++;else{if(Z==3){if(P&&De.reverseCounters(x),De.isFinderPattern(x)){this.startEnd[0]=oe,this.startEnd[1]=fe;return}P&&De.reverseCounters(x),oe+=x[0]+x[1],x[0]=x[2],x[1]=x[3],x[2]=0,x[3]=0,Z--}else Z++;x[Z]=1,G=!G}throw new A}static reverseCounters(e){let o=e.length;for(let h=0;h<o/2;++h){let x=e[h];e[h]=e[o-h-1],e[o-h-1]=x}}parseFoundFinderPattern(e,o,h){let x,E,N;if(h){let Z=this.startEnd[0]-1;for(;Z>=0&&!e.get(Z);)Z--;Z++,x=this.startEnd[0]-Z,E=Z,N=this.startEnd[1]}else E=this.startEnd[0],N=e.getNextUnset(this.startEnd[1]+1),x=N-this.startEnd[1];let P=this.getDecodeFinderCounters();b.arraycopy(P,0,P,1,P.length-1),P[0]=x;let G;try{G=this.parseFinderValue(P,De.FINDER_PATTERNS)}catch{return null}return new Kt(G,[E,N],E,N,o)}decodeDataCharacter(e,o,h,x){let E=this.getDataCharacterCounters();for(let Br=0;Br<E.length;Br++)E[Br]=0;if(x)De.recordPatternInReverse(e,o.getStartEnd()[0],E);else{De.recordPattern(e,o.getStartEnd()[1],E);for(let Br=0,Kr=E.length-1;Br<Kr;Br++,Kr--){let Cn=E[Br];E[Br]=E[Kr],E[Kr]=Cn}}let N=17,P=Se.sum(new Int32Array(E))/N,G=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(P-G)/G>.3)throw new A;let Z=this.getOddCounts(),oe=this.getEvenCounts(),fe=this.getOddRoundingErrors(),ge=this.getEvenRoundingErrors();for(let Br=0;Br<E.length;Br++){let Kr=1*E[Br]/P,Cn=Kr+.5;if(Cn<1){if(Kr<.3)throw new A;Cn=1}else if(Cn>8){if(Kr>8.7)throw new A;Cn=8}let Ci=Br/2;(Br&1)==0?(Z[Ci]=Cn,fe[Ci]=Kr-Cn):(oe[Ci]=Cn,ge[Ci]=Kr-Cn)}this.adjustOddEvenCounts(N);let Ce=4*o.getValue()+(h?0:2)+(x?0:1)-1,Be=0,Le=0;for(let Br=Z.length-1;Br>=0;Br--){if(De.isNotA1left(o,h,x)){let Kr=De.WEIGHTS[Ce][2*Br];Le+=Z[Br]*Kr}Be+=Z[Br]}let Xe=0;for(let Br=oe.length-1;Br>=0;Br--)if(De.isNotA1left(o,h,x)){let Kr=De.WEIGHTS[Ce][2*Br+1];Xe+=oe[Br]*Kr}let Ke=Le+Xe;if((Be&1)!=0||Be>13||Be<4)throw new A;let St=(13-Be)/2,At=De.SYMBOL_WIDEST[St],pt=9-At,Er=ur.getRSSvalue(Z,At,!0),gr=ur.getRSSvalue(oe,pt,!1),In=De.EVEN_TOTAL_SUBSET[St],qn=De.GSUM[St],on=Er*In+gr+qn;return new vr(on,Ke)}static isNotA1left(e,o,h){return!(e.getValue()==0&&o&&h)}adjustOddEvenCounts(e){let o=Se.sum(new Int32Array(this.getOddCounts())),h=Se.sum(new Int32Array(this.getEvenCounts())),x=!1,E=!1;o>13?E=!0:o<4&&(x=!0);let N=!1,P=!1;h>13?P=!0:h<4&&(N=!0);let G=o+h-e,Z=(o&1)==1,oe=(h&1)==0;if(G==1)if(Z){if(oe)throw new A;E=!0}else{if(!oe)throw new A;P=!0}else if(G==-1)if(Z){if(oe)throw new A;x=!0}else{if(!oe)throw new A;N=!0}else if(G==0){if(Z){if(!oe)throw new A;o<h?(x=!0,P=!0):(E=!0,N=!0)}else if(oe)throw new A}else throw new A;if(x){if(E)throw new A;De.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(E&&De.decrement(this.getOddCounts(),this.getOddRoundingErrors()),N){if(P)throw new A;De.increment(this.getEvenCounts(),this.getOddRoundingErrors())}P&&De.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}De.SYMBOL_WIDEST=[7,5,4,3,1],De.EVEN_TOTAL_SUBSET=[4,20,52,104,204],De.GSUM=[0,348,1388,2948,3988],De.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],De.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],De.FINDER_PAT_A=0,De.FINDER_PAT_B=1,De.FINDER_PAT_C=2,De.FINDER_PAT_D=3,De.FINDER_PAT_E=4,De.FINDER_PAT_F=5,De.FINDER_PATTERN_SEQUENCES=[[De.FINDER_PAT_A,De.FINDER_PAT_A],[De.FINDER_PAT_A,De.FINDER_PAT_B,De.FINDER_PAT_B],[De.FINDER_PAT_A,De.FINDER_PAT_C,De.FINDER_PAT_B,De.FINDER_PAT_D],[De.FINDER_PAT_A,De.FINDER_PAT_E,De.FINDER_PAT_B,De.FINDER_PAT_D,De.FINDER_PAT_C],[De.FINDER_PAT_A,De.FINDER_PAT_E,De.FINDER_PAT_B,De.FINDER_PAT_D,De.FINDER_PAT_D,De.FINDER_PAT_F],[De.FINDER_PAT_A,De.FINDER_PAT_E,De.FINDER_PAT_B,De.FINDER_PAT_D,De.FINDER_PAT_E,De.FINDER_PAT_F,De.FINDER_PAT_F],[De.FINDER_PAT_A,De.FINDER_PAT_A,De.FINDER_PAT_B,De.FINDER_PAT_B,De.FINDER_PAT_C,De.FINDER_PAT_C,De.FINDER_PAT_D,De.FINDER_PAT_D],[De.FINDER_PAT_A,De.FINDER_PAT_A,De.FINDER_PAT_B,De.FINDER_PAT_B,De.FINDER_PAT_C,De.FINDER_PAT_C,De.FINDER_PAT_D,De.FINDER_PAT_E,De.FINDER_PAT_E],[De.FINDER_PAT_A,De.FINDER_PAT_A,De.FINDER_PAT_B,De.FINDER_PAT_B,De.FINDER_PAT_C,De.FINDER_PAT_C,De.FINDER_PAT_D,De.FINDER_PAT_E,De.FINDER_PAT_F,De.FINDER_PAT_F],[De.FINDER_PAT_A,De.FINDER_PAT_A,De.FINDER_PAT_B,De.FINDER_PAT_B,De.FINDER_PAT_C,De.FINDER_PAT_D,De.FINDER_PAT_D,De.FINDER_PAT_E,De.FINDER_PAT_E,De.FINDER_PAT_F,De.FINDER_PAT_F]],De.MAX_PAIRS=11;class zt extends vr{constructor(e,o,h){super(e,o),this.count=0,this.finderPattern=h}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class at extends Jt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,o,h){const x=this.decodePair(o,!1,e,h);at.addOrTally(this.possibleLeftPairs,x),o.reverse();let E=this.decodePair(o,!0,e,h);at.addOrTally(this.possibleRightPairs,E),o.reverse();for(let N of this.possibleLeftPairs)if(N.getCount()>1){for(let P of this.possibleRightPairs)if(P.getCount()>1&&at.checkChecksum(N,P))return at.constructResult(N,P)}throw new A}static addOrTally(e,o){if(o==null)return;let h=!1;for(let x of e)if(x.getValue()===o.getValue()){x.incrementCount(),h=!0;break}h||e.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,o){let h=4537077*e.getValue()+o.getValue(),x=new String(h).toString(),E=new D;for(let Z=13-x.length;Z>0;Z--)E.append("0");E.append(x);let N=0;for(let Z=0;Z<13;Z++){let oe=E.charAt(Z).charCodeAt(0)-48;N+=(Z&1)===0?3*oe:oe}N=10-N%10,N===10&&(N=0),E.append(N.toString());let P=e.getFinderPattern().getResultPoints(),G=o.getFinderPattern().getResultPoints();return new ne(E.toString(),null,0,[P[0],P[1],G[0],G[1]],H.RSS_14,new Date().getTime())}static checkChecksum(e,o){let h=(e.getChecksumPortion()+16*o.getChecksumPortion())%79,x=9*e.getFinderPattern().getValue()+o.getFinderPattern().getValue();return x>72&&x--,x>8&&x--,h===x}decodePair(e,o,h,x){try{let E=this.findFinderPattern(e,o),N=this.parseFoundFinderPattern(e,h,o,E),P=x==null?null:x.get(X.NEED_RESULT_POINT_CALLBACK);if(P!=null){let oe=(E[0]+E[1])/2;o&&(oe=e.getSize()-1-oe),P.foundPossibleResultPoint(new ke(oe,h))}let G=this.decodeDataCharacter(e,N,!0),Z=this.decodeDataCharacter(e,N,!1);return new zt(1597*G.getValue()+Z.getValue(),G.getChecksumPortion()+4*Z.getChecksumPortion(),N)}catch{return null}}decodeDataCharacter(e,o,h){let x=this.getDataCharacterCounters();for(let Xe=0;Xe<x.length;Xe++)x[Xe]=0;if(h)ft.recordPatternInReverse(e,o.getStartEnd()[0],x);else{ft.recordPattern(e,o.getStartEnd()[1]+1,x);for(let Xe=0,Ke=x.length-1;Xe<Ke;Xe++,Ke--){let St=x[Xe];x[Xe]=x[Ke],x[Ke]=St}}let E=h?16:15,N=Se.sum(new Int32Array(x))/E,P=this.getOddCounts(),G=this.getEvenCounts(),Z=this.getOddRoundingErrors(),oe=this.getEvenRoundingErrors();for(let Xe=0;Xe<x.length;Xe++){let Ke=x[Xe]/N,St=Math.floor(Ke+.5);St<1?St=1:St>8&&(St=8);let At=Math.floor(Xe/2);(Xe&1)===0?(P[At]=St,Z[At]=Ke-St):(G[At]=St,oe[At]=Ke-St)}this.adjustOddEvenCounts(h,E);let fe=0,ge=0;for(let Xe=P.length-1;Xe>=0;Xe--)ge*=9,ge+=P[Xe],fe+=P[Xe];let Ce=0,Be=0;for(let Xe=G.length-1;Xe>=0;Xe--)Ce*=9,Ce+=G[Xe],Be+=G[Xe];let Le=ge+3*Ce;if(h){if((fe&1)!==0||fe>12||fe<4)throw new A;let Xe=(12-fe)/2,Ke=at.OUTSIDE_ODD_WIDEST[Xe],St=9-Ke,At=ur.getRSSvalue(P,Ke,!1),pt=ur.getRSSvalue(G,St,!0),Er=at.OUTSIDE_EVEN_TOTAL_SUBSET[Xe],gr=at.OUTSIDE_GSUM[Xe];return new vr(At*Er+pt+gr,Le)}else{if((Be&1)!==0||Be>10||Be<4)throw new A;let Xe=(10-Be)/2,Ke=at.INSIDE_ODD_WIDEST[Xe],St=9-Ke,At=ur.getRSSvalue(P,Ke,!0),pt=ur.getRSSvalue(G,St,!1),Er=at.INSIDE_ODD_TOTAL_SUBSET[Xe],gr=at.INSIDE_GSUM[Xe];return new vr(pt*Er+At+gr,Le)}}findFinderPattern(e,o){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let x=e.getSize(),E=!1,N=0;for(;N<x&&(E=!e.get(N),o!==E);)N++;let P=0,G=N;for(let Z=N;Z<x;Z++)if(e.get(Z)!==E)h[P]++;else{if(P===3){if(Jt.isFinderPattern(h))return[G,Z];G+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,P--}else P++;h[P]=1,E=!E}throw new A}parseFoundFinderPattern(e,o,h,x){let E=e.get(x[0]),N=x[0]-1;for(;N>=0&&E!==e.get(N);)N--;N++;const P=x[0]-N,G=this.getDecodeFinderCounters(),Z=new Int32Array(G.length);b.arraycopy(G,0,Z,1,G.length-1),Z[0]=P;const oe=this.parseFinderValue(Z,at.FINDER_PATTERNS);let fe=N,ge=x[1];return h&&(fe=e.getSize()-1-fe,ge=e.getSize()-1-ge),new Kt(oe,[N,x[1]],fe,ge,o)}adjustOddEvenCounts(e,o){let h=Se.sum(new Int32Array(this.getOddCounts())),x=Se.sum(new Int32Array(this.getEvenCounts())),E=!1,N=!1,P=!1,G=!1;e?(h>12?N=!0:h<4&&(E=!0),x>12?G=!0:x<4&&(P=!0)):(h>11?N=!0:h<5&&(E=!0),x>10?G=!0:x<4&&(P=!0));let Z=h+x-o,oe=(h&1)===(e?1:0),fe=(x&1)===1;if(Z===1)if(oe){if(fe)throw new A;N=!0}else{if(!fe)throw new A;G=!0}else if(Z===-1)if(oe){if(fe)throw new A;E=!0}else{if(!fe)throw new A;P=!0}else if(Z===0){if(oe){if(!fe)throw new A;h<x?(E=!0,G=!0):(N=!0,P=!0)}else if(fe)throw new A}else throw new A;if(E){if(N)throw new A;Jt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(N&&Jt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),P){if(G)throw new A;Jt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}G&&Jt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}at.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],at.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],at.OUTSIDE_GSUM=[0,161,961,2015,2715],at.INSIDE_GSUM=[0,336,1036,1516],at.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],at.INSIDE_ODD_WIDEST=[2,4,6,8],at.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class vt extends ft{constructor(e,o){super(),this.readers=[],this.verbose=o===!0;const h=e?e.get(X.POSSIBLE_FORMATS):null,x=e&&e.get(X.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;h?((h.includes(H.EAN_13)||h.includes(H.UPC_A)||h.includes(H.EAN_8)||h.includes(H.UPC_E))&&this.readers.push(new Yt(e)),h.includes(H.CODE_39)&&this.readers.push(new bt(x)),h.includes(H.CODE_128)&&this.readers.push(new Ge),h.includes(H.ITF)&&this.readers.push(new Et),h.includes(H.RSS_14)&&this.readers.push(new at),h.includes(H.RSS_EXPANDED)&&this.readers.push(new De(this.verbose))):(this.readers.push(new Yt(e)),this.readers.push(new bt),this.readers.push(new Yt(e)),this.readers.push(new Ge),this.readers.push(new Et),this.readers.push(new at),this.readers.push(new De(this.verbose)))}decodeRow(e,o,h){for(let x=0;x<this.readers.length;x++)try{return this.readers[x].decodeRow(e,o,h)}catch{}throw new A}reset(){this.readers.forEach(e=>e.reset())}}class xr extends re{constructor(e=500,o){super(new vt(o),e,o)}}class Rt{constructor(e,o,h){this.ecCodewords=e,this.ecBlocks=[o],h&&this.ecBlocks.push(h)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Nt{constructor(e,o){this.count=e,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ct{constructor(e,o,h,x,E,N){this.versionNumber=e,this.symbolSizeRows=o,this.symbolSizeColumns=h,this.dataRegionSizeRows=x,this.dataRegionSizeColumns=E,this.ecBlocks=N;let P=0;const G=N.getECCodewords(),Z=N.getECBlocks();for(let oe of Z)P+=oe.getCount()*(oe.getDataCodewords()+G);this.totalCodewords=P}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,o){if((e&1)!==0||(o&1)!==0)throw new Y;for(let h of Ct.VERSIONS)if(h.symbolSizeRows===e&&h.symbolSizeColumns===o)return h;throw new Y}toString(){return""+this.versionNumber}static buildVersions(){return[new Ct(1,10,10,8,8,new Rt(5,new Nt(1,3))),new Ct(2,12,12,10,10,new Rt(7,new Nt(1,5))),new Ct(3,14,14,12,12,new Rt(10,new Nt(1,8))),new Ct(4,16,16,14,14,new Rt(12,new Nt(1,12))),new Ct(5,18,18,16,16,new Rt(14,new Nt(1,18))),new Ct(6,20,20,18,18,new Rt(18,new Nt(1,22))),new Ct(7,22,22,20,20,new Rt(20,new Nt(1,30))),new Ct(8,24,24,22,22,new Rt(24,new Nt(1,36))),new Ct(9,26,26,24,24,new Rt(28,new Nt(1,44))),new Ct(10,32,32,14,14,new Rt(36,new Nt(1,62))),new Ct(11,36,36,16,16,new Rt(42,new Nt(1,86))),new Ct(12,40,40,18,18,new Rt(48,new Nt(1,114))),new Ct(13,44,44,20,20,new Rt(56,new Nt(1,144))),new Ct(14,48,48,22,22,new Rt(68,new Nt(1,174))),new Ct(15,52,52,24,24,new Rt(42,new Nt(2,102))),new Ct(16,64,64,14,14,new Rt(56,new Nt(2,140))),new Ct(17,72,72,16,16,new Rt(36,new Nt(4,92))),new Ct(18,80,80,18,18,new Rt(48,new Nt(4,114))),new Ct(19,88,88,20,20,new Rt(56,new Nt(4,144))),new Ct(20,96,96,22,22,new Rt(68,new Nt(4,174))),new Ct(21,104,104,24,24,new Rt(56,new Nt(6,136))),new Ct(22,120,120,18,18,new Rt(68,new Nt(6,175))),new Ct(23,132,132,20,20,new Rt(62,new Nt(8,163))),new Ct(24,144,144,22,22,new Rt(62,new Nt(8,156),new Nt(2,155))),new Ct(25,8,18,6,16,new Rt(7,new Nt(1,5))),new Ct(26,8,32,6,14,new Rt(11,new Nt(1,10))),new Ct(27,12,26,10,24,new Rt(14,new Nt(1,16))),new Ct(28,12,36,10,16,new Rt(18,new Nt(1,22))),new Ct(29,16,36,14,16,new Rt(24,new Nt(1,32))),new Ct(30,16,48,14,22,new Rt(28,new Nt(1,49)))]}}Ct.VERSIONS=Ct.buildVersions();class dr{constructor(e){const o=e.getHeight();if(o<8||o>144||(o&1)!==0)throw new Y;this.version=dr.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new F(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const o=e.getHeight(),h=e.getWidth();return Ct.getVersionForDimensions(o,h)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let o=0,h=4,x=0;const E=this.mappingBitMatrix.getHeight(),N=this.mappingBitMatrix.getWidth();let P=!1,G=!1,Z=!1,oe=!1;do if(h===E&&x===0&&!P)e[o++]=this.readCorner1(E,N)&255,h-=2,x+=2,P=!0;else if(h===E-2&&x===0&&(N&3)!==0&&!G)e[o++]=this.readCorner2(E,N)&255,h-=2,x+=2,G=!0;else if(h===E+4&&x===2&&(N&7)===0&&!Z)e[o++]=this.readCorner3(E,N)&255,h-=2,x+=2,Z=!0;else if(h===E-2&&x===0&&(N&7)===4&&!oe)e[o++]=this.readCorner4(E,N)&255,h-=2,x+=2,oe=!0;else{do h<E&&x>=0&&!this.readMappingMatrix.get(x,h)&&(e[o++]=this.readUtah(h,x,E,N)&255),h-=2,x+=2;while(h>=0&&x<N);h+=1,x+=3;do h>=0&&x<N&&!this.readMappingMatrix.get(x,h)&&(e[o++]=this.readUtah(h,x,E,N)&255),h+=2,x-=2;while(h<E&&x>=0);h+=3,x+=1}while(h<E||x<N);if(o!==this.version.getTotalCodewords())throw new Y;return e}readModule(e,o,h,x){return e<0&&(e+=h,o+=4-(h+4&7)),o<0&&(o+=x,e+=4-(x+4&7)),this.readMappingMatrix.set(o,e),this.mappingBitMatrix.get(o,e)}readUtah(e,o,h,x){let E=0;return this.readModule(e-2,o-2,h,x)&&(E|=1),E<<=1,this.readModule(e-2,o-1,h,x)&&(E|=1),E<<=1,this.readModule(e-1,o-2,h,x)&&(E|=1),E<<=1,this.readModule(e-1,o-1,h,x)&&(E|=1),E<<=1,this.readModule(e-1,o,h,x)&&(E|=1),E<<=1,this.readModule(e,o-2,h,x)&&(E|=1),E<<=1,this.readModule(e,o-1,h,x)&&(E|=1),E<<=1,this.readModule(e,o,h,x)&&(E|=1),E}readCorner1(e,o){let h=0;return this.readModule(e-1,0,e,o)&&(h|=1),h<<=1,this.readModule(e-1,1,e,o)&&(h|=1),h<<=1,this.readModule(e-1,2,e,o)&&(h|=1),h<<=1,this.readModule(0,o-2,e,o)&&(h|=1),h<<=1,this.readModule(0,o-1,e,o)&&(h|=1),h<<=1,this.readModule(1,o-1,e,o)&&(h|=1),h<<=1,this.readModule(2,o-1,e,o)&&(h|=1),h<<=1,this.readModule(3,o-1,e,o)&&(h|=1),h}readCorner2(e,o){let h=0;return this.readModule(e-3,0,e,o)&&(h|=1),h<<=1,this.readModule(e-2,0,e,o)&&(h|=1),h<<=1,this.readModule(e-1,0,e,o)&&(h|=1),h<<=1,this.readModule(0,o-4,e,o)&&(h|=1),h<<=1,this.readModule(0,o-3,e,o)&&(h|=1),h<<=1,this.readModule(0,o-2,e,o)&&(h|=1),h<<=1,this.readModule(0,o-1,e,o)&&(h|=1),h<<=1,this.readModule(1,o-1,e,o)&&(h|=1),h}readCorner3(e,o){let h=0;return this.readModule(e-1,0,e,o)&&(h|=1),h<<=1,this.readModule(e-1,o-1,e,o)&&(h|=1),h<<=1,this.readModule(0,o-3,e,o)&&(h|=1),h<<=1,this.readModule(0,o-2,e,o)&&(h|=1),h<<=1,this.readModule(0,o-1,e,o)&&(h|=1),h<<=1,this.readModule(1,o-3,e,o)&&(h|=1),h<<=1,this.readModule(1,o-2,e,o)&&(h|=1),h<<=1,this.readModule(1,o-1,e,o)&&(h|=1),h}readCorner4(e,o){let h=0;return this.readModule(e-3,0,e,o)&&(h|=1),h<<=1,this.readModule(e-2,0,e,o)&&(h|=1),h<<=1,this.readModule(e-1,0,e,o)&&(h|=1),h<<=1,this.readModule(0,o-2,e,o)&&(h|=1),h<<=1,this.readModule(0,o-1,e,o)&&(h|=1),h<<=1,this.readModule(1,o-1,e,o)&&(h|=1),h<<=1,this.readModule(2,o-1,e,o)&&(h|=1),h<<=1,this.readModule(3,o-1,e,o)&&(h|=1),h}extractDataRegion(e){const o=this.version.getSymbolSizeRows(),h=this.version.getSymbolSizeColumns();if(e.getHeight()!==o)throw new c("Dimension of bitMatrix must match the version size");const x=this.version.getDataRegionSizeRows(),E=this.version.getDataRegionSizeColumns(),N=o/x|0,P=h/E|0,G=N*x,Z=P*E,oe=new F(Z,G);for(let fe=0;fe<N;++fe){const ge=fe*x;for(let Ce=0;Ce<P;++Ce){const Be=Ce*E;for(let Le=0;Le<x;++Le){const Xe=fe*(x+2)+1+Le,Ke=ge+Le;for(let St=0;St<E;++St){const At=Ce*(E+2)+1+St;if(e.get(At,Xe)){const pt=Be+St;oe.set(pt,Ke)}}}}}return oe}}class be{constructor(e,o){this.numDataCodewords=e,this.codewords=o}static getDataBlocks(e,o){const h=o.getECBlocks();let x=0;const E=h.getECBlocks();for(let Le of E)x+=Le.getCount();const N=new Array(x);let P=0;for(let Le of E)for(let Xe=0;Xe<Le.getCount();Xe++){const Ke=Le.getDataCodewords(),St=h.getECCodewords()+Ke;N[P++]=new be(Ke,new Uint8Array(St))}const Z=N[0].codewords.length-h.getECCodewords(),oe=Z-1;let fe=0;for(let Le=0;Le<oe;Le++)for(let Xe=0;Xe<P;Xe++)N[Xe].codewords[Le]=e[fe++];const ge=o.getVersionNumber()===24,Ce=ge?8:P;for(let Le=0;Le<Ce;Le++)N[Le].codewords[Z-1]=e[fe++];const Be=N[0].codewords.length;for(let Le=Z;Le<Be;Le++)for(let Xe=0;Xe<P;Xe++){const Ke=ge?(Xe+8)%P:Xe,St=ge&&Ke>7?Le-1:Le;N[Ke].codewords[St]=e[fe++]}if(fe!==e.length)throw new c;return N}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ie{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new c(""+e);let o=0,h=this.bitOffset,x=this.byteOffset;const E=this.bytes;if(h>0){const N=8-h,P=e<N?e:N,G=N-P,Z=255>>8-P<<G;o=(E[x]&Z)>>G,e-=P,h+=P,h===8&&(h=0,x++)}if(e>0){for(;e>=8;)o=o<<8|E[x]&255,x++,e-=8;if(e>0){const N=8-e,P=255>>N<<N;o=o<<e|(E[x]&P)>>N,h+=e}}return this.bitOffset=h,this.byteOffset=x,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var we;(function(ue){ue[ue.PAD_ENCODE=0]="PAD_ENCODE",ue[ue.ASCII_ENCODE=1]="ASCII_ENCODE",ue[ue.C40_ENCODE=2]="C40_ENCODE",ue[ue.TEXT_ENCODE=3]="TEXT_ENCODE",ue[ue.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",ue[ue.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",ue[ue.BASE256_ENCODE=6]="BASE256_ENCODE"})(we||(we={}));class Pe{static decode(e){const o=new Ie(e),h=new D,x=new D,E=new Array;let N=we.ASCII_ENCODE;do if(N===we.ASCII_ENCODE)N=this.decodeAsciiSegment(o,h,x);else{switch(N){case we.C40_ENCODE:this.decodeC40Segment(o,h);break;case we.TEXT_ENCODE:this.decodeTextSegment(o,h);break;case we.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,h);break;case we.EDIFACT_ENCODE:this.decodeEdifactSegment(o,h);break;case we.BASE256_ENCODE:this.decodeBase256Segment(o,h,E);break;default:throw new Y}N=we.ASCII_ENCODE}while(N!==we.PAD_ENCODE&&o.available()>0);return x.length()>0&&h.append(x.toString()),new L(e,h.toString(),E.length===0?null:E,null)}static decodeAsciiSegment(e,o,h){let x=!1;do{let E=e.readBits(8);if(E===0)throw new Y;if(E<=128)return x&&(E+=128),o.append(String.fromCharCode(E-1)),we.ASCII_ENCODE;if(E===129)return we.PAD_ENCODE;if(E<=229){const N=E-130;N<10&&o.append("0"),o.append(""+N)}else switch(E){case 230:return we.C40_ENCODE;case 231:return we.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:x=!0;break;case 236:o.append("[)>05"),h.insert(0,"");break;case 237:o.append("[)>06"),h.insert(0,"");break;case 238:return we.ANSIX12_ENCODE;case 239:return we.TEXT_ENCODE;case 240:return we.EDIFACT_ENCODE;case 241:break;default:if(E!==254||e.available()!==0)throw new Y;break}}while(e.available()>0);return we.ASCII_ENCODE}static decodeC40Segment(e,o){let h=!1;const x=[];let E=0;do{if(e.available()===8)return;const N=e.readBits(8);if(N===254)return;this.parseTwoBytes(N,e.readBits(8),x);for(let P=0;P<3;P++){const G=x[P];switch(E){case 0:if(G<3)E=G+1;else if(G<this.C40_BASIC_SET_CHARS.length){const Z=this.C40_BASIC_SET_CHARS[G];h?(o.append(String.fromCharCode(Z.charCodeAt(0)+128)),h=!1):o.append(Z)}else throw new Y;break;case 1:h?(o.append(String.fromCharCode(G+128)),h=!1):o.append(String.fromCharCode(G)),E=0;break;case 2:if(G<this.C40_SHIFT2_SET_CHARS.length){const Z=this.C40_SHIFT2_SET_CHARS[G];h?(o.append(String.fromCharCode(Z.charCodeAt(0)+128)),h=!1):o.append(Z)}else switch(G){case 27:o.append("");break;case 30:h=!0;break;default:throw new Y}E=0;break;case 3:h?(o.append(String.fromCharCode(G+224)),h=!1):o.append(String.fromCharCode(G+96)),E=0;break;default:throw new Y}}}while(e.available()>0)}static decodeTextSegment(e,o){let h=!1,x=[],E=0;do{if(e.available()===8)return;const N=e.readBits(8);if(N===254)return;this.parseTwoBytes(N,e.readBits(8),x);for(let P=0;P<3;P++){const G=x[P];switch(E){case 0:if(G<3)E=G+1;else if(G<this.TEXT_BASIC_SET_CHARS.length){const Z=this.TEXT_BASIC_SET_CHARS[G];h?(o.append(String.fromCharCode(Z.charCodeAt(0)+128)),h=!1):o.append(Z)}else throw new Y;break;case 1:h?(o.append(String.fromCharCode(G+128)),h=!1):o.append(String.fromCharCode(G)),E=0;break;case 2:if(G<this.TEXT_SHIFT2_SET_CHARS.length){const Z=this.TEXT_SHIFT2_SET_CHARS[G];h?(o.append(String.fromCharCode(Z.charCodeAt(0)+128)),h=!1):o.append(Z)}else switch(G){case 27:o.append("");break;case 30:h=!0;break;default:throw new Y}E=0;break;case 3:if(G<this.TEXT_SHIFT3_SET_CHARS.length){const Z=this.TEXT_SHIFT3_SET_CHARS[G];h?(o.append(String.fromCharCode(Z.charCodeAt(0)+128)),h=!1):o.append(Z),E=0}else throw new Y;break;default:throw new Y}}}while(e.available()>0)}static decodeAnsiX12Segment(e,o){const h=[];do{if(e.available()===8)return;const x=e.readBits(8);if(x===254)return;this.parseTwoBytes(x,e.readBits(8),h);for(let E=0;E<3;E++){const N=h[E];switch(N){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(N<14)o.append(String.fromCharCode(N+44));else if(N<40)o.append(String.fromCharCode(N+51));else throw new Y;break}}}while(e.available()>0)}static parseTwoBytes(e,o,h){let x=(e<<8)+o-1,E=Math.floor(x/1600);h[0]=E,x-=E*1600,E=Math.floor(x/40),h[1]=E,h[2]=x-E*40}static decodeEdifactSegment(e,o){do{if(e.available()<=16)return;for(let h=0;h<4;h++){let x=e.readBits(6);if(x===31){const E=8-e.getBitOffset();E!==8&&e.readBits(E);return}(x&32)===0&&(x|=64),o.append(String.fromCharCode(x))}}while(e.available()>0)}static decodeBase256Segment(e,o,h){let x=1+e.getByteOffset();const E=this.unrandomize255State(e.readBits(8),x++);let N;if(E===0?N=e.available()/8|0:E<250?N=E:N=250*(E-249)+this.unrandomize255State(e.readBits(8),x++),N<0)throw new Y;const P=new Uint8Array(N);for(let G=0;G<N;G++){if(e.available()<8)throw new Y;P[G]=this.unrandomize255State(e.readBits(8),x++)}h.push(P);try{o.append(ie.decode(P,$.ISO88591))}catch(G){throw new _e("Platform does not support required encoding: "+G.message)}}static unrandomize255State(e,o){const h=149*o%255+1,x=e-h;return x>=0?x:x+256}}Pe.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Pe.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Pe.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Pe.TEXT_SHIFT2_SET_CHARS=Pe.C40_SHIFT2_SET_CHARS,Pe.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ze{constructor(){this.rsDecoder=new Re(he.DATA_MATRIX_FIELD_256)}decode(e){const o=new dr(e),h=o.getVersion(),x=o.readCodewords(),E=be.getDataBlocks(x,h);let N=0;for(let Z of E)N+=Z.getNumDataCodewords();const P=new Uint8Array(N),G=E.length;for(let Z=0;Z<G;Z++){const oe=E[Z],fe=oe.getCodewords(),ge=oe.getNumDataCodewords();this.correctErrors(fe,ge);for(let Ce=0;Ce<ge;Ce++)P[Ce*G+Z]=fe[Ce]}return Pe.decode(P)}correctErrors(e,o){const h=new Int32Array(e);try{this.rsDecoder.decode(h,e.length-o)}catch{throw new l}for(let x=0;x<o;x++)e[x]=h[x]}}class Me{constructor(e){this.image=e,this.rectangleDetector=new Ze(this.image)}detect(){const e=this.rectangleDetector.detect();let o=this.detectSolid1(e);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new A;o=this.shiftToModuleCenter(o);const h=o[0],x=o[1],E=o[2],N=o[3];let P=this.transitionsBetween(h,N)+1,G=this.transitionsBetween(E,N)+1;(P&1)===1&&(P+=1),(G&1)===1&&(G+=1),4*P<7*G&&4*G<7*P&&(P=G=Math.max(P,G));let Z=Me.sampleGrid(this.image,h,x,E,N,P,G);return new We(Z,[h,x,E,N])}static shiftPoint(e,o,h){let x=(o.getX()-e.getX())/(h+1),E=(o.getY()-e.getY())/(h+1);return new ke(e.getX()+x,e.getY()+E)}static moveAway(e,o,h){let x=e.getX(),E=e.getY();return x<o?x-=1:x+=1,E<h?E-=1:E+=1,new ke(x,E)}detectSolid1(e){let o=e[0],h=e[1],x=e[3],E=e[2],N=this.transitionsBetween(o,h),P=this.transitionsBetween(h,x),G=this.transitionsBetween(x,E),Z=this.transitionsBetween(E,o),oe=N,fe=[E,o,h,x];return oe>P&&(oe=P,fe[0]=o,fe[1]=h,fe[2]=x,fe[3]=E),oe>G&&(oe=G,fe[0]=h,fe[1]=x,fe[2]=E,fe[3]=o),oe>Z&&(fe[0]=x,fe[1]=E,fe[2]=o,fe[3]=h),fe}detectSolid2(e){let o=e[0],h=e[1],x=e[2],E=e[3],N=this.transitionsBetween(o,E),P=Me.shiftPoint(h,x,(N+1)*4),G=Me.shiftPoint(x,h,(N+1)*4),Z=this.transitionsBetween(P,o),oe=this.transitionsBetween(G,E);return Z<oe?(e[0]=o,e[1]=h,e[2]=x,e[3]=E):(e[0]=h,e[1]=x,e[2]=E,e[3]=o),e}correctTopRight(e){let o=e[0],h=e[1],x=e[2],E=e[3],N=this.transitionsBetween(o,E),P=this.transitionsBetween(h,E),G=Me.shiftPoint(o,h,(P+1)*4),Z=Me.shiftPoint(x,h,(N+1)*4);N=this.transitionsBetween(G,E),P=this.transitionsBetween(Z,E);let oe=new ke(E.getX()+(x.getX()-h.getX())/(N+1),E.getY()+(x.getY()-h.getY())/(N+1)),fe=new ke(E.getX()+(o.getX()-h.getX())/(P+1),E.getY()+(o.getY()-h.getY())/(P+1));if(!this.isValid(oe))return this.isValid(fe)?fe:null;if(!this.isValid(fe))return oe;let ge=this.transitionsBetween(G,oe)+this.transitionsBetween(Z,oe),Ce=this.transitionsBetween(G,fe)+this.transitionsBetween(Z,fe);return ge>Ce?oe:fe}shiftToModuleCenter(e){let o=e[0],h=e[1],x=e[2],E=e[3],N=this.transitionsBetween(o,E)+1,P=this.transitionsBetween(x,E)+1,G=Me.shiftPoint(o,h,P*4),Z=Me.shiftPoint(x,h,N*4);N=this.transitionsBetween(G,E)+1,P=this.transitionsBetween(Z,E)+1,(N&1)===1&&(N+=1),(P&1)===1&&(P+=1);let oe=(o.getX()+h.getX()+x.getX()+E.getX())/4,fe=(o.getY()+h.getY()+x.getY()+E.getY())/4;o=Me.moveAway(o,oe,fe),h=Me.moveAway(h,oe,fe),x=Me.moveAway(x,oe,fe),E=Me.moveAway(E,oe,fe);let ge,Ce;return G=Me.shiftPoint(o,h,P*4),G=Me.shiftPoint(G,E,N*4),ge=Me.shiftPoint(h,o,P*4),ge=Me.shiftPoint(ge,x,N*4),Z=Me.shiftPoint(x,E,P*4),Z=Me.shiftPoint(Z,h,N*4),Ce=Me.shiftPoint(E,x,P*4),Ce=Me.shiftPoint(Ce,o,N*4),[G,ge,Z,Ce]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,o,h,x,E,N,P){return gt.getInstance().sampleGrid(e,N,P,.5,.5,N-.5,.5,N-.5,P-.5,.5,P-.5,o.getX(),o.getY(),E.getX(),E.getY(),x.getX(),x.getY(),h.getX(),h.getY())}transitionsBetween(e,o){let h=Math.trunc(e.getX()),x=Math.trunc(e.getY()),E=Math.trunc(o.getX()),N=Math.trunc(o.getY()),P=Math.abs(N-x)>Math.abs(E-h);if(P){let Le=h;h=x,x=Le,Le=E,E=N,N=Le}let G=Math.abs(E-h),Z=Math.abs(N-x),oe=-G/2,fe=x<N?1:-1,ge=h<E?1:-1,Ce=0,Be=this.image.get(P?x:h,P?h:x);for(let Le=h,Xe=x;Le!==E;Le+=ge){let Ke=this.image.get(P?Xe:Le,P?Le:Xe);if(Ke!==Be&&(Ce++,Be=Ke),oe+=Z,oe>0){if(Xe===N)break;Xe+=fe,oe-=G}}return Ce}}class rt{constructor(){this.decoder=new ze}decode(e,o=null){let h,x;if(o!=null&&o.has(X.PURE_BARCODE)){const Z=rt.extractPureBits(e.getBlackMatrix());h=this.decoder.decode(Z),x=rt.NO_POINTS}else{const Z=new Me(e.getBlackMatrix()).detect();h=this.decoder.decode(Z.getBits()),x=Z.getPoints()}const E=h.getRawBytes(),N=new ne(h.getText(),E,8*E.length,x,H.DATA_MATRIX,b.currentTimeMillis()),P=h.getByteSegments();P!=null&&N.putMetadata(U.BYTE_SEGMENTS,P);const G=h.getECLevel();return G!=null&&N.putMetadata(U.ERROR_CORRECTION_LEVEL,G),N}reset(){}static extractPureBits(e){const o=e.getTopLeftOnBit(),h=e.getBottomRightOnBit();if(o==null||h==null)throw new A;const x=this.moduleSize(o,e);let E=o[1];const N=h[1];let P=o[0];const Z=(h[0]-P+1)/x,oe=(N-E+1)/x;if(Z<=0||oe<=0)throw new A;const fe=x/2;E+=fe,P+=fe;const ge=new F(Z,oe);for(let Ce=0;Ce<oe;Ce++){const Be=E+Ce*x;for(let Le=0;Le<Z;Le++)e.get(P+Le*x,Be)&&ge.set(Le,Ce)}return ge}static moduleSize(e,o){const h=o.getWidth();let x=e[0];const E=e[1];for(;x<h&&o.get(x,E);)x++;if(x===h)throw new A;const N=x-e[0];if(N===0)throw new A;return N}}rt.NO_POINTS=[];class ut extends re{constructor(e=500){super(new rt,e)}}var ct;(function(ue){ue[ue.L=0]="L",ue[ue.M=1]="M",ue[ue.Q=2]="Q",ue[ue.H=3]="H"})(ct||(ct={}));class st{constructor(e,o,h){this.value=e,this.stringValue=o,this.bits=h,st.FOR_BITS.set(h,this),st.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return st.L;case"M":return st.M;case"Q":return st.Q;case"H":return st.H;default:throw new n(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof st))return!1;const o=e;return this.value===o.value}static forBits(e){if(e<0||e>=st.FOR_BITS.size)throw new c;return st.FOR_BITS.get(e)}}st.FOR_BITS=new Map,st.FOR_VALUE=new Map,st.L=new st(ct.L,"L",1),st.M=new st(ct.M,"M",0),st.Q=new st(ct.Q,"Q",3),st.H=new st(ct.H,"H",2);class nt{constructor(e){this.errorCorrectionLevel=st.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,o){return T.bitCount(e^o)}static decodeFormatInformation(e,o){const h=nt.doDecodeFormatInformation(e,o);return h!==null?h:nt.doDecodeFormatInformation(e^nt.FORMAT_INFO_MASK_QR,o^nt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,o){let h=Number.MAX_SAFE_INTEGER,x=0;for(const E of nt.FORMAT_INFO_DECODE_LOOKUP){const N=E[0];if(N===e||N===o)return new nt(E[1]);let P=nt.numBitsDiffering(e,N);P<h&&(x=E[1],h=P),e!==o&&(P=nt.numBitsDiffering(o,N),P<h&&(x=E[1],h=P))}return h<=3?new nt(x):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof nt))return!1;const o=e;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}nt.FORMAT_INFO_MASK_QR=21522,nt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Te{constructor(e,...o){this.ecCodewordsPerBlock=e,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const o=this.ecBlocks;for(const h of o)e+=h.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ye{constructor(e,o){this.count=e,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class wt{constructor(e,o,...h){this.versionNumber=e,this.alignmentPatternCenters=o,this.ecBlocks=h;let x=0;const E=h[0].getECCodewordsPerBlock(),N=h[0].getECBlocks();for(const P of N)x+=P.getCount()*(P.getDataCodewords()+E);this.totalCodewords=x}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new Y;try{return this.getVersionForNumber((e-17)/4)}catch{throw new Y}}static getVersionForNumber(e){if(e<1||e>40)throw new c;return wt.VERSIONS[e-1]}static decodeVersionInformation(e){let o=Number.MAX_SAFE_INTEGER,h=0;for(let x=0;x<wt.VERSION_DECODE_INFO.length;x++){const E=wt.VERSION_DECODE_INFO[x];if(E===e)return wt.getVersionForNumber(x+7);const N=nt.numBitsDiffering(e,E);N<o&&(h=x+7,o=N)}return o<=3?wt.getVersionForNumber(h):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),o=new F(e);o.setRegion(0,0,9,9),o.setRegion(e-8,0,8,9),o.setRegion(0,e-8,9,8);const h=this.alignmentPatternCenters.length;for(let x=0;x<h;x++){const E=this.alignmentPatternCenters[x]-2;for(let N=0;N<h;N++)x===0&&(N===0||N===h-1)||x===h-1&&N===0||o.setRegion(this.alignmentPatternCenters[N]-2,E,5,5)}return o.setRegion(6,9,1,e-17),o.setRegion(9,6,e-17,1),this.versionNumber>6&&(o.setRegion(e-11,0,3,6),o.setRegion(0,e-11,6,3)),o}toString(){return""+this.versionNumber}}wt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),wt.VERSIONS=[new wt(1,new Int32Array(0),new Te(7,new ye(1,19)),new Te(10,new ye(1,16)),new Te(13,new ye(1,13)),new Te(17,new ye(1,9))),new wt(2,Int32Array.from([6,18]),new Te(10,new ye(1,34)),new Te(16,new ye(1,28)),new Te(22,new ye(1,22)),new Te(28,new ye(1,16))),new wt(3,Int32Array.from([6,22]),new Te(15,new ye(1,55)),new Te(26,new ye(1,44)),new Te(18,new ye(2,17)),new Te(22,new ye(2,13))),new wt(4,Int32Array.from([6,26]),new Te(20,new ye(1,80)),new Te(18,new ye(2,32)),new Te(26,new ye(2,24)),new Te(16,new ye(4,9))),new wt(5,Int32Array.from([6,30]),new Te(26,new ye(1,108)),new Te(24,new ye(2,43)),new Te(18,new ye(2,15),new ye(2,16)),new Te(22,new ye(2,11),new ye(2,12))),new wt(6,Int32Array.from([6,34]),new Te(18,new ye(2,68)),new Te(16,new ye(4,27)),new Te(24,new ye(4,19)),new Te(28,new ye(4,15))),new wt(7,Int32Array.from([6,22,38]),new Te(20,new ye(2,78)),new Te(18,new ye(4,31)),new Te(18,new ye(2,14),new ye(4,15)),new Te(26,new ye(4,13),new ye(1,14))),new wt(8,Int32Array.from([6,24,42]),new Te(24,new ye(2,97)),new Te(22,new ye(2,38),new ye(2,39)),new Te(22,new ye(4,18),new ye(2,19)),new Te(26,new ye(4,14),new ye(2,15))),new wt(9,Int32Array.from([6,26,46]),new Te(30,new ye(2,116)),new Te(22,new ye(3,36),new ye(2,37)),new Te(20,new ye(4,16),new ye(4,17)),new Te(24,new ye(4,12),new ye(4,13))),new wt(10,Int32Array.from([6,28,50]),new Te(18,new ye(2,68),new ye(2,69)),new Te(26,new ye(4,43),new ye(1,44)),new Te(24,new ye(6,19),new ye(2,20)),new Te(28,new ye(6,15),new ye(2,16))),new wt(11,Int32Array.from([6,30,54]),new Te(20,new ye(4,81)),new Te(30,new ye(1,50),new ye(4,51)),new Te(28,new ye(4,22),new ye(4,23)),new Te(24,new ye(3,12),new ye(8,13))),new wt(12,Int32Array.from([6,32,58]),new Te(24,new ye(2,92),new ye(2,93)),new Te(22,new ye(6,36),new ye(2,37)),new Te(26,new ye(4,20),new ye(6,21)),new Te(28,new ye(7,14),new ye(4,15))),new wt(13,Int32Array.from([6,34,62]),new Te(26,new ye(4,107)),new Te(22,new ye(8,37),new ye(1,38)),new Te(24,new ye(8,20),new ye(4,21)),new Te(22,new ye(12,11),new ye(4,12))),new wt(14,Int32Array.from([6,26,46,66]),new Te(30,new ye(3,115),new ye(1,116)),new Te(24,new ye(4,40),new ye(5,41)),new Te(20,new ye(11,16),new ye(5,17)),new Te(24,new ye(11,12),new ye(5,13))),new wt(15,Int32Array.from([6,26,48,70]),new Te(22,new ye(5,87),new ye(1,88)),new Te(24,new ye(5,41),new ye(5,42)),new Te(30,new ye(5,24),new ye(7,25)),new Te(24,new ye(11,12),new ye(7,13))),new wt(16,Int32Array.from([6,26,50,74]),new Te(24,new ye(5,98),new ye(1,99)),new Te(28,new ye(7,45),new ye(3,46)),new Te(24,new ye(15,19),new ye(2,20)),new Te(30,new ye(3,15),new ye(13,16))),new wt(17,Int32Array.from([6,30,54,78]),new Te(28,new ye(1,107),new ye(5,108)),new Te(28,new ye(10,46),new ye(1,47)),new Te(28,new ye(1,22),new ye(15,23)),new Te(28,new ye(2,14),new ye(17,15))),new wt(18,Int32Array.from([6,30,56,82]),new Te(30,new ye(5,120),new ye(1,121)),new Te(26,new ye(9,43),new ye(4,44)),new Te(28,new ye(17,22),new ye(1,23)),new Te(28,new ye(2,14),new ye(19,15))),new wt(19,Int32Array.from([6,30,58,86]),new Te(28,new ye(3,113),new ye(4,114)),new Te(26,new ye(3,44),new ye(11,45)),new Te(26,new ye(17,21),new ye(4,22)),new Te(26,new ye(9,13),new ye(16,14))),new wt(20,Int32Array.from([6,34,62,90]),new Te(28,new ye(3,107),new ye(5,108)),new Te(26,new ye(3,41),new ye(13,42)),new Te(30,new ye(15,24),new ye(5,25)),new Te(28,new ye(15,15),new ye(10,16))),new wt(21,Int32Array.from([6,28,50,72,94]),new Te(28,new ye(4,116),new ye(4,117)),new Te(26,new ye(17,42)),new Te(28,new ye(17,22),new ye(6,23)),new Te(30,new ye(19,16),new ye(6,17))),new wt(22,Int32Array.from([6,26,50,74,98]),new Te(28,new ye(2,111),new ye(7,112)),new Te(28,new ye(17,46)),new Te(30,new ye(7,24),new ye(16,25)),new Te(24,new ye(34,13))),new wt(23,Int32Array.from([6,30,54,78,102]),new Te(30,new ye(4,121),new ye(5,122)),new Te(28,new ye(4,47),new ye(14,48)),new Te(30,new ye(11,24),new ye(14,25)),new Te(30,new ye(16,15),new ye(14,16))),new wt(24,Int32Array.from([6,28,54,80,106]),new Te(30,new ye(6,117),new ye(4,118)),new Te(28,new ye(6,45),new ye(14,46)),new Te(30,new ye(11,24),new ye(16,25)),new Te(30,new ye(30,16),new ye(2,17))),new wt(25,Int32Array.from([6,32,58,84,110]),new Te(26,new ye(8,106),new ye(4,107)),new Te(28,new ye(8,47),new ye(13,48)),new Te(30,new ye(7,24),new ye(22,25)),new Te(30,new ye(22,15),new ye(13,16))),new wt(26,Int32Array.from([6,30,58,86,114]),new Te(28,new ye(10,114),new ye(2,115)),new Te(28,new ye(19,46),new ye(4,47)),new Te(28,new ye(28,22),new ye(6,23)),new Te(30,new ye(33,16),new ye(4,17))),new wt(27,Int32Array.from([6,34,62,90,118]),new Te(30,new ye(8,122),new ye(4,123)),new Te(28,new ye(22,45),new ye(3,46)),new Te(30,new ye(8,23),new ye(26,24)),new Te(30,new ye(12,15),new ye(28,16))),new wt(28,Int32Array.from([6,26,50,74,98,122]),new Te(30,new ye(3,117),new ye(10,118)),new Te(28,new ye(3,45),new ye(23,46)),new Te(30,new ye(4,24),new ye(31,25)),new Te(30,new ye(11,15),new ye(31,16))),new wt(29,Int32Array.from([6,30,54,78,102,126]),new Te(30,new ye(7,116),new ye(7,117)),new Te(28,new ye(21,45),new ye(7,46)),new Te(30,new ye(1,23),new ye(37,24)),new Te(30,new ye(19,15),new ye(26,16))),new wt(30,Int32Array.from([6,26,52,78,104,130]),new Te(30,new ye(5,115),new ye(10,116)),new Te(28,new ye(19,47),new ye(10,48)),new Te(30,new ye(15,24),new ye(25,25)),new Te(30,new ye(23,15),new ye(25,16))),new wt(31,Int32Array.from([6,30,56,82,108,134]),new Te(30,new ye(13,115),new ye(3,116)),new Te(28,new ye(2,46),new ye(29,47)),new Te(30,new ye(42,24),new ye(1,25)),new Te(30,new ye(23,15),new ye(28,16))),new wt(32,Int32Array.from([6,34,60,86,112,138]),new Te(30,new ye(17,115)),new Te(28,new ye(10,46),new ye(23,47)),new Te(30,new ye(10,24),new ye(35,25)),new Te(30,new ye(19,15),new ye(35,16))),new wt(33,Int32Array.from([6,30,58,86,114,142]),new Te(30,new ye(17,115),new ye(1,116)),new Te(28,new ye(14,46),new ye(21,47)),new Te(30,new ye(29,24),new ye(19,25)),new Te(30,new ye(11,15),new ye(46,16))),new wt(34,Int32Array.from([6,34,62,90,118,146]),new Te(30,new ye(13,115),new ye(6,116)),new Te(28,new ye(14,46),new ye(23,47)),new Te(30,new ye(44,24),new ye(7,25)),new Te(30,new ye(59,16),new ye(1,17))),new wt(35,Int32Array.from([6,30,54,78,102,126,150]),new Te(30,new ye(12,121),new ye(7,122)),new Te(28,new ye(12,47),new ye(26,48)),new Te(30,new ye(39,24),new ye(14,25)),new Te(30,new ye(22,15),new ye(41,16))),new wt(36,Int32Array.from([6,24,50,76,102,128,154]),new Te(30,new ye(6,121),new ye(14,122)),new Te(28,new ye(6,47),new ye(34,48)),new Te(30,new ye(46,24),new ye(10,25)),new Te(30,new ye(2,15),new ye(64,16))),new wt(37,Int32Array.from([6,28,54,80,106,132,158]),new Te(30,new ye(17,122),new ye(4,123)),new Te(28,new ye(29,46),new ye(14,47)),new Te(30,new ye(49,24),new ye(10,25)),new Te(30,new ye(24,15),new ye(46,16))),new wt(38,Int32Array.from([6,32,58,84,110,136,162]),new Te(30,new ye(4,122),new ye(18,123)),new Te(28,new ye(13,46),new ye(32,47)),new Te(30,new ye(48,24),new ye(14,25)),new Te(30,new ye(42,15),new ye(32,16))),new wt(39,Int32Array.from([6,26,54,82,110,138,166]),new Te(30,new ye(20,117),new ye(4,118)),new Te(28,new ye(40,47),new ye(7,48)),new Te(30,new ye(43,24),new ye(22,25)),new Te(30,new ye(10,15),new ye(67,16))),new wt(40,Int32Array.from([6,30,58,86,114,142,170]),new Te(30,new ye(19,118),new ye(6,119)),new Te(28,new ye(18,47),new ye(31,48)),new Te(30,new ye(34,24),new ye(34,25)),new Te(30,new ye(20,15),new ye(61,16)))];var tr;(function(ue){ue[ue.DATA_MASK_000=0]="DATA_MASK_000",ue[ue.DATA_MASK_001=1]="DATA_MASK_001",ue[ue.DATA_MASK_010=2]="DATA_MASK_010",ue[ue.DATA_MASK_011=3]="DATA_MASK_011",ue[ue.DATA_MASK_100=4]="DATA_MASK_100",ue[ue.DATA_MASK_101=5]="DATA_MASK_101",ue[ue.DATA_MASK_110=6]="DATA_MASK_110",ue[ue.DATA_MASK_111=7]="DATA_MASK_111"})(tr||(tr={}));class Ot{constructor(e,o){this.value=e,this.isMasked=o}unmaskBitMatrix(e,o){for(let h=0;h<o;h++)for(let x=0;x<o;x++)this.isMasked(h,x)&&e.flip(x,h)}}Ot.values=new Map([[tr.DATA_MASK_000,new Ot(tr.DATA_MASK_000,(ue,e)=>(ue+e&1)===0)],[tr.DATA_MASK_001,new Ot(tr.DATA_MASK_001,(ue,e)=>(ue&1)===0)],[tr.DATA_MASK_010,new Ot(tr.DATA_MASK_010,(ue,e)=>e%3===0)],[tr.DATA_MASK_011,new Ot(tr.DATA_MASK_011,(ue,e)=>(ue+e)%3===0)],[tr.DATA_MASK_100,new Ot(tr.DATA_MASK_100,(ue,e)=>(Math.floor(ue/2)+Math.floor(e/3)&1)===0)],[tr.DATA_MASK_101,new Ot(tr.DATA_MASK_101,(ue,e)=>ue*e%6===0)],[tr.DATA_MASK_110,new Ot(tr.DATA_MASK_110,(ue,e)=>ue*e%6<3)],[tr.DATA_MASK_111,new Ot(tr.DATA_MASK_111,(ue,e)=>(ue+e+ue*e%3&1)===0)]]);class Tr{constructor(e){const o=e.getHeight();if(o<21||(o&3)!==1)throw new Y;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let E=0;E<6;E++)e=this.copyBit(E,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let E=5;E>=0;E--)e=this.copyBit(8,E,e);const o=this.bitMatrix.getHeight();let h=0;const x=o-7;for(let E=o-1;E>=x;E--)h=this.copyBit(8,E,h);for(let E=o-8;E<o;E++)h=this.copyBit(E,8,h);if(this.parsedFormatInfo=nt.decodeFormatInformation(e,h),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Y}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),o=Math.floor((e-17)/4);if(o<=6)return wt.getVersionForNumber(o);let h=0;const x=e-11;for(let N=5;N>=0;N--)for(let P=e-9;P>=x;P--)h=this.copyBit(P,N,h);let E=wt.decodeVersionInformation(h);if(E!==null&&E.getDimensionForVersion()===e)return this.parsedVersion=E,E;h=0;for(let N=5;N>=0;N--)for(let P=e-9;P>=x;P--)h=this.copyBit(N,P,h);if(E=wt.decodeVersionInformation(h),E!==null&&E.getDimensionForVersion()===e)return this.parsedVersion=E,E;throw new Y}copyBit(e,o,h){return(this.isMirror?this.bitMatrix.get(o,e):this.bitMatrix.get(e,o))?h<<1|1:h<<1}readCodewords(){const e=this.readFormatInformation(),o=this.readVersion(),h=Ot.values.get(e.getDataMask()),x=this.bitMatrix.getHeight();h.unmaskBitMatrix(this.bitMatrix,x);const E=o.buildFunctionPattern();let N=!0;const P=new Uint8Array(o.getTotalCodewords());let G=0,Z=0,oe=0;for(let fe=x-1;fe>0;fe-=2){fe===6&&fe--;for(let ge=0;ge<x;ge++){const Ce=N?x-1-ge:ge;for(let Be=0;Be<2;Be++)E.get(fe-Be,Ce)||(oe++,Z<<=1,this.bitMatrix.get(fe-Be,Ce)&&(Z|=1),oe===8&&(P[G++]=Z,oe=0,Z=0))}N=!N}if(G!==o.getTotalCodewords())throw new Y;return P}remask(){if(this.parsedFormatInfo===null)return;const e=Ot.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,o)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let o=0,h=e.getWidth();o<h;o++)for(let x=o+1,E=e.getHeight();x<E;x++)e.get(o,x)!==e.get(x,o)&&(e.flip(x,o),e.flip(o,x))}}class Ur{constructor(e,o){this.numDataCodewords=e,this.codewords=o}static getDataBlocks(e,o,h){if(e.length!==o.getTotalCodewords())throw new c;const x=o.getECBlocksForLevel(h);let E=0;const N=x.getECBlocks();for(const Be of N)E+=Be.getCount();const P=new Array(E);let G=0;for(const Be of N)for(let Le=0;Le<Be.getCount();Le++){const Xe=Be.getDataCodewords(),Ke=x.getECCodewordsPerBlock()+Xe;P[G++]=new Ur(Xe,new Uint8Array(Ke))}const Z=P[0].codewords.length;let oe=P.length-1;for(;oe>=0&&P[oe].codewords.length!==Z;)oe--;oe++;const fe=Z-x.getECCodewordsPerBlock();let ge=0;for(let Be=0;Be<fe;Be++)for(let Le=0;Le<G;Le++)P[Le].codewords[Be]=e[ge++];for(let Be=oe;Be<G;Be++)P[Be].codewords[fe]=e[ge++];const Ce=P[0].codewords.length;for(let Be=fe;Be<Ce;Be++)for(let Le=0;Le<G;Le++){const Xe=Le<oe?Be:Be+1;P[Le].codewords[Xe]=e[ge++]}return P}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var zr;(function(ue){ue[ue.TERMINATOR=0]="TERMINATOR",ue[ue.NUMERIC=1]="NUMERIC",ue[ue.ALPHANUMERIC=2]="ALPHANUMERIC",ue[ue.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",ue[ue.BYTE=4]="BYTE",ue[ue.ECI=5]="ECI",ue[ue.KANJI=6]="KANJI",ue[ue.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",ue[ue.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",ue[ue.HANZI=9]="HANZI"})(zr||(zr={}));class Wt{constructor(e,o,h,x){this.value=e,this.stringValue=o,this.characterCountBitsForVersions=h,this.bits=x,Wt.FOR_BITS.set(x,this),Wt.FOR_VALUE.set(e,this)}static forBits(e){const o=Wt.FOR_BITS.get(e);if(o===void 0)throw new c;return o}getCharacterCountBits(e){const o=e.getVersionNumber();let h;return o<=9?h=0:o<=26?h=1:h=2,this.characterCountBitsForVersions[h]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Wt))return!1;const o=e;return this.value===o.value}toString(){return this.stringValue}}Wt.FOR_BITS=new Map,Wt.FOR_VALUE=new Map,Wt.TERMINATOR=new Wt(zr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Wt.NUMERIC=new Wt(zr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Wt.ALPHANUMERIC=new Wt(zr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Wt.STRUCTURED_APPEND=new Wt(zr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Wt.BYTE=new Wt(zr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Wt.ECI=new Wt(zr.ECI,"ECI",Int32Array.from([0,0,0]),7),Wt.KANJI=new Wt(zr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Wt.FNC1_FIRST_POSITION=new Wt(zr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Wt.FNC1_SECOND_POSITION=new Wt(zr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Wt.HANZI=new Wt(zr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Rr{static decode(e,o,h,x){const E=new Ie(e);let N=new D;const P=new Array;let G=-1,Z=-1;try{let oe=null,fe=!1,ge;do{if(E.available()<4)ge=Wt.TERMINATOR;else{const Ce=E.readBits(4);ge=Wt.forBits(Ce)}switch(ge){case Wt.TERMINATOR:break;case Wt.FNC1_FIRST_POSITION:case Wt.FNC1_SECOND_POSITION:fe=!0;break;case Wt.STRUCTURED_APPEND:if(E.available()<16)throw new Y;G=E.readBits(8),Z=E.readBits(8);break;case Wt.ECI:const Ce=Rr.parseECIValue(E);if(oe=q.getCharacterSetECIByValue(Ce),oe===null)throw new Y;break;case Wt.HANZI:const Be=E.readBits(4),Le=E.readBits(ge.getCharacterCountBits(o));Be===Rr.GB2312_SUBSET&&Rr.decodeHanziSegment(E,N,Le);break;default:const Xe=E.readBits(ge.getCharacterCountBits(o));switch(ge){case Wt.NUMERIC:Rr.decodeNumericSegment(E,N,Xe);break;case Wt.ALPHANUMERIC:Rr.decodeAlphanumericSegment(E,N,Xe,fe);break;case Wt.BYTE:Rr.decodeByteSegment(E,N,Xe,oe,P,x);break;case Wt.KANJI:Rr.decodeKanjiSegment(E,N,Xe);break;default:throw new Y}break}}while(ge!==Wt.TERMINATOR)}catch{throw new Y}return new L(e,N.toString(),P.length===0?null:P,h===null?null:h.toString(),G,Z)}static decodeHanziSegment(e,o,h){if(h*13>e.available())throw new Y;const x=new Uint8Array(2*h);let E=0;for(;h>0;){const N=e.readBits(13);let P=N/96<<8&4294967295|N%96;P<959?P+=41377:P+=42657,x[E]=P>>8&255,x[E+1]=P&255,E+=2,h--}try{o.append(ie.decode(x,$.GB2312))}catch(N){throw new Y(N)}}static decodeKanjiSegment(e,o,h){if(h*13>e.available())throw new Y;const x=new Uint8Array(2*h);let E=0;for(;h>0;){const N=e.readBits(13);let P=N/192<<8&4294967295|N%192;P<7936?P+=33088:P+=49472,x[E]=P>>8,x[E+1]=P,E+=2,h--}try{o.append(ie.decode(x,$.SHIFT_JIS))}catch(N){throw new Y(N)}}static decodeByteSegment(e,o,h,x,E,N){if(8*h>e.available())throw new Y;const P=new Uint8Array(h);for(let Z=0;Z<h;Z++)P[Z]=e.readBits(8);let G;x===null?G=$.guessEncoding(P,N):G=x.getName();try{o.append(ie.decode(P,G))}catch(Z){throw new Y(Z)}E.push(P)}static toAlphaNumericChar(e){if(e>=Rr.ALPHANUMERIC_CHARS.length)throw new Y;return Rr.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,o,h,x){const E=o.length();for(;h>1;){if(e.available()<11)throw new Y;const N=e.readBits(11);o.append(Rr.toAlphaNumericChar(Math.floor(N/45))),o.append(Rr.toAlphaNumericChar(N%45)),h-=2}if(h===1){if(e.available()<6)throw new Y;o.append(Rr.toAlphaNumericChar(e.readBits(6)))}if(x)for(let N=E;N<o.length();N++)o.charAt(N)==="%"&&(N<o.length()-1&&o.charAt(N+1)==="%"?o.deleteCharAt(N+1):o.setCharAt(N,""))}static decodeNumericSegment(e,o,h){for(;h>=3;){if(e.available()<10)throw new Y;const x=e.readBits(10);if(x>=1e3)throw new Y;o.append(Rr.toAlphaNumericChar(Math.floor(x/100))),o.append(Rr.toAlphaNumericChar(Math.floor(x/10)%10)),o.append(Rr.toAlphaNumericChar(x%10)),h-=3}if(h===2){if(e.available()<7)throw new Y;const x=e.readBits(7);if(x>=100)throw new Y;o.append(Rr.toAlphaNumericChar(Math.floor(x/10))),o.append(Rr.toAlphaNumericChar(x%10))}else if(h===1){if(e.available()<4)throw new Y;const x=e.readBits(4);if(x>=10)throw new Y;o.append(Rr.toAlphaNumericChar(x))}}static parseECIValue(e){const o=e.readBits(8);if((o&128)===0)return o&127;if((o&192)===128){const h=e.readBits(8);return(o&63)<<8&4294967295|h}if((o&224)===192){const h=e.readBits(16);return(o&31)<<16&4294967295|h}throw new Y}}Rr.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Rr.GB2312_SUBSET=1;class bn{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const o=e[0];e[0]=e[2],e[2]=o}}class xi{constructor(){this.rsDecoder=new Re(he.QR_CODE_FIELD_256)}decodeBooleanArray(e,o){return this.decodeBitMatrix(F.parseFromBooleanArray(e),o)}decodeBitMatrix(e,o){const h=new Tr(e);let x=null;try{return this.decodeBitMatrixParser(h,o)}catch(E){x=E}try{h.remask(),h.setMirror(!0),h.readVersion(),h.readFormatInformation(),h.mirror();const E=this.decodeBitMatrixParser(h,o);return E.setOther(new bn(!0)),E}catch(E){throw x!==null?x:E}}decodeBitMatrixParser(e,o){const h=e.readVersion(),x=e.readFormatInformation().getErrorCorrectionLevel(),E=e.readCodewords(),N=Ur.getDataBlocks(E,h,x);let P=0;for(const oe of N)P+=oe.getNumDataCodewords();const G=new Uint8Array(P);let Z=0;for(const oe of N){const fe=oe.getCodewords(),ge=oe.getNumDataCodewords();this.correctErrors(fe,ge);for(let Ce=0;Ce<ge;Ce++)G[Z++]=fe[Ce]}return Rr.decode(G,h,x,o)}correctErrors(e,o){const h=new Int32Array(e);try{this.rsDecoder.decode(h,e.length-o)}catch{throw new l}for(let x=0;x<o;x++)e[x]=h[x]}}class Pn extends ke{constructor(e,o,h){super(e,o),this.estimatedModuleSize=h}aboutEquals(e,o,h){if(Math.abs(o-this.getY())<=e&&Math.abs(h-this.getX())<=e){const x=Math.abs(e-this.estimatedModuleSize);return x<=1||x<=this.estimatedModuleSize}return!1}combineEstimate(e,o,h){const x=(this.getX()+o)/2,E=(this.getY()+e)/2,N=(this.estimatedModuleSize+h)/2;return new Pn(x,E,N)}}class fn{constructor(e,o,h,x,E,N,P){this.image=e,this.startX=o,this.startY=h,this.width=x,this.height=E,this.moduleSize=N,this.resultPointCallback=P,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,o=this.height,h=this.width,x=e+h,E=this.startY+o/2,N=new Int32Array(3),P=this.image;for(let G=0;G<o;G++){const Z=E+((G&1)===0?Math.floor((G+1)/2):-Math.floor((G+1)/2));N[0]=0,N[1]=0,N[2]=0;let oe=e;for(;oe<x&&!P.get(oe,Z);)oe++;let fe=0;for(;oe<x;){if(P.get(oe,Z))if(fe===1)N[1]++;else if(fe===2){if(this.foundPatternCross(N)){const ge=this.handlePossibleCenter(N,Z,oe);if(ge!==null)return ge}N[0]=N[2],N[1]=1,N[2]=0,fe=1}else N[++fe]++;else fe===1&&fe++,N[fe]++;oe++}if(this.foundPatternCross(N)){const ge=this.handlePossibleCenter(N,Z,x);if(ge!==null)return ge}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new A}static centerFromEnd(e,o){return o-e[2]-e[1]/2}foundPatternCross(e){const o=this.moduleSize,h=o/2;for(let x=0;x<3;x++)if(Math.abs(o-e[x])>=h)return!1;return!0}crossCheckVertical(e,o,h,x){const E=this.image,N=E.getHeight(),P=this.crossCheckStateCount;P[0]=0,P[1]=0,P[2]=0;let G=e;for(;G>=0&&E.get(o,G)&&P[1]<=h;)P[1]++,G--;if(G<0||P[1]>h)return NaN;for(;G>=0&&!E.get(o,G)&&P[0]<=h;)P[0]++,G--;if(P[0]>h)return NaN;for(G=e+1;G<N&&E.get(o,G)&&P[1]<=h;)P[1]++,G++;if(G===N||P[1]>h)return NaN;for(;G<N&&!E.get(o,G)&&P[2]<=h;)P[2]++,G++;if(P[2]>h)return NaN;const Z=P[0]+P[1]+P[2];return 5*Math.abs(Z-x)>=2*x?NaN:this.foundPatternCross(P)?fn.centerFromEnd(P,G):NaN}handlePossibleCenter(e,o,h){const x=e[0]+e[1]+e[2],E=fn.centerFromEnd(e,h),N=this.crossCheckVertical(o,E,2*e[1],x);if(!isNaN(N)){const P=(e[0]+e[1]+e[2])/3;for(const Z of this.possibleCenters)if(Z.aboutEquals(P,N,E))return Z.combineEstimate(N,E,P);const G=new Pn(E,N,P);this.possibleCenters.push(G),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(G)}return null}}class un extends ke{constructor(e,o,h,x){super(e,o),this.estimatedModuleSize=h,this.count=x,x===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,o,h){if(Math.abs(o-this.getY())<=e&&Math.abs(h-this.getX())<=e){const x=Math.abs(e-this.estimatedModuleSize);return x<=1||x<=this.estimatedModuleSize}return!1}combineEstimate(e,o,h){const x=this.count+1,E=(this.count*this.getX()+o)/x,N=(this.count*this.getY()+e)/x,P=(this.count*this.estimatedModuleSize+h)/x;return new un(E,N,P,x)}}class Bn{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Wr{constructor(e,o){this.image=e,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const o=e!=null&&e.get(X.TRY_HARDER)!==void 0,h=e!=null&&e.get(X.PURE_BARCODE)!==void 0,x=this.image,E=x.getHeight(),N=x.getWidth();let P=Math.floor(3*E/(4*Wr.MAX_MODULES));(P<Wr.MIN_SKIP||o)&&(P=Wr.MIN_SKIP);let G=!1;const Z=new Int32Array(5);for(let fe=P-1;fe<E&&!G;fe+=P){Z[0]=0,Z[1]=0,Z[2]=0,Z[3]=0,Z[4]=0;let ge=0;for(let Ce=0;Ce<N;Ce++)if(x.get(Ce,fe))(ge&1)===1&&ge++,Z[ge]++;else if((ge&1)===0)if(ge===4)if(Wr.foundPatternCross(Z)){if(this.handlePossibleCenter(Z,fe,Ce,h)===!0)if(P=2,this.hasSkipped===!0)G=this.haveMultiplyConfirmedCenters();else{const Le=this.findRowSkip();Le>Z[2]&&(fe+=Le-Z[2]-P,Ce=N-1)}else{Z[0]=Z[2],Z[1]=Z[3],Z[2]=Z[4],Z[3]=1,Z[4]=0,ge=3;continue}ge=0,Z[0]=0,Z[1]=0,Z[2]=0,Z[3]=0,Z[4]=0}else Z[0]=Z[2],Z[1]=Z[3],Z[2]=Z[4],Z[3]=1,Z[4]=0,ge=3;else Z[++ge]++;else Z[ge]++;Wr.foundPatternCross(Z)&&this.handlePossibleCenter(Z,fe,N,h)===!0&&(P=Z[0],this.hasSkipped&&(G=this.haveMultiplyConfirmedCenters()))}const oe=this.selectBestPatterns();return ke.orderBestPatterns(oe),new Bn(oe)}static centerFromEnd(e,o){return o-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let o=0;for(let E=0;E<5;E++){const N=e[E];if(N===0)return!1;o+=N}if(o<7)return!1;const h=o/7,x=h/2;return Math.abs(h-e[0])<x&&Math.abs(h-e[1])<x&&Math.abs(3*h-e[2])<3*x&&Math.abs(h-e[3])<x&&Math.abs(h-e[4])<x}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,o,h,x){const E=this.getCrossCheckStateCount();let N=0;const P=this.image;for(;e>=N&&o>=N&&P.get(o-N,e-N);)E[2]++,N++;if(e<N||o<N)return!1;for(;e>=N&&o>=N&&!P.get(o-N,e-N)&&E[1]<=h;)E[1]++,N++;if(e<N||o<N||E[1]>h)return!1;for(;e>=N&&o>=N&&P.get(o-N,e-N)&&E[0]<=h;)E[0]++,N++;if(E[0]>h)return!1;const G=P.getHeight(),Z=P.getWidth();for(N=1;e+N<G&&o+N<Z&&P.get(o+N,e+N);)E[2]++,N++;if(e+N>=G||o+N>=Z)return!1;for(;e+N<G&&o+N<Z&&!P.get(o+N,e+N)&&E[3]<h;)E[3]++,N++;if(e+N>=G||o+N>=Z||E[3]>=h)return!1;for(;e+N<G&&o+N<Z&&P.get(o+N,e+N)&&E[4]<h;)E[4]++,N++;if(E[4]>=h)return!1;const oe=E[0]+E[1]+E[2]+E[3]+E[4];return Math.abs(oe-x)<2*x&&Wr.foundPatternCross(E)}crossCheckVertical(e,o,h,x){const E=this.image,N=E.getHeight(),P=this.getCrossCheckStateCount();let G=e;for(;G>=0&&E.get(o,G);)P[2]++,G--;if(G<0)return NaN;for(;G>=0&&!E.get(o,G)&&P[1]<=h;)P[1]++,G--;if(G<0||P[1]>h)return NaN;for(;G>=0&&E.get(o,G)&&P[0]<=h;)P[0]++,G--;if(P[0]>h)return NaN;for(G=e+1;G<N&&E.get(o,G);)P[2]++,G++;if(G===N)return NaN;for(;G<N&&!E.get(o,G)&&P[3]<h;)P[3]++,G++;if(G===N||P[3]>=h)return NaN;for(;G<N&&E.get(o,G)&&P[4]<h;)P[4]++,G++;if(P[4]>=h)return NaN;const Z=P[0]+P[1]+P[2]+P[3]+P[4];return 5*Math.abs(Z-x)>=2*x?NaN:Wr.foundPatternCross(P)?Wr.centerFromEnd(P,G):NaN}crossCheckHorizontal(e,o,h,x){const E=this.image,N=E.getWidth(),P=this.getCrossCheckStateCount();let G=e;for(;G>=0&&E.get(G,o);)P[2]++,G--;if(G<0)return NaN;for(;G>=0&&!E.get(G,o)&&P[1]<=h;)P[1]++,G--;if(G<0||P[1]>h)return NaN;for(;G>=0&&E.get(G,o)&&P[0]<=h;)P[0]++,G--;if(P[0]>h)return NaN;for(G=e+1;G<N&&E.get(G,o);)P[2]++,G++;if(G===N)return NaN;for(;G<N&&!E.get(G,o)&&P[3]<h;)P[3]++,G++;if(G===N||P[3]>=h)return NaN;for(;G<N&&E.get(G,o)&&P[4]<h;)P[4]++,G++;if(P[4]>=h)return NaN;const Z=P[0]+P[1]+P[2]+P[3]+P[4];return 5*Math.abs(Z-x)>=x?NaN:Wr.foundPatternCross(P)?Wr.centerFromEnd(P,G):NaN}handlePossibleCenter(e,o,h,x){const E=e[0]+e[1]+e[2]+e[3]+e[4];let N=Wr.centerFromEnd(e,h),P=this.crossCheckVertical(o,Math.floor(N),e[2],E);if(!isNaN(P)&&(N=this.crossCheckHorizontal(Math.floor(N),Math.floor(P),e[2],E),!isNaN(N)&&(!x||this.crossCheckDiagonal(Math.floor(P),Math.floor(N),e[2],E)))){const G=E/7;let Z=!1;const oe=this.possibleCenters;for(let fe=0,ge=oe.length;fe<ge;fe++){const Ce=oe[fe];if(Ce.aboutEquals(G,P,N)){oe[fe]=Ce.combineEstimate(P,N,G),Z=!0;break}}if(!Z){const fe=new un(N,P,G);oe.push(fe),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(fe)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const h of this.possibleCenters)if(h.getCount()>=Wr.CENTER_QUORUM)if(o==null)o=h;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-h.getX())-Math.abs(o.getY()-h.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,o=0;const h=this.possibleCenters.length;for(const N of this.possibleCenters)N.getCount()>=Wr.CENTER_QUORUM&&(e++,o+=N.getEstimatedModuleSize());if(e<3)return!1;const x=o/h;let E=0;for(const N of this.possibleCenters)E+=Math.abs(N.getEstimatedModuleSize()-x);return E<=.05*o}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new A;const o=this.possibleCenters;let h;if(e>3){let x=0,E=0;for(const G of this.possibleCenters){const Z=G.getEstimatedModuleSize();x+=Z,E+=Z*Z}h=x/e;let N=Math.sqrt(E/e-h*h);o.sort((G,Z)=>{const oe=Math.abs(Z.getEstimatedModuleSize()-h),fe=Math.abs(G.getEstimatedModuleSize()-h);return oe<fe?-1:oe>fe?1:0});const P=Math.max(.2*h,N);for(let G=0;G<o.length&&o.length>3;G++){const Z=o[G];Math.abs(Z.getEstimatedModuleSize()-h)>P&&(o.splice(G,1),G--)}}if(o.length>3){let x=0;for(const E of o)x+=E.getEstimatedModuleSize();h=x/o.length,o.sort((E,N)=>{if(N.getCount()===E.getCount()){const P=Math.abs(N.getEstimatedModuleSize()-h),G=Math.abs(E.getEstimatedModuleSize()-h);return P<G?1:P>G?-1:0}else return N.getCount()-E.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}Wr.CENTER_QUORUM=2,Wr.MIN_SKIP=3,Wr.MAX_MODULES=57;class Tn{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(X.NEED_RESULT_POINT_CALLBACK);const h=new Wr(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(h)}processFinderPatternInfo(e){const o=e.getTopLeft(),h=e.getTopRight(),x=e.getBottomLeft(),E=this.calculateModuleSize(o,h,x);if(E<1)throw new A("No pattern found in proccess finder.");const N=Tn.computeDimension(o,h,x,E),P=wt.getProvisionalVersionForDimension(N),G=P.getDimensionForVersion()-7;let Z=null;if(P.getAlignmentPatternCenters().length>0){const Ce=h.getX()-o.getX()+x.getX(),Be=h.getY()-o.getY()+x.getY(),Le=1-3/G,Xe=Math.floor(o.getX()+Le*(Ce-o.getX())),Ke=Math.floor(o.getY()+Le*(Be-o.getY()));for(let St=4;St<=16;St<<=1)try{Z=this.findAlignmentInRegion(E,Xe,Ke,St);break}catch(At){if(!(At instanceof A))throw At}}const oe=Tn.createTransform(o,h,x,Z,N),fe=Tn.sampleGrid(this.image,oe,N);let ge;return Z===null?ge=[x,o,h]:ge=[x,o,h,Z],new We(fe,ge)}static createTransform(e,o,h,x,E){const N=E-3.5;let P,G,Z,oe;return x!==null?(P=x.getX(),G=x.getY(),Z=N-3,oe=Z):(P=o.getX()-e.getX()+h.getX(),G=o.getY()-e.getY()+h.getY(),Z=N,oe=N),xt.quadrilateralToQuadrilateral(3.5,3.5,N,3.5,Z,oe,3.5,N,e.getX(),e.getY(),o.getX(),o.getY(),P,G,h.getX(),h.getY())}static sampleGrid(e,o,h){return gt.getInstance().sampleGridWithTransform(e,h,h,o)}static computeDimension(e,o,h,x){const E=Se.round(ke.distance(e,o)/x),N=Se.round(ke.distance(e,h)/x);let P=Math.floor((E+N)/2)+7;switch(P&3){case 0:P++;break;case 2:P--;break;case 3:throw new A("Dimensions could be not found.")}return P}calculateModuleSize(e,o,h){return(this.calculateModuleSizeOneWay(e,o)+this.calculateModuleSizeOneWay(e,h))/2}calculateModuleSizeOneWay(e,o){const h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(o.getX()),Math.floor(o.getY())),x=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(h)?x/7:isNaN(x)?h/7:(h+x)/14}sizeOfBlackWhiteBlackRunBothWays(e,o,h,x){let E=this.sizeOfBlackWhiteBlackRun(e,o,h,x),N=1,P=e-(h-e);P<0?(N=e/(e-P),P=0):P>=this.image.getWidth()&&(N=(this.image.getWidth()-1-e)/(P-e),P=this.image.getWidth()-1);let G=Math.floor(o-(x-o)*N);return N=1,G<0?(N=o/(o-G),G=0):G>=this.image.getHeight()&&(N=(this.image.getHeight()-1-o)/(G-o),G=this.image.getHeight()-1),P=Math.floor(e+(P-e)*N),E+=this.sizeOfBlackWhiteBlackRun(e,o,P,G),E-1}sizeOfBlackWhiteBlackRun(e,o,h,x){const E=Math.abs(x-o)>Math.abs(h-e);if(E){let Ce=e;e=o,o=Ce,Ce=h,h=x,x=Ce}const N=Math.abs(h-e),P=Math.abs(x-o);let G=-N/2;const Z=e<h?1:-1,oe=o<x?1:-1;let fe=0;const ge=h+Z;for(let Ce=e,Be=o;Ce!==ge;Ce+=Z){const Le=E?Be:Ce,Xe=E?Ce:Be;if(fe===1===this.image.get(Le,Xe)){if(fe===2)return Se.distance(Ce,Be,e,o);fe++}if(G+=P,G>0){if(Be===x)break;Be+=oe,G-=N}}return fe===2?Se.distance(h+Z,x,e,o):NaN}findAlignmentInRegion(e,o,h,x){const E=Math.floor(x*e),N=Math.max(0,o-E),P=Math.min(this.image.getWidth()-1,o+E);if(P-N<e*3)throw new A("Alignment top exceeds estimated module size.");const G=Math.max(0,h-E),Z=Math.min(this.image.getHeight()-1,h+E);if(Z-G<e*3)throw new A("Alignment bottom exceeds estimated module size.");return new fn(this.image,N,G,P-N,Z-G,e,this.resultPointCallback).find()}}class en{constructor(){this.decoder=new xi}getDecoder(){return this.decoder}decode(e,o){let h,x;if(o!=null&&o.get(X.PURE_BARCODE)!==void 0){const G=en.extractPureBits(e.getBlackMatrix());h=this.decoder.decodeBitMatrix(G,o),x=en.NO_POINTS}else{const G=new Tn(e.getBlackMatrix()).detect(o);h=this.decoder.decodeBitMatrix(G.getBits(),o),x=G.getPoints()}h.getOther()instanceof bn&&h.getOther().applyMirroredCorrection(x);const E=new ne(h.getText(),h.getRawBytes(),void 0,x,H.QR_CODE,void 0),N=h.getByteSegments();N!==null&&E.putMetadata(U.BYTE_SEGMENTS,N);const P=h.getECLevel();return P!==null&&E.putMetadata(U.ERROR_CORRECTION_LEVEL,P),h.hasStructuredAppend()&&(E.putMetadata(U.STRUCTURED_APPEND_SEQUENCE,h.getStructuredAppendSequenceNumber()),E.putMetadata(U.STRUCTURED_APPEND_PARITY,h.getStructuredAppendParity())),E}reset(){}static extractPureBits(e){const o=e.getTopLeftOnBit(),h=e.getBottomRightOnBit();if(o===null||h===null)throw new A;const x=this.moduleSize(o,e);let E=o[1],N=h[1],P=o[0],G=h[0];if(P>=G||E>=N)throw new A;if(N-E!==G-P&&(G=P+(N-E),G>=e.getWidth()))throw new A;const Z=Math.round((G-P+1)/x),oe=Math.round((N-E+1)/x);if(Z<=0||oe<=0)throw new A;if(oe!==Z)throw new A;const fe=Math.floor(x/2);E+=fe,P+=fe;const ge=P+Math.floor((Z-1)*x)-G;if(ge>0){if(ge>fe)throw new A;P-=ge}const Ce=E+Math.floor((oe-1)*x)-N;if(Ce>0){if(Ce>fe)throw new A;E-=Ce}const Be=new F(Z,oe);for(let Le=0;Le<oe;Le++){const Xe=E+Math.floor(Le*x);for(let Ke=0;Ke<Z;Ke++)e.get(P+Math.floor(Ke*x),Xe)&&Be.set(Ke,Le)}return Be}static moduleSize(e,o){const h=o.getHeight(),x=o.getWidth();let E=e[0],N=e[1],P=!0,G=0;for(;E<x&&N<h;){if(P!==o.get(E,N)){if(++G===5)break;P=!P}E++,N++}if(E===x||N===h)throw new A;return(E-e[0])/7}}en.NO_POINTS=new Array;class cr{PDF417Common(){}static getBitCountSum(e){return Se.sum(e)}static toIntArray(e){if(e==null||!e.length)return cr.EMPTY_INT_ARRAY;const o=new Int32Array(e.length);let h=0;for(const x of e)o[h++]=x;return o}static getCodeword(e){const o=y.binarySearch(cr.SYMBOL_TABLE,e&262143);return o<0?-1:(cr.CODEWORD_TABLE[o]-1)%cr.NUMBER_OF_CODEWORDS}}cr.NUMBER_OF_CODEWORDS=929,cr.MAX_CODEWORDS_IN_BARCODE=cr.NUMBER_OF_CODEWORDS-1,cr.MIN_ROWS_IN_BARCODE=3,cr.MAX_ROWS_IN_BARCODE=90,cr.MODULES_IN_CODEWORD=17,cr.MODULES_IN_STOP_PATTERN=18,cr.BARS_IN_MODULE=8,cr.EMPTY_INT_ARRAY=new Int32Array([]),cr.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),cr.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Vo{constructor(e,o){this.bits=e,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class mr{static detectMultiple(e,o,h){let x=e.getBlackMatrix(),E=mr.detect(h,x);return E.length||(x=x.clone(),x.rotate180(),E=mr.detect(h,x)),new Vo(x,E)}static detect(e,o){const h=new Array;let x=0,E=0,N=!1;for(;x<o.getHeight();){const P=mr.findVertices(o,x,E);if(P[0]==null&&P[3]==null){if(!N)break;N=!1,E=0;for(const G of h)G[1]!=null&&(x=Math.trunc(Math.max(x,G[1].getY()))),G[3]!=null&&(x=Math.max(x,Math.trunc(G[3].getY())));x+=mr.ROW_STEP;continue}if(N=!0,h.push(P),!e)break;P[2]!=null?(E=Math.trunc(P[2].getX()),x=Math.trunc(P[2].getY())):(E=Math.trunc(P[4].getX()),x=Math.trunc(P[4].getY()))}return h}static findVertices(e,o,h){const x=e.getHeight(),E=e.getWidth(),N=new Array(8);return mr.copyToResult(N,mr.findRowsWithPattern(e,x,E,o,h,mr.START_PATTERN),mr.INDEXES_START_PATTERN),N[4]!=null&&(h=Math.trunc(N[4].getX()),o=Math.trunc(N[4].getY())),mr.copyToResult(N,mr.findRowsWithPattern(e,x,E,o,h,mr.STOP_PATTERN),mr.INDEXES_STOP_PATTERN),N}static copyToResult(e,o,h){for(let x=0;x<h.length;x++)e[h[x]]=o[x]}static findRowsWithPattern(e,o,h,x,E,N){const P=new Array(4);let G=!1;const Z=new Int32Array(N.length);for(;x<o;x+=mr.ROW_STEP){let fe=mr.findGuardPattern(e,E,x,h,!1,N,Z);if(fe!=null){for(;x>0;){const ge=mr.findGuardPattern(e,E,--x,h,!1,N,Z);if(ge!=null)fe=ge;else{x++;break}}P[0]=new ke(fe[0],x),P[1]=new ke(fe[1],x),G=!0;break}}let oe=x+1;if(G){let fe=0,ge=Int32Array.from([Math.trunc(P[0].getX()),Math.trunc(P[1].getX())]);for(;oe<o;oe++){const Ce=mr.findGuardPattern(e,ge[0],oe,h,!1,N,Z);if(Ce!=null&&Math.abs(ge[0]-Ce[0])<mr.MAX_PATTERN_DRIFT&&Math.abs(ge[1]-Ce[1])<mr.MAX_PATTERN_DRIFT)ge=Ce,fe=0;else{if(fe>mr.SKIPPED_ROW_COUNT_MAX)break;fe++}}oe-=fe+1,P[2]=new ke(ge[0],oe),P[3]=new ke(ge[1],oe)}return oe-x<mr.BARCODE_MIN_HEIGHT&&y.fill(P,null),P}static findGuardPattern(e,o,h,x,E,N,P){y.fillWithin(P,0,P.length,0);let G=o,Z=0;for(;e.get(G,h)&&G>0&&Z++<mr.MAX_PIXEL_DRIFT;)G--;let oe=G,fe=0,ge=N.length;for(let Ce=E;oe<x;oe++)if(e.get(oe,h)!==Ce)P[fe]++;else{if(fe===ge-1){if(mr.patternMatchVariance(P,N,mr.MAX_INDIVIDUAL_VARIANCE)<mr.MAX_AVG_VARIANCE)return new Int32Array([G,oe]);G+=P[0]+P[1],b.arraycopy(P,2,P,0,fe-1),P[fe-1]=0,P[fe]=0,fe--}else fe++;P[fe]=1,Ce=!Ce}return fe===ge-1&&mr.patternMatchVariance(P,N,mr.MAX_INDIVIDUAL_VARIANCE)<mr.MAX_AVG_VARIANCE?new Int32Array([G,oe-1]):null}static patternMatchVariance(e,o,h){let x=e.length,E=0,N=0;for(let Z=0;Z<x;Z++)E+=e[Z],N+=o[Z];if(E<N)return 1/0;let P=E/N;h*=P;let G=0;for(let Z=0;Z<x;Z++){let oe=e[Z],fe=o[Z]*P,ge=oe>fe?oe-fe:fe-oe;if(ge>h)return 1/0;G+=ge}return G/E}}mr.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),mr.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),mr.MAX_AVG_VARIANCE=.42,mr.MAX_INDIVIDUAL_VARIANCE=.8,mr.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),mr.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),mr.MAX_PIXEL_DRIFT=3,mr.MAX_PATTERN_DRIFT=5,mr.SKIPPED_ROW_COUNT_MAX=25,mr.ROW_STEP=5,mr.BARCODE_MIN_HEIGHT=10;class hn{constructor(e,o){if(o.length===0)throw new c;this.field=e;let h=o.length;if(h>1&&o[0]===0){let x=1;for(;x<h&&o[x]===0;)x++;x===h?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(h-x),b.arraycopy(o,x,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let x=0;for(let E of this.coefficients)x=this.field.add(x,E);return x}let o=this.coefficients[0],h=this.coefficients.length;for(let x=1;x<h;x++)o=this.field.add(this.field.multiply(e,o),this.coefficients[x]);return o}add(e){if(!this.field.equals(e.field))throw new c("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let o=this.coefficients,h=e.coefficients;if(o.length>h.length){let N=o;o=h,h=N}let x=new Int32Array(h.length),E=h.length-o.length;b.arraycopy(h,0,x,0,E);for(let N=E;N<h.length;N++)x[N]=this.field.add(o[N-E],h[N]);return new hn(this.field,x)}subtract(e){if(!this.field.equals(e.field))throw new c("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof hn?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new c("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new hn(this.field,new Int32Array([0]));let o=this.coefficients,h=o.length,x=e.coefficients,E=x.length,N=new Int32Array(h+E-1);for(let P=0;P<h;P++){let G=o[P];for(let Z=0;Z<E;Z++)N[P+Z]=this.field.add(N[P+Z],this.field.multiply(G,x[Z]))}return new hn(this.field,N)}negative(){let e=this.coefficients.length,o=new Int32Array(e);for(let h=0;h<e;h++)o[h]=this.field.subtract(0,this.coefficients[h]);return new hn(this.field,o)}multiplyScalar(e){if(e===0)return new hn(this.field,new Int32Array([0]));if(e===1)return this;let o=this.coefficients.length,h=new Int32Array(o);for(let x=0;x<o;x++)h[x]=this.field.multiply(this.coefficients[x],e);return new hn(this.field,h)}multiplyByMonomial(e,o){if(e<0)throw new c;if(o===0)return new hn(this.field,new Int32Array([0]));let h=this.coefficients.length,x=new Int32Array(h+e);for(let E=0;E<h;E++)x[E]=this.field.multiply(this.coefficients[E],o);return new hn(this.field,x)}toString(){let e=new D;for(let o=this.getDegree();o>=0;o--){let h=this.getCoefficient(o);h!==0&&(h<0?(e.append(" - "),h=-h):e.length()>0&&e.append(" + "),(o===0||h!==1)&&e.append(h),o!==0&&(o===1?e.append("x"):(e.append("x^"),e.append(o))))}return e.toString()}}class Ho{add(e,o){return(e+o)%this.modulus}subtract(e,o){return(this.modulus+e-o)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new c;return this.logTable[e]}inverse(e){if(e===0)throw new ve;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,o){return e===0||o===0?0:this.expTable[(this.logTable[e]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class ji extends Ho{constructor(e,o){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let h=1;for(let x=0;x<e;x++)this.expTable[x]=h,h=h*o%e;for(let x=0;x<e-1;x++)this.logTable[this.expTable[x]]=x;this.zero=new hn(this,new Int32Array([0])),this.one=new hn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,o){if(e<0)throw new c;if(o===0)return this.zero;let h=new Int32Array(e+1);return h[0]=o,new hn(this,h)}}ji.PDF417_GF=new ji(cr.NUMBER_OF_CODEWORDS,3);class oo{constructor(){this.field=ji.PDF417_GF}decode(e,o,h){let x=new hn(this.field,e),E=new Int32Array(o),N=!1;for(let Be=o;Be>0;Be--){let Le=x.evaluateAt(this.field.exp(Be));E[o-Be]=Le,Le!==0&&(N=!0)}if(!N)return 0;let P=this.field.getOne();if(h!=null)for(const Be of h){let Le=this.field.exp(e.length-1-Be),Xe=new hn(this.field,new Int32Array([this.field.subtract(0,Le),1]));P=P.multiply(Xe)}let G=new hn(this.field,E),Z=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),G,o),oe=Z[0],fe=Z[1],ge=this.findErrorLocations(oe),Ce=this.findErrorMagnitudes(fe,oe,ge);for(let Be=0;Be<ge.length;Be++){let Le=e.length-1-this.field.log(ge[Be]);if(Le<0)throw l.getChecksumInstance();e[Le]=this.field.subtract(e[Le],Ce[Be])}return ge.length}runEuclideanAlgorithm(e,o,h){if(e.getDegree()<o.getDegree()){let ge=e;e=o,o=ge}let x=e,E=o,N=this.field.getZero(),P=this.field.getOne();for(;E.getDegree()>=Math.round(h/2);){let ge=x,Ce=N;if(x=E,N=P,x.isZero())throw l.getChecksumInstance();E=ge;let Be=this.field.getZero(),Le=x.getCoefficient(x.getDegree()),Xe=this.field.inverse(Le);for(;E.getDegree()>=x.getDegree()&&!E.isZero();){let Ke=E.getDegree()-x.getDegree(),St=this.field.multiply(E.getCoefficient(E.getDegree()),Xe);Be=Be.add(this.field.buildMonomial(Ke,St)),E=E.subtract(x.multiplyByMonomial(Ke,St))}P=Be.multiply(N).subtract(Ce).negative()}let G=P.getCoefficient(0);if(G===0)throw l.getChecksumInstance();let Z=this.field.inverse(G),oe=P.multiply(Z),fe=E.multiply(Z);return[oe,fe]}findErrorLocations(e){let o=e.getDegree(),h=new Int32Array(o),x=0;for(let E=1;E<this.field.getSize()&&x<o;E++)e.evaluateAt(E)===0&&(h[x]=this.field.inverse(E),x++);if(x!==o)throw l.getChecksumInstance();return h}findErrorMagnitudes(e,o,h){let x=o.getDegree(),E=new Int32Array(x);for(let Z=1;Z<=x;Z++)E[x-Z]=this.field.multiply(Z,o.getCoefficient(Z));let N=new hn(this.field,E),P=h.length,G=new Int32Array(P);for(let Z=0;Z<P;Z++){let oe=this.field.inverse(h[Z]),fe=this.field.subtract(0,e.evaluateAt(oe)),ge=this.field.inverse(N.evaluateAt(oe));G[Z]=this.field.multiply(fe,ge)}return G}}class vi{constructor(e,o,h,x,E){e instanceof vi?this.constructor_2(e):this.constructor_1(e,o,h,x,E)}constructor_1(e,o,h,x,E){const N=o==null||h==null,P=x==null||E==null;if(N&&P)throw new A;N?(o=new ke(0,x.getY()),h=new ke(0,E.getY())):P&&(x=new ke(e.getWidth()-1,o.getY()),E=new ke(e.getWidth()-1,h.getY())),this.image=e,this.topLeft=o,this.bottomLeft=h,this.topRight=x,this.bottomRight=E,this.minX=Math.trunc(Math.min(o.getX(),h.getX())),this.maxX=Math.trunc(Math.max(x.getX(),E.getX())),this.minY=Math.trunc(Math.min(o.getY(),x.getY())),this.maxY=Math.trunc(Math.max(h.getY(),E.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,o){return e==null?o:o==null?e:new vi(e.image,e.topLeft,e.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(e,o,h){let x=this.topLeft,E=this.bottomLeft,N=this.topRight,P=this.bottomRight;if(e>0){let G=h?this.topLeft:this.topRight,Z=Math.trunc(G.getY()-e);Z<0&&(Z=0);let oe=new ke(G.getX(),Z);h?x=oe:N=oe}if(o>0){let G=h?this.bottomLeft:this.bottomRight,Z=Math.trunc(G.getY()+o);Z>=this.image.getHeight()&&(Z=this.image.getHeight()-1);let oe=new ke(G.getX(),Z);h?E=oe:P=oe}return new vi(this.image,x,E,N,P)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class cs{constructor(e,o,h,x){this.columnCount=e,this.errorCorrectionLevel=x,this.rowCountUpperPart=o,this.rowCountLowerPart=h,this.rowCount=o+h}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class oi{constructor(){this.buffer=""}static form(e,o){let h=-1;function x(N,P,G,Z,oe,fe){if(N==="%%")return"%";if(o[++h]===void 0)return;N=Z?parseInt(Z.substr(1)):void 0;let ge=oe?parseInt(oe.substr(1)):void 0,Ce;switch(fe){case"s":Ce=o[h];break;case"c":Ce=o[h][0];break;case"f":Ce=parseFloat(o[h]).toFixed(N);break;case"p":Ce=parseFloat(o[h]).toPrecision(N);break;case"e":Ce=parseFloat(o[h]).toExponential(N);break;case"x":Ce=parseInt(o[h]).toString(ge||16);break;case"d":Ce=parseFloat(parseInt(o[h],ge||10).toPrecision(N)).toFixed(0);break}Ce=typeof Ce=="object"?JSON.stringify(Ce):(+Ce).toString(ge);let Be=parseInt(G),Le=G&&G[0]+""=="0"?"0":" ";for(;Ce.length<Be;)Ce=P!==void 0?Ce+Le:Le+Ce;return Ce}let E=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(E,x)}format(e,...o){this.buffer+=oi.form(e,o)}toString(){return this.buffer}}class Qn{constructor(e){this.boundingBox=new vi(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let o=this.getCodeword(e);if(o!=null)return o;for(let h=1;h<Qn.MAX_NEARBY_DISTANCE;h++){let x=this.imageRowToCodewordIndex(e)-h;if(x>=0&&(o=this.codewords[x],o!=null)||(x=this.imageRowToCodewordIndex(e)+h,x<this.codewords.length&&(o=this.codewords[x],o!=null)))return o}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,o){this.codewords[this.imageRowToCodewordIndex(e)]=o}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new oi;let o=0;for(const h of this.codewords){if(h==null){e.format("%3d:    |   %n",o++);continue}e.format("%3d: %3d|%3d%n",o++,h.getRowNumber(),h.getValue())}return e.toString()}}Qn.MAX_NEARBY_DISTANCE=5;class pi{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let o=this.values.get(e);o==null&&(o=0),o++,this.values.set(e,o)}getValue(){let e=-1,o=new Array;for(const[h,x]of this.values.entries()){const E={getKey:()=>h,getValue:()=>x};E.getValue()>e?(e=E.getValue(),o=[],o.push(E.getKey())):E.getValue()===e&&o.push(E.getKey())}return cr.toIntArray(o)}getConfidence(e){return this.values.get(e)}}class Wo extends Qn{constructor(e,o){super(e),this._isLeft=o}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,e);let h=this.getBoundingBox(),x=this._isLeft?h.getTopLeft():h.getTopRight(),E=this._isLeft?h.getBottomLeft():h.getBottomRight(),N=this.imageRowToCodewordIndex(Math.trunc(x.getY())),P=this.imageRowToCodewordIndex(Math.trunc(E.getY())),G=-1,Z=1,oe=0;for(let fe=N;fe<P;fe++){if(o[fe]==null)continue;let ge=o[fe],Ce=ge.getRowNumber()-G;if(Ce===0)oe++;else if(Ce===1)Z=Math.max(Z,oe),oe=1,G=ge.getRowNumber();else if(Ce<0||ge.getRowNumber()>=e.getRowCount()||Ce>fe)o[fe]=null;else{let Be;Z>2?Be=(Z-2)*Ce:Be=Ce;let Le=Be>=fe;for(let Xe=1;Xe<=Be&&!Le;Xe++)Le=o[fe-Xe]!=null;Le?o[fe]=null:(G=ge.getRowNumber(),oe=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let o=new Int32Array(e.getRowCount());for(let h of this.getCodewords())if(h!=null){let x=h.getRowNumber();if(x>=o.length)continue;o[x]++}return o}adjustIncompleteIndicatorColumnRowNumbers(e){let o=this.getBoundingBox(),h=this._isLeft?o.getTopLeft():o.getTopRight(),x=this._isLeft?o.getBottomLeft():o.getBottomRight(),E=this.imageRowToCodewordIndex(Math.trunc(h.getY())),N=this.imageRowToCodewordIndex(Math.trunc(x.getY())),P=this.getCodewords(),G=-1;for(let Z=E;Z<N;Z++){if(P[Z]==null)continue;let oe=P[Z];oe.setRowNumberAsRowIndicatorColumn();let fe=oe.getRowNumber()-G;fe===0||(fe===1?G=oe.getRowNumber():oe.getRowNumber()>=e.getRowCount()?P[Z]=null:G=oe.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),o=new pi,h=new pi,x=new pi,E=new pi;for(let P of e){if(P==null)continue;P.setRowNumberAsRowIndicatorColumn();let G=P.getValue()%30,Z=P.getRowNumber();switch(this._isLeft||(Z+=2),Z%3){case 0:h.setValue(G*3+1);break;case 1:E.setValue(G/3),x.setValue(G%3);break;case 2:o.setValue(G+1);break}}if(o.getValue().length===0||h.getValue().length===0||x.getValue().length===0||E.getValue().length===0||o.getValue()[0]<1||h.getValue()[0]+x.getValue()[0]<cr.MIN_ROWS_IN_BARCODE||h.getValue()[0]+x.getValue()[0]>cr.MAX_ROWS_IN_BARCODE)return null;let N=new cs(o.getValue()[0],h.getValue()[0],x.getValue()[0],E.getValue()[0]);return this.removeIncorrectCodewords(e,N),N}removeIncorrectCodewords(e,o){for(let h=0;h<e.length;h++){let x=e[h];if(e[h]==null)continue;let E=x.getValue()%30,N=x.getRowNumber();if(N>o.getRowCount()){e[h]=null;continue}switch(this._isLeft||(N+=2),N%3){case 0:E*3+1!==o.getRowCountUpperPart()&&(e[h]=null);break;case 1:(Math.trunc(E/3)!==o.getErrorCorrectionLevel()||E%3!==o.getRowCountLowerPart())&&(e[h]=null);break;case 2:E+1!==o.getColumnCount()&&(e[h]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class fs{constructor(e,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=cr.MAX_CODEWORDS_IN_BARCODE,o;do o=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let h=this.detectionResultColumns[o].getCodewords();for(let x=0;x<h.length;x++)h[x]!=null&&(h[x].hasValidRowNumber()||this.adjustRowNumbers(o,x,h))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<e.length;h++)if(e[h]!=null&&o[h]!=null&&e[h].getRowNumber()===o[h].getRowNumber())for(let x=1;x<=this.barcodeColumnCount;x++){let E=this.detectionResultColumns[x].getCodewords()[h];E!=null&&(E.setRowNumber(e[h].getRowNumber()),E.hasValidRowNumber()||(this.detectionResultColumns[x].getCodewords()[h]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<o.length;h++){if(o[h]==null)continue;let x=o[h].getRowNumber(),E=0;for(let N=this.barcodeColumnCount+1;N>0&&E<this.ADJUST_ROW_NUMBER_SKIP;N--){let P=this.detectionResultColumns[N].getCodewords()[h];P!=null&&(E=fs.adjustRowNumberIfValid(x,E,P),P.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,o=this.detectionResultColumns[0].getCodewords();for(let h=0;h<o.length;h++){if(o[h]==null)continue;let x=o[h].getRowNumber(),E=0;for(let N=1;N<this.barcodeColumnCount+1&&E<this.ADJUST_ROW_NUMBER_SKIP;N++){let P=this.detectionResultColumns[N].getCodewords()[h];P!=null&&(E=fs.adjustRowNumberIfValid(x,E,P),P.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,o,h){return h==null||h.hasValidRowNumber()||(h.isValidRowNumber(e)?(h.setRowNumber(e),o=0):++o),o}adjustRowNumbers(e,o,h){if(!this.detectionResultColumns[e-1])return;let x=h[o],E=this.detectionResultColumns[e-1].getCodewords(),N=E;this.detectionResultColumns[e+1]!=null&&(N=this.detectionResultColumns[e+1].getCodewords());let P=new Array(14);P[2]=E[o],P[3]=N[o],o>0&&(P[0]=h[o-1],P[4]=E[o-1],P[5]=N[o-1]),o>1&&(P[8]=h[o-2],P[10]=E[o-2],P[11]=N[o-2]),o<h.length-1&&(P[1]=h[o+1],P[6]=E[o+1],P[7]=N[o+1]),o<h.length-2&&(P[9]=h[o+2],P[12]=E[o+2],P[13]=N[o+2]);for(let G of P)if(fs.adjustRowNumber(x,G))return}static adjustRowNumber(e,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===e.getBucket()?(e.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,o){this.detectionResultColumns[e]=o}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new oi;for(let h=0;h<e.getCodewords().length;h++){o.format("CW %3d:",h);for(let x=0;x<this.barcodeColumnCount+2;x++){if(this.detectionResultColumns[x]==null){o.format("    |   ");continue}let E=this.detectionResultColumns[x].getCodewords()[h];if(E==null){o.format("    |   ");continue}o.format(" %3d|%3d",E.getRowNumber(),E.getValue())}o.format("%n")}return o.toString()}}class _i{constructor(e,o,h,x){this.rowNumber=_i.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(o),this.bucket=Math.trunc(h),this.value=Math.trunc(x)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==_i.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}_i.BARCODE_ROW_UNKNOWN=-1;class dn{static initialize(){for(let e=0;e<cr.SYMBOL_TABLE.length;e++){let o=cr.SYMBOL_TABLE[e],h=o&1;for(let x=0;x<cr.BARS_IN_MODULE;x++){let E=0;for(;(o&1)===h;)E+=1,o>>=1;h=o&1,dn.RATIOS_TABLE[e]||(dn.RATIOS_TABLE[e]=new Array(cr.BARS_IN_MODULE)),dn.RATIOS_TABLE[e][cr.BARS_IN_MODULE-x-1]=Math.fround(E/cr.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let o=dn.getDecodedCodewordValue(dn.sampleBitCounts(e));return o!==-1?o:dn.getClosestDecodedValue(e)}static sampleBitCounts(e){let o=Se.sum(e),h=new Int32Array(cr.BARS_IN_MODULE),x=0,E=0;for(let N=0;N<cr.MODULES_IN_CODEWORD;N++){let P=o/(2*cr.MODULES_IN_CODEWORD)+N*o/cr.MODULES_IN_CODEWORD;E+e[x]<=P&&(E+=e[x],x++),h[x]++}return h}static getDecodedCodewordValue(e){let o=dn.getBitValue(e);return cr.getCodeword(o)===-1?-1:o}static getBitValue(e){let o=0;for(let h=0;h<e.length;h++)for(let x=0;x<e[h];x++)o=o<<1|(h%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(e){let o=Se.sum(e),h=new Array(cr.BARS_IN_MODULE);if(o>1)for(let N=0;N<h.length;N++)h[N]=Math.fround(e[N]/o);let x=Ue.MAX_VALUE,E=-1;this.bSymbolTableReady||dn.initialize();for(let N=0;N<dn.RATIOS_TABLE.length;N++){let P=0,G=dn.RATIOS_TABLE[N];for(let Z=0;Z<cr.BARS_IN_MODULE;Z++){let oe=Math.fround(G[Z]-h[Z]);if(P+=Math.fround(oe*oe),P>=x)break}P<x&&(x=P,E=cr.SYMBOL_TABLE[N])}return E}}dn.bSymbolTableReady=!1,dn.RATIOS_TABLE=new Array(cr.SYMBOL_TABLE.length).map(ue=>new Array(cr.BARS_IN_MODULE));class Ds{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class ao{static parseLong(e,o=void 0){return parseInt(e,o)}}class ai extends t{}ai.kind="NullPointerException";class lo{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,o,h){if(e==null)throw new ai;if(o<0||o>e.length||h<0||o+h>e.length||o+h<0)throw new d;if(h===0)return;for(let x=0;x<h;x++)this.write(e[o+x])}flush(){}close(){}}class Ps extends t{}class Xo extends lo{constructor(e=32){if(super(),this.count=0,e<0)throw new c("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let h=this.buf.length<<1;if(h-e<0&&(h=e),h<0){if(e<0)throw new Ps;h=T.MAX_VALUE}this.buf=y.copyOfUint8Array(this.buf,h)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,o,h){if(o<0||o>e.length||h<0||o+h-e.length>0)throw new d;this.ensureCapacity(this.count+h),b.arraycopy(e,o,this.buf,this.count,h),this.count+=h}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return y.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var Or;(function(ue){ue[ue.ALPHA=0]="ALPHA",ue[ue.LOWER=1]="LOWER",ue[ue.MIXED=2]="MIXED",ue[ue.PUNCT=3]="PUNCT",ue[ue.ALPHA_SHIFT=4]="ALPHA_SHIFT",ue[ue.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Or||(Or={}));function hs(){if(typeof window<"u")return window.BigInt||null;if(typeof yr<"u")return yr.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ds;function tn(ue){if(typeof ds>"u"&&(ds=hs()),ds===null)throw new Error("BigInt is not supported!");return ds(ue)}function Li(){let ue=[];ue[0]=tn(1);let e=tn(900);ue[1]=e;for(let o=2;o<16;o++)ue[o]=ue[o-1]*e;return ue}class Qe{static decode(e,o){let h=new D(""),x=q.ISO8859_1;h.enableDecoding(x);let E=1,N=e[E++],P=new Ds;for(;E<e[0];){switch(N){case Qe.TEXT_COMPACTION_MODE_LATCH:E=Qe.textCompaction(e,E,h);break;case Qe.BYTE_COMPACTION_MODE_LATCH:case Qe.BYTE_COMPACTION_MODE_LATCH_6:E=Qe.byteCompaction(N,e,x,E,h);break;case Qe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(e[E++]);break;case Qe.NUMERIC_COMPACTION_MODE_LATCH:E=Qe.numericCompaction(e,E,h);break;case Qe.ECI_CHARSET:q.getCharacterSetECIByValue(e[E++]);break;case Qe.ECI_GENERAL_PURPOSE:E+=2;break;case Qe.ECI_USER_DEFINED:E++;break;case Qe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:E=Qe.decodeMacroBlock(e,E,P);break;case Qe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Qe.MACRO_PDF417_TERMINATOR:throw new Y;default:E--,E=Qe.textCompaction(e,E,h);break}if(E<e.length)N=e[E++];else throw Y.getFormatInstance()}if(h.length()===0)throw Y.getFormatInstance();let G=new L(null,h.toString(),null,o);return G.setOther(P),G}static decodeMacroBlock(e,o,h){if(o+Qe.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw Y.getFormatInstance();let x=new Int32Array(Qe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let P=0;P<Qe.NUMBER_OF_SEQUENCE_CODEWORDS;P++,o++)x[P]=e[o];h.setSegmentIndex(T.parseInt(Qe.decodeBase900toBase10(x,Qe.NUMBER_OF_SEQUENCE_CODEWORDS)));let E=new D;o=Qe.textCompaction(e,o,E),h.setFileId(E.toString());let N=-1;for(e[o]===Qe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(N=o+1);o<e[0];)switch(e[o]){case Qe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,e[o]){case Qe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let P=new D;o=Qe.textCompaction(e,o+1,P),h.setFileName(P.toString());break;case Qe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let G=new D;o=Qe.textCompaction(e,o+1,G),h.setSender(G.toString());break;case Qe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let Z=new D;o=Qe.textCompaction(e,o+1,Z),h.setAddressee(Z.toString());break;case Qe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let oe=new D;o=Qe.numericCompaction(e,o+1,oe),h.setSegmentCount(T.parseInt(oe.toString()));break;case Qe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let fe=new D;o=Qe.numericCompaction(e,o+1,fe),h.setTimestamp(ao.parseLong(fe.toString()));break;case Qe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let ge=new D;o=Qe.numericCompaction(e,o+1,ge),h.setChecksum(T.parseInt(ge.toString()));break;case Qe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Ce=new D;o=Qe.numericCompaction(e,o+1,Ce),h.setFileSize(ao.parseLong(Ce.toString()));break;default:throw Y.getFormatInstance()}break;case Qe.MACRO_PDF417_TERMINATOR:o++,h.setLastSegment(!0);break;default:throw Y.getFormatInstance()}if(N!==-1){let P=o-N;h.isLastSegment()&&P--,h.setOptionalData(y.copyOfRange(e,N,N+P))}return o}static textCompaction(e,o,h){let x=new Int32Array((e[0]-o)*2),E=new Int32Array((e[0]-o)*2),N=0,P=!1;for(;o<e[0]&&!P;){let G=e[o++];if(G<Qe.TEXT_COMPACTION_MODE_LATCH)x[N]=G/30,x[N+1]=G%30,N+=2;else switch(G){case Qe.TEXT_COMPACTION_MODE_LATCH:x[N++]=Qe.TEXT_COMPACTION_MODE_LATCH;break;case Qe.BYTE_COMPACTION_MODE_LATCH:case Qe.BYTE_COMPACTION_MODE_LATCH_6:case Qe.NUMERIC_COMPACTION_MODE_LATCH:case Qe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Qe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Qe.MACRO_PDF417_TERMINATOR:o--,P=!0;break;case Qe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x[N]=Qe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,G=e[o++],E[N]=G,N++;break}}return Qe.decodeTextCompaction(x,E,N,h),o}static decodeTextCompaction(e,o,h,x){let E=Or.ALPHA,N=Or.ALPHA,P=0;for(;P<h;){let G=e[P],Z="";switch(E){case Or.ALPHA:if(G<26)Z=String.fromCharCode(65+G);else switch(G){case 26:Z=" ";break;case Qe.LL:E=Or.LOWER;break;case Qe.ML:E=Or.MIXED;break;case Qe.PS:N=E,E=Or.PUNCT_SHIFT;break;case Qe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(o[P]);break;case Qe.TEXT_COMPACTION_MODE_LATCH:E=Or.ALPHA;break}break;case Or.LOWER:if(G<26)Z=String.fromCharCode(97+G);else switch(G){case 26:Z=" ";break;case Qe.AS:N=E,E=Or.ALPHA_SHIFT;break;case Qe.ML:E=Or.MIXED;break;case Qe.PS:N=E,E=Or.PUNCT_SHIFT;break;case Qe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(o[P]);break;case Qe.TEXT_COMPACTION_MODE_LATCH:E=Or.ALPHA;break}break;case Or.MIXED:if(G<Qe.PL)Z=Qe.MIXED_CHARS[G];else switch(G){case Qe.PL:E=Or.PUNCT;break;case 26:Z=" ";break;case Qe.LL:E=Or.LOWER;break;case Qe.AL:E=Or.ALPHA;break;case Qe.PS:N=E,E=Or.PUNCT_SHIFT;break;case Qe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(o[P]);break;case Qe.TEXT_COMPACTION_MODE_LATCH:E=Or.ALPHA;break}break;case Or.PUNCT:if(G<Qe.PAL)Z=Qe.PUNCT_CHARS[G];else switch(G){case Qe.PAL:E=Or.ALPHA;break;case Qe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(o[P]);break;case Qe.TEXT_COMPACTION_MODE_LATCH:E=Or.ALPHA;break}break;case Or.ALPHA_SHIFT:if(E=N,G<26)Z=String.fromCharCode(65+G);else switch(G){case 26:Z=" ";break;case Qe.TEXT_COMPACTION_MODE_LATCH:E=Or.ALPHA;break}break;case Or.PUNCT_SHIFT:if(E=N,G<Qe.PAL)Z=Qe.PUNCT_CHARS[G];else switch(G){case Qe.PAL:E=Or.ALPHA;break;case Qe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(o[P]);break;case Qe.TEXT_COMPACTION_MODE_LATCH:E=Or.ALPHA;break}break}Z!==""&&x.append(Z),P++}}static byteCompaction(e,o,h,x,E){let N=new Xo,P=0,G=0,Z=!1;switch(e){case Qe.BYTE_COMPACTION_MODE_LATCH:let oe=new Int32Array(6),fe=o[x++];for(;x<o[0]&&!Z;)switch(oe[P++]=fe,G=900*G+fe,fe=o[x++],fe){case Qe.TEXT_COMPACTION_MODE_LATCH:case Qe.BYTE_COMPACTION_MODE_LATCH:case Qe.NUMERIC_COMPACTION_MODE_LATCH:case Qe.BYTE_COMPACTION_MODE_LATCH_6:case Qe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Qe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Qe.MACRO_PDF417_TERMINATOR:x--,Z=!0;break;default:if(P%5===0&&P>0){for(let ge=0;ge<6;++ge)N.write(Number(tn(G)>>tn(8*(5-ge))));G=0,P=0}break}x===o[0]&&fe<Qe.TEXT_COMPACTION_MODE_LATCH&&(oe[P++]=fe);for(let ge=0;ge<P;ge++)N.write(oe[ge]);break;case Qe.BYTE_COMPACTION_MODE_LATCH_6:for(;x<o[0]&&!Z;){let ge=o[x++];if(ge<Qe.TEXT_COMPACTION_MODE_LATCH)P++,G=900*G+ge;else switch(ge){case Qe.TEXT_COMPACTION_MODE_LATCH:case Qe.BYTE_COMPACTION_MODE_LATCH:case Qe.NUMERIC_COMPACTION_MODE_LATCH:case Qe.BYTE_COMPACTION_MODE_LATCH_6:case Qe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Qe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Qe.MACRO_PDF417_TERMINATOR:x--,Z=!0;break}if(P%5===0&&P>0){for(let Ce=0;Ce<6;++Ce)N.write(Number(tn(G)>>tn(8*(5-Ce))));G=0,P=0}}break}return E.append(ie.decode(N.toByteArray(),h)),x}static numericCompaction(e,o,h){let x=0,E=!1,N=new Int32Array(Qe.MAX_NUMERIC_CODEWORDS);for(;o<e[0]&&!E;){let P=e[o++];if(o===e[0]&&(E=!0),P<Qe.TEXT_COMPACTION_MODE_LATCH)N[x]=P,x++;else switch(P){case Qe.TEXT_COMPACTION_MODE_LATCH:case Qe.BYTE_COMPACTION_MODE_LATCH:case Qe.BYTE_COMPACTION_MODE_LATCH_6:case Qe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Qe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Qe.MACRO_PDF417_TERMINATOR:o--,E=!0;break}(x%Qe.MAX_NUMERIC_CODEWORDS===0||P===Qe.NUMERIC_COMPACTION_MODE_LATCH||E)&&x>0&&(h.append(Qe.decodeBase900toBase10(N,x)),x=0)}return o}static decodeBase900toBase10(e,o){let h=tn(0);for(let E=0;E<o;E++)h+=Qe.EXP900[o-E-1]*tn(e[E]);let x=h.toString();if(x.charAt(0)!=="1")throw new Y;return x.substring(1)}}Qe.TEXT_COMPACTION_MODE_LATCH=900,Qe.BYTE_COMPACTION_MODE_LATCH=901,Qe.NUMERIC_COMPACTION_MODE_LATCH=902,Qe.BYTE_COMPACTION_MODE_LATCH_6=924,Qe.ECI_USER_DEFINED=925,Qe.ECI_GENERAL_PURPOSE=926,Qe.ECI_CHARSET=927,Qe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Qe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Qe.MACRO_PDF417_TERMINATOR=922,Qe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Qe.MAX_NUMERIC_CODEWORDS=15,Qe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Qe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Qe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Qe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Qe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Qe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Qe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Qe.PL=25,Qe.LL=27,Qe.AS=27,Qe.ML=28,Qe.AL=28,Qe.PS=29,Qe.PAL=29,Qe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Qe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Qe.EXP900=hs()?Li():[],Qe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class br{constructor(){}static decode(e,o,h,x,E,N,P){let G=new vi(e,o,h,x,E),Z=null,oe=null,fe;for(let Be=!0;;Be=!1){if(o!=null&&(Z=br.getRowIndicatorColumn(e,G,o,!0,N,P)),x!=null&&(oe=br.getRowIndicatorColumn(e,G,x,!1,N,P)),fe=br.merge(Z,oe),fe==null)throw A.getNotFoundInstance();let Le=fe.getBoundingBox();if(Be&&Le!=null&&(Le.getMinY()<G.getMinY()||Le.getMaxY()>G.getMaxY()))G=Le;else break}fe.setBoundingBox(G);let ge=fe.getBarcodeColumnCount()+1;fe.setDetectionResultColumn(0,Z),fe.setDetectionResultColumn(ge,oe);let Ce=Z!=null;for(let Be=1;Be<=ge;Be++){let Le=Ce?Be:ge-Be;if(fe.getDetectionResultColumn(Le)!==void 0)continue;let Xe;Le===0||Le===ge?Xe=new Wo(G,Le===0):Xe=new Qn(G),fe.setDetectionResultColumn(Le,Xe);let Ke=-1,St=Ke;for(let At=G.getMinY();At<=G.getMaxY();At++){if(Ke=br.getStartColumn(fe,Le,At,Ce),Ke<0||Ke>G.getMaxX()){if(St===-1)continue;Ke=St}let pt=br.detectCodeword(e,G.getMinX(),G.getMaxX(),Ce,Ke,At,N,P);pt!=null&&(Xe.setCodeword(At,pt),St=Ke,N=Math.min(N,pt.getWidth()),P=Math.max(P,pt.getWidth()))}}return br.createDecoderResult(fe)}static merge(e,o){if(e==null&&o==null)return null;let h=br.getBarcodeMetadata(e,o);if(h==null)return null;let x=vi.merge(br.adjustBoundingBox(e),br.adjustBoundingBox(o));return new fs(h,x)}static adjustBoundingBox(e){if(e==null)return null;let o=e.getRowHeights();if(o==null)return null;let h=br.getMax(o),x=0;for(let P of o)if(x+=h-P,P>0)break;let E=e.getCodewords();for(let P=0;x>0&&E[P]==null;P++)x--;let N=0;for(let P=o.length-1;P>=0&&(N+=h-o[P],!(o[P]>0));P--);for(let P=E.length-1;N>0&&E[P]==null;P--)N--;return e.getBoundingBox().addMissingRows(x,N,e.isLeft())}static getMax(e){let o=-1;for(let h of e)o=Math.max(o,h);return o}static getBarcodeMetadata(e,o){let h;if(e==null||(h=e.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let x;return o==null||(x=o.getBarcodeMetadata())==null?h:h.getColumnCount()!==x.getColumnCount()&&h.getErrorCorrectionLevel()!==x.getErrorCorrectionLevel()&&h.getRowCount()!==x.getRowCount()?null:h}static getRowIndicatorColumn(e,o,h,x,E,N){let P=new Wo(o,x);for(let G=0;G<2;G++){let Z=G===0?1:-1,oe=Math.trunc(Math.trunc(h.getX()));for(let fe=Math.trunc(Math.trunc(h.getY()));fe<=o.getMaxY()&&fe>=o.getMinY();fe+=Z){let ge=br.detectCodeword(e,0,e.getWidth(),x,oe,fe,E,N);ge!=null&&(P.setCodeword(fe,ge),x?oe=ge.getStartX():oe=ge.getEndX())}}return P}static adjustCodewordCount(e,o){let h=o[0][1],x=h.getValue(),E=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-br.getNumberOfECCodeWords(e.getBarcodeECLevel());if(x.length===0){if(E<1||E>cr.MAX_CODEWORDS_IN_BARCODE)throw A.getNotFoundInstance();h.setValue(E)}else x[0]!==E&&h.setValue(E)}static createDecoderResult(e){let o=br.createBarcodeMatrix(e);br.adjustCodewordCount(e,o);let h=new Array,x=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),E=[],N=new Array;for(let G=0;G<e.getBarcodeRowCount();G++)for(let Z=0;Z<e.getBarcodeColumnCount();Z++){let oe=o[G][Z+1].getValue(),fe=G*e.getBarcodeColumnCount()+Z;oe.length===0?h.push(fe):oe.length===1?x[fe]=oe[0]:(N.push(fe),E.push(oe))}let P=new Array(E.length);for(let G=0;G<P.length;G++)P[G]=E[G];return br.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),x,cr.toIntArray(h),cr.toIntArray(N),P)}static createDecoderResultFromAmbiguousValues(e,o,h,x,E){let N=new Int32Array(x.length),P=100;for(;P-- >0;){for(let G=0;G<N.length;G++)o[x[G]]=E[G][N[G]];try{return br.decodeCodewords(o,e,h)}catch(G){if(!(G instanceof l))throw G}if(N.length===0)throw l.getChecksumInstance();for(let G=0;G<N.length;G++)if(N[G]<E[G].length-1){N[G]++;break}else if(N[G]=0,G===N.length-1)throw l.getChecksumInstance()}throw l.getChecksumInstance()}static createBarcodeMatrix(e){let o=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let x=0;x<o.length;x++)for(let E=0;E<o[x].length;E++)o[x][E]=new pi;let h=0;for(let x of e.getDetectionResultColumns()){if(x!=null){for(let E of x.getCodewords())if(E!=null){let N=E.getRowNumber();if(N>=0){if(N>=o.length)continue;o[N][h].setValue(E.getValue())}}}h++}return o}static isValidBarcodeColumn(e,o){return o>=0&&o<=e.getBarcodeColumnCount()+1}static getStartColumn(e,o,h,x){let E=x?1:-1,N=null;if(br.isValidBarcodeColumn(e,o-E)&&(N=e.getDetectionResultColumn(o-E).getCodeword(h)),N!=null)return x?N.getEndX():N.getStartX();if(N=e.getDetectionResultColumn(o).getCodewordNearby(h),N!=null)return x?N.getStartX():N.getEndX();if(br.isValidBarcodeColumn(e,o-E)&&(N=e.getDetectionResultColumn(o-E).getCodewordNearby(h)),N!=null)return x?N.getEndX():N.getStartX();let P=0;for(;br.isValidBarcodeColumn(e,o-E);){o-=E;for(let G of e.getDetectionResultColumn(o).getCodewords())if(G!=null)return(x?G.getEndX():G.getStartX())+E*P*(G.getEndX()-G.getStartX());P++}return x?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,o,h,x,E,N,P,G){E=br.adjustCodewordStartColumn(e,o,h,x,E,N);let Z=br.getModuleBitCount(e,o,h,x,E,N);if(Z==null)return null;let oe,fe=Se.sum(Z);if(x)oe=E+fe;else{for(let Be=0;Be<Z.length/2;Be++){let Le=Z[Be];Z[Be]=Z[Z.length-1-Be],Z[Z.length-1-Be]=Le}oe=E,E=oe-fe}if(!br.checkCodewordSkew(fe,P,G))return null;let ge=dn.getDecodedValue(Z),Ce=cr.getCodeword(ge);return Ce===-1?null:new _i(E,oe,br.getCodewordBucketNumber(ge),Ce)}static getModuleBitCount(e,o,h,x,E,N){let P=E,G=new Int32Array(8),Z=0,oe=x?1:-1,fe=x;for(;(x?P<h:P>=o)&&Z<G.length;)e.get(P,N)===fe?(G[Z]++,P+=oe):(Z++,fe=!fe);return Z===G.length||P===(x?h:o)&&Z===G.length-1?G:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,o,h,x,E,N){let P=E,G=x?-1:1;for(let Z=0;Z<2;Z++){for(;(x?P>=o:P<h)&&x===e.get(P,N);){if(Math.abs(E-P)>br.CODEWORD_SKEW_SIZE)return E;P+=G}G=-G,x=!x}return P}static checkCodewordSkew(e,o,h){return o-br.CODEWORD_SKEW_SIZE<=e&&e<=h+br.CODEWORD_SKEW_SIZE}static decodeCodewords(e,o,h){if(e.length===0)throw Y.getFormatInstance();let x=1<<o+1,E=br.correctErrors(e,h,x);br.verifyCodewordCount(e,x);let N=Qe.decode(e,""+o);return N.setErrorsCorrected(E),N.setErasures(h.length),N}static correctErrors(e,o,h){if(o!=null&&o.length>h/2+br.MAX_ERRORS||h<0||h>br.MAX_EC_CODEWORDS)throw l.getChecksumInstance();return br.errorCorrection.decode(e,h,o)}static verifyCodewordCount(e,o){if(e.length<4)throw Y.getFormatInstance();let h=e[0];if(h>e.length)throw Y.getFormatInstance();if(h===0)if(o<e.length)e[0]=e.length-o;else throw Y.getFormatInstance()}static getBitCountForCodeword(e){let o=new Int32Array(8),h=0,x=o.length-1;for(;!((e&1)!==h&&(h=e&1,x--,x<0));)o[x]++,e>>=1;return o}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return br.getCodewordBucketNumber(br.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let o=new oi;for(let h=0;h<e.length;h++){o.format("Row %2d: ",h);for(let x=0;x<e[h].length;x++){let E=e[h][x];E.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",E.getValue()[0],E.getConfidence(E.getValue()[0]))}o.format("%n")}return o.toString()}}br.CODEWORD_SKEW_SIZE=2,br.MAX_ERRORS=3,br.MAX_EC_CODEWORDS=512,br.errorCorrection=new oo;class pn{decode(e,o=null){let h=pn.decode(e,o,!1);if(h==null||h.length===0||h[0]==null)throw A.getNotFoundInstance();return h[0]}decodeMultiple(e,o=null){try{return pn.decode(e,o,!0)}catch(h){throw h instanceof Y||h instanceof l?A.getNotFoundInstance():h}}static decode(e,o,h){const x=new Array,E=mr.detectMultiple(e,o,h);for(const N of E.getPoints()){const P=br.decode(E.getBits(),N[4],N[5],N[6],N[7],pn.getMinCodewordWidth(N),pn.getMaxCodewordWidth(N)),G=new ne(P.getText(),P.getRawBytes(),void 0,N,H.PDF_417);G.putMetadata(U.ERROR_CORRECTION_LEVEL,P.getECLevel());const Z=P.getOther();Z!=null&&G.putMetadata(U.PDF417_EXTRA_METADATA,Z),x.push(G)}return x.map(N=>N)}static getMaxWidth(e,o){return e==null||o==null?0:Math.trunc(Math.abs(e.getX()-o.getX()))}static getMinWidth(e,o){return e==null||o==null?T.MAX_VALUE:Math.trunc(Math.abs(e.getX()-o.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(pn.getMaxWidth(e[0],e[4]),pn.getMaxWidth(e[6],e[2])*cr.MODULES_IN_CODEWORD/cr.MODULES_IN_STOP_PATTERN),Math.max(pn.getMaxWidth(e[1],e[5]),pn.getMaxWidth(e[7],e[3])*cr.MODULES_IN_CODEWORD/cr.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(pn.getMinWidth(e[0],e[4]),pn.getMinWidth(e[6],e[2])*cr.MODULES_IN_CODEWORD/cr.MODULES_IN_STOP_PATTERN),Math.min(pn.getMinWidth(e[1],e[5]),pn.getMinWidth(e[7],e[3])*cr.MODULES_IN_CODEWORD/cr.MODULES_IN_STOP_PATTERN)))}reset(){}}class Fi extends t{}Fi.kind="ReaderException";class Bs{constructor(e,o){this.verbose=e===!0,o&&this.setHints(o)}decode(e,o){return o&&this.setHints(o),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const o=!I(e)&&e.get(X.TRY_HARDER)===!0,h=I(e)?null:e.get(X.POSSIBLE_FORMATS),x=new Array;if(!I(h)){const E=h.some(N=>N===H.UPC_A||N===H.UPC_E||N===H.EAN_13||N===H.EAN_8||N===H.CODABAR||N===H.CODE_39||N===H.CODE_93||N===H.CODE_128||N===H.ITF||N===H.RSS_14||N===H.RSS_EXPANDED);E&&!o&&x.push(new vt(e,this.verbose)),h.includes(H.QR_CODE)&&x.push(new en),h.includes(H.DATA_MATRIX)&&x.push(new rt),h.includes(H.AZTEC)&&x.push(new Bt),h.includes(H.PDF_417)&&x.push(new pn),E&&o&&x.push(new vt(e,this.verbose))}x.length===0&&(o||x.push(new vt(e,this.verbose)),x.push(new en),x.push(new rt),x.push(new Bt),x.push(new pn),o&&x.push(new vt(e,this.verbose))),this.readers=x}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new Fi("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(e,this.hints)}catch(h){if(h instanceof Fi)continue}throw new A("No MultiFormat Readers were able to detect the code.")}}class ps extends re{constructor(e=null,o=500){const h=new Bs;h.setHints(e),super(h,o)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class js extends re{constructor(e=500){super(new pn,e)}}class Go extends re{constructor(e=500){super(new en,e)}}var uo;(function(ue){ue[ue.ERROR_CORRECTION=0]="ERROR_CORRECTION",ue[ue.CHARACTER_SET=1]="CHARACTER_SET",ue[ue.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",ue[ue.MIN_SIZE=3]="MIN_SIZE",ue[ue.MAX_SIZE=4]="MAX_SIZE",ue[ue.MARGIN=5]="MARGIN",ue[ue.PDF417_COMPACT=6]="PDF417_COMPACT",ue[ue.PDF417_COMPACTION=7]="PDF417_COMPACTION",ue[ue.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",ue[ue.AZTEC_LAYERS=9]="AZTEC_LAYERS",ue[ue.QR_VERSION=10]="QR_VERSION"})(uo||(uo={}));var sn=uo;class co{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new ce(e,Int32Array.from([1])))}buildGenerator(e){const o=this.cachedGenerators;if(e>=o.length){let h=o[o.length-1];const x=this.field;for(let E=o.length;E<=e;E++){const N=h.multiply(new ce(x,Int32Array.from([1,x.exp(E-1+x.getGeneratorBase())])));o.push(N),h=N}}return o[e]}encode(e,o){if(o===0)throw new c("No error correction bytes");const h=e.length-o;if(h<=0)throw new c("No data bytes provided");const x=this.buildGenerator(o),E=new Int32Array(h);b.arraycopy(e,0,E,0,h);let N=new ce(this.field,E);N=N.multiplyByMonomial(o,1);const G=N.divide(x)[1].getCoefficients(),Z=o-G.length;for(let oe=0;oe<Z;oe++)e[h+oe]=0;b.arraycopy(G,0,e,h+Z,G.length)}}class Xr{constructor(){}static applyMaskPenaltyRule1(e){return Xr.applyMaskPenaltyRule1Internal(e,!0)+Xr.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let o=0;const h=e.getArray(),x=e.getWidth(),E=e.getHeight();for(let N=0;N<E-1;N++){const P=h[N];for(let G=0;G<x-1;G++){const Z=P[G];Z===P[G+1]&&Z===h[N+1][G]&&Z===h[N+1][G+1]&&o++}}return Xr.N2*o}static applyMaskPenaltyRule3(e){let o=0;const h=e.getArray(),x=e.getWidth(),E=e.getHeight();for(let N=0;N<E;N++)for(let P=0;P<x;P++){const G=h[N];P+6<x&&G[P]===1&&G[P+1]===0&&G[P+2]===1&&G[P+3]===1&&G[P+4]===1&&G[P+5]===0&&G[P+6]===1&&(Xr.isWhiteHorizontal(G,P-4,P)||Xr.isWhiteHorizontal(G,P+7,P+11))&&o++,N+6<E&&h[N][P]===1&&h[N+1][P]===0&&h[N+2][P]===1&&h[N+3][P]===1&&h[N+4][P]===1&&h[N+5][P]===0&&h[N+6][P]===1&&(Xr.isWhiteVertical(h,P,N-4,N)||Xr.isWhiteVertical(h,P,N+7,N+11))&&o++}return o*Xr.N3}static isWhiteHorizontal(e,o,h){o=Math.max(o,0),h=Math.min(h,e.length);for(let x=o;x<h;x++)if(e[x]===1)return!1;return!0}static isWhiteVertical(e,o,h,x){h=Math.max(h,0),x=Math.min(x,e.length);for(let E=h;E<x;E++)if(e[E][o]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let o=0;const h=e.getArray(),x=e.getWidth(),E=e.getHeight();for(let G=0;G<E;G++){const Z=h[G];for(let oe=0;oe<x;oe++)Z[oe]===1&&o++}const N=e.getHeight()*e.getWidth();return Math.floor(Math.abs(o*2-N)*10/N)*Xr.N4}static getDataMaskBit(e,o,h){let x,E;switch(e){case 0:x=h+o&1;break;case 1:x=h&1;break;case 2:x=o%3;break;case 3:x=(h+o)%3;break;case 4:x=Math.floor(h/2)+Math.floor(o/3)&1;break;case 5:E=h*o,x=(E&1)+E%3;break;case 6:E=h*o,x=(E&1)+E%3&1;break;case 7:E=h*o,x=E%3+(h+o&1)&1;break;default:throw new c("Invalid mask pattern: "+e)}return x===0}static applyMaskPenaltyRule1Internal(e,o){let h=0;const x=o?e.getHeight():e.getWidth(),E=o?e.getWidth():e.getHeight(),N=e.getArray();for(let P=0;P<x;P++){let G=0,Z=-1;for(let oe=0;oe<E;oe++){const fe=o?N[P][oe]:N[oe][P];fe===Z?G++:(G>=5&&(h+=Xr.N1+(G-5)),G=1,Z=fe)}G>=5&&(h+=Xr.N1+(G-5))}return h}}Xr.N1=3,Xr.N2=3,Xr.N3=40,Xr.N4=10;class Ls{constructor(e,o){this.width=e,this.height=o;const h=new Array(o);for(let x=0;x!==o;x++)h[x]=new Uint8Array(e);this.bytes=h}getHeight(){return this.height}getWidth(){return this.width}get(e,o){return this.bytes[o][e]}getArray(){return this.bytes}setNumber(e,o,h){this.bytes[o][e]=h}setBoolean(e,o,h){this.bytes[o][e]=h?1:0}clear(e){for(const o of this.bytes)y.fill(o,e)}equals(e){if(!(e instanceof Ls))return!1;const o=e;if(this.width!==o.width||this.height!==o.height)return!1;for(let h=0,x=this.height;h<x;++h){const E=this.bytes[h],N=o.bytes[h];for(let P=0,G=this.width;P<G;++P)if(E[P]!==N[P])return!1}return!0}toString(){const e=new D;for(let o=0,h=this.height;o<h;++o){const x=this.bytes[o];for(let E=0,N=this.width;E<N;++E)switch(x[E]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class Si{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new D;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Si.NUM_MASK_PATTERNS}}Si.NUM_MASK_PATTERNS=8;class Lr extends t{}Lr.kind="WriterException";class or{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,o,h,x,E){or.clearMatrix(E),or.embedBasicPatterns(h,E),or.embedTypeInfo(o,x,E),or.maybeEmbedVersionInfo(h,E),or.embedDataBits(e,x,E)}static embedBasicPatterns(e,o){or.embedPositionDetectionPatternsAndSeparators(o),or.embedDarkDotAtLeftBottomCorner(o),or.maybeEmbedPositionAdjustmentPatterns(e,o),or.embedTimingPatterns(o)}static embedTypeInfo(e,o,h){const x=new M;or.makeTypeInfoBits(e,o,x);for(let E=0,N=x.getSize();E<N;++E){const P=x.get(x.getSize()-1-E),G=or.TYPE_INFO_COORDINATES[E],Z=G[0],oe=G[1];if(h.setBoolean(Z,oe,P),E<8){const fe=h.getWidth()-E-1;h.setBoolean(fe,8,P)}else{const ge=h.getHeight()-7+(E-8);h.setBoolean(8,ge,P)}}}static maybeEmbedVersionInfo(e,o){if(e.getVersionNumber()<7)return;const h=new M;or.makeVersionInfoBits(e,h);let x=6*3-1;for(let E=0;E<6;++E)for(let N=0;N<3;++N){const P=h.get(x);x--,o.setBoolean(E,o.getHeight()-11+N,P),o.setBoolean(o.getHeight()-11+N,E,P)}}static embedDataBits(e,o,h){let x=0,E=-1,N=h.getWidth()-1,P=h.getHeight()-1;for(;N>0;){for(N===6&&(N-=1);P>=0&&P<h.getHeight();){for(let G=0;G<2;++G){const Z=N-G;if(!or.isEmpty(h.get(Z,P)))continue;let oe;x<e.getSize()?(oe=e.get(x),++x):oe=!1,o!==255&&Xr.getDataMaskBit(o,Z,P)&&(oe=!oe),h.setBoolean(Z,P,oe)}P+=E}E=-E,P+=E,N-=2}if(x!==e.getSize())throw new Lr("Not all bits consumed: "+x+"/"+e.getSize())}static findMSBSet(e){return 32-T.numberOfLeadingZeros(e)}static calculateBCHCode(e,o){if(o===0)throw new c("0 polynomial");const h=or.findMSBSet(o);for(e<<=h-1;or.findMSBSet(e)>=h;)e^=o<<or.findMSBSet(e)-h;return e}static makeTypeInfoBits(e,o,h){if(!Si.isValidMaskPattern(o))throw new Lr("Invalid mask pattern");const x=e.getBits()<<3|o;h.appendBits(x,5);const E=or.calculateBCHCode(x,or.TYPE_INFO_POLY);h.appendBits(E,10);const N=new M;if(N.appendBits(or.TYPE_INFO_MASK_PATTERN,15),h.xor(N),h.getSize()!==15)throw new Lr("should not happen but we got: "+h.getSize())}static makeVersionInfoBits(e,o){o.appendBits(e.getVersionNumber(),6);const h=or.calculateBCHCode(e.getVersionNumber(),or.VERSION_INFO_POLY);if(o.appendBits(h,12),o.getSize()!==18)throw new Lr("should not happen but we got: "+o.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let o=8;o<e.getWidth()-8;++o){const h=(o+1)%2;or.isEmpty(e.get(o,6))&&e.setNumber(o,6,h),or.isEmpty(e.get(6,o))&&e.setNumber(6,o,h)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new Lr;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,o,h){for(let x=0;x<8;++x){if(!or.isEmpty(h.get(e+x,o)))throw new Lr;h.setNumber(e+x,o,0)}}static embedVerticalSeparationPattern(e,o,h){for(let x=0;x<7;++x){if(!or.isEmpty(h.get(e,o+x)))throw new Lr;h.setNumber(e,o+x,0)}}static embedPositionAdjustmentPattern(e,o,h){for(let x=0;x<5;++x){const E=or.POSITION_ADJUSTMENT_PATTERN[x];for(let N=0;N<5;++N)h.setNumber(e+N,o+x,E[N])}}static embedPositionDetectionPattern(e,o,h){for(let x=0;x<7;++x){const E=or.POSITION_DETECTION_PATTERN[x];for(let N=0;N<7;++N)h.setNumber(e+N,o+x,E[N])}}static embedPositionDetectionPatternsAndSeparators(e){const o=or.POSITION_DETECTION_PATTERN[0].length;or.embedPositionDetectionPattern(0,0,e),or.embedPositionDetectionPattern(e.getWidth()-o,0,e),or.embedPositionDetectionPattern(0,e.getWidth()-o,e);const h=8;or.embedHorizontalSeparationPattern(0,h-1,e),or.embedHorizontalSeparationPattern(e.getWidth()-h,h-1,e),or.embedHorizontalSeparationPattern(0,e.getWidth()-h,e);const x=7;or.embedVerticalSeparationPattern(x,0,e),or.embedVerticalSeparationPattern(e.getHeight()-x-1,0,e),or.embedVerticalSeparationPattern(x,e.getHeight()-x,e)}static maybeEmbedPositionAdjustmentPatterns(e,o){if(e.getVersionNumber()<2)return;const h=e.getVersionNumber()-1,x=or.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[h];for(let E=0,N=x.length;E!==N;E++){const P=x[E];if(P>=0)for(let G=0;G!==N;G++){const Z=x[G];Z>=0&&or.isEmpty(o.get(Z,P))&&or.embedPositionAdjustmentPattern(Z-2,P-2,o)}}}}or.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),or.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),or.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),or.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),or.VERSION_INFO_POLY=7973,or.TYPE_INFO_POLY=1335,or.TYPE_INFO_MASK_PATTERN=21522;class rl{constructor(e,o){this.dataBytes=e,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Vr{constructor(){}static calculateMaskPenalty(e){return Xr.applyMaskPenaltyRule1(e)+Xr.applyMaskPenaltyRule2(e)+Xr.applyMaskPenaltyRule3(e)+Xr.applyMaskPenaltyRule4(e)}static encode(e,o,h=null){let x=Vr.DEFAULT_BYTE_MODE_ENCODING;const E=h!==null&&h.get(sn.CHARACTER_SET)!==void 0;E&&(x=h.get(sn.CHARACTER_SET).toString());const N=this.chooseMode(e,x),P=new M;if(N===Wt.BYTE&&(E||Vr.DEFAULT_BYTE_MODE_ENCODING!==x)){const At=q.getCharacterSetECIByName(x);At!==void 0&&this.appendECI(At,P)}this.appendModeInfo(N,P);const G=new M;this.appendBytes(e,N,G,x);let Z;if(h!==null&&h.get(sn.QR_VERSION)!==void 0){const At=Number.parseInt(h.get(sn.QR_VERSION).toString(),10);Z=wt.getVersionForNumber(At);const pt=this.calculateBitsNeeded(N,P,G,Z);if(!this.willFit(pt,Z,o))throw new Lr("Data too big for requested version")}else Z=this.recommendVersion(o,N,P,G);const oe=new M;oe.appendBitArray(P);const fe=N===Wt.BYTE?G.getSizeInBytes():e.length;this.appendLengthInfo(fe,Z,N,oe),oe.appendBitArray(G);const ge=Z.getECBlocksForLevel(o),Ce=Z.getTotalCodewords()-ge.getTotalECCodewords();this.terminateBits(Ce,oe);const Be=this.interleaveWithECBytes(oe,Z.getTotalCodewords(),Ce,ge.getNumBlocks()),Le=new Si;Le.setECLevel(o),Le.setMode(N),Le.setVersion(Z);const Xe=Z.getDimensionForVersion(),Ke=new Ls(Xe,Xe),St=this.chooseMaskPattern(Be,o,Z,Ke);return Le.setMaskPattern(St),or.buildMatrix(Be,o,Z,St,Ke),Le.setMatrix(Ke),Le}static recommendVersion(e,o,h,x){const E=this.calculateBitsNeeded(o,h,x,wt.getVersionForNumber(1)),N=this.chooseVersion(E,e),P=this.calculateBitsNeeded(o,h,x,N);return this.chooseVersion(P,e)}static calculateBitsNeeded(e,o,h,x){return o.getSize()+e.getCharacterCountBits(x)+h.getSize()}static getAlphanumericCode(e){return e<Vr.ALPHANUMERIC_TABLE.length?Vr.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,o=null){if(q.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(e))return Wt.KANJI;let h=!1,x=!1;for(let E=0,N=e.length;E<N;++E){const P=e.charAt(E);if(Vr.isDigit(P))h=!0;else if(this.getAlphanumericCode(P.charCodeAt(0))!==-1)x=!0;else return Wt.BYTE}return x?Wt.ALPHANUMERIC:h?Wt.NUMERIC:Wt.BYTE}static isOnlyDoubleByteKanji(e){let o;try{o=ie.encode(e,q.SJIS)}catch{return!1}const h=o.length;if(h%2!==0)return!1;for(let x=0;x<h;x+=2){const E=o[x]&255;if((E<129||E>159)&&(E<224||E>235))return!1}return!0}static chooseMaskPattern(e,o,h,x){let E=Number.MAX_SAFE_INTEGER,N=-1;for(let P=0;P<Si.NUM_MASK_PATTERNS;P++){or.buildMatrix(e,o,h,P,x);let G=this.calculateMaskPenalty(x);G<E&&(E=G,N=P)}return N}static chooseVersion(e,o){for(let h=1;h<=40;h++){const x=wt.getVersionForNumber(h);if(Vr.willFit(e,x,o))return x}throw new Lr("Data too big")}static willFit(e,o,h){const x=o.getTotalCodewords(),N=o.getECBlocksForLevel(h).getTotalECCodewords(),P=x-N,G=(e+7)/8;return P>=G}static terminateBits(e,o){const h=e*8;if(o.getSize()>h)throw new Lr("data bits cannot fit in the QR Code"+o.getSize()+" > "+h);for(let N=0;N<4&&o.getSize()<h;++N)o.appendBit(!1);const x=o.getSize()&7;if(x>0)for(let N=x;N<8;N++)o.appendBit(!1);const E=e-o.getSizeInBytes();for(let N=0;N<E;++N)o.appendBits((N&1)===0?236:17,8);if(o.getSize()!==h)throw new Lr("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,o,h,x,E,N){if(x>=h)throw new Lr("Block ID too large");const P=e%h,G=h-P,Z=Math.floor(e/h),oe=Z+1,fe=Math.floor(o/h),ge=fe+1,Ce=Z-fe,Be=oe-ge;if(Ce!==Be)throw new Lr("EC bytes mismatch");if(h!==G+P)throw new Lr("RS blocks mismatch");if(e!==(fe+Ce)*G+(ge+Be)*P)throw new Lr("Total bytes mismatch");x<G?(E[0]=fe,N[0]=Ce):(E[0]=ge,N[0]=Be)}static interleaveWithECBytes(e,o,h,x){if(e.getSizeInBytes()!==h)throw new Lr("Number of bits and data bytes does not match");let E=0,N=0,P=0;const G=new Array;for(let oe=0;oe<x;++oe){const fe=new Int32Array(1),ge=new Int32Array(1);Vr.getNumDataBytesAndNumECBytesForBlockID(o,h,x,oe,fe,ge);const Ce=fe[0],Be=new Uint8Array(Ce);e.toBytes(8*E,Be,0,Ce);const Le=Vr.generateECBytes(Be,ge[0]);G.push(new rl(Be,Le)),N=Math.max(N,Ce),P=Math.max(P,Le.length),E+=fe[0]}if(h!==E)throw new Lr("Data bytes does not match offset");const Z=new M;for(let oe=0;oe<N;++oe)for(const fe of G){const ge=fe.getDataBytes();oe<ge.length&&Z.appendBits(ge[oe],8)}for(let oe=0;oe<P;++oe)for(const fe of G){const ge=fe.getErrorCorrectionBytes();oe<ge.length&&Z.appendBits(ge[oe],8)}if(o!==Z.getSizeInBytes())throw new Lr("Interleaving error: "+o+" and "+Z.getSizeInBytes()+" differ.");return Z}static generateECBytes(e,o){const h=e.length,x=new Int32Array(h+o);for(let N=0;N<h;N++)x[N]=e[N]&255;new co(he.QR_CODE_FIELD_256).encode(x,o);const E=new Uint8Array(o);for(let N=0;N<o;N++)E[N]=x[h+N];return E}static appendModeInfo(e,o){o.appendBits(e.getBits(),4)}static appendLengthInfo(e,o,h,x){const E=h.getCharacterCountBits(o);if(e>=1<<E)throw new Lr(e+" is bigger than "+((1<<E)-1));x.appendBits(e,E)}static appendBytes(e,o,h,x){switch(o){case Wt.NUMERIC:Vr.appendNumericBytes(e,h);break;case Wt.ALPHANUMERIC:Vr.appendAlphanumericBytes(e,h);break;case Wt.BYTE:Vr.append8BitBytes(e,h,x);break;case Wt.KANJI:Vr.appendKanjiBytes(e,h);break;default:throw new Lr("Invalid mode: "+o)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const o=Vr.getDigit(e);return o>=0&&o<=9}static appendNumericBytes(e,o){const h=e.length;let x=0;for(;x<h;){const E=Vr.getDigit(e.charAt(x));if(x+2<h){const N=Vr.getDigit(e.charAt(x+1)),P=Vr.getDigit(e.charAt(x+2));o.appendBits(E*100+N*10+P,10),x+=3}else if(x+1<h){const N=Vr.getDigit(e.charAt(x+1));o.appendBits(E*10+N,7),x+=2}else o.appendBits(E,4),x++}}static appendAlphanumericBytes(e,o){const h=e.length;let x=0;for(;x<h;){const E=Vr.getAlphanumericCode(e.charCodeAt(x));if(E===-1)throw new Lr;if(x+1<h){const N=Vr.getAlphanumericCode(e.charCodeAt(x+1));if(N===-1)throw new Lr;o.appendBits(E*45+N,11),x+=2}else o.appendBits(E,6),x++}}static append8BitBytes(e,o,h){let x;try{x=ie.encode(e,h)}catch(E){throw new Lr(E)}for(let E=0,N=x.length;E!==N;E++){const P=x[E];o.appendBits(P,8)}}static appendKanjiBytes(e,o){let h;try{h=ie.encode(e,q.SJIS)}catch(E){throw new Lr(E)}const x=h.length;for(let E=0;E<x;E+=2){const N=h[E]&255,P=h[E+1]&255,G=N<<8&4294967295|P;let Z=-1;if(G>=33088&&G<=40956?Z=G-33088:G>=57408&&G<=60351&&(Z=G-49472),Z===-1)throw new Lr("Invalid byte sequence");const oe=(Z>>8)*192+(Z&255);o.appendBits(oe,13)}}static appendECI(e,o){o.appendBits(Wt.ECI.getBits(),4),o.appendBits(e.getValue(),8)}}Vr.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Vr.DEFAULT_BYTE_MODE_ENCODING=q.UTF8.getName();class Ei{write(e,o,h,x=null){if(e.length===0)throw new c("Found empty contents");if(o<0||h<0)throw new c("Requested dimensions are too small: "+o+"x"+h);let E=st.L,N=Ei.QUIET_ZONE_SIZE;x!==null&&(x.get(sn.ERROR_CORRECTION)!==void 0&&(E=st.fromString(x.get(sn.ERROR_CORRECTION).toString())),x.get(sn.MARGIN)!==void 0&&(N=Number.parseInt(x.get(sn.MARGIN).toString(),10)));const P=Vr.encode(e,E,x);return this.renderResult(P,o,h,N)}writeToDom(e,o,h,x,E=null){typeof e=="string"&&(e=document.querySelector(e));const N=this.write(o,h,x,E);e&&e.appendChild(N)}renderResult(e,o,h,x){const E=e.getMatrix();if(E===null)throw new _e;const N=E.getWidth(),P=E.getHeight(),G=N+x*2,Z=P+x*2,oe=Math.max(o,G),fe=Math.max(h,Z),ge=Math.min(Math.floor(oe/G),Math.floor(fe/Z)),Ce=Math.floor((oe-N*ge)/2),Be=Math.floor((fe-P*ge)/2),Le=this.createSVGElement(oe,fe);for(let Xe=0,Ke=Be;Xe<P;Xe++,Ke+=ge)for(let St=0,At=Ce;St<N;St++,At+=ge)if(E.get(St,Xe)===1){const pt=this.createSvgRectElement(At,Ke,ge,ge);Le.appendChild(pt)}return Le}createSVGElement(e,o){const h=document.createElementNS(Ei.SVG_NS,"svg");return h.setAttributeNS(null,"height",e.toString()),h.setAttributeNS(null,"width",o.toString()),h}createSvgRectElement(e,o,h,x){const E=document.createElementNS(Ei.SVG_NS,"rect");return E.setAttributeNS(null,"x",e.toString()),E.setAttributeNS(null,"y",o.toString()),E.setAttributeNS(null,"height",h.toString()),E.setAttributeNS(null,"width",x.toString()),E.setAttributeNS(null,"fill","#000000"),E}}Ei.QUIET_ZONE_SIZE=4,Ei.SVG_NS="http://www.w3.org/2000/svg";class Ui{encode(e,o,h,x,E){if(e.length===0)throw new c("Found empty contents");if(o!==H.QR_CODE)throw new c("Can only encode QR_CODE, but got "+o);if(h<0||x<0)throw new c(`Requested dimensions are too small: ${h}x${x}`);let N=st.L,P=Ui.QUIET_ZONE_SIZE;E!==null&&(E.get(sn.ERROR_CORRECTION)!==void 0&&(N=st.fromString(E.get(sn.ERROR_CORRECTION).toString())),E.get(sn.MARGIN)!==void 0&&(P=Number.parseInt(E.get(sn.MARGIN).toString(),10)));const G=Vr.encode(e,N,E);return Ui.renderResult(G,h,x,P)}static renderResult(e,o,h,x){const E=e.getMatrix();if(E===null)throw new _e;const N=E.getWidth(),P=E.getHeight(),G=N+x*2,Z=P+x*2,oe=Math.max(o,G),fe=Math.max(h,Z),ge=Math.min(Math.floor(oe/G),Math.floor(fe/Z)),Ce=Math.floor((oe-N*ge)/2),Be=Math.floor((fe-P*ge)/2),Le=new F(oe,fe);for(let Xe=0,Ke=Be;Xe<P;Xe++,Ke+=ge)for(let St=0,At=Ce;St<N;St++,At+=ge)E.get(St,Xe)===1&&Le.setRegion(At,Ke,ge,ge);return Le}}Ui.QUIET_ZONE_SIZE=4;class nl{encode(e,o,h,x,E){let N;switch(o){case H.QR_CODE:N=new Ui;break;default:throw new c("No encoder available for format "+o)}return N.encode(e,o,h,x,E)}}class Jn extends S{constructor(e,o,h,x,E,N,P,G){if(super(N,P),this.yuvData=e,this.dataWidth=o,this.dataHeight=h,this.left=x,this.top=E,x+N>o||E+P>h)throw new c("Crop rectangle does not fit within image data.");G&&this.reverseHorizontal(N,P)}getRow(e,o){if(e<0||e>=this.getHeight())throw new c("Requested row is outside the image: "+e);const h=this.getWidth();(o==null||o.length<h)&&(o=new Uint8ClampedArray(h));const x=(e+this.top)*this.dataWidth+this.left;return b.arraycopy(this.yuvData,x,o,0,h),o}getMatrix(){const e=this.getWidth(),o=this.getHeight();if(e===this.dataWidth&&o===this.dataHeight)return this.yuvData;const h=e*o,x=new Uint8ClampedArray(h);let E=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return b.arraycopy(this.yuvData,E,x,0,h),x;for(let N=0;N<o;N++){const P=N*e;b.arraycopy(this.yuvData,E,x,P,e),E+=this.dataWidth}return x}isCropSupported(){return!0}crop(e,o,h,x){return new Jn(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+o,h,x,!1)}renderThumbnail(){const e=this.getWidth()/Jn.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/Jn.THUMBNAIL_SCALE_FACTOR,h=new Int32Array(e*o),x=this.yuvData;let E=this.top*this.dataWidth+this.left;for(let N=0;N<o;N++){const P=N*e;for(let G=0;G<e;G++){const Z=x[E+G*Jn.THUMBNAIL_SCALE_FACTOR]&255;h[P+G]=4278190080|Z*65793}E+=this.dataWidth*Jn.THUMBNAIL_SCALE_FACTOR}return h}getThumbnailWidth(){return this.getWidth()/Jn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Jn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,o){const h=this.yuvData;for(let x=0,E=this.top*this.dataWidth+this.left;x<o;x++,E+=this.dataWidth){const N=E+e/2;for(let P=E,G=E+e-1;P<N;P++,G--){const Z=h[P];h[P]=h[G],h[G]=Z}}}invert(){return new C(this)}}Jn.THUMBNAIL_SCALE_FACTOR=2;class ms extends S{constructor(e,o,h,x,E,N,P){if(super(o,h),this.dataWidth=x,this.dataHeight=E,this.left=N,this.top=P,e.BYTES_PER_ELEMENT===4){const G=o*h,Z=new Uint8ClampedArray(G);for(let oe=0;oe<G;oe++){const fe=e[oe],ge=fe>>16&255,Ce=fe>>7&510,Be=fe&255;Z[oe]=(ge+Ce+Be)/4&255}this.luminances=Z}else this.luminances=e;if(x===void 0&&(this.dataWidth=o),E===void 0&&(this.dataHeight=h),N===void 0&&(this.left=0),P===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+h>this.dataHeight)throw new c("Crop rectangle does not fit within image data.")}getRow(e,o){if(e<0||e>=this.getHeight())throw new c("Requested row is outside the image: "+e);const h=this.getWidth();(o==null||o.length<h)&&(o=new Uint8ClampedArray(h));const x=(e+this.top)*this.dataWidth+this.left;return b.arraycopy(this.luminances,x,o,0,h),o}getMatrix(){const e=this.getWidth(),o=this.getHeight();if(e===this.dataWidth&&o===this.dataHeight)return this.luminances;const h=e*o,x=new Uint8ClampedArray(h);let E=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return b.arraycopy(this.luminances,E,x,0,h),x;for(let N=0;N<o;N++){const P=N*e;b.arraycopy(this.luminances,E,x,P,e),E+=this.dataWidth}return x}isCropSupported(){return!0}crop(e,o,h,x){return new ms(this.luminances,h,x,this.dataWidth,this.dataHeight,this.left+e,this.top+o)}invert(){return new C(this)}}class qo extends q{static forName(e){return this.getCharacterSetECIByName(e)}}class fo{}fo.ISO_8859_1=q.ISO8859_1;class Yo{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class ho{static singletonList(e){return[e]}static min(e,o){return e.sort(o)[0]}}class il{constructor(e){this.previous=e}getPrevious(){return this.previous}}class zi extends il{constructor(e,o,h){super(e),this.value=o,this.bitCount=h}appendTo(e,o){e.appendBits(this.value,this.bitCount)}add(e,o){return new zi(this,e,o)}addBinaryShift(e,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new zi(this,e,o)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+T.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class po extends zi{constructor(e,o,h){super(e,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=h}appendTo(e,o){for(let h=0;h<this.binaryShiftByteCount;h++)(h===0||h===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):h===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(o[this.binaryShiftStart+h],8)}addBinaryShift(e,o){return new po(this,e,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function sl(ue,e,o){return new po(ue,e,o)}function gs(ue,e,o){return new zi(ue,e,o)}const ol=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],mi=0,Vi=1,yn=2,$o=3,Gn=4,Zo=new zi(null,0,0),Fs=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Ko(ue){for(let e of ue)y.fill(e,-1);return ue[mi][Gn]=0,ue[Vi][Gn]=0,ue[Vi][mi]=28,ue[$o][Gn]=0,ue[yn][Gn]=0,ue[yn][mi]=15,ue}const mo=Ko(y.createInt32Array(6,6));class En{constructor(e,o,h,x){this.token=e,this.mode=o,this.binaryShiftByteCount=h,this.bitCount=x}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,o){let h=this.bitCount,x=this.token;if(e!==this.mode){let N=Fs[this.mode][e];x=gs(x,N&65535,N>>16),h+=N>>16}let E=e===yn?4:5;return x=gs(x,o,E),new En(x,e,0,h+E)}shiftAndAppend(e,o){let h=this.token,x=this.mode===yn?4:5;return h=gs(h,mo[this.mode][e],x),h=gs(h,o,5),new En(h,this.mode,0,this.bitCount+x+5)}addBinaryShiftChar(e){let o=this.token,h=this.mode,x=this.bitCount;if(this.mode===Gn||this.mode===yn){let P=Fs[h][mi];o=gs(o,P&65535,P>>16),x+=P>>16,h=mi}let E=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,N=new En(o,h,this.binaryShiftByteCount+1,x+E);return N.binaryShiftByteCount===2078&&(N=N.endBinaryShift(e+1)),N}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=sl(o,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new En(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let o=this.bitCount+(Fs[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?o+=En.calculateBinaryShiftCost(e)-En.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(o+=10),o<=e.bitCount}toBitArray(e){let o=[];for(let x=this.endBinaryShift(e.length).token;x!==null;x=x.getPrevious())o.unshift(x);let h=new M;for(const x of o)x.appendTo(h,e);return h}toString(){return $.format("%s bits=%d bytes=%d",ol[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}En.INITIAL_STATE=new En(Zo,mi,0,0);function al(ue){const e=$.getCharCode(" "),o=$.getCharCode("."),h=$.getCharCode(",");ue[mi][e]=1;const x=$.getCharCode("Z"),E=$.getCharCode("A");for(let ge=E;ge<=x;ge++)ue[mi][ge]=ge-E+2;ue[Vi][e]=1;const N=$.getCharCode("z"),P=$.getCharCode("a");for(let ge=P;ge<=N;ge++)ue[Vi][ge]=ge-P+2;ue[yn][e]=1;const G=$.getCharCode("9"),Z=$.getCharCode("0");for(let ge=Z;ge<=G;ge++)ue[yn][ge]=ge-Z+2;ue[yn][h]=12,ue[yn][o]=13;const oe=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let ge=0;ge<oe.length;ge++)ue[$o][$.getCharCode(oe[ge])]=ge;const fe=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let ge=0;ge<fe.length;ge++)$.getCharCode(fe[ge])>0&&(ue[Gn][$.getCharCode(fe[ge])]=ge);return ue}const go=al(y.createInt32Array(5,256));class bs{constructor(e){this.text=e}encode(){const e=$.getCharCode(" "),o=$.getCharCode(`
`);let h=ho.singletonList(En.INITIAL_STATE);for(let E=0;E<this.text.length;E++){let N,P=E+1<this.text.length?this.text[E+1]:0;switch(this.text[E]){case $.getCharCode("\r"):N=P===o?2:0;break;case $.getCharCode("."):N=P===e?3:0;break;case $.getCharCode(","):N=P===e?4:0;break;case $.getCharCode(":"):N=P===e?5:0;break;default:N=0}N>0?(h=bs.updateStateListForPair(h,E,N),E++):h=this.updateStateListForChar(h,E)}return ho.min(h,(E,N)=>E.getBitCount()-N.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,o){const h=[];for(let x of e)this.updateStateForChar(x,o,h);return bs.simplifyStates(h)}updateStateForChar(e,o,h){let x=this.text[o]&255,E=go[e.getMode()][x]>0,N=null;for(let P=0;P<=Gn;P++){let G=go[P][x];if(G>0){if(N==null&&(N=e.endBinaryShift(o)),!E||P===e.getMode()||P===yn){const Z=N.latchAndAppend(P,G);h.push(Z)}if(!E&&mo[e.getMode()][P]>=0){const Z=N.shiftAndAppend(P,G);h.push(Z)}}}if(e.getBinaryShiftByteCount()>0||go[e.getMode()][x]===0){let P=e.addBinaryShiftChar(o);h.push(P)}}static updateStateListForPair(e,o,h){const x=[];for(let E of e)this.updateStateForPair(E,o,h,x);return this.simplifyStates(x)}static updateStateForPair(e,o,h,x){let E=e.endBinaryShift(o);if(x.push(E.latchAndAppend(Gn,h)),e.getMode()!==Gn&&x.push(E.shiftAndAppend(Gn,h)),h===3||h===4){let N=E.latchAndAppend(yn,16-h).latchAndAppend(yn,1);x.push(N)}if(e.getBinaryShiftByteCount()>0){let N=e.addBinaryShiftChar(o).addBinaryShiftChar(o+1);x.push(N)}}static simplifyStates(e){let o=[];for(const h of e){let x=!0;for(const E of o){if(E.isBetterThanOrEqualTo(h)){x=!1;break}h.isBetterThanOrEqualTo(E)&&(o=o.filter(N=>N!==E))}x&&o.push(h)}return o}}class Ir{constructor(){}static encodeBytes(e){return Ir.encode(e,Ir.DEFAULT_EC_PERCENT,Ir.DEFAULT_AZTEC_LAYERS)}static encode(e,o,h){let x=new bs(e).encode(),E=T.truncDivision(x.getSize()*o,100)+11,N=x.getSize()+E,P,G,Z,oe,fe;if(h!==Ir.DEFAULT_AZTEC_LAYERS){if(P=h<0,G=Math.abs(h),G>(P?Ir.MAX_NB_BITS_COMPACT:Ir.MAX_NB_BITS))throw new c($.format("Illegal value %s for layers",h));Z=Ir.totalBitsInLayer(G,P),oe=Ir.WORD_SIZE[G];let pt=Z-Z%oe;if(fe=Ir.stuffBits(x,oe),fe.getSize()+E>pt)throw new c("Data to large for user specified layer");if(P&&fe.getSize()>oe*64)throw new c("Data to large for user specified layer")}else{oe=0,fe=null;for(let pt=0;;pt++){if(pt>Ir.MAX_NB_BITS)throw new c("Data too large for an Aztec code");if(P=pt<=3,G=P?pt+1:pt,Z=Ir.totalBitsInLayer(G,P),N>Z)continue;(fe==null||oe!==Ir.WORD_SIZE[G])&&(oe=Ir.WORD_SIZE[G],fe=Ir.stuffBits(x,oe));let Er=Z-Z%oe;if(!(P&&fe.getSize()>oe*64)&&fe.getSize()+E<=Er)break}}let ge=Ir.generateCheckWords(fe,Z,oe),Ce=fe.getSize()/oe,Be=Ir.generateModeMessage(P,G,Ce),Le=(P?11:14)+G*4,Xe=new Int32Array(Le),Ke;if(P){Ke=Le;for(let pt=0;pt<Xe.length;pt++)Xe[pt]=pt}else{Ke=Le+1+2*T.truncDivision(T.truncDivision(Le,2)-1,15);let pt=T.truncDivision(Le,2),Er=T.truncDivision(Ke,2);for(let gr=0;gr<pt;gr++){let In=gr+T.truncDivision(gr,15);Xe[pt-gr-1]=Er-In-1,Xe[pt+gr]=Er+In+1}}let St=new F(Ke);for(let pt=0,Er=0;pt<G;pt++){let gr=(G-pt)*4+(P?9:12);for(let In=0;In<gr;In++){let qn=In*2;for(let on=0;on<2;on++)ge.get(Er+qn+on)&&St.set(Xe[pt*2+on],Xe[pt*2+In]),ge.get(Er+gr*2+qn+on)&&St.set(Xe[pt*2+In],Xe[Le-1-pt*2-on]),ge.get(Er+gr*4+qn+on)&&St.set(Xe[Le-1-pt*2-on],Xe[Le-1-pt*2-In]),ge.get(Er+gr*6+qn+on)&&St.set(Xe[Le-1-pt*2-In],Xe[pt*2+on])}Er+=gr*8}if(Ir.drawModeMessage(St,P,Ke,Be),P)Ir.drawBullsEye(St,T.truncDivision(Ke,2),5);else{Ir.drawBullsEye(St,T.truncDivision(Ke,2),7);for(let pt=0,Er=0;pt<T.truncDivision(Le,2)-1;pt+=15,Er+=16)for(let gr=T.truncDivision(Ke,2)&1;gr<Ke;gr+=2)St.set(T.truncDivision(Ke,2)-Er,gr),St.set(T.truncDivision(Ke,2)+Er,gr),St.set(gr,T.truncDivision(Ke,2)-Er),St.set(gr,T.truncDivision(Ke,2)+Er)}let At=new Yo;return At.setCompact(P),At.setSize(Ke),At.setLayers(G),At.setCodeWords(Ce),At.setMatrix(St),At}static drawBullsEye(e,o,h){for(let x=0;x<h;x+=2)for(let E=o-x;E<=o+x;E++)e.set(E,o-x),e.set(E,o+x),e.set(o-x,E),e.set(o+x,E);e.set(o-h,o-h),e.set(o-h+1,o-h),e.set(o-h,o-h+1),e.set(o+h,o-h),e.set(o+h,o-h+1),e.set(o+h,o+h-1)}static generateModeMessage(e,o,h){let x=new M;return e?(x.appendBits(o-1,2),x.appendBits(h-1,6),x=Ir.generateCheckWords(x,28,4)):(x.appendBits(o-1,5),x.appendBits(h-1,11),x=Ir.generateCheckWords(x,40,4)),x}static drawModeMessage(e,o,h,x){let E=T.truncDivision(h,2);if(o)for(let N=0;N<7;N++){let P=E-3+N;x.get(N)&&e.set(P,E-5),x.get(N+7)&&e.set(E+5,P),x.get(20-N)&&e.set(P,E+5),x.get(27-N)&&e.set(E-5,P)}else for(let N=0;N<10;N++){let P=E-5+N+T.truncDivision(N,5);x.get(N)&&e.set(P,E-7),x.get(N+10)&&e.set(E+7,P),x.get(29-N)&&e.set(P,E+7),x.get(39-N)&&e.set(E-7,P)}}static generateCheckWords(e,o,h){let x=e.getSize()/h,E=new co(Ir.getGF(h)),N=T.truncDivision(o,h),P=Ir.bitsToWords(e,h,N);E.encode(P,N-x);let G=o%h,Z=new M;Z.appendBits(0,G);for(const oe of Array.from(P))Z.appendBits(oe,h);return Z}static bitsToWords(e,o,h){let x=new Int32Array(h),E,N;for(E=0,N=e.getSize()/o;E<N;E++){let P=0;for(let G=0;G<o;G++)P|=e.get(E*o+G)?1<<o-G-1:0;x[E]=P}return x}static getGF(e){switch(e){case 4:return he.AZTEC_PARAM;case 6:return he.AZTEC_DATA_6;case 8:return he.AZTEC_DATA_8;case 10:return he.AZTEC_DATA_10;case 12:return he.AZTEC_DATA_12;default:throw new c("Unsupported word size "+e)}}static stuffBits(e,o){let h=new M,x=e.getSize(),E=(1<<o)-2;for(let N=0;N<x;N+=o){let P=0;for(let G=0;G<o;G++)(N+G>=x||e.get(N+G))&&(P|=1<<o-1-G);(P&E)===E?(h.appendBits(P&E,o),N--):(P&E)===0?(h.appendBits(P|1,o),N--):h.appendBits(P,o)}return h}static totalBitsInLayer(e,o){return((o?88:112)+16*e)*e}}Ir.DEFAULT_EC_PERCENT=33,Ir.DEFAULT_AZTEC_LAYERS=0,Ir.MAX_NB_BITS=32,Ir.MAX_NB_BITS_COMPACT=4,Ir.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ys{encode(e,o,h,x){return this.encodeWithHints(e,o,h,x,null)}encodeWithHints(e,o,h,x,E){let N=fo.ISO_8859_1,P=Ir.DEFAULT_EC_PERCENT,G=Ir.DEFAULT_AZTEC_LAYERS;return E!=null&&(E.has(sn.CHARACTER_SET)&&(N=qo.forName(E.get(sn.CHARACTER_SET).toString())),E.has(sn.ERROR_CORRECTION)&&(P=T.parseInt(E.get(sn.ERROR_CORRECTION).toString())),E.has(sn.AZTEC_LAYERS)&&(G=T.parseInt(E.get(sn.AZTEC_LAYERS).toString()))),ys.encodeLayers(e,o,h,x,N,P,G)}static encodeLayers(e,o,h,x,E,N,P){if(o!==H.AZTEC)throw new c("Can only encode AZTEC, but got "+o);let G=Ir.encode($.getBytes(e,E),N,P);return ys.renderResult(G,h,x)}static renderResult(e,o,h){let x=e.getMatrix();if(x==null)throw new _e;let E=x.getWidth(),N=x.getHeight(),P=Math.max(o,E),G=Math.max(h,N),Z=Math.min(P/E,G/N),oe=(P-E*Z)/2,fe=(G-N*Z)/2,ge=new F(P,G);for(let Ce=0,Be=fe;Ce<N;Ce++,Be+=Z)for(let Le=0,Xe=oe;Le<E;Le++,Xe+=Z)x.get(Le,Ce)&&ge.setRegion(Xe,Be,Z,Z);return ge}}r.AbstractExpandedDecoder=er,r.ArgumentException=n,r.ArithmeticException=ve,r.AztecCode=Yo,r.AztecCodeReader=Bt,r.AztecCodeWriter=ys,r.AztecDecoder=Ae,r.AztecDetector=Ft,r.AztecDetectorResult=$e,r.AztecEncoder=Ir,r.AztecHighLevelEncoder=bs,r.AztecPoint=Mt,r.BarcodeFormat=H,r.Binarizer=g,r.BinaryBitmap=a,r.BitArray=M,r.BitMatrix=F,r.BitSource=Ie,r.BrowserAztecCodeReader=Gt,r.BrowserBarcodeReader=xr,r.BrowserCodeReader=re,r.BrowserDatamatrixCodeReader=ut,r.BrowserMultiFormatReader=ps,r.BrowserPDF417Reader=js,r.BrowserQRCodeReader=Go,r.BrowserQRCodeSvgWriter=Ei,r.CharacterSetECI=q,r.ChecksumException=l,r.Code128Reader=Ge,r.Code39Reader=bt,r.DataMatrixDecodedBitStreamParser=Pe,r.DataMatrixReader=rt,r.DecodeHintType=X,r.DecoderResult=L,r.DefaultGridSampler=Tt,r.DetectorResult=We,r.EAN13Reader=ir,r.EncodeHintType=sn,r.Exception=t,r.FormatException=Y,r.GenericGF=he,r.GenericGFPoly=ce,r.GlobalHistogramBinarizer=v,r.GridSampler=lt,r.GridSamplerInstance=gt,r.HTMLCanvasElementLuminanceSource=O,r.HybridBinarizer=_,r.ITFReader=Et,r.IllegalArgumentException=c,r.IllegalStateException=_e,r.InvertedLuminanceSource=C,r.LuminanceSource=S,r.MathUtils=Se,r.MultiFormatOneDReader=vt,r.MultiFormatReader=Bs,r.MultiFormatWriter=nl,r.NotFoundException=A,r.OneDReader=ft,r.PDF417DecodedBitStreamParser=Qe,r.PDF417DecoderErrorCorrection=oo,r.PDF417Reader=pn,r.PDF417ResultMetadata=Ds,r.PerspectiveTransform=xt,r.PlanarYUVLuminanceSource=Jn,r.QRCodeByteMatrix=Ls,r.QRCodeDataMask=Ot,r.QRCodeDecodedBitStreamParser=Rr,r.QRCodeDecoderErrorCorrectionLevel=st,r.QRCodeDecoderFormatInformation=nt,r.QRCodeEncoder=Vr,r.QRCodeEncoderQRCode=Si,r.QRCodeMaskUtil=Xr,r.QRCodeMatrixUtil=or,r.QRCodeMode=Wt,r.QRCodeReader=en,r.QRCodeVersion=wt,r.QRCodeWriter=Ui,r.RGBLuminanceSource=ms,r.RSS14Reader=at,r.RSSExpandedReader=De,r.ReaderException=Fi,r.ReedSolomonDecoder=Re,r.ReedSolomonEncoder=co,r.ReedSolomonException=xe,r.Result=ne,r.ResultMetadataType=U,r.ResultPoint=ke,r.StringUtils=$,r.UnsupportedOperationException=K,r.VideoInputDevice=B,r.WhiteRectangleDetector=Ze,r.WriterException=Lr,r.ZXingArrays=y,r.ZXingCharset=qo,r.ZXingInteger=T,r.ZXingStandardCharsets=fo,r.ZXingStringBuilder=D,r.ZXingStringEncoding=ie,r.ZXingSystem=b,r.createAbstractExpandedDecoder=Ee,Object.defineProperty(r,"__esModule",{value:!0})})}(Fo,Fo.exports)),Fo.exports}var $r=E1();const C1=Ka($r),A1=yh({__proto__:null,default:C1},[$r]);var lh=function(){function J(te,r,I){if(this.formatMap=new Map([[Vt.QR_CODE,$r.BarcodeFormat.QR_CODE],[Vt.AZTEC,$r.BarcodeFormat.AZTEC],[Vt.CODABAR,$r.BarcodeFormat.CODABAR],[Vt.CODE_39,$r.BarcodeFormat.CODE_39],[Vt.CODE_93,$r.BarcodeFormat.CODE_93],[Vt.CODE_128,$r.BarcodeFormat.CODE_128],[Vt.DATA_MATRIX,$r.BarcodeFormat.DATA_MATRIX],[Vt.MAXICODE,$r.BarcodeFormat.MAXICODE],[Vt.ITF,$r.BarcodeFormat.ITF],[Vt.EAN_13,$r.BarcodeFormat.EAN_13],[Vt.EAN_8,$r.BarcodeFormat.EAN_8],[Vt.PDF_417,$r.BarcodeFormat.PDF_417],[Vt.RSS_14,$r.BarcodeFormat.RSS_14],[Vt.RSS_EXPANDED,$r.BarcodeFormat.RSS_EXPANDED],[Vt.UPC_A,$r.BarcodeFormat.UPC_A],[Vt.UPC_E,$r.BarcodeFormat.UPC_E],[Vt.UPC_EAN_EXTENSION,$r.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!A1)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=I;var k=this.createZXingFormats(te),p=new Map;p.set($r.DecodeHintType.POSSIBLE_FORMATS,k),p.set($r.DecodeHintType.TRY_HARDER,!1),this.hints=p}return J.prototype.decodeAsync=function(te){var r=this;return new Promise(function(I,k){try{I(r.decode(te))}catch(p){k(p)}})},J.prototype.decode=function(te){var r=new $r.MultiFormatReader(this.verbose,this.hints),I=new $r.HTMLCanvasElementLuminanceSource(te),k=new $r.BinaryBitmap(new $r.HybridBinarizer(I)),p=r.decode(k);return{text:p.text,format:jh.create(this.toHtml5QrcodeSupportedFormats(p.format)),debugData:this.createDebugData()}},J.prototype.createReverseFormatMap=function(){var te=new Map;return this.formatMap.forEach(function(r,I,k){te.set(r,I)}),te},J.prototype.toHtml5QrcodeSupportedFormats=function(te){if(!this.reverseFormatMap.has(te))throw"reverseFormatMap doesn't have ".concat(te);return this.reverseFormatMap.get(te)},J.prototype.createZXingFormats=function(te){for(var r=[],I=0,k=te;I<k.length;I++){var p=k[I];this.formatMap.has(p)?r.push(this.formatMap.get(p)):this.logger.logError("".concat(p," is not supported by")+"ZXingHtml5QrcodeShim")}return r},J.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},J}(),k1=function(J,te,r,I){function k(p){return p instanceof r?p:new r(function(u){u(p)})}return new(r||(r=Promise))(function(p,u){function f(n){try{t(I.next(n))}catch(c){u(c)}}function i(n){try{t(I.throw(n))}catch(c){u(c)}}function t(n){n.done?p(n.value):k(n.value).then(f,i)}t((I=I.apply(J,te||[])).next())})},T1=function(J,te){var r={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},I,k,p,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(t){return function(n){return i([t,n])}}function i(t){if(I)throw new TypeError("Generator is already executing.");for(;u&&(u=0,t[0]&&(r=0)),r;)try{if(I=1,k&&(p=t[0]&2?k.return:t[0]?k.throw||((p=k.return)&&p.call(k),0):k.next)&&!(p=p.call(k,t[1])).done)return p;switch(k=0,p&&(t=[t[0]&2,p.value]),t[0]){case 0:case 1:p=t;break;case 4:return r.label++,{value:t[1],done:!1};case 5:r.label++,k=t[1],t=[0];continue;case 7:t=r.ops.pop(),r.trys.pop();continue;default:if(p=r.trys,!(p=p.length>0&&p[p.length-1])&&(t[0]===6||t[0]===2)){r=0;continue}if(t[0]===3&&(!p||t[1]>p[0]&&t[1]<p[3])){r.label=t[1];break}if(t[0]===6&&r.label<p[1]){r.label=p[1],p=t;break}if(p&&r.label<p[2]){r.label=p[2],r.ops.push(t);break}p[2]&&r.ops.pop(),r.trys.pop();continue}t=te.call(J,r)}catch(n){t=[6,n],k=0}finally{I=p=0}if(t[0]&5)throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}},uh=function(){function J(te,r,I){if(this.formatMap=new Map([[Vt.QR_CODE,"qr_code"],[Vt.AZTEC,"aztec"],[Vt.CODABAR,"codabar"],[Vt.CODE_39,"code_39"],[Vt.CODE_93,"code_93"],[Vt.CODE_128,"code_128"],[Vt.DATA_MATRIX,"data_matrix"],[Vt.ITF,"itf"],[Vt.EAN_13,"ean_13"],[Vt.EAN_8,"ean_8"],[Vt.PDF_417,"pdf417"],[Vt.UPC_A,"upc_a"],[Vt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!J.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=I;var k=this.createBarcodeDetectorFormats(te);if(this.detector=new BarcodeDetector(k),!this.detector)throw"BarcodeDetector detector not supported"}return J.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var te=new BarcodeDetector({formats:["qr_code"]});return typeof te<"u"},J.prototype.decodeAsync=function(te){return k1(this,void 0,void 0,function(){var r,I;return T1(this,function(k){switch(k.label){case 0:return[4,this.detector.detect(te)];case 1:if(r=k.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return I=this.selectLargestBarcode(r),[2,{text:I.rawValue,format:jh.create(this.toHtml5QrcodeSupportedFormats(I.format)),debugData:this.createDebugData()}]}})})},J.prototype.selectLargestBarcode=function(te){for(var r=null,I=0,k=0,p=te;k<p.length;k++){var u=p[k],f=u.boundingBox.width*u.boundingBox.height;f>I&&(I=f,r=u)}if(!r)throw"No largest barcode found";return r},J.prototype.createBarcodeDetectorFormats=function(te){for(var r=[],I=0,k=te;I<k.length;I++){var p=k[I];this.formatMap.has(p)?r.push(this.formatMap.get(p)):this.logger.warn("".concat(p," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},J.prototype.toHtml5QrcodeSupportedFormats=function(te){if(!this.reverseFormatMap.has(te))throw"reverseFormatMap doesn't have ".concat(te);return this.reverseFormatMap.get(te)},J.prototype.createReverseFormatMap=function(){var te=new Map;return this.formatMap.forEach(function(r,I,k){te.set(r,I)}),te},J.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},J}(),ch=function(J,te,r,I){function k(p){return p instanceof r?p:new r(function(u){u(p)})}return new(r||(r=Promise))(function(p,u){function f(n){try{t(I.next(n))}catch(c){u(c)}}function i(n){try{t(I.throw(n))}catch(c){u(c)}}function t(n){n.done?p(n.value):k(n.value).then(f,i)}t((I=I.apply(J,te||[])).next())})},fh=function(J,te){var r={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},I,k,p,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(t){return function(n){return i([t,n])}}function i(t){if(I)throw new TypeError("Generator is already executing.");for(;u&&(u=0,t[0]&&(r=0)),r;)try{if(I=1,k&&(p=t[0]&2?k.return:t[0]?k.throw||((p=k.return)&&p.call(k),0):k.next)&&!(p=p.call(k,t[1])).done)return p;switch(k=0,p&&(t=[t[0]&2,p.value]),t[0]){case 0:case 1:p=t;break;case 4:return r.label++,{value:t[1],done:!1};case 5:r.label++,k=t[1],t=[0];continue;case 7:t=r.ops.pop(),r.trys.pop();continue;default:if(p=r.trys,!(p=p.length>0&&p[p.length-1])&&(t[0]===6||t[0]===2)){r=0;continue}if(t[0]===3&&(!p||t[1]>p[0]&&t[1]<p[3])){r.label=t[1];break}if(t[0]===6&&r.label<p[1]){r.label=p[1],p=t;break}if(p&&r.label<p[2]){r.label=p[2],r.ops.push(t);break}p[2]&&r.ops.pop(),r.trys.pop();continue}t=te.call(J,r)}catch(n){t=[6,n],k=0}finally{I=p=0}if(t[0]&5)throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}},I1=function(){function J(te,r,I,k){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=I,r&&uh.isSupported()?(this.primaryDecoder=new uh(te,I,k),this.secondaryDecoder=new lh(te,I,k)):this.primaryDecoder=new lh(te,I,k)}return J.prototype.decodeAsync=function(te){return ch(this,void 0,void 0,function(){var r;return fh(this,function(I){switch(I.label){case 0:r=performance.now(),I.label=1;case 1:return I.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(te)];case 2:return[2,I.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},J.prototype.decodeRobustlyAsync=function(te){return ch(this,void 0,void 0,function(){var r,I;return fh(this,function(k){switch(k.label){case 0:r=performance.now(),k.label=1;case 1:return k.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(te)];case 2:return[2,k.sent()];case 3:if(I=k.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(te)];throw I;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},J.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},J.prototype.possiblyLogPerformance=function(te){if(this.verbose){var r=performance.now()-te;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},J.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var te=0,r=0,I=this.executionResults;r<I.length;r++){var k=I[r];te+=k}var p=te/this.executionResults.length;console.log("".concat(p," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},J}(),Wu=function(){var J=function(te,r){return J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,k){I.__proto__=k}||function(I,k){for(var p in k)Object.prototype.hasOwnProperty.call(k,p)&&(I[p]=k[p])},J(te,r)};return function(te,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");J(te,r);function I(){this.constructor=te}te.prototype=r===null?Object.create(r):(I.prototype=r.prototype,new I)}}(),$a=function(J,te,r,I){function k(p){return p instanceof r?p:new r(function(u){u(p)})}return new(r||(r=Promise))(function(p,u){function f(n){try{t(I.next(n))}catch(c){u(c)}}function i(n){try{t(I.throw(n))}catch(c){u(c)}}function t(n){n.done?p(n.value):k(n.value).then(f,i)}t((I=I.apply(J,te||[])).next())})},Za=function(J,te){var r={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},I,k,p,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(t){return function(n){return i([t,n])}}function i(t){if(I)throw new TypeError("Generator is already executing.");for(;u&&(u=0,t[0]&&(r=0)),r;)try{if(I=1,k&&(p=t[0]&2?k.return:t[0]?k.throw||((p=k.return)&&p.call(k),0):k.next)&&!(p=p.call(k,t[1])).done)return p;switch(k=0,p&&(t=[t[0]&2,p.value]),t[0]){case 0:case 1:p=t;break;case 4:return r.label++,{value:t[1],done:!1};case 5:r.label++,k=t[1],t=[0];continue;case 7:t=r.ops.pop(),r.trys.pop();continue;default:if(p=r.trys,!(p=p.length>0&&p[p.length-1])&&(t[0]===6||t[0]===2)){r=0;continue}if(t[0]===3&&(!p||t[1]>p[0]&&t[1]<p[3])){r.label=t[1];break}if(t[0]===6&&r.label<p[1]){r.label=p[1],p=t;break}if(p&&r.label<p[2]){r.label=p[2],r.ops.push(t);break}p[2]&&r.ops.pop(),r.trys.pop();continue}t=te.call(J,r)}catch(n){t=[6,n],k=0}finally{I=p=0}if(t[0]&5)throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}},Fh=function(){function J(te,r){this.name=te,this.track=r}return J.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},J.prototype.apply=function(te){var r={};r[this.name]=te;var I={advanced:[r]};return this.track.applyConstraints(I)},J.prototype.value=function(){var te=this.track.getSettings();if(this.name in te){var r=te[this.name];return r}return null},J}(),N1=function(J){Wu(te,J);function te(r,I){return J.call(this,r,I)||this}return te.prototype.min=function(){return this.getCapabilities().min},te.prototype.max=function(){return this.getCapabilities().max},te.prototype.step=function(){return this.getCapabilities().step},te.prototype.apply=function(r){var I={};I[this.name]=r;var k={advanced:[I]};return this.track.applyConstraints(k)},te.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),I=r[this.name];return{min:I.min,max:I.max,step:I.step}},te.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},te}(Fh),R1=function(J){Wu(te,J);function te(r){return J.call(this,"zoom",r)||this}return te}(N1),M1=function(J){Wu(te,J);function te(r){return J.call(this,"torch",r)||this}return te}(Fh),O1=function(){function J(te){this.track=te}return J.prototype.zoomFeature=function(){return new R1(this.track)},J.prototype.torchFeature=function(){return new M1(this.track)},J}(),D1=function(){function J(te,r,I){this.isClosed=!1,this.parentElement=te,this.mediaStream=r,this.callbacks=I,this.surface=this.createVideoElement(this.parentElement.clientWidth),te.append(this.surface)}return J.prototype.createVideoElement=function(te){var r=document.createElement("video");return r.style.width="".concat(te,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},J.prototype.setupSurface=function(){var te=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var I=te.surface.clientWidth,k=te.surface.clientHeight;te.callbacks.onRenderSurfaceReady(I,k),te.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},J.create=function(te,r,I,k){return $a(this,void 0,void 0,function(){var p,u;return Za(this,function(f){switch(f.label){case 0:return p=new J(te,r,k),I.aspectRatio?(u={aspectRatio:I.aspectRatio},[4,p.getFirstTrackOrFail().applyConstraints(u)]):[3,2];case 1:f.sent(),f.label=2;case 2:return p.setupSurface(),[2,p]}})})},J.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},J.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},J.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},J.prototype.resume=function(te){this.failIfClosed();var r=this,I=function(){setTimeout(te,200),r.surface.removeEventListener("playing",I)};this.surface.addEventListener("playing",I),this.surface.play()},J.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},J.prototype.getSurface=function(){return this.failIfClosed(),this.surface},J.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},J.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},J.prototype.applyVideoConstraints=function(te){return $a(this,void 0,void 0,function(){return Za(this,function(r){if("aspectRatio"in te)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(te)]})})},J.prototype.close=function(){if(this.isClosed)return Promise.resolve();var te=this;return new Promise(function(r,I){var k=te.mediaStream.getVideoTracks(),p=k.length,u=0;te.mediaStream.getVideoTracks().forEach(function(f){te.mediaStream.removeTrack(f),f.stop(),++u,u>=p&&(te.isClosed=!0,te.parentElement.removeChild(te.surface),r())})})},J.prototype.getCapabilities=function(){return new O1(this.getFirstTrackOrFail())},J}(),P1=function(){function J(te){this.mediaStream=te}return J.prototype.render=function(te,r,I){return $a(this,void 0,void 0,function(){return Za(this,function(k){return[2,D1.create(te,this.mediaStream,r,I)]})})},J.create=function(te){return $a(this,void 0,void 0,function(){var r,I;return Za(this,function(k){switch(k.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:te},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return I=k.sent(),[2,new J(I)]}})})},J}(),hh=function(J,te,r,I){function k(p){return p instanceof r?p:new r(function(u){u(p)})}return new(r||(r=Promise))(function(p,u){function f(n){try{t(I.next(n))}catch(c){u(c)}}function i(n){try{t(I.throw(n))}catch(c){u(c)}}function t(n){n.done?p(n.value):k(n.value).then(f,i)}t((I=I.apply(J,te||[])).next())})},dh=function(J,te){var r={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},I,k,p,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(t){return function(n){return i([t,n])}}function i(t){if(I)throw new TypeError("Generator is already executing.");for(;u&&(u=0,t[0]&&(r=0)),r;)try{if(I=1,k&&(p=t[0]&2?k.return:t[0]?k.throw||((p=k.return)&&p.call(k),0):k.next)&&!(p=p.call(k,t[1])).done)return p;switch(k=0,p&&(t=[t[0]&2,p.value]),t[0]){case 0:case 1:p=t;break;case 4:return r.label++,{value:t[1],done:!1};case 5:r.label++,k=t[1],t=[0];continue;case 7:t=r.ops.pop(),r.trys.pop();continue;default:if(p=r.trys,!(p=p.length>0&&p[p.length-1])&&(t[0]===6||t[0]===2)){r=0;continue}if(t[0]===3&&(!p||t[1]>p[0]&&t[1]<p[3])){r.label=t[1];break}if(t[0]===6&&r.label<p[1]){r.label=p[1],p=t;break}if(p&&r.label<p[2]){r.label=p[2],r.ops.push(t);break}p[2]&&r.ops.pop(),r.trys.pop();continue}t=te.call(J,r)}catch(n){t=[6,n],k=0}finally{I=p=0}if(t[0]&5)throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}},B1=function(){function J(){}return J.failIfNotSupported=function(){return hh(this,void 0,void 0,function(){return dh(this,function(te){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new J]})})},J.prototype.create=function(te){return hh(this,void 0,void 0,function(){return dh(this,function(r){return[2,P1.create(te)]})})},J}(),j1=function(J,te,r,I){function k(p){return p instanceof r?p:new r(function(u){u(p)})}return new(r||(r=Promise))(function(p,u){function f(n){try{t(I.next(n))}catch(c){u(c)}}function i(n){try{t(I.throw(n))}catch(c){u(c)}}function t(n){n.done?p(n.value):k(n.value).then(f,i)}t((I=I.apply(J,te||[])).next())})},L1=function(J,te){var r={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},I,k,p,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(t){return function(n){return i([t,n])}}function i(t){if(I)throw new TypeError("Generator is already executing.");for(;u&&(u=0,t[0]&&(r=0)),r;)try{if(I=1,k&&(p=t[0]&2?k.return:t[0]?k.throw||((p=k.return)&&p.call(k),0):k.next)&&!(p=p.call(k,t[1])).done)return p;switch(k=0,p&&(t=[t[0]&2,p.value]),t[0]){case 0:case 1:p=t;break;case 4:return r.label++,{value:t[1],done:!1};case 5:r.label++,k=t[1],t=[0];continue;case 7:t=r.ops.pop(),r.trys.pop();continue;default:if(p=r.trys,!(p=p.length>0&&p[p.length-1])&&(t[0]===6||t[0]===2)){r=0;continue}if(t[0]===3&&(!p||t[1]>p[0]&&t[1]<p[3])){r.label=t[1];break}if(t[0]===6&&r.label<p[1]){r.label=p[1],p=t;break}if(p&&r.label<p[2]){r.label=p[2],r.ops.push(t);break}p[2]&&r.ops.pop(),r.trys.pop();continue}t=te.call(J,r)}catch(n){t=[6,n],k=0}finally{I=p=0}if(t[0]&5)throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}},F1=function(){function J(){}return J.retrieve=function(){if(navigator.mediaDevices)return J.getCamerasFromMediaDevices();var te=MediaStreamTrack;return MediaStreamTrack&&te.getSources?J.getCamerasFromMediaStreamTrack():J.rejectWithError()},J.rejectWithError=function(){var te=no.unableToQuerySupportedDevices();return J.isHttpsOrLocalhost()||(te=no.insecureContextCameraQueryError()),Promise.reject(te)},J.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var te=location.host.split(":")[0];return te==="127.0.0.1"||te==="localhost"},J.getCamerasFromMediaDevices=function(){return j1(this,void 0,void 0,function(){var te,r,I,k,p,u,f;return L1(this,function(i){switch(i.label){case 0:return te=function(t){for(var n=t.getVideoTracks(),c=0,a=n;c<a.length;c++){var l=a[c];l.enabled=!1,l.stop(),t.removeTrack(l)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=i.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(I=i.sent(),k=[],p=0,u=I;p<u.length;p++)f=u[p],f.kind==="videoinput"&&k.push({id:f.deviceId,label:f.label});return te(r),[2,k]}})})},J.getCamerasFromMediaStreamTrack=function(){return new Promise(function(te,r){var I=function(p){for(var u=[],f=0,i=p;f<i.length;f++){var t=i[f];t.kind==="video"&&u.push({id:t.id,label:t.label})}te(u)},k=MediaStreamTrack;k.getSources(I)})},J}(),nn;(function(J){J[J.UNKNOWN=0]="UNKNOWN",J[J.NOT_STARTED=1]="NOT_STARTED",J[J.SCANNING=2]="SCANNING",J[J.PAUSED=3]="PAUSED"})(nn||(nn={}));var U1=function(){function J(){this.state=nn.NOT_STARTED,this.onGoingTransactionNewState=nn.UNKNOWN}return J.prototype.directTransition=function(te){this.failIfTransitionOngoing(),this.validateTransition(te),this.state=te},J.prototype.startTransition=function(te){return this.failIfTransitionOngoing(),this.validateTransition(te),this.onGoingTransactionNewState=te,this},J.prototype.execute=function(){if(this.onGoingTransactionNewState===nn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var te=this.onGoingTransactionNewState;this.onGoingTransactionNewState=nn.UNKNOWN,this.directTransition(te)},J.prototype.cancel=function(){if(this.onGoingTransactionNewState===nn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=nn.UNKNOWN},J.prototype.getState=function(){return this.state},J.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==nn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},J.prototype.validateTransition=function(te){switch(this.state){case nn.UNKNOWN:throw"Transition from unknown is not allowed";case nn.NOT_STARTED:this.failIfNewStateIs(te,[nn.PAUSED]);break;case nn.SCANNING:break;case nn.PAUSED:break}},J.prototype.failIfNewStateIs=function(te,r){for(var I=0,k=r;I<k.length;I++){var p=k[I];if(te===p)throw"Cannot transition from ".concat(this.state," to ").concat(te)}},J}(),z1=function(){function J(te){this.stateManager=te}return J.prototype.startTransition=function(te){return this.stateManager.startTransition(te)},J.prototype.directTransition=function(te){this.stateManager.directTransition(te)},J.prototype.getState=function(){return this.stateManager.getState()},J.prototype.canScanFile=function(){return this.stateManager.getState()===nn.NOT_STARTED},J.prototype.isScanning=function(){return this.stateManager.getState()!==nn.NOT_STARTED},J.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===nn.SCANNING},J.prototype.isPaused=function(){return this.stateManager.getState()===nn.PAUSED},J}(),V1=function(){function J(){}return J.create=function(){return new z1(new U1)},J}(),H1=function(){var J=function(te,r){return J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,k){I.__proto__=k}||function(I,k){for(var p in k)Object.prototype.hasOwnProperty.call(k,p)&&(I[p]=k[p])},J(te,r)};return function(te,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");J(te,r);function I(){this.constructor=te}te.prototype=r===null?Object.create(r):(I.prototype=r.prototype,new I)}}(),Kn=function(J){H1(te,J);function te(){return J!==null&&J.apply(this,arguments)||this}return te.DEFAULT_WIDTH=300,te.DEFAULT_WIDTH_OFFSET=2,te.FILE_SCAN_MIN_HEIGHT=300,te.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,te.MIN_QR_BOX_SIZE=50,te.SHADED_LEFT=1,te.SHADED_RIGHT=2,te.SHADED_TOP=3,te.SHADED_BOTTOM=4,te.SHADED_REGION_ELEMENT_ID="qr-shaded-region",te.VERBOSE=!1,te.BORDER_SHADER_DEFAULT_COLOR="#ffffff",te.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",te}(x1),W1=function(){function J(te,r){this.logger=r,this.fps=Kn.SCAN_DEFAULT_FPS,te?(te.fps&&(this.fps=te.fps),this.disableFlip=te.disableFlip===!0,this.qrbox=te.qrbox,this.aspectRatio=te.aspectRatio,this.videoConstraints=te.videoConstraints):this.disableFlip=Kn.DEFAULT_DISABLE_FLIP}return J.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Lh.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},J.prototype.isShadedBoxEnabled=function(){return!Pi(this.qrbox)},J.create=function(te,r){return new J(te,r)},J}(),X1=function(){function J(te,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(te))throw"HTML Element with id=".concat(te," not found");this.elementId=te,this.verbose=!1;var I;typeof r=="boolean"?this.verbose=r===!0:r&&(I=r,this.verbose=I.verbose===!0,I.experimentalFeatures),this.logger=new _1(this.verbose),this.qrcode=new I1(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(I),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=V1.create()}return J.prototype.start=function(te,r,I,k){var p=this;if(!te)throw"cameraIdOrConfig is required";if(!I||typeof I!="function")throw"qrCodeSuccessCallback is required and should be a function.";var u;k?u=k:u=this.verbose?this.logger.log:function(){};var f=W1.create(r,this.logger);this.clearElement();var i=!1;f.videoConstraints&&(f.isMediaStreamConstraintsValid()?i=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var t=i,n=document.getElementById(this.elementId);n.clientWidth?n.clientWidth:Kn.DEFAULT_WIDTH,n.style.position="relative",this.shouldScan=!0,this.element=n;var c=this,a=this.stateManagerProxy.startTransition(nn.SCANNING);return new Promise(function(l,g){var b=t?f.videoConstraints:c.createVideoConstraints(te);if(!b){a.cancel(),g("videoConstraints should be defined");return}var d={};(!t||f.aspectRatio)&&(d.aspectRatio=f.aspectRatio);var w={onRenderSurfaceReady:function(y,T){c.setupUi(y,T,f),c.isScanning=!0,c.foreverScan(f,I,u)}};B1.failIfNotSupported().then(function(y){y.create(b).then(function(T){return T.render(p.element,d,w).then(function(M){c.renderedCamera=M,a.execute(),l(null)}).catch(function(M){a.cancel(),g(M)})}).catch(function(T){a.cancel(),g(no.errorGettingUserMedia(T))})}).catch(function(y){a.cancel(),g(no.cameraStreamingNotSupported())})})},J.prototype.pause=function(te){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(nn.PAUSED),this.showPausedState(),(Pi(te)||te!==!0)&&(te=!1),te&&this.renderedCamera&&this.renderedCamera.pause()},J.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var te=this,r=function(){te.stateManagerProxy.directTransition(nn.SCANNING),te.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},J.prototype.getState=function(){return this.stateManagerProxy.getState()},J.prototype.stop=function(){var te=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(nn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var I=function(){if(te.element){var p=document.getElementById(Kn.SHADED_REGION_ELEMENT_ID);p&&te.element.removeChild(p)}},k=this;return this.renderedCamera.close().then(function(){return k.renderedCamera=null,k.element&&(k.element.removeChild(k.canvasElement),k.canvasElement=null),I(),k.qrRegion&&(k.qrRegion=null),k.context&&(k.context=null),r.execute(),k.hidePausedState(),k.isScanning=!1,Promise.resolve()})},J.prototype.scanFile=function(te,r){return this.scanFileV2(te,r).then(function(I){return I.decodedText})},J.prototype.scanFileV2=function(te,r){var I=this;if(!te||!(te instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Pi(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(k,p){I.possiblyCloseLastScanImageFile(),I.clearElement(),I.lastScanImageFile=URL.createObjectURL(te);var u=new Image;u.onload=function(){var f=u.width,i=u.height,t=document.getElementById(I.elementId),n=t.clientWidth?t.clientWidth:Kn.DEFAULT_WIDTH,c=Math.max(t.clientHeight?t.clientHeight:i,Kn.FILE_SCAN_MIN_HEIGHT),a=I.computeCanvasDrawConfig(f,i,n,c);if(r){var l=I.createCanvasElement(n,c,"qr-canvas-visible");l.style.display="inline-block",t.appendChild(l);var g=l.getContext("2d");if(!g)throw"Unable to get 2d context from canvas";g.canvas.width=n,g.canvas.height=c,g.drawImage(u,0,0,f,i,a.x,a.y,a.width,a.height)}var b=Kn.FILE_SCAN_HIDDEN_CANVAS_PADDING,d=Math.max(u.width,a.width),w=Math.max(u.height,a.height),y=d+2*b,T=w+2*b,M=I.createCanvasElement(y,T);t.appendChild(M);var j=M.getContext("2d");if(!j)throw"Unable to get 2d context from canvas";j.canvas.width=y,j.canvas.height=T,j.drawImage(u,0,0,f,i,b,b,d,w);try{I.qrcode.decodeRobustlyAsync(M).then(function(X){k(oh.createFromQrcodeResult(X))}).catch(p)}catch(X){p("QR code parse error, error = ".concat(X))}},u.onerror=p,u.onabort=p,u.onstalled=p,u.onsuspend=p,u.src=URL.createObjectURL(te)})},J.prototype.clear=function(){this.clearElement()},J.getCameras=function(){return F1.retrieve()},J.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},J.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},J.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},J.prototype.applyVideoConstraints=function(te){if(te){if(!Lh.isMediaStreamConstraintsValid(te,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(te)},J.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},J.prototype.getSupportedFormats=function(te){var r=[Vt.QR_CODE,Vt.AZTEC,Vt.CODABAR,Vt.CODE_39,Vt.CODE_93,Vt.CODE_128,Vt.DATA_MATRIX,Vt.MAXICODE,Vt.ITF,Vt.EAN_13,Vt.EAN_8,Vt.PDF_417,Vt.RSS_14,Vt.RSS_EXPANDED,Vt.UPC_A,Vt.UPC_E,Vt.UPC_EAN_EXTENSION];if(!te||typeof te=="boolean"||!te.formatsToSupport)return r;if(!Array.isArray(te.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(te.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var I=[],k=0,p=te.formatsToSupport;k<p.length;k++){var u=p[k];w1(u)?I.push(u):this.logger.warn("Invalid format: ".concat(u," passed in config, ignoring."))}if(I.length===0)throw"None of formatsToSupport match supported values.";return I},J.prototype.getUseBarCodeDetectorIfSupported=function(te){if(Pi(te))return!0;if(!Pi(te.useBarCodeDetectorIfSupported))return te.useBarCodeDetectorIfSupported!==!1;if(Pi(te.experimentalFeatures))return!0;var r=te.experimentalFeatures;return Pi(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},J.prototype.validateQrboxSize=function(te,r,I){var k=this,p=I.qrbox;this.validateQrboxConfig(p);var u=this.toQrdimensions(te,r,p),f=function(t){if(t<Kn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Kn.MIN_QR_BOX_SIZE,"px.")},i=function(t){return t>te&&(k.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),t=te),t};f(u.width),f(u.height),u.width=i(u.width)},J.prototype.validateQrboxConfig=function(te){if(typeof te!="number"&&typeof te!="function"&&(te.width===void 0||te.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},J.prototype.toQrdimensions=function(te,r,I){if(typeof I=="number")return{width:I,height:I};if(typeof I=="function")try{return I(te,r)}catch(k){throw new Error("qrbox config was passed as a function but it failed with unknown error"+k)}return I},J.prototype.setupUi=function(te,r,I){I.isShadedBoxEnabled()&&this.validateQrboxSize(te,r,I);var k=Pi(I.qrbox)?{width:te,height:r}:I.qrbox;this.validateQrboxConfig(k);var p=this.toQrdimensions(te,r,k);p.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var u=I.isShadedBoxEnabled()&&p.height<=r,f={x:0,y:0,width:te,height:r},i=u?this.getShadedRegionBounds(te,r,p):f,t=this.createCanvasElement(i.width,i.height),n={willReadFrequently:!0},c=t.getContext("2d",n);c.canvas.width=i.width,c.canvas.height=i.height,this.element.append(t),u&&this.possiblyInsertShadingElement(this.element,te,r,p),this.createScannerPausedUiElement(this.element),this.qrRegion=i,this.context=c,this.canvasElement=t},J.prototype.createScannerPausedUiElement=function(te){var r=document.createElement("div");r.innerText=no.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",te.appendChild(r),this.scannerPausedUiElement=r},J.prototype.scanContext=function(te,r){var I=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(k){return te(k.text,oh.createFromQrcodeResult(k)),I.possiblyUpdateShaders(!0),!0}).catch(function(k){I.possiblyUpdateShaders(!1);var p=no.codeParseError(k);return r(p,v1.createFrom(p)),!1})},J.prototype.foreverScan=function(te,r,I){var k=this;if(this.shouldScan&&this.renderedCamera){var p=this.renderedCamera.getSurface(),u=p.videoWidth/p.clientWidth,f=p.videoHeight/p.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var i=this.qrRegion.width*u,t=this.qrRegion.height*f,n=this.qrRegion.x*u,c=this.qrRegion.y*f;this.context.drawImage(p,n,c,i,t,0,0,this.qrRegion.width,this.qrRegion.height);var a=function(){k.foreverScanTimeout=setTimeout(function(){k.foreverScan(te,r,I)},k.getTimeoutFps(te.fps))};this.scanContext(r,I).then(function(l){!l&&te.disableFlip!==!0?(k.context.translate(k.context.canvas.width,0),k.context.scale(-1,1),k.scanContext(r,I).finally(function(){a()})):a()}).catch(function(l){k.logger.logError("Error happend while scanning context",l),a()})}},J.prototype.createVideoConstraints=function(te){if(typeof te=="string")return{deviceId:{exact:te}};if(typeof te=="object"){var r="facingMode",I="deviceId",k={user:!0,environment:!0},p="exact",u=function(g){if(g in k)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(g,"'")},f=Object.keys(te);if(f.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(f.length," keys");var i=Object.keys(te)[0];if(i!==r&&i!==I)throw"Only '".concat(r,"' and '").concat(I,"' ")+" are supported for 'cameraIdOrConfig'";if(i===r){var t=te.facingMode;if(typeof t=="string"){if(u(t))return{facingMode:t}}else if(typeof t=="object")if(p in t){if(u(t["".concat(p)]))return{facingMode:{exact:t["".concat(p)]}}}else throw"'facingMode' should be string or object with"+" ".concat(p," as key.");else{var n=typeof t;throw"Invalid type of 'facingMode' = ".concat(n)}}else{var c=te.deviceId;if(typeof c=="string")return{deviceId:c};if(typeof c=="object"){if(p in c)return{deviceId:{exact:c["".concat(p)]}};throw"'deviceId' should be string or object with"+" ".concat(p," as key.")}else{var a=typeof c;throw"Invalid type of 'deviceId' = ".concat(a)}}}var l=typeof te;throw"Invalid type of 'cameraIdOrConfig' = ".concat(l)},J.prototype.computeCanvasDrawConfig=function(te,r,I,k){if(te<=I&&r<=k){var p=(I-te)/2,u=(k-r)/2;return{x:p,y:u,width:te,height:r}}else{var f=te,i=r;return te>I&&(r=I/te*r,te=I),r>k&&(te=k/r*te,r=k),this.logger.log("Image downsampled from "+"".concat(f,"X").concat(i)+" to ".concat(te,"X").concat(r,".")),this.computeCanvasDrawConfig(te,r,I,k)}},J.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var te=document.getElementById(this.elementId);te&&(te.innerHTML="")},J.prototype.possiblyUpdateShaders=function(te){this.qrMatch!==te&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=te?Kn.BORDER_SHADER_MATCH_COLOR:Kn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=te)},J.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},J.prototype.createCanvasElement=function(te,r,I){var k=te,p=r,u=document.createElement("canvas");return u.style.width="".concat(k,"px"),u.style.height="".concat(p,"px"),u.style.display="none",u.id=Pi(I)?"qr-canvas":I,u},J.prototype.getShadedRegionBounds=function(te,r,I){if(I.width>te||I.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(te-I.width)/2,y:(r-I.height)/2,width:I.width,height:I.height}},J.prototype.possiblyInsertShadingElement=function(te,r,I,k){if(!(r-k.width<1||I-k.height<1)){var p=document.createElement("div");p.style.position="absolute";var u=(r-k.width)/2,f=(I-k.height)/2;if(p.style.borderLeft="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderRight="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderTop="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderBottom="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),p.style.boxSizing="border-box",p.style.top="0px",p.style.bottom="0px",p.style.left="0px",p.style.right="0px",p.id="".concat(Kn.SHADED_REGION_ELEMENT_ID),r-k.width<11||I-k.height<11)this.hasBorderShaders=!1;else{var i=5,t=40;this.insertShaderBorders(p,t,i,-i,null,0,!0),this.insertShaderBorders(p,t,i,-i,null,0,!1),this.insertShaderBorders(p,t,i,null,-i,0,!0),this.insertShaderBorders(p,t,i,null,-i,0,!1),this.insertShaderBorders(p,i,t+i,-i,null,-i,!0),this.insertShaderBorders(p,i,t+i,null,-i,-i,!0),this.insertShaderBorders(p,i,t+i,-i,null,-i,!1),this.insertShaderBorders(p,i,t+i,null,-i,-i,!1),this.hasBorderShaders=!0}te.append(p)}},J.prototype.insertShaderBorders=function(te,r,I,k,p,u,f){var i=document.createElement("div");i.style.position="absolute",i.style.backgroundColor=Kn.BORDER_SHADER_DEFAULT_COLOR,i.style.width="".concat(r,"px"),i.style.height="".concat(I,"px"),k!==null&&(i.style.top="".concat(k,"px")),p!==null&&(i.style.bottom="".concat(p,"px")),f?i.style.left="".concat(u,"px"):i.style.right="".concat(u,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(i),te.appendChild(i)},J.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},J.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},J.prototype.getTimeoutFps=function(te){return 1e3/te},J}(),ph;(function(J){J[J.STATUS_DEFAULT=0]="STATUS_DEFAULT",J[J.STATUS_SUCCESS=1]="STATUS_SUCCESS",J[J.STATUS_WARNING=2]="STATUS_WARNING",J[J.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(ph||(ph={}));const G1=({onDetected:J,onClose:te})=>{const r=tt.useRef(null),[I,k]=tt.useState(!1),[p,u]=tt.useState(""),f=tt.useRef(null);return tt.useEffect(()=>{let i=!0;if(r.current){const t=new X1(r.current.id);f.current=t,t.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},n=>{i&&(t.stop(),J(n))},n=>{}).catch(n=>{i&&(k(!0),u("Could not initialize camera. Please check permissions."),console.error("Barcode scanner error:",n))})}return()=>{i=!1,f.current&&f.current.stop().catch(()=>{})}},[J]),le.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex flex-col items-center justify-center p-4",children:le.jsxs("div",{className:"bg-white rounded-lg overflow-hidden w-full max-w-md",children:[le.jsxs("div",{className:"p-4 bg-indigo-600 text-white flex items-center justify-between",children:[le.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[le.jsx(Mh,{className:"mr-2"})," Scan Barcode"]}),le.jsx("button",{onClick:te,className:"text-white hover:text-indigo-100",children:le.jsx(Dh,{size:24})})]}),I?le.jsxs("div",{className:"p-6 text-center",children:[le.jsx("div",{className:"text-red-600 mb-4",children:p}),le.jsx(Fr,{variant:"outline",onClick:te,children:"Close"})]}):le.jsxs("div",{className:"p-6 flex flex-col items-center",children:[le.jsx("div",{id:"barcode-scanner",ref:r,style:{width:300,height:300}}),le.jsx(Fr,{variant:"danger",className:"mt-4",onClick:te,children:"Cancel"})]})]})})},mh=5,q1=1e3,Y1=()=>{const J=Os(),{products:te,searchProducts:r,getProductByBarcode:I,getLowStockProducts:k}=el(),[p,u]=tt.useState(""),[f,i]=tt.useState(null),[t,n]=tt.useState([]),[c,a]=tt.useState(!1),[l,g]=tt.useState("all"),[b,d]=tt.useState(!1),w=tt.useRef(null),y=tt.useRef(null);tt.useEffect(()=>{var X;((X=J.state)==null?void 0:X.filter)==="low-stock"&&g("low-stock")},[J.state]),tt.useEffect(()=>(d(!0),w.current&&clearTimeout(w.current),w.current=setTimeout(()=>{l==="low-stock"?te.length>q1?(y.current||(y.current=new Worker(new URL("/upload/assets/lowStockFilter.worker-BmG915pf.js",import.meta.url),{type:"module"})),y.current.onmessage=X=>{n(X.data.lowStock),d(!1)},y.current.postMessage({products:te,threshold:mh})):(n(k(mh)),d(!1)):p?(n(r(p)),d(!1)):(n([]),d(!1))},200),()=>{w.current&&clearTimeout(w.current)}),[l,p,k,r,te]);const T=X=>{X.preventDefault(),p&&n(r(p))},M=X=>{a(!1),u(X);const Y=I(X);Y?(i(Y),n([])):(n([]),i(null))},j=X=>{i(X),n([]),u(X.barcode)};return le.jsxs("div",{children:[le.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Inventory Lookup"}),le.jsxs("div",{className:"mb-6",children:[le.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[le.jsx("div",{className:"flex-1",children:le.jsx("form",{onSubmit:T,children:le.jsx(Rs,{placeholder:"Search by barcode, style number, color, etc.",value:p,onChange:X=>u(X.target.value),leftIcon:le.jsx(Ga,{className:"h-5 w-5 text-slate-400"})})})}),le.jsx(Fr,{variant:"primary",onClick:()=>a(!0),leftIcon:le.jsx(Mh,{className:"h-5 w-5"}),children:"Scan"})]}),le.jsxs("div",{className:"flex border-b border-slate-200 mb-4",children:[le.jsxs("button",{className:`px-4 py-2 font-medium text-sm ${l==="all"?"border-b-2 border-indigo-600 text-indigo-600":"text-slate-600 hover:text-slate-900"}`,onClick:()=>g("all"),children:[le.jsx(Rh,{className:"h-4 w-4 inline mr-1"}),"All Items"]}),le.jsxs("button",{className:`px-4 py-2 font-medium text-sm ${l==="low-stock"?"border-b-2 border-amber-500 text-amber-500":"text-slate-600 hover:text-slate-900"}`,onClick:()=>g("low-stock"),children:[le.jsx(tl,{className:"h-4 w-4 inline mr-1"}),"Low Stock"]})]})]}),b?le.jsx("div",{className:"flex justify-center items-center h-64",children:le.jsx("span",{className:"text-indigo-600 text-lg font-medium",children:"Loading..."})}):f?le.jsxs("div",{className:"mb-6",children:[le.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Product Details"}),le.jsx(qa,{product:f,onAssignToBox:()=>{}}),le.jsx("div",{className:"mt-4",children:le.jsx(Fr,{variant:"outline",onClick:()=>{i(null),u("")},children:"Back to Search"})})]}):t.length>0?le.jsxs("div",{children:[le.jsx("h2",{className:"text-lg font-semibold text-slate-900 mb-3",children:l==="low-stock"?"Low Stock Items":"Search Results"}),le.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(X=>le.jsx("div",{onClick:()=>j(X),children:le.jsx(qa,{product:X})},X.barcode))})]}):te.length===0?le.jsx(_n,{children:le.jsxs(Sn,{className:"p-8 text-center",children:[le.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2",children:"No Inventory Data"}),le.jsx("p",{className:"text-slate-500 mb-4",children:"Upload your inventory data to get started."}),le.jsx(Fr,{onClick:()=>{window.location.href="/upload"},children:"Upload Inventory"})]})}):le.jsx(_n,{children:le.jsxs(Sn,{className:"p-8 text-center",children:[le.jsx(Ga,{className:"h-12 w-12 text-slate-300 mx-auto mb-4"}),le.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2",children:l==="low-stock"?"No Low Stock Items Found":"Search for Inventory Items"}),le.jsx("p",{className:"text-slate-500",children:l==="low-stock"?"All items have adequate stock levels.":"Enter a barcode, style number, or other product information in the search box above."})]})}),c&&le.jsx(G1,{onDetected:M,onClose:()=>a(!1)})]})},gh=({box:J,onViewDetails:te})=>{var r;return J?le.jsxs(_n,{className:"transition-shadow hover:shadow-lg",children:[le.jsxs(as,{className:"flex flex-row items-center justify-between pb-2",children:[le.jsxs(ls,{className:"flex items-center text-lg",children:[le.jsx(Hu,{className:"h-5 w-5 text-indigo-600 mr-2"}),le.jsxs("span",{children:["Box #",J.id]})]}),le.jsx("span",{className:"text-sm text-slate-500",children:J.name})]}),le.jsxs(Sn,{children:[le.jsxs("div",{className:"mb-4",children:[le.jsxs("div",{className:"flex items-center mb-2",children:[le.jsx(Wa,{className:"h-4 w-4 text-slate-500 mr-2"}),le.jsxs("span",{className:"text-sm font-medium text-slate-600",children:[((r=J.products)==null?void 0:r.length)||0," items"]})]}),le.jsxs("div",{className:"flex items-center",children:[le.jsx(h1,{className:"h-4 w-4 text-slate-500 mr-2"}),le.jsxs("span",{className:"text-sm font-medium text-slate-600",children:["Location: ",J.location]})]})]}),J.products&&J.products.length>0&&le.jsxs("div",{className:"mt-3 border-t border-slate-200 pt-3",children:[le.jsx("h4",{className:"text-xs uppercase font-semibold text-slate-500 mb-2",children:"Top items"}),le.jsxs("ul",{className:"space-y-1",children:[J.products.slice(0,3).map(I=>le.jsxs("li",{className:"text-sm text-slate-700 truncate",children:[I.department," - ",I.color," ",I.size]},I.barcode)),J.products.length>3&&le.jsxs("li",{className:"text-xs text-slate-500",children:["+ ",J.products.length-3," more items"]})]})]})]}),le.jsx(Bh,{className:"bg-slate-50",children:le.jsx(Fr,{variant:"outline",className:"w-full",onClick:()=>te(J.id),children:"View Details"})})]}):null},$1=()=>{var y;const{boxes:J,createBox:te,getBoxById:r}=el(),{isStockManager:I}=so(),[k,p]=tt.useState(""),[u,f]=tt.useState(null),[i,t]=tt.useState(!1),[n,c]=tt.useState(""),[a,l]=tt.useState("Back Store"),g=u?r(u):null,d=(k&&J?J.filter(T=>T&&(T.id.toLowerCase().includes(k.toLowerCase())||T.name.toLowerCase().includes(k.toLowerCase())||T.location.toLowerCase().includes(k.toLowerCase()))):J||[]).filter(T=>T!=null),w=async()=>{n&&(await te({id:`BOX${Math.floor(Math.random()*1e4).toString().padStart(4,"0")}`,name:n,location:a}),c(""),l("Back Store"),t(!1))};return le.jsxs("div",{children:[le.jsxs("div",{className:"flex items-center justify-between mb-6",children:[le.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Box Management"}),I&&le.jsx(Fr,{onClick:()=>t(!0),leftIcon:le.jsx(u1,{size:16}),children:"Create New Box"})]}),le.jsx("div",{className:"mb-6",children:le.jsx(Rs,{placeholder:"Search boxes by ID, name, or location",value:k,onChange:T=>p(T.target.value),leftIcon:le.jsx(Ga,{className:"h-5 w-5 text-slate-400"})})}),g?le.jsxs("div",{children:[le.jsx("div",{className:"mb-4",children:le.jsx(Fr,{variant:"outline",onClick:()=>f(null),children:"Back to All Boxes"})}),le.jsxs(_n,{className:"mb-6",children:[le.jsx(as,{children:le.jsxs(ls,{className:"flex items-center",children:[le.jsx(gh,{className:"h-5 w-5 text-indigo-600 mr-2"}),le.jsxs("span",{children:["Box Details: ",g.name," (#",g.id,")"]})]})}),le.jsxs(Sn,{children:[le.jsxs("div",{className:"mb-4",children:[le.jsxs("p",{className:"text-slate-500",children:["Location: ",g.location]}),le.jsxs("p",{className:"text-slate-500",children:["Total Items: ",((y=g.products)==null?void 0:y.length)||0]})]}),!g.products||g.products.length===0?le.jsxs("div",{className:"p-4 bg-slate-50 rounded-md text-center",children:[le.jsx(Wa,{className:"h-10 w-10 text-slate-400 mx-auto mb-2"}),le.jsx("p",{className:"text-slate-500",children:"This box is empty."})]}):le.jsxs("div",{children:[le.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Box Contents"}),le.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.products.map(T=>le.jsx(qa,{product:T},T.barcode))})]})]})]})]}):le.jsx("div",{children:d.length===0?le.jsx(_n,{children:le.jsxs(Sn,{className:"p-8 text-center",children:[le.jsx(Hu,{className:"h-12 w-12 text-slate-300 mx-auto mb-4"}),le.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2",children:"No Boxes Found"}),k?le.jsx("p",{className:"text-slate-500",children:"No boxes match your search criteria. Try a different search term."}):le.jsx("p",{className:"text-slate-500",children:"You haven't created any boxes yet. Create one to start organizing your inventory."}),I&&!k&&le.jsx(Fr,{className:"mt-4",onClick:()=>t(!0),children:"Create Your First Box"})]})}):le.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(T=>le.jsx(gh,{box:T,onViewDetails:M=>f(M)},T.id))})}),i&&le.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:le.jsxs(_n,{className:"w-full max-w-md",children:[le.jsx(as,{children:le.jsx(ls,{children:"Create New Box"})}),le.jsxs(Sn,{children:[le.jsxs("div",{className:"space-y-4",children:[le.jsxs("div",{children:[le.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Box Name"}),le.jsx(Rs,{placeholder:"e.g., Winter Collection",value:n,onChange:T=>c(T.target.value)})]}),le.jsxs("div",{children:[le.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Location"}),le.jsxs("select",{className:"block w-full rounded-md border-slate-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",value:a,onChange:T=>l(T.target.value),children:[le.jsx("option",{value:"Main Store",children:"Main Store"}),le.jsx("option",{value:"Back Store",children:"Back Store"}),le.jsx("option",{value:"Warehouse",children:"Warehouse"}),le.jsx("option",{value:"Storage Room",children:"Storage Room"})]})]})]}),le.jsxs("div",{className:"mt-6 flex space-x-3",children:[le.jsx(Fr,{variant:"primary",onClick:w,disabled:!n,children:"Create Box"}),le.jsx(Fr,{variant:"outline",onClick:()=>t(!1),children:"Cancel"})]})]})]})})]})};var Tu={exports:{}};/*! ExcelJS 19-10-2023 */var bh;function Z1(){return bh||(bh=1,function(J,te){(function(r){J.exports=r()})(function(){return function r(I,k,p){function u(t,n){if(!k[t]){if(!I[t]){var c=typeof ss=="function"&&ss;if(!n&&c)return c(t,!0);if(f)return f(t,!0);var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}var l=k[t]={exports:{}};I[t][0].call(l.exports,function(g){return u(I[t][1][g]||g)},l,l.exports,r,I,k,p)}return k[t].exports}for(var f=typeof ss=="function"&&ss,i=0;i<p.length;i++)u(p[i]);return u}({1:[function(r,I,k){const p=r("fs"),u=r("fast-csv"),f=r("dayjs/plugin/customParseFormat"),i=r("dayjs/plugin/utc"),t=r("dayjs").extend(f).extend(i),n=r("../utils/stream-buf"),{fs:{exists:c}}=r("../utils/utils"),a={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};I.exports=class{constructor(l){this.workbook=l,this.worksheet=null}async readFile(l,g){if(g=g||{},!await c(l))throw new Error("File not found: "+l);const b=p.createReadStream(l),d=await this.read(b,g);return b.close(),d}read(l,g){return g=g||{},new Promise((b,d)=>{const w=this.workbook.addWorksheet(g.sheetName),y=g.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],T=g.map||function(j){if(j==="")return null;const X=Number(j);if(!Number.isNaN(X)&&X!==1/0)return X;const Y=y.reduce((q,K)=>{if(q)return q;const ie=t(j,K,!0);return ie.isValid()?ie:null},null);if(Y)return new Date(Y.valueOf());const W=a[j];return W!==void 0?W:j},M=u.parse(g.parserOptions).on("data",j=>{w.addRow(j.map(T))}).on("end",()=>{M.emit("worksheet",w)});M.on("worksheet",b).on("error",d),l.pipe(M)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(l,g){return new Promise((b,d)=>{g=g||{};const w=this.workbook.getWorksheet(g.sheetName||g.sheetId),y=u.format(g.formatterOptions);l.on("finish",()=>{b()}),y.on("error",d),y.pipe(l);const{dateFormat:T,dateUTC:M}=g,j=g.map||(W=>{if(W){if(W.text||W.hyperlink)return W.hyperlink||W.text||"";if(W.formula||W.result)return W.result||"";if(W instanceof Date)return T?M?t.utc(W).format(T):t(W).format(T):M?t.utc(W).format():t(W).format();if(W.error)return W.error;if(typeof W=="object")return JSON.stringify(W)}return W}),X=g.includeEmptyRows===void 0||g.includeEmptyRows;let Y=1;w&&w.eachRow((W,q)=>{if(X)for(;Y++<q-1;)y.write([]);const{values:K}=W;K.shift(),y.write(K.map(j)),Y=q}),y.end()})}writeFile(l,g){const b={encoding:(g=g||{}).encoding||"utf8"},d=p.createWriteStream(l,b);return this.write(d,g)}async writeBuffer(l){const g=new n;return await this.write(g,l),g.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(r,I,k){const p=r("../utils/col-cache");class u{constructor(i,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=i,t)if(typeof t=="string"){const c=p.decodeAddress(t);this.nativeCol=c.col+n,this.nativeColOff=0,this.nativeRow=c.row+n,this.nativeRowOff=0}else t.nativeCol!==void 0?(this.nativeCol=t.nativeCol||0,this.nativeColOff=t.nativeColOff||0,this.nativeRow=t.nativeRow||0,this.nativeRowOff=t.nativeRowOff||0):t.col!==void 0?(this.col=t.col+n,this.row=t.row+n):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(i){return i instanceof u||i==null?i:new u(i)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(i){this.nativeCol=Math.floor(i),this.nativeColOff=Math.floor((i-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(i){this.nativeRow=Math.floor(i),this.nativeRowOff=Math.floor((i-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(i){this.nativeCol=i.nativeCol,this.nativeColOff=i.nativeColOff,this.nativeRow=i.nativeRow,this.nativeRowOff=i.nativeRowOff}}I.exports=u},{"../utils/col-cache":19}],3:[function(r,I,k){const p=r("../utils/col-cache"),u=r("../utils/under-dash"),f=r("./enums"),{slideFormula:i}=r("../utils/shared-formula"),t=r("./note");class n{constructor(l,g,b){if(!l||!g)throw new Error("A Cell needs a Row");this._row=l,this._column=g,p.validateAddress(b),this._address=b,this._value=c.create(n.Types.Null,this),this.style=this._mergeStyle(l.style,g.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(l){this.style.numFmt=l}get font(){return this.style.font}set font(l){this.style.font=l}get alignment(){return this.style.alignment}set alignment(l){this.style.alignment=l}get border(){return this.style.border}set border(l){this.style.border=l}get fill(){return this.style.fill}set fill(l){this.style.fill=l}get protection(){return this.style.protection}set protection(l){this.style.protection=l}_mergeStyle(l,g,b){const d=l&&l.numFmt||g&&g.numFmt;d&&(b.numFmt=d);const w=l&&l.font||g&&g.font;w&&(b.font=w);const y=l&&l.alignment||g&&g.alignment;y&&(b.alignment=y);const T=l&&l.border||g&&g.border;T&&(b.border=T);const M=l&&l.fill||g&&g.fill;M&&(b.fill=M);const j=l&&l.protection||g&&g.protection;return j&&(b.protection=j),b}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===n.Types.Merge}merge(l,g){this._value.release(),this._value=c.create(n.Types.Merge,this,l),g||(this.style=l.style)}unmerge(){this.type===n.Types.Merge&&(this._value.release(),this._value=c.create(n.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(l){return this._value.type===n.Types.Merge&&this._value.isMergedTo(l)}get master(){return this.type===n.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===n.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(l){this.type!==n.Types.Merge?(this._value.release(),this._value=c.create(c.getType(l),this,l)):this._value.master.value=l}get note(){return this._comment&&this._comment.note}set note(l){this._comment=new t(l)}get text(){return this._value.toString()}get html(){return u.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(l){this.type===n.Types.String&&(this._value=c.create(n.Types.Hyperlink,this,{text:this._value.value,hyperlink:l}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:l}=this._row;return{sheetName:l.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(l){this.names=[l]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(l){const{definedNames:g}=this.workbook;g.removeAllNames(this.fullAddress),l.forEach(b=>{g.addEx(this.fullAddress,b)})}addName(l){this.workbook.definedNames.addEx(this.fullAddress,l)}removeName(l){this.workbook.definedNames.removeEx(this.fullAddress,l)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(l){this._dataValidations.add(this.address,l)}get model(){const{model:l}=this._value;return l.style=this.style,this._comment&&(l.comment=this._comment.model),l}set model(l){if(this._value.release(),this._value=c.create(l.type,this),this._value.model=l,l.comment)switch(l.comment.type){case"note":this._comment=t.fromModel(l.comment)}l.style?this.style=l.style:this.style={}}}n.Types=f.ValueType;const c={getType:a=>a==null?n.Types.Null:a instanceof String||typeof a=="string"?n.Types.String:typeof a=="number"?n.Types.Number:typeof a=="boolean"?n.Types.Boolean:a instanceof Date?n.Types.Date:a.text&&a.hyperlink?n.Types.Hyperlink:a.formula||a.sharedFormula?n.Types.Formula:a.richText?n.Types.RichText:a.sharedString?n.Types.SharedString:a.error?n.Types.Error:n.Types.JSON,types:[{t:n.Types.Null,f:class{constructor(a){this.model={address:a.address,type:n.Types.Null}}get value(){return null}set value(a){}get type(){return n.Types.Null}get effectiveType(){return n.Types.Null}get address(){return this.model.address}set address(a){this.model.address=a}toCsvString(){return""}release(){}toString(){return""}}},{t:n.Types.Number,f:class{constructor(a,l){this.model={address:a.address,type:n.Types.Number,value:l}}get value(){return this.model.value}set value(a){this.model.value=a}get type(){return n.Types.Number}get effectiveType(){return n.Types.Number}get address(){return this.model.address}set address(a){this.model.address=a}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:n.Types.String,f:class{constructor(a,l){this.model={address:a.address,type:n.Types.String,value:l}}get value(){return this.model.value}set value(a){this.model.value=a}get type(){return n.Types.String}get effectiveType(){return n.Types.String}get address(){return this.model.address}set address(a){this.model.address=a}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:n.Types.Date,f:class{constructor(a,l){this.model={address:a.address,type:n.Types.Date,value:l}}get value(){return this.model.value}set value(a){this.model.value=a}get type(){return n.Types.Date}get effectiveType(){return n.Types.Date}get address(){return this.model.address}set address(a){this.model.address=a}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:n.Types.Hyperlink,f:class{constructor(a,l){this.model={address:a.address,type:n.Types.Hyperlink,text:l?l.text:void 0,hyperlink:l?l.hyperlink:void 0},l&&l.tooltip&&(this.model.tooltip=l.tooltip)}get value(){const a={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(a.tooltip=this.model.tooltip),a}set value(a){this.model={text:a.text,hyperlink:a.hyperlink},a.tooltip&&(this.model.tooltip=a.tooltip)}get text(){return this.model.text}set text(a){this.model.text=a}get hyperlink(){return this.model.hyperlink}set hyperlink(a){this.model.hyperlink=a}get type(){return n.Types.Hyperlink}get effectiveType(){return n.Types.Hyperlink}get address(){return this.model.address}set address(a){this.model.address=a}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:n.Types.Formula,f:class{constructor(a,l){this.cell=a,this.model={address:a.address,type:n.Types.Formula,shareType:l?l.shareType:void 0,ref:l?l.ref:void 0,formula:l?l.formula:void 0,sharedFormula:l?l.sharedFormula:void 0,result:l?l.result:void 0}}_copyModel(a){const l={},g=b=>{const d=a[b];d&&(l[b]=d)};return g("formula"),g("result"),g("ref"),g("shareType"),g("sharedFormula"),l}get value(){return this._copyModel(this.model)}set value(a){this.model=this._copyModel(a)}validate(a){switch(c.getType(a)){case n.Types.Null:case n.Types.String:case n.Types.Number:case n.Types.Date:break;case n.Types.Hyperlink:case n.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(a){this.model.formula=a}get formulaType(){return this.model.formula?f.FormulaType.Master:this.model.sharedFormula?f.FormulaType.Shared:f.FormulaType.None}get result(){return this.model.result}set result(a){this.model.result=a}get type(){return n.Types.Formula}get effectiveType(){const a=this.model.result;return a==null?f.ValueType.Null:a instanceof String||typeof a=="string"?f.ValueType.String:typeof a=="number"?f.ValueType.Number:a instanceof Date?f.ValueType.Date:a.text&&a.hyperlink?f.ValueType.Hyperlink:a.formula?f.ValueType.Formula:f.ValueType.Null}get address(){return this.model.address}set address(a){this.model.address=a}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:a}=this.cell,l=a.findCell(this.model.sharedFormula);this._translatedFormula=l&&i(l.formula,l.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:n.Types.Merge,f:class{constructor(a,l){this.model={address:a.address,type:n.Types.Merge,master:l?l.address:void 0},this._master=l,l&&l.addMergeRef()}get value(){return this._master.value}set value(a){a instanceof n?(this._master&&this._master.releaseMergeRef(),a.addMergeRef(),this._master=a):this._master.value=a}isMergedTo(a){return a===this._master}get master(){return this._master}get type(){return n.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(a){this.model.address=a}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:n.Types.JSON,f:class{constructor(a,l){this.model={address:a.address,type:n.Types.String,value:JSON.stringify(l),rawValue:l}}get value(){return this.model.rawValue}set value(a){this.model.rawValue=a,this.model.value=JSON.stringify(a)}get type(){return n.Types.String}get effectiveType(){return n.Types.String}get address(){return this.model.address}set address(a){this.model.address=a}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:n.Types.SharedString,f:class{constructor(a,l){this.model={address:a.address,type:n.Types.SharedString,value:l}}get value(){return this.model.value}set value(a){this.model.value=a}get type(){return n.Types.SharedString}get effectiveType(){return n.Types.SharedString}get address(){return this.model.address}set address(a){this.model.address=a}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:n.Types.RichText,f:class{constructor(a,l){this.model={address:a.address,type:n.Types.String,value:l}}get value(){return this.model.value}set value(a){this.model.value=a}toString(){return this.model.value.richText.map(a=>a.text).join("")}get type(){return n.Types.RichText}get effectiveType(){return n.Types.RichText}get address(){return this.model.address}set address(a){this.model.address=a}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:n.Types.Boolean,f:class{constructor(a,l){this.model={address:a.address,type:n.Types.Boolean,value:l}}get value(){return this.model.value}set value(a){this.model.value=a}get type(){return n.Types.Boolean}get effectiveType(){return n.Types.Boolean}get address(){return this.model.address}set address(a){this.model.address=a}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:n.Types.Error,f:class{constructor(a,l){this.model={address:a.address,type:n.Types.Error,value:l}}get value(){return this.model.value}set value(a){this.model.value=a}get type(){return n.Types.Error}get effectiveType(){return n.Types.Error}get address(){return this.model.address}set address(a){this.model.address=a}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((a,l)=>(a[l.t]=l.f,a),[]),create(a,l,g){const b=this.types[a];if(!b)throw new Error("Could not create Value of type "+a);return new b(l,g)}};I.exports=n},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(r,I,k){const p=r("../utils/under-dash"),u=r("./enums"),f=r("../utils/col-cache");class i{constructor(n,c,a){this._worksheet=n,this._number=c,a!==!1&&(this.defn=a)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return f.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(n){n?(this.key=n.key,this.width=n.width!==void 0?n.width:9,this.outlineLevel=n.outlineLevel,n.style?this.style=n.style:this.style={},this.header=n.header,this._hidden=!!n.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(n){n!==void 0?(this._header=n,this.headers.forEach((c,a)=>{this._worksheet.getCell(a+1,this.number).value=c})):this._header=void 0}get key(){return this._key}set key(n){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=n,n&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(n){this._hidden=n}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(n){this._outlineLevel=n}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(n){return this.width===n.width&&this.hidden===n.hidden&&this.outlineLevel===n.outlineLevel&&p.isEqual(this.style,n.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const n=this.style;return!n||!(n.font||n.numFmt||n.alignment||n.border||n.fill||n.protection)}get headerCount(){return this.headers.length}eachCell(n,c){const a=this.number;c||(c=n,n=null),this._worksheet.eachRow(n,(l,g)=>{c(l.getCell(a),g)})}get values(){const n=[];return this.eachCell((c,a)=>{c&&c.type!==u.ValueType.Null&&(n[a]=c.value)}),n}set values(n){if(!n)return;const c=this.number;let a=0;n.hasOwnProperty("0")&&(a=1),n.forEach((l,g)=>{this._worksheet.getCell(g+a,c).value=l})}_applyStyle(n,c){return this.style[n]=c,this.eachCell(a=>{a[n]=c}),c}get numFmt(){return this.style.numFmt}set numFmt(n){this._applyStyle("numFmt",n)}get font(){return this.style.font}set font(n){this._applyStyle("font",n)}get alignment(){return this.style.alignment}set alignment(n){this._applyStyle("alignment",n)}get protection(){return this.style.protection}set protection(n){this._applyStyle("protection",n)}get border(){return this.style.border}set border(n){this._applyStyle("border",n)}get fill(){return this.style.fill}set fill(n){this._applyStyle("fill",n)}static toModel(n){const c=[];let a=null;return n&&n.forEach((l,g)=>{l.isDefault?a&&(a=null):a&&l.equivalentTo(a)?a.max=g+1:(a={min:g+1,max:g+1,width:l.width!==void 0?l.width:9,style:l.style,isCustomWidth:l.isCustomWidth,hidden:l.hidden,outlineLevel:l.outlineLevel,collapsed:l.collapsed},c.push(a))}),c.length?c:void 0}static fromModel(n,c){const a=[];let l=1,g=0;for(c=(c=c||[]).sort(function(b,d){return b.min-d.min});g<c.length;){const b=c[g++];for(;l<b.min;)a.push(new i(n,l++));for(;l<=b.max;)a.push(new i(n,l++,b))}return a.length?a:null}}I.exports=i},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(r,I,k){I.exports=class{constructor(p){this.model=p||{}}add(p,u){return this.model[p]=u}find(p){return this.model[p]}remove(p){this.model[p]=void 0}}},{}],6:[function(r,I,k){const p=r("../utils/under-dash"),u=r("../utils/col-cache"),f=r("../utils/cell-matrix"),i=r("./range"),t=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;I.exports=class{constructor(){this.matrixMap={}}getMatrix(n){return this.matrixMap[n]||(this.matrixMap[n]=new f)}add(n,c){const a=u.decodeEx(n);this.addEx(a,c)}addEx(n,c){const a=this.getMatrix(c);if(n.top)for(let l=n.left;l<=n.right;l++)for(let g=n.top;g<=n.bottom;g++){const b={sheetName:n.sheetName,address:u.n2l(l)+g,row:g,col:l};a.addCellEx(b)}else a.addCellEx(n)}remove(n,c){const a=u.decodeEx(n);this.removeEx(a,c)}removeEx(n,c){this.getMatrix(c).removeCellEx(n)}removeAllNames(n){p.each(this.matrixMap,c=>{c.removeCellEx(n)})}forEach(n){p.each(this.matrixMap,(c,a)=>{c.forEach(l=>{n(a,l)})})}getNames(n){return this.getNamesEx(u.decodeEx(n))}getNamesEx(n){return p.map(this.matrixMap,(c,a)=>c.findCellEx(n)&&a).filter(Boolean)}_explore(n,c){c.mark=!1;const{sheetName:a}=c,l=new i(c.row,c.col,c.row,c.col,a);let g,b;function d(y,T){const M=n.findCellAt(a,y,c.col);return!(!M||!M.mark)&&(l[T]=y,M.mark=!1,!0)}for(b=c.row-1;d(b,"top");b--);for(b=c.row+1;d(b,"bottom");b++);function w(y,T){const M=[];for(b=l.top;b<=l.bottom;b++){const j=n.findCellAt(a,b,y);if(!j||!j.mark)return!1;M.push(j)}l[T]=y;for(let j=0;j<M.length;j++)M[j].mark=!1;return!0}for(g=c.col-1;w(g,"left");g--);for(g=c.col+1;w(g,"right");g++);return l}getRanges(n,c){return(c=c||this.matrixMap[n])?(c.forEach(a=>{a.mark=!0}),{name:n,ranges:c.map(a=>a.mark&&this._explore(c,a)).filter(Boolean).map(a=>a.$shortRange)}):{name:n,ranges:[]}}normaliseMatrix(n,c){n.forEachInSheet(c,(a,l,g)=>{a&&(a.row===l&&a.col===g||(a.row=l,a.col=g,a.address=u.n2l(g)+l))})}spliceRows(n,c,a,l){p.each(this.matrixMap,g=>{g.spliceRows(n,c,a,l),this.normaliseMatrix(g,n)})}spliceColumns(n,c,a,l){p.each(this.matrixMap,g=>{g.spliceColumns(n,c,a,l),this.normaliseMatrix(g,n)})}get model(){return p.map(this.matrixMap,(n,c)=>this.getRanges(c,n)).filter(n=>n.ranges.length)}set model(n){const c=this.matrixMap={};n.forEach(a=>{const l=c[a.name]=new f;a.ranges.forEach(g=>{t.test(g.split("!").pop()||"")&&l.addCell(g)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(r,I,k){I.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(r,I,k){const p=r("../utils/col-cache"),u=r("./anchor");I.exports=class{constructor(f,i){this.worksheet=f,this.model=i}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(f){let{type:i,imageId:t,range:n,hyperlinks:c}=f;if(this.type=i,this.imageId=t,i==="image")if(typeof n=="string"){const a=p.decode(n);this.range={tl:new u(this.worksheet,{col:a.left,row:a.top},-1),br:new u(this.worksheet,{col:a.right,row:a.bottom},0),editAs:"oneCell"}}else this.range={tl:new u(this.worksheet,n.tl,0),br:n.br&&new u(this.worksheet,n.br,0),ext:n.ext,editAs:n.editAs,hyperlinks:c||n.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(r,I,k){const p=r("../utils/under-dash");class u{constructor(i){this.note=i}get model(){let i=null;switch(typeof this.note){case"string":i={type:"note",note:{texts:[{text:this.note}]}};break;default:i={type:"note",note:this.note}}return p.deepMerge({},u.DEFAULT_CONFIGS,i)}set model(i){const{note:t}=i,{texts:n}=t;n.length===1&&Object.keys(n[0]).length===1?this.note=n[0].text:this.note=t}static fromModel(i){const t=new u;return t.model=i,t}}u.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},I.exports=u},{"../utils/under-dash":26}],10:[function(r,I,k){const p=r("../utils/col-cache");class u{constructor(){this.decode(arguments)}setTLBR(i,t,n,c,a){if(arguments.length<4){const l=p.decodeAddress(i),g=p.decodeAddress(t);this.model={top:Math.min(l.row,g.row),left:Math.min(l.col,g.col),bottom:Math.max(l.row,g.row),right:Math.max(l.col,g.col),sheetName:n},this.setTLBR(l.row,l.col,g.row,g.col,a)}else this.model={top:Math.min(i,n),left:Math.min(t,c),bottom:Math.max(i,n),right:Math.max(t,c),sheetName:a}}decode(i){switch(i.length){case 5:this.setTLBR(i[0],i[1],i[2],i[3],i[4]);break;case 4:this.setTLBR(i[0],i[1],i[2],i[3]);break;case 3:this.setTLBR(i[0],i[1],i[2]);break;case 2:this.setTLBR(i[0],i[1]);break;case 1:{const t=i[0];if(t instanceof u)this.model={top:t.model.top,left:t.model.left,bottom:t.model.bottom,right:t.model.right,sheetName:t.sheetName};else if(t instanceof Array)this.decode(t);else if(t.top&&t.left&&t.bottom&&t.right)this.model={top:t.top,left:t.left,bottom:t.bottom,right:t.right,sheetName:t.sheetName};else{const n=p.decodeEx(t);n.top?this.model={top:n.top,left:n.left,bottom:n.bottom,right:n.right,sheetName:n.sheetName}:this.model={top:n.row,left:n.col,bottom:n.row,right:n.col,sheetName:n.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+i.length)}}get top(){return this.model.top||1}set top(i){this.model.top=i}get left(){return this.model.left||1}set left(i){this.model.left=i}get bottom(){return this.model.bottom||1}set bottom(i){this.model.bottom=i}get right(){return this.model.right||1}set right(i){this.model.right=i}get sheetName(){return this.model.sheetName}set sheetName(i){this.model.sheetName=i}get _serialisedSheetName(){const{sheetName:i}=this.model;return i?/^[a-zA-Z0-9]*$/.test(i)?i+"!":`'${i}'!`:""}expand(i,t,n,c){(!this.model.top||i<this.top)&&(this.top=i),(!this.model.left||t<this.left)&&(this.left=t),(!this.model.bottom||n>this.bottom)&&(this.bottom=n),(!this.model.right||c>this.right)&&(this.right=c)}expandRow(i){if(i){const{dimensions:t,number:n}=i;t&&this.expand(n,t.min,n,t.max)}}expandToAddress(i){const t=p.decodeEx(i);this.expand(t.row,t.col,t.row,t.col)}get tl(){return p.n2l(this.left)+this.top}get $t$l(){return`$${p.n2l(this.left)}$${this.top}`}get br(){return p.n2l(this.right)+this.bottom}get $b$r(){return`$${p.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(i){return(!i.sheetName||!this.sheetName||i.sheetName===this.sheetName)&&!(i.bottom<this.top)&&!(i.top>this.bottom)&&!(i.right<this.left)&&!(i.left>this.right)}contains(i){const t=p.decodeEx(i);return this.containsEx(t)}containsEx(i){return(!i.sheetName||!this.sheetName||i.sheetName===this.sheetName)&&i.row>=this.top&&i.row<=this.bottom&&i.col>=this.left&&i.col<=this.right}forEachAddress(i){for(let t=this.left;t<=this.right;t++)for(let n=this.top;n<=this.bottom;n++)i(p.encodeAddress(n,t),n,t)}}I.exports=u},{"../utils/col-cache":19}],11:[function(r,I,k){const p=r("../utils/under-dash"),u=r("./enums"),f=r("../utils/col-cache"),i=r("./cell");I.exports=class{constructor(t,n){this._worksheet=t,this._number=n,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(t){return this._cells[t-1]}getCellEx(t){let n=this._cells[t.col-1];if(!n){const c=this._worksheet.getColumn(t.col);n=new i(this,c,t.address),this._cells[t.col-1]=n}return n}getCell(t){if(typeof t=="string"){const n=this._worksheet.getColumnKey(t);t=n?n.number:f.l2n(t)}return this._cells[t-1]||this.getCellEx({address:f.encodeAddress(this._number,t),row:this._number,col:t})}splice(t,n){const c=t+n;for(var a=arguments.length,l=new Array(a>2?a-2:0),g=2;g<a;g++)l[g-2]=arguments[g];const b=l.length-n,d=this._cells.length;let w,y,T;if(b<0)for(w=t+l.length;w<=d;w++)T=this._cells[w-1],y=this._cells[w-b-1],y?(T=this.getCell(w),T.value=y.value,T.style=y.style,T._comment=y._comment):T&&(T.value=null,T.style={},T._comment=void 0);else if(b>0)for(w=d;w>=c;w--)y=this._cells[w-1],y?(T=this.getCell(w+b),T.value=y.value,T.style=y.style,T._comment=y._comment):this._cells[w+b-1]=void 0;for(w=0;w<l.length;w++)T=this.getCell(t+w),T.value=l[w],T.style={},T._comment=void 0}eachCell(t,n){if(n||(n=t,t=null),t&&t.includeEmpty){const c=this._cells.length;for(let a=1;a<=c;a++)n(this.getCell(a),a)}else this._cells.forEach((c,a)=>{c&&c.type!==u.ValueType.Null&&n(c,a+1)})}addPageBreak(t,n){const c=this._worksheet,a=Math.max(0,t-1)||0,l=Math.max(0,n-1)||16838,g={id:this._number,max:l,man:1};a&&(g.min=a),c.rowBreaks.push(g)}get values(){const t=[];return this._cells.forEach(n=>{n&&n.type!==u.ValueType.Null&&(t[n.col]=n.value)}),t}set values(t){if(this._cells=[],t)if(t instanceof Array){let n=0;t.hasOwnProperty("0")&&(n=1),t.forEach((c,a)=>{c!==void 0&&(this.getCellEx({address:f.encodeAddress(this._number,a+n),row:this._number,col:a+n}).value=c)})}else this._worksheet.eachColumnKey((n,c)=>{t[c]!==void 0&&(this.getCellEx({address:f.encodeAddress(this._number,n.number),row:this._number,col:n.number}).value=t[c])})}get hasValues(){return p.some(this._cells,t=>t&&t.type!==u.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let t=0;return this.eachCell(()=>{t++}),t}get dimensions(){let t=0,n=0;return this._cells.forEach(c=>{c&&c.type!==u.ValueType.Null&&((!t||t>c.col)&&(t=c.col),n<c.col&&(n=c.col))}),t>0?{min:t,max:n}:null}_applyStyle(t,n){return this.style[t]=n,this._cells.forEach(c=>{c&&(c[t]=n)}),n}get numFmt(){return this.style.numFmt}set numFmt(t){this._applyStyle("numFmt",t)}get font(){return this.style.font}set font(t){this._applyStyle("font",t)}get alignment(){return this.style.alignment}set alignment(t){this._applyStyle("alignment",t)}get protection(){return this.style.protection}set protection(t){this._applyStyle("protection",t)}get border(){return this.style.border}set border(t){this._applyStyle("border",t)}get fill(){return this.style.fill}set fill(t){this._applyStyle("fill",t)}get hidden(){return!!this._hidden}set hidden(t){this._hidden=t}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(t){this._outlineLevel=t}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const t=[];let n=0,c=0;return this._cells.forEach(a=>{if(a){const l=a.model;l&&((!n||n>a.col)&&(n=a.col),c<a.col&&(c=a.col),t.push(l))}}),this.height||t.length?{cells:t,number:this.number,min:n,max:c,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(t){if(t.number!==this._number)throw new Error("Invalid row number in model");let n;this._cells=[],t.cells.forEach(c=>{switch(c.type){case i.Types.Merge:break;default:{let a;if(c.address)a=f.decodeAddress(c.address);else if(n){const{row:l}=n,g=n.col+1;a={row:l,col:g,address:f.encodeAddress(l,g),$col$row:`$${f.n2l(g)}$${l}`}}n=a,this.getCellEx(a).model=c;break}}}),t.height?this.height=t.height:delete this.height,this.hidden=t.hidden,this.outlineLevel=t.outlineLevel||0,this.style=t.style&&JSON.parse(JSON.stringify(t.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(r,I,k){const p=r("../utils/col-cache");class u{constructor(i,t,n){this.table=i,this.column=t,this.index=n}_set(i,t){this.table.cacheState(),this.column[i]=t}get name(){return this.column.name}set name(i){this._set("name",i)}get filterButton(){return this.column.filterButton}set filterButton(i){this.column.filterButton=i}get style(){return this.column.style}set style(i){this.column.style=i}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(i){this._set("totalsRowLabel",i)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(i){this._set("totalsRowFunction",i)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(i){this._set("totalsRowResult",i)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(i){this._set("totalsRowFormula",i)}}I.exports=class{constructor(f,i){this.worksheet=f,i&&(this.table=i,this.validate(),this.store())}getFormula(f){switch(f.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${f.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${f.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${f.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${f.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${f.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${f.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${f.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${f.name}])`;case"custom":return f.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+f.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:f}=this,i=(b,d,w)=>{b[d]===void 0&&(b[d]=w)};i(f,"headerRow",!0),i(f,"totalsRow",!1),i(f,"style",{}),i(f.style,"theme","TableStyleMedium2"),i(f.style,"showFirstColumn",!1),i(f.style,"showLastColumn",!1),i(f.style,"showRowStripes",!1),i(f.style,"showColumnStripes",!1);const t=(b,d)=>{if(!b)throw new Error(d)};t(f.ref,"Table must have ref"),t(f.columns,"Table must have column definitions"),t(f.rows,"Table must have row definitions"),f.tl=p.decodeAddress(f.ref);const{row:n,col:c}=f.tl;t(n>0,"Table must be on valid row"),t(c>0,"Table must be on valid col");const{width:a,filterHeight:l,tableHeight:g}=this;f.autoFilterRef=p.encode(n,c,n+l-1,c+a-1),f.tableRef=p.encode(n,c,n+g-1,c+a-1),f.columns.forEach((b,d)=>{t(b.name,`Column ${d} must have a name`),d===0?i(b,"totalsRowLabel","Total"):(i(b,"totalsRowFunction","none"),b.totalsRowFormula=this.getFormula(b))})}store(){const f=(l,g)=>{g&&Object.keys(g).forEach(b=>{l[b]=g[b]})},{worksheet:i,table:t}=this,{row:n,col:c}=t.tl;let a=0;if(t.headerRow){const l=i.getRow(n+a++);t.columns.forEach((g,b)=>{const{style:d,name:w}=g,y=l.getCell(c+b);y.value=w,f(y,d)})}if(t.rows.forEach(l=>{const g=i.getRow(n+a++);l.forEach((b,d)=>{const w=g.getCell(c+d);w.value=b,f(w,t.columns[d].style)})}),t.totalsRow){const l=i.getRow(n+a++);t.columns.forEach((g,b)=>{const d=l.getCell(c+b);if(b===0)d.value=g.totalsRowLabel;else{const w=this.getFormula(g);d.value=w?{formula:g.totalsRowFormula,result:g.totalsRowResult}:null}f(d,g.style)})}}load(f){const{table:i}=this,{row:t,col:n}=i.tl;let c=0;if(i.headerRow){const a=f.getRow(t+c++);i.columns.forEach((l,g)=>{a.getCell(n+g).value=l.name})}if(i.rows.forEach(a=>{const l=f.getRow(t+c++);a.forEach((g,b)=>{l.getCell(n+b).value=g})}),i.totalsRow){const a=f.getRow(t+c++);i.columns.forEach((l,g)=>{const b=a.getCell(n+g);g===0?b.value=l.totalsRowLabel:this.getFormula(l)&&(b.value={formula:l.totalsRowFormula,result:l.totalsRowResult})})}}get model(){return this.table}set model(f){this.table=f}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const f=p.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let i=0;i<this._cache.tableHeight;i++){const t=this.worksheet.getRow(f.row+i);for(let n=0;n<this._cache.width;n++)t.getCell(f.col+n).value=null}else{for(let i=this.tableHeight;i<this._cache.tableHeight;i++){const t=this.worksheet.getRow(f.row+i);for(let n=0;n<this._cache.width;n++)t.getCell(f.col+n).value=null}for(let i=0;i<this.tableHeight;i++){const t=this.worksheet.getRow(f.row+i);for(let n=this.width;n<this._cache.width;n++)t.getCell(f.col+n).value=null}}this.store()}addRow(f,i){this.cacheState(),i===void 0?this.table.rows.push(f):this.table.rows.splice(i,0,f)}removeRows(f){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(f,i)}getColumn(f){const i=this.table.columns[f];return new u(this,i,f)}addColumn(f,i,t){this.cacheState(),t===void 0?(this.table.columns.push(f),this.table.rows.forEach((n,c)=>{n.push(i[c])})):(this.table.columns.splice(t,0,f),this.table.rows.forEach((n,c)=>{n.splice(t,0,i[c])}))}removeColumns(f){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(f,i),this.table.rows.forEach(t=>{t.splice(f,i)})}_assign(f,i,t){this.cacheState(),f[i]=t}get ref(){return this.table.ref}set ref(f){this._assign(this.table,"ref",f)}get name(){return this.table.name}set name(f){this.table.name=f}get displayName(){return this.table.displyName||this.table.name}set displayNamename(f){this.table.displayName=f}get headerRow(){return this.table.headerRow}set headerRow(f){this._assign(this.table,"headerRow",f)}get totalsRow(){return this.table.totalsRow}set totalsRow(f){this._assign(this.table,"totalsRow",f)}get theme(){return this.table.style.name}set theme(f){this.table.style.name=f}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(f){this.table.style.showFirstColumn=f}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(f){this.table.style.showLastColumn=f}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(f){this.table.style.showRowStripes=f}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(f){this.table.style.showColumnStripes=f}}},{"../utils/col-cache":19}],13:[function(r,I,k){const p=r("./worksheet"),u=r("./defined-names"),f=r("../xlsx/xlsx"),i=r("../csv/csv");I.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new u}get xlsx(){return this._xlsx||(this._xlsx=new f(this)),this._xlsx}get csv(){return this._csv||(this._csv=new i(this)),this._csv}get nextId(){for(let t=1;t<this._worksheets.length;t++)if(!this._worksheets[t])return t;return this._worksheets.length||1}addWorksheet(t,n){const c=this.nextId;n&&(typeof n=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),n={properties:{tabColor:{argb:n}}}):(n.argb||n.theme||n.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),n={properties:{tabColor:n}}));const a=this._worksheets.reduce((b,d)=>(d&&d.orderNo)>b?d.orderNo:b,0),l=Object.assign({},n,{id:c,name:t,orderNo:a+1,workbook:this}),g=new p(l);return this._worksheets[c]=g,g}removeWorksheetEx(t){delete this._worksheets[t.id]}removeWorksheet(t){const n=this.getWorksheet(t);n&&n.destroy()}getWorksheet(t){return t===void 0?this._worksheets.find(Boolean):typeof t=="number"?this._worksheets[t]:typeof t=="string"?this._worksheets.find(n=>n&&n.name===t):void 0}get worksheets(){return this._worksheets.slice(1).sort((t,n)=>t.orderNo-n.orderNo).filter(Boolean)}eachSheet(t){this.worksheets.forEach(n=>{t(n,n.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(t){const n=this.media.length;return this.media.push(Object.assign({},t,{type:"image"})),n}getImage(t){return this.media[t]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(t=>t.model),sheets:this.worksheets.map(t=>t.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(t){this.creator=t.creator,this.lastModifiedBy=t.lastModifiedBy,this.lastPrinted=t.lastPrinted,this.created=t.created,this.modified=t.modified,this.company=t.company,this.manager=t.manager,this.title=t.title,this.subject=t.subject,this.keywords=t.keywords,this.category=t.category,this.description=t.description,this.language=t.language,this.revision=t.revision,this.contentStatus=t.contentStatus,this.properties=t.properties,this.calcProperties=t.calcProperties,this._worksheets=[],t.worksheets.forEach(n=>{const{id:c,name:a,state:l}=n,g=t.sheets&&t.sheets.findIndex(b=>b.id===c);(this._worksheets[c]=new p({id:c,name:a,orderNo:g,state:l,workbook:this})).model=n}),this._definedNames.model=t.definedNames,this.views=t.views,this._themes=t.themes,this.media=t.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(r,I,k){const p=r("../utils/under-dash"),u=r("../utils/col-cache"),f=r("./range"),i=r("./row"),t=r("./column"),n=r("./enums"),c=r("./image"),a=r("./table"),l=r("./data-validations"),g=r("../utils/encryptor"),{copyStyle:b}=r("../utils/copy-style");I.exports=class{constructor(d){d=d||{},this._workbook=d.workbook,this.id=d.id,this.orderNo=d.orderNo,this.name=d.name,this.state=d.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},d.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!d.pageSetup||!d.pageSetup.fitToWidth&&!d.pageSetup.fitToHeight||d.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},d.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},d.headerFooter),this.dataValidations=new l,this.views=d.views||[],this.autoFilter=d.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(d){if(d===void 0&&(d="sheet"+this.id),this._name!==d){if(typeof d!="string")throw new Error("The name has to be a string.");if(d==="")throw new Error("The name can't be empty.");if(d==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(d))throw new Error(`Worksheet name ${d} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(d))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+d);if(d&&d.length>31&&(console.warn(`Worksheet name ${d} exceeds 31 chars. This will be truncated`),d=d.substring(0,31)),this._workbook._worksheets.find(w=>w&&w.name.toLowerCase()===d.toLowerCase()))throw new Error("Worksheet name already exists: "+d);this._name=d}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const d=new f;return this._rows.forEach(w=>{if(w){const y=w.dimensions;y&&d.expand(w.number,y.min,w.number,y.max)}}),d}get columns(){return this._columns}set columns(d){this._headerRowCount=d.reduce((T,M)=>{const j=(M.header?1:M.headers&&M.headers.length)||0;return Math.max(T,j)},0);let w=1;const y=this._columns=[];d.forEach(T=>{const M=new t(this,w++,!1);y.push(M),M.defn=T})}getColumnKey(d){return this._keys[d]}setColumnKey(d,w){this._keys[d]=w}deleteColumnKey(d){delete this._keys[d]}eachColumnKey(d){p.each(this._keys,d)}getColumn(d){if(typeof d=="string"){const w=this._keys[d];if(w)return w;d=u.l2n(d)}if(this._columns||(this._columns=[]),d>this._columns.length){let w=this._columns.length+1;for(;w<=d;)this._columns.push(new t(this,w++))}return this._columns[d-1]}spliceColumns(d,w){const y=this._rows.length;for(var T=arguments.length,M=new Array(T>2?T-2:0),j=2;j<T;j++)M[j-2]=arguments[j];if(M.length>0)for(let q=0;q<y;q++){const K=[d,w];M.forEach($=>{K.push($[q]||null)});const ie=this.getRow(q+1);ie.splice.apply(ie,K)}else this._rows.forEach(q=>{q&&q.splice(d,w)});const X=M.length-w,Y=d+w,W=this._columns.length;if(X<0)for(let q=d+M.length;q<=W;q++)this.getColumn(q).defn=this.getColumn(q-X).defn;else if(X>0)for(let q=W;q>=Y;q--)this.getColumn(q+X).defn=this.getColumn(q).defn;for(let q=d;q<d+M.length;q++)this.getColumn(q).defn=null;this.workbook.definedNames.spliceColumns(this.name,d,w,M.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let d=0;return this.eachRow(w=>{d=Math.max(d,w.cellCount)}),d}get actualColumnCount(){const d=[];let w=0;return this.eachRow(y=>{y.eachCell(T=>{let{col:M}=T;d[M]||(d[M]=!0,w++)})}),w}_commitRow(){}get _lastRowNumber(){const d=this._rows;let w=d.length;for(;w>0&&d[w-1]===void 0;)w--;return w}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(d){return this._rows[d-1]}findRows(d,w){return this._rows.slice(d-1,d-1+w)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let d=0;return this.eachRow(()=>{d++}),d}getRow(d){let w=this._rows[d-1];return w||(w=this._rows[d-1]=new i(this,d)),w}getRows(d,w){if(w<1)return;const y=[];for(let T=d;T<d+w;T++)y.push(this.getRow(T));return y}addRow(d){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const y=this._nextRow,T=this.getRow(y);return T.values=d,this._setStyleOption(y,w[0]==="i"?w:"n"),T}addRows(d){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const y=[];return d.forEach(T=>{y.push(this.addRow(T,w))}),y}insertRow(d,w){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(d,0,w),this._setStyleOption(d,y),this.getRow(d)}insertRows(d,w){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(d,0,...w),y!=="n")for(let T=0;T<w.length;T++)y[0]==="o"&&this.findRow(w.length+d+T)!==void 0?this._copyStyle(w.length+d+T,d+T,y[1]==="+"):y[0]==="i"&&this.findRow(d-1)!==void 0&&this._copyStyle(d-1,d+T,y[1]==="+");return this.getRows(d,w.length)}_setStyleOption(d){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";w[0]==="o"&&this.findRow(d+1)!==void 0?this._copyStyle(d+1,d,w[1]==="+"):w[0]==="i"&&this.findRow(d-1)!==void 0&&this._copyStyle(d-1,d,w[1]==="+")}_copyStyle(d,w){let y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const T=this.getRow(d),M=this.getRow(w);M.style=b(T.style),T.eachCell({includeEmpty:y},(j,X)=>{M.getCell(X).style=b(j.style)}),M.height=T.height}duplicateRow(d,w){let y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const T=this._rows[d-1],M=new Array(w).fill(T.values);this.spliceRows(d+1,y?0:w,...M);for(let j=0;j<w;j++){const X=this._rows[d+j];X.style=T.style,X.height=T.height,T.eachCell({includeEmpty:!0},(Y,W)=>{X.getCell(W).style=Y.style})}}spliceRows(d,w){const y=d+w;for(var T=arguments.length,M=new Array(T>2?T-2:0),j=2;j<T;j++)M[j-2]=arguments[j];const X=M.length,Y=X-w,W=this._rows.length;let q,K;if(Y<0)for(d===W&&(this._rows[W-1]=void 0),q=y;q<=W;q++)if(K=this._rows[q-1],K){const ie=this.getRow(q+Y);ie.values=K.values,ie.style=K.style,ie.height=K.height,K.eachCell({includeEmpty:!0},($,D)=>{ie.getCell(D).style=$.style}),this._rows[q-1]=void 0}else this._rows[q+Y-1]=void 0;else if(Y>0)for(q=W;q>=y;q--)if(K=this._rows[q-1],K){const ie=this.getRow(q+Y);ie.values=K.values,ie.style=K.style,ie.height=K.height,K.eachCell({includeEmpty:!0},($,D)=>{if(ie.getCell(D).style=$.style,$._value.constructor.name==="MergeValue"){const F=this.getRow($._row._number+X).getCell(D),A=$._value._master,v=this.getRow(A._row._number+X).getCell(A._column._number);F.merge(v)}})}else this._rows[q+Y-1]=void 0;for(q=0;q<X;q++){const ie=this.getRow(d+q);ie.style={},ie.values=M[q]}this.workbook.definedNames.spliceRows(this.name,d,w,X)}eachRow(d,w){if(w||(w=d,d=void 0),d&&d.includeEmpty){const y=this._rows.length;for(let T=1;T<=y;T++)w(this.getRow(T),T)}else this._rows.forEach(y=>{y&&y.hasValues&&w(y,y.number)})}getSheetValues(){const d=[];return this._rows.forEach(w=>{w&&(d[w.number]=w.values)}),d}findCell(d,w){const y=u.getAddress(d,w),T=this._rows[y.row-1];return T?T.findCell(y.col):void 0}getCell(d,w){const y=u.getAddress(d,w);return this.getRow(y.row).getCellEx(y)}mergeCells(){for(var d=arguments.length,w=new Array(d),y=0;y<d;y++)w[y]=arguments[y];const T=new f(w);this._mergeCellsInternal(T)}mergeCellsWithoutStyle(){for(var d=arguments.length,w=new Array(d),y=0;y<d;y++)w[y]=arguments[y];const T=new f(w);this._mergeCellsInternal(T,!0)}_mergeCellsInternal(d,w){p.each(this._merges,T=>{if(T.intersects(d))throw new Error("Cannot merge already merged cells")});const y=this.getCell(d.top,d.left);for(let T=d.top;T<=d.bottom;T++)for(let M=d.left;M<=d.right;M++)(T>d.top||M>d.left)&&this.getCell(T,M).merge(y,w);this._merges[y.address]=d}_unMergeMaster(d){const w=this._merges[d.address];if(w){for(let y=w.top;y<=w.bottom;y++)for(let T=w.left;T<=w.right;T++)this.getCell(y,T).unmerge();delete this._merges[d.address]}}get hasMerges(){return p.some(this._merges,Boolean)}unMergeCells(){for(var d=arguments.length,w=new Array(d),y=0;y<d;y++)w[y]=arguments[y];const T=new f(w);for(let M=T.top;M<=T.bottom;M++)for(let j=T.left;j<=T.right;j++){const X=this.findCell(M,j);X&&(X.type===n.ValueType.Merge?this._unMergeMaster(X.master):this._merges[X.address]&&this._unMergeMaster(X))}}fillFormula(d,w,y){let T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const M=u.decode(d),{top:j,left:X,bottom:Y,right:W}=M,q=W-X+1,K=u.encodeAddress(j,X),ie=T==="shared";let $;$=typeof y=="function"?y:Array.isArray(y)?Array.isArray(y[0])?(F,A)=>y[F-j][A-X]:(F,A)=>y[(F-j)*q+(A-X)]:()=>{};let D=!0;for(let F=j;F<=Y;F++)for(let A=X;A<=W;A++)D?(this.getCell(F,A).value={shareType:T,formula:w,ref:d,result:$(F,A)},D=!1):this.getCell(F,A).value=ie?{sharedFormula:K,result:$(F,A)}:$(F,A)}addImage(d,w){const y={type:"image",imageId:d,range:w};this._media.push(new c(this,y))}getImages(){return this._media.filter(d=>d.type==="image")}addBackgroundImage(d){const w={type:"background",imageId:d};this._media.push(new c(this,w))}getBackgroundImageId(){const d=this._media.find(w=>w.type==="background");return d&&d.imageId}protect(d,w){return new Promise(y=>{this.sheetProtection={sheet:!0},w&&"spinCount"in w&&(w.spinCount=Number.isFinite(w.spinCount)?Math.round(Math.max(0,w.spinCount)):1e5),d&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=g.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=w&&"spinCount"in w?w.spinCount:1e5,this.sheetProtection.hashValue=g.convertPasswordToHash(d,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),w&&(this.sheetProtection=Object.assign(this.sheetProtection,w),!d&&"spinCount"in w&&delete this.sheetProtection.spinCount),y()})}unprotect(){this.sheetProtection=null}addTable(d){const w=new a(this,d);return this.tables[d.name]=w,w}getTable(d){return this.tables[d]}removeTable(d){delete this.tables[d]}getTables(){return Object.values(this.tables)}addConditionalFormatting(d){this.conditionalFormattings.push(d)}removeConditionalFormatting(d){typeof d=="number"?this.conditionalFormattings.splice(d,1):this.conditionalFormattings=d instanceof Function?this.conditionalFormattings.filter(d):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(d){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=d}get model(){const d={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(T=>T.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(T=>T.model),conditionalFormattings:this.conditionalFormattings};d.cols=t.toModel(this.columns);const w=d.rows=[],y=d.dimensions=new f;return this._rows.forEach(T=>{const M=T&&T.model;M&&(y.expand(M.number,M.min,M.number,M.max),w.push(M))}),d.merges=[],p.each(this._merges,T=>{d.merges.push(T.range)}),d}_parseRows(d){this._rows=[],d.rows.forEach(w=>{const y=new i(this,w.number);this._rows[y.number-1]=y,y.model=w})}_parseMergeCells(d){p.each(d.mergeCells,w=>{this.mergeCellsWithoutStyle(w)})}set model(d){this.name=d.name,this._columns=t.fromModel(this,d.cols),this._parseRows(d),this._parseMergeCells(d),this.dataValidations=new l(d.dataValidations),this.properties=d.properties,this.pageSetup=d.pageSetup,this.headerFooter=d.headerFooter,this.views=d.views,this.autoFilter=d.autoFilter,this._media=d.media.map(w=>new c(this,w)),this.sheetProtection=d.sheetProtection,this.tables=d.tables.reduce((w,y)=>{const T=new a;return T.model=y,w[y.name]=T,w},{}),this.conditionalFormattings=d.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(r,I,k){r("core-js/modules/es.promise"),r("core-js/modules/es.promise.finally"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.values"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.async-iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.find-index"),r("core-js/modules/es.array.find"),r("core-js/modules/es.string.from-code-point"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.number.is-nan"),r("regenerator-runtime/runtime");const p={Workbook:r("./doc/workbook")},u=r("./doc/enums");Object.keys(u).forEach(f=>{p[f]=u[f]}),I.exports=p},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(r,I,k){const p=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");k.bufferToString=function(u){return typeof u=="string"?u:p?p.decode(u):u.toString()}},{}],17:[function(r,I,k){const p=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:u}=r("buffer");k.stringToBuffer=function(f){return typeof f!="string"?f:p?u.from(p.encode(f).buffer):u.from(f)}},{buffer:220}],18:[function(r,I,k){const p=r("./under-dash"),u=r("./col-cache");I.exports=class{constructor(f){this.template=f,this.sheets={}}addCell(f){this.addCellEx(u.decodeEx(f))}getCell(f){return this.findCellEx(u.decodeEx(f),!0)}findCell(f){return this.findCellEx(u.decodeEx(f),!1)}findCellAt(f,i,t){const n=this.sheets[f],c=n&&n[i];return c&&c[t]}addCellEx(f){if(f.top)for(let i=f.top;i<=f.bottom;i++)for(let t=f.left;t<=f.right;t++)this.getCellAt(f.sheetName,i,t);else this.findCellEx(f,!0)}getCellEx(f){return this.findCellEx(f,!0)}findCellEx(f,i){const t=this.findSheet(f,i),n=this.findSheetRow(t,f,i);return this.findRowCell(n,f,i)}getCellAt(f,i,t){const n=this.sheets[f]||(this.sheets[f]=[]),c=n[i]||(n[i]=[]);return c[t]||(c[t]={sheetName:f,address:u.n2l(t)+i,row:i,col:t})}removeCellEx(f){const i=this.findSheet(f);if(!i)return;const t=this.findSheetRow(i,f);t&&delete t[f.col]}forEachInSheet(f,i){const t=this.sheets[f];t&&t.forEach((n,c)=>{n&&n.forEach((a,l)=>{a&&i(a,c,l)})})}forEach(f){p.each(this.sheets,(i,t)=>{this.forEachInSheet(t,f)})}map(f){const i=[];return this.forEach(t=>{i.push(f(t))}),i}findSheet(f,i){const t=f.sheetName;return this.sheets[t]?this.sheets[t]:i?this.sheets[t]=[]:void 0}findSheetRow(f,i,t){const{row:n}=i;return f&&f[n]?f[n]:t?f[n]=[]:void 0}findRowCell(f,i,t){const{col:n}=i;return f&&f[n]?f[n]:t?f[n]=this.template?Object.assign(i,JSON.parse(JSON.stringify(this.template))):i:void 0}spliceRows(f,i,t,n){const c=this.sheets[f];if(c){const a=[];for(let l=0;l<n;l++)a.push([]);c.splice(i,t,...a)}}spliceColumns(f,i,t,n){const c=this.sheets[f];if(c){const a=[];for(let l=0;l<n;l++)a.push(null);p.each(c,l=>{l.splice(i,t,...a)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(r,I,k){const p=/^[A-Z]+\d+$/,u={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:f=>f<=26?1:f<=676?2:3,_fill(f){let i,t,n,c,a,l=1;if(f>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&f>=1){for(;l<=26;)i=this._dictionary[l-1],this._n2l[l]=i,this._l2n[i]=l,l++;this._l2nFill=1}if(this._l2nFill<2&&f>=2){for(l=27;l<=702;)t=l-27,n=t%26,c=Math.floor(t/26),i=this._dictionary[c]+this._dictionary[n],this._n2l[l]=i,this._l2n[i]=l,l++;this._l2nFill=2}if(this._l2nFill<3&&f>=3){for(l=703;l<=16384;)t=l-703,n=t%26,c=Math.floor(t/26)%26,a=Math.floor(t/676),i=this._dictionary[a]+this._dictionary[c]+this._dictionary[n],this._n2l[l]=i,this._l2n[i]=l,l++;this._l2nFill=3}},l2n(f){if(this._l2n[f]||this._fill(f.length),!this._l2n[f])throw new Error("Out of bounds. Invalid column letter: "+f);return this._l2n[f]},n2l(f){if(f<1||f>16384)throw new Error(f+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[f]||this._fill(this._level(f)),this._n2l[f]},_hash:{},validateAddress(f){if(!p.test(f))throw new Error("Invalid Address: "+f);return!0},decodeAddress(f){const i=f.length<5&&this._hash[f];if(i)return i;let t=!1,n="",c=0,a=!1,l="",g=0;for(let d,w=0;w<f.length;w++)if(d=f.charCodeAt(w),!a&&d>=65&&d<=90)t=!0,n+=f[w],c=26*c+d-64;else if(d>=48&&d<=57)a=!0,l+=f[w],g=10*g+d-48;else if(a&&t&&d!==36)break;if(t){if(c>16384)throw new Error("Out of bounds. Invalid column letter: "+n)}else c=void 0;a||(g=void 0);const b={address:f=n+l,col:c,row:g,$col$row:`$${n}$${l}`};return c<=100&&g<=100&&(this._hash[f]=b,this._hash[b.$col$row]=b),b},getAddress(f,i){if(i){const t=this.n2l(i)+f;return this.decodeAddress(t)}return this.decodeAddress(f)},decode(f){const i=f.split(":");if(i.length===2){const t=this.decodeAddress(i[0]),n=this.decodeAddress(i[1]),c={top:Math.min(t.row,n.row),left:Math.min(t.col,n.col),bottom:Math.max(t.row,n.row),right:Math.max(t.col,n.col)};return c.tl=this.n2l(c.left)+c.top,c.br=this.n2l(c.right)+c.bottom,c.dimensions=`${c.tl}:${c.br}`,c}return this.decodeAddress(f)},decodeEx(f){const i=f.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),t=i[1]||i[2],n=i[3],c=n.split(":");if(c.length>1){let l=this.decodeAddress(c[0]),g=this.decodeAddress(c[1]);const b=Math.min(l.row,g.row),d=Math.min(l.col,g.col),w=Math.max(l.row,g.row),y=Math.max(l.col,g.col);return l=this.n2l(d)+b,g=this.n2l(y)+w,{top:b,left:d,bottom:w,right:y,sheetName:t,tl:{address:l,col:d,row:b,$col$row:`$${this.n2l(d)}$${b}`,sheetName:t},br:{address:g,col:y,row:w,$col$row:`$${this.n2l(y)}$${w}`,sheetName:t},dimensions:`${l}:${g}`}}if(n.startsWith("#"))return t?{sheetName:t,error:n}:{error:n};const a=this.decodeAddress(n);return t?{sheetName:t,...a}:a},encodeAddress:(f,i)=>u.n2l(i)+f,encode(){switch(arguments.length){case 2:return u.encodeAddress(arguments[0],arguments[1]);case 4:return`${u.encodeAddress(arguments[0],arguments[1])}:${u.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(f,i){const[t,n,,c,a]=f,[l,g]=i;return l>=t&&l<=c&&g>=n&&g<=a}};I.exports=u},{}],20:[function(r,I,k){const p=(f,i)=>({...f,...i.reduce((t,n)=>(f[n]&&(t[n]={...f[n]}),t),{})}),u=function(f,i,t){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];f[t]&&(i[t]=p(f[t],n))};k.copyStyle=f=>{if(!f)return f;if(i=f,Object.keys(i).length===0)return{};var i;const t={...f};return u(f,t,"font",["color"]),u(f,t,"alignment"),u(f,t,"protection"),f.border&&(u(f,t,"border"),u(f.border,t.border,"top",["color"]),u(f.border,t.border,"left",["color"]),u(f.border,t.border,"bottom",["color"]),u(f.border,t.border,"right",["color"]),u(f.border,t.border,"diagonal",["color"])),f.fill&&(u(f,t,"fill",["fgColor","bgColor","center"]),f.fill.stops&&(t.fill.stops=f.fill.stops.map(n=>p(n,["color"])))),t}},{}],21:[function(r,I,k){(function(p){(function(){const u=r("crypto"),f={hash(i){const t=u.createHash(i);for(var n=arguments.length,c=new Array(n>1?n-1:0),a=1;a<n;a++)c[a-1]=arguments[a];return t.update(p.concat(c)),t.digest()},convertPasswordToHash(i,t,n,c){if(t=t.toLowerCase(),u.getHashes().indexOf(t)<0)throw new Error(`Hash algorithm '${t}' not supported!`);const a=p.from(i,"utf16le");let l=this.hash(t,p.from(n,"base64"),a);for(let g=0;g<c;g++){const b=p.alloc(4);b.writeUInt32LE(g,0),l=this.hash(t,l,b)}return l.toString("base64")},randomBytes:i=>u.randomBytes(i)};I.exports=f}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(r,I,k){const{SaxesParser:p}=r("saxes"),{PassThrough:u}=r("readable-stream"),{bufferToString:f}=r("./browser-buffer-decode");I.exports=async function*(i){i.pipe&&!i[Symbol.asyncIterator]&&(i=i.pipe(new u));const t=new p;let n;t.on("error",a=>{n=a});let c=[];t.on("opentag",a=>c.push({eventType:"opentag",value:a})),t.on("text",a=>c.push({eventType:"text",value:a})),t.on("closetag",a=>c.push({eventType:"closetag",value:a}));for await(const a of i){if(t.write(f(a)),n)throw n;yield c,c=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(r,I,k){const p=r("./col-cache"),u=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,f=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;I.exports={slideFormula:function(i,t,n){const c=p.decode(t),a=p.decode(n);return i.replace(u,(l,g,b,d,w)=>{if(w)return l;const y=f.exec(d);if(y){const T=y[1],M=y[2].toUpperCase(),j=y[3],X=y[4];if(M.length>3||M.length===3&&M>"XFD")return l;let Y=p.l2n(M),W=parseInt(X,10);return T||(Y+=a.col-c.col),j||(W+=a.row-c.row),(g||"")+(T||"")+p.n2l(Y)+(j||"")+W}return l})}}},{"./col-cache":19}],24:[function(r,I,k){(function(p,u){(function(){const f=r("readable-stream"),i=r("./utils"),t=r("./string-buf");class n{constructor(d,w){this._data=d,this._encoding=w}get length(){return this.toBuffer().length}copy(d,w,y,T){return this.toBuffer().copy(d,w,y,T)}toBuffer(){return this._buffer||(this._buffer=u.from(this._data,this._encoding)),this._buffer}}class c{constructor(d){this._data=d}get length(){return this._data.length}copy(d,w,y,T){return this._data._buf.copy(d,w,y,T)}toBuffer(){return this._data.toBuffer()}}class a{constructor(d){this._data=d}get length(){return this._data.length}copy(d,w,y,T){this._data.copy(d,w,y,T)}toBuffer(){return this._data}}class l{constructor(d){this.size=d,this.buffer=u.alloc(d),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const d=u.alloc(this.iWrite-this.iRead);return this.buffer.copy(d,0,this.iRead,this.iWrite),d}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(d){let w;return d===0?null:d===void 0||d>=this.length?(w=this.toBuffer(),this.iRead=this.iWrite,w):(w=u.alloc(d),this.buffer.copy(w,0,this.iRead,d),this.iRead+=d,w)}write(d,w,y){const T=Math.min(y,this.size-this.iWrite);return d.copy(this.buffer,this.iWrite,w,w+T),this.iWrite+=T,T}}const g=function(b){b=b||{},this.bufSize=b.bufSize||1048576,this.buffers=[],this.batch=b.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};i.inherits(g,f.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return u.concat(this.buffers.map(b=>b.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const d=this.buffers[this.buffers.length-1];if(!d.full)return d}const b=new l(this.bufSize);return this.buffers.push(b),b},async _pipe(b){await Promise.all(this.pipes.map(function(d){return new Promise(w=>{d.write(b.toBuffer(),()=>{w()})})}))},_writeToBuffers(b){let d=0;const w=b.length;for(;d<w;)d+=this._getWritableBuffer().write(b,d,w-d)},async write(b,d,w){let y;if(d instanceof Function&&(w=d,d="utf8"),w=w||i.nop,b instanceof t)y=new c(b);else if(b instanceof u)y=new a(b);else{if(!(typeof b=="string"||b instanceof String||b instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");y=new n(b,d)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(y);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(y),p.nextTick(w)):(await this._pipe(y),w());else this.paused||this.emit("data",y.toBuffer()),this._writeToBuffers(y),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(b,d,w){const y=T=>{T?w(T):(this._flush(),this.pipes.forEach(M=>{M.end()}),this.emit("finish"))};b?this.write(b,d,y):y()},read(b){let d;if(b){for(d=[];b&&this.buffers.length&&!this.buffers[0].eod;){const w=this.buffers[0],y=w.read(b);b-=y.length,d.push(y),w.eod&&w.full&&this.buffers.shift()}return u.concat(d)}return d=this.buffers.map(w=>w.toBuffer()).filter(Boolean),this.buffers=[],u.concat(d)},setEncoding(b){this.encoding=b},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(b){this.pipes.push(b),!this.paused&&this.buffers.length&&this.end()},unpipe(b){this.pipes=this.pipes.filter(d=>d!==b)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),I.exports=g}).call(this)}).call(this,r("_process"),r("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(r,I,k){(function(p){(function(){I.exports=class{constructor(u){this._buf=p.alloc(u&&u.size||16384),this._encoding=u&&u.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=p.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(u){u=u||0,this._buffer=void 0,this._inPos=u}_grow(u){let f=2*this._buf.length;for(;f<u;)f*=2;const i=p.alloc(f);this._buf.copy(i,0),this._buf=i}addText(u){this._buffer=void 0;let f=this._inPos+this._buf.write(u,this._inPos,this._encoding);for(;f>=this._buf.length-4;)this._grow(this._inPos+u.length),f=this._inPos+this._buf.write(u,this._inPos,this._encoding);this._inPos=f}addStringBuf(u){u.length&&(this._buffer=void 0,this.length+u.length>this.capacity&&this._grow(this.length+u.length),u._buf.copy(this._buf,this._inPos,0,u.length),this._inPos+=u.length)}}}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220}],26:[function(r,I,k){const{toString:p}=Object.prototype,u=/["&<>]/,f={each:function(i,t){i&&(Array.isArray(i)?i.forEach(t):Object.keys(i).forEach(n=>{t(i[n],n)}))},some:function(i,t){return!!i&&(Array.isArray(i)?i.some(t):Object.keys(i).some(n=>t(i[n],n)))},every:function(i,t){return!i||(Array.isArray(i)?i.every(t):Object.keys(i).every(n=>t(i[n],n)))},map:function(i,t){return i?Array.isArray(i)?i.map(t):Object.keys(i).map(n=>t(i[n],n)):[]},keyBy:(i,t)=>i.reduce((n,c)=>(n[c[t]]=c,n),{}),isEqual:function(i,t){const n=typeof i,c=typeof t,a=Array.isArray(i),l=Array.isArray(t);let g;if(n!==c)return!1;switch(typeof i){case"object":if(a||l)return!(!a||!l)&&i.length===t.length&&i.every((b,d)=>{const w=t[d];return f.isEqual(b,w)});if(i===null||t===null)return i===t;if(g=Object.keys(i),Object.keys(t).length!==g.length)return!1;for(const b of g)if(!t.hasOwnProperty(b))return!1;return f.every(i,(b,d)=>{const w=t[d];return f.isEqual(b,w)});default:return i===t}},escapeHtml(i){const t=u.exec(i);if(!t)return i;let n="",c="",a=0,l=t.index;for(;l<i.length;l++){switch(i.charAt(l)){case'"':c="&quot;";break;case"&":c="&amp;";break;case"'":c="&apos;";break;case"<":c="&lt;";break;case">":c="&gt;";break;default:continue}a!==l&&(n+=i.substring(a,l)),a=l+1,n+=c}return a!==l?n+i.substring(a,l):n},strcmp:(i,t)=>i<t?-1:i>t?1:0,isUndefined:i=>p.call(i)==="[object Undefined]",isObject:i=>p.call(i)==="[object Object]",deepMerge(){const i=arguments[0]||{},{length:t}=arguments;let n,c,a;function l(g,b){n=i[b],a=Array.isArray(g),f.isObject(g)||a?(a?(a=!1,c=n&&Array.isArray(n)?n:[]):c=n&&f.isObject(n)?n:{},i[b]=f.deepMerge(c,g)):f.isUndefined(g)||(i[b]=g)}for(let g=0;g<t;g++)f.each(arguments[g],l);return i}};I.exports=f},{}],27:[function(r,I,k){(function(p,u){(function(){const f=r("fs"),i=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,t={nop(){},promiseImmediate:n=>new Promise(c=>{p.setImmediate?u(()=>{c(n)}):setTimeout(()=>{c(n)},1)}),inherits:function(n,c,a,l){n.super_=c,l||(l=a,a=null),a&&Object.keys(a).forEach(b=>{Object.defineProperty(n,b,Object.getOwnPropertyDescriptor(a,b))});const g={constructor:{value:n,enumerable:!1,writable:!1,configurable:!0}};l&&Object.keys(l).forEach(b=>{g[b]=Object.getOwnPropertyDescriptor(l,b)}),n.prototype=Object.create(c.prototype,g)},dateToExcel:(n,c)=>25569+n.getTime()/864e5-(c?1462:0),excelToDate(n,c){const a=Math.round(24*(n-25569+(c?1462:0))*3600*1e3);return new Date(a)},parsePath(n){const c=n.lastIndexOf("/");return{path:n.substring(0,c),name:n.substring(c+1)}},getRelsPath(n){const c=t.parsePath(n);return`${c.path}/_rels/${c.name}.rels`},xmlEncode(n){const c=i.exec(n);if(!c)return n;let a="",l="",g=0,b=c.index;for(;b<n.length;b++){const d=n.charCodeAt(b);switch(d){case 34:l="&quot;";break;case 38:l="&amp;";break;case 39:l="&apos;";break;case 60:l="&lt;";break;case 62:l="&gt;";break;case 127:l="";break;default:if(d<=31&&(d<=8||d>=11&&d!==13)){l="";break}continue}g!==b&&(a+=n.substring(g,b)),g=b+1,l&&(a+=l)}return g!==b?a+n.substring(g,b):a},xmlDecode:n=>n.replace(/&([a-z]*);/g,c=>{switch(c){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return c}}),validInt(n){const c=parseInt(n,10);return Number.isNaN(c)?0:c},isDateFmt(n){return n?(n=(n=n.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:n=>new Promise(c=>{f.access(n,f.constants.F_OK,a=>{c(!a)})})},toIsoDateString:n=>n.toIsoString().subsstr(0,10),parseBoolean:n=>n===!0||n==="true"||n===1||n==="1"};I.exports=t}).call(this)}).call(this,typeof yr<"u"?yr:typeof self<"u"?self:typeof window<"u"?window:{},r("timers").setImmediate)},{fs:216,timers:523}],28:[function(r,I,k){const p=r("./under-dash"),u=r("./utils");function f(n,c,a){n.push(` ${c}="${u.xmlEncode(a.toString())}"`)}function i(n,c){if(c){const a=[];p.each(c,(l,g)=>{l!==void 0&&f(a,g,l)}),n.push(a.join(""))}}class t{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(c){const a=this._xml;a.push("<?xml"),i(a,c),a.push(`?>
`)}openNode(c,a){const l=this.tos,g=this._xml;l&&this.open&&g.push(">"),this._stack.push(c),g.push("<"),g.push(c),i(g,a),this.leaf=!0,this.open=!0}addAttribute(c,a){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");a!==void 0&&f(this._xml,c,a)}addAttributes(c){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");i(this._xml,c)}writeText(c){const a=this._xml;this.open&&(a.push(">"),this.open=!1),this.leaf=!1,a.push(u.xmlEncode(c.toString()))}writeXml(c){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(c)}closeNode(){const c=this._stack.pop(),a=this._xml;this.leaf?a.push("/>"):(a.push("</"),a.push(c),a.push(">")),this.open=!1,this.leaf=!1}leafNode(c,a,l){this.openNode(c,a),l!==void 0&&this.writeText(l),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const c=this._rollbacks.pop();this._xml.length>c.xml&&this._xml.splice(c.xml,this._xml.length-c.xml),this._stack.length>c.stack&&this._stack.splice(c.stack,this._stack.length-c.stack),this.leaf=c.leaf,this.open=c.open}get xml(){return this.closeAll(),this._xml.join("")}}t.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},I.exports=t},{"./under-dash":26,"./utils":27}],29:[function(r,I,k){(function(p){(function(){const u=r("events"),f=r("jszip"),i=r("./stream-buf"),{stringToBuffer:t}=r("./browser-buffer-encode");class n extends u.EventEmitter{constructor(a){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},a),this.zip=new f,this.stream=new i}append(a,l){l.hasOwnProperty("base64")&&l.base64?this.zip.file(l.name,a,{base64:!0}):(p.browser&&typeof a=="string"&&(a=t(a)),this.zip.file(l.name,a))}async finalize(){const a=await this.zip.generateAsync(this.options);this.stream.end(a),this.emit("finish")}read(a){return this.stream.read(a)}setEncoding(a){return this.stream.setEncoding(a)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(a,l){return this.stream.pipe(a,l)}unpipe(a){return this.stream.unpipe(a)}unshift(a){return this.stream.unshift(a)}wrap(a){return this.stream.wrap(a)}}I.exports={ZipWriter:n}}).call(this)}).call(this,r("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(r,I,k){I.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},28:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy"年"m"月"d"日"',"zh-cn":'yyyy"年"m"月"d"日"',"ja-jp":'yyyy"年"m"月"d"日"',"ko-kr":'yyyy"년" mm"월" dd"일"'},32:{"zh-tw":'hh"時"mm"分"',"zh-cn":'h"时"mm"分"',"ja-jp":'h"時"mm"分"',"ko-kr":'h"시" mm"분"'},33:{"zh-tw":'hh"時"mm"分"ss"秒"',"zh-cn":'h"时"mm"分"ss"秒"',"ja-jp":'h"時"mm"分"ss"秒"',"ko-kr":'h"시" mm"분" ss"초"'},34:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},51:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},52:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'yyyy"年"m"月"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'m"月"d"日"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},55:{"zh-tw":'上午/下午 hh"時"mm"分"',"zh-cn":'上午/下午 h"时"mm"分"',"ja-jp":'yyyy"年"m"月"',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'上午/下午 hh"時"mm"分"ss"秒"',"zh-cn":'上午/下午 h"时"mm"分"ss"秒"',"ja-jp":'m"月"d"日"',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"年"m"月"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"年" mm"月" dd"日"'},58:{"zh-tw":'[$-404]e"年"m"月"d"日"',"zh-cn":'m"月"d"日"',"ja-jp":'[$-411]ggge"年"m"月"d"日"',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(r,I,k){I.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(r,I,k){const p=r("../../utils/parse-sax"),u=r("../../utils/xml-stream");class f{prepare(){}render(){}parseOpen(t){}parseText(t){}parseClose(t){}reconcile(t,n){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(t=>{t instanceof f?t.reset():t.xform&&t.xform.reset()})}mergeModel(t){this.model=Object.assign(this.model||{},t)}async parse(t){for await(const n of t)for(const{eventType:c,value:a}of n)if(c==="opentag")this.parseOpen(a);else if(c==="text")this.parseText(a);else if(c==="closetag"&&!this.parseClose(a.name))return this.model;return this.model}async parseStream(t){return this.parse(p(t))}get xml(){return this.toXml(this.model)}toXml(t){const n=new u;return this.render(n,t),n.xml}static toAttribute(t,n){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(t===void 0){if(c)return n}else if(c||t!==n)return t.toString()}static toStringAttribute(t,n){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return f.toAttribute(t,n,c)}static toStringValue(t,n){return t===void 0?n:t}static toBoolAttribute(t,n){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(t===void 0){if(c)return n}else if(c||t!==n)return t?"1":"0"}static toBoolValue(t,n){return t===void 0?n:t==="1"}static toIntAttribute(t,n){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return f.toAttribute(t,n,c)}static toIntValue(t,n){return t===void 0?n:parseInt(t,10)}static toFloatAttribute(t,n){let c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return f.toAttribute(t,n,c)}static toFloatValue(t,n){return t===void 0?n:parseFloat(t)}}I.exports=f},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(r,I,k){const p=r("../base-xform"),u=r("../../../utils/col-cache");function f(t){try{return u.decodeEx(t),!0}catch{return!1}}function i(t){const n=[];let c=!1,a="";return t.split(",").forEach(l=>{if(!l)return;const g=(l.match(/'/g)||[]).length;if(!g)return void(c?a+=l+",":f(l)&&n.push(l));const b=g%2==0;!c&&b&&f(l)?n.push(l):c&&!b?(c=!1,f(a+l)&&n.push(a+l),a=""):(c=!0,a+=l+",")}),n}I.exports=class extends p{render(t,n){t.openNode("definedName",{name:n.name,localSheetId:n.localSheetId}),t.writeText(n.ranges.join(",")),t.closeNode()}parseOpen(t){switch(t.name){case"definedName":return this._parsedName=t.attributes.name,this._parsedLocalSheetId=t.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(t){this._parsedText.push(t)}parseClose(){return this.model={name:this._parsedName,ranges:i(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(r,I,k){const p=r("../../../utils/utils"),u=r("../base-xform");I.exports=class extends u{render(f,i){f.leafNode("sheet",{sheetId:i.id,name:i.name,state:i.state,"r:id":i.rId})}parseOpen(f){return f.name==="sheet"&&(this.model={name:p.xmlDecode(f.attributes.name),id:parseInt(f.attributes.sheetId,10),state:f.attributes.state,rId:f.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{render(u,f){u.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:f.fullCalcOnLoad?1:void 0})}parseOpen(u){return u.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{render(u,f){u.leafNode("workbookPr",{date1904:f.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(u){return u.name==="workbookPr"&&(this.model={date1904:u.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{render(u,f){const i={xWindow:f.x||0,yWindow:f.y||0,windowWidth:f.width||12e3,windowHeight:f.height||24e3,firstSheet:f.firstSheet,activeTab:f.activeTab};f.visibility&&f.visibility!=="visible"&&(i.visibility=f.visibility),u.leafNode("workbookView",i)}parseOpen(u){if(u.name==="workbookView"){const f=this.model={},i=function(n,c,a){const l=c!==void 0?f[n]=c:a;l!==void 0&&(f[n]=l)},t=function(n,c,a){const l=c!==void 0?f[n]=parseInt(c,10):a;l!==void 0&&(f[n]=l)};return t("x",u.attributes.xWindow,0),t("y",u.attributes.yWindow,0),t("width",u.attributes.windowWidth,25e3),t("height",u.attributes.windowHeight,1e4),i("visibility",u.attributes.visibility,"visible"),t("activeTab",u.attributes.activeTab,void 0),t("firstSheet",u.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(r,I,k){const p=r("../../../utils/under-dash"),u=r("../../../utils/col-cache"),f=r("../../../utils/xml-stream"),i=r("../base-xform"),t=r("../static-xform"),n=r("../list-xform"),c=r("./defined-name-xform"),a=r("./sheet-xform"),l=r("./workbook-view-xform"),g=r("./workbook-properties-xform"),b=r("./workbook-calc-properties-xform");class d extends i{constructor(){super(),this.map={fileVersion:d.STATIC_XFORMS.fileVersion,workbookPr:new g,bookViews:new n({tag:"bookViews",count:!1,childXform:new l}),sheets:new n({tag:"sheets",count:!1,childXform:new a}),definedNames:new n({tag:"definedNames",count:!1,childXform:new c}),calcPr:new b}}prepare(y){y.sheets=y.worksheets;const T=[];let M=0;y.sheets.forEach(j=>{if(j.pageSetup&&j.pageSetup.printArea&&j.pageSetup.printArea.split("&&").forEach(X=>{const Y=X.split(":"),W={name:"_xlnm.Print_Area",ranges:[`'${j.name}'!$${Y[0]}:$${Y[1]}`],localSheetId:M};T.push(W)}),j.pageSetup&&(j.pageSetup.printTitlesRow||j.pageSetup.printTitlesColumn)){const X=[];if(j.pageSetup.printTitlesColumn){const W=j.pageSetup.printTitlesColumn.split(":");X.push(`'${j.name}'!$${W[0]}:$${W[1]}`)}if(j.pageSetup.printTitlesRow){const W=j.pageSetup.printTitlesRow.split(":");X.push(`'${j.name}'!$${W[0]}:$${W[1]}`)}const Y={name:"_xlnm.Print_Titles",ranges:X,localSheetId:M};T.push(Y)}M++}),T.length&&(y.definedNames=y.definedNames.concat(T)),(y.media||[]).forEach((j,X)=>{j.name=j.type+(X+1)})}render(y,T){y.openXml(f.StdDocAttributes),y.openNode("workbook",d.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(y),this.map.workbookPr.render(y,T.properties),this.map.bookViews.render(y,T.views),this.map.sheets.render(y,T.sheets),this.map.definedNames.render(y,T.definedNames),this.map.calcPr.render(y,T.calcProperties),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case"workbook":return!0;default:return this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y),!0}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser)return this.parser.parseClose(y)||(this.parser=void 0),!0;switch(y){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(y){const T=(y.workbookRels||[]).reduce((W,q)=>(W[q.Id]=q,W),{}),M=[];let j,X=0;(y.sheets||[]).forEach(W=>{const q=T[W.rId];q&&(j=y.worksheetHash["xl/"+q.Target.replace(/^(\s|\/xl\/)+/,"")],j&&(j.name=W.name,j.id=W.id,j.state=W.state,M[X++]=j))});const Y=[];p.each(y.definedNames,W=>{if(W.name==="_xlnm.Print_Area"){if(j=M[W.localSheetId],j){j.pageSetup||(j.pageSetup={});const q=u.decodeEx(W.ranges[0]);j.pageSetup.printArea=j.pageSetup.printArea?`${j.pageSetup.printArea}&&${q.dimensions}`:q.dimensions}}else if(W.name==="_xlnm.Print_Titles"){if(j=M[W.localSheetId],j){j.pageSetup||(j.pageSetup={});const q=W.ranges.join(","),K=/\$/g,ie=/\$\d+:\$\d+/,$=q.match(ie);if($&&$.length){const A=$[0];j.pageSetup.printTitlesRow=A.replace(K,"")}const D=/\$[A-Z]+:\$[A-Z]+/,F=q.match(D);if(F&&F.length){const A=F[0];j.pageSetup.printTitlesColumn=A.replace(K,"")}}}else Y.push(W)}),y.definedNames=Y,y.media.forEach((W,q)=>{W.index=q})}}d.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},d.STATIC_XFORMS={fileVersion:new t({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},I.exports=d},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(r,I,k){const p=r("../strings/rich-text-xform"),u=r("../../../utils/utils"),f=r("../base-xform"),i=I.exports=function(t){this.model=t};u.inherits(i,f,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new p),this._richTextXform},render(t,n){n=n||this.model,t.openNode("comment",{ref:n.ref,authorId:0}),t.openNode("text"),n&&n.note&&n.note.texts&&n.note.texts.forEach(c=>{this.richTextXform.render(t,c)}),t.closeNode(),t.closeNode()},parseOpen(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case"comment":return this.model={type:"note",note:{texts:[]},...t.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(t),!0;default:return!1}},parseText(t){this.parser&&this.parser.parseText(t)},parseClose(t){switch(t){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(t),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(r,I,k){const p=r("../../../utils/xml-stream"),u=r("../../../utils/utils"),f=r("../base-xform"),i=r("./comment-xform"),t=I.exports=function(){this.map={comment:new i}};u.inherits(t,f,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(n,c){c=c||this.model,n.openXml(p.StdDocAttributes),n.openNode("comments",t.COMMENTS_ATTRIBUTES),n.openNode("authors"),n.leafNode("author",null,"Author"),n.closeNode(),n.openNode("commentList"),c.comments.forEach(a=>{this.map.comment.render(n,a)}),n.closeNode(),n.closeNode()},parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(n),!0;default:return!1}},parseText(n){this.parser&&this.parser.parseText(n)},parseClose(n){switch(n){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(n),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(r,I,k){const p=r("../../base-xform");I.exports=class extends p{constructor(u){super(),this._model=u}get tag(){return this._model&&this._model.tag}render(u,f,i){(f===i[2]||this.tag==="x:SizeWithCells"&&f===i[1])&&u.leafNode(this.tag)}parseOpen(u){switch(u.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(r,I,k){const p=r("../../base-xform");I.exports=class extends p{constructor(u){super(),this._model=u}get tag(){return this._model&&this._model.tag}render(u,f){u.leafNode(this.tag,null,f)}parseOpen(u){switch(u.name){case this.tag:return this.text="",!0;default:return!1}}parseText(u){this.text=u}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{get tag(){return"x:Anchor"}getAnchorRect(u){const f=Math.floor(u.left),i=Math.floor(68*(u.left-f)),t=Math.floor(u.top),n=Math.floor(18*(u.top-t)),c=Math.floor(u.right),a=Math.floor(68*(u.right-c)),l=Math.floor(u.bottom);return[f,i,t,n,c,a,l,Math.floor(18*(u.bottom-l))]}getDefaultRect(u){const f=u.col,i=Math.max(u.row-2,0);return[f,6,i,14,f+2,2,i+4,16]}render(u,f){const i=f.anchor?this.getAnchorRect(f.anchor):this.getDefaultRect(f.refAddress);u.leafNode("x:Anchor",null,i.join(", "))}parseOpen(u){switch(u.name){case this.tag:return this.text="",!0;default:return!1}}parseText(u){this.text=u}parseClose(){return!1}}},{"../base-xform":32}],44:[function(r,I,k){const p=r("../base-xform"),u=r("./vml-anchor-xform"),f=r("./style/vml-protection-xform"),i=r("./style/vml-position-xform"),t=["twoCells","oneCells","absolute"];I.exports=class extends p{constructor(){super(),this.map={"x:Anchor":new u,"x:Locked":new f({tag:"x:Locked"}),"x:LockText":new f({tag:"x:LockText"}),"x:SizeWithCells":new i({tag:"x:SizeWithCells"}),"x:MoveWithCells":new i({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(n,c){const{protection:a,editAs:l}=c.note;n.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(n,l,t),this.map["x:SizeWithCells"].render(n,l,t),this.map["x:Anchor"].render(n,c),this.map["x:Locked"].render(n,a.locked),n.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(n,a.lockText),n.leafNode("x:Row",null,c.refAddress.row-1),n.leafNode("x:Column",null,c.refAddress.col-1),n.closeNode()}parseOpen(n){switch(n.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[n.name],this.parser&&this.parser.parseOpen(n)}return!0}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.parser=void 0),!0;switch(n){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const n=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),c=Object.keys(n).length;this.model.editAs=t[c],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(r,I,k){const p=r("../../../utils/xml-stream"),u=r("../base-xform"),f=r("./vml-shape-xform");class i extends u{constructor(){super(),this.map={"v:shape":new f}}get tag(){return"xml"}render(n,c){n.openXml(p.StdDocAttributes),n.openNode(this.tag,i.DRAWING_ATTRIBUTES),n.openNode("o:shapelayout",{"v:ext":"edit"}),n.leafNode("o:idmap",{"v:ext":"edit",data:1}),n.closeNode(),n.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),n.leafNode("v:stroke",{joinstyle:"miter"}),n.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),n.closeNode(),c.comments.forEach((a,l)=>{this.map["v:shape"].render(n,a,l)}),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[n.name],this.parser&&this.parser.parseOpen(n)}return!0}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(n){case this.tag:return!1;default:return!0}}reconcile(n,c){n.anchors.forEach(a=>{a.br?this.map["xdr:twoCellAnchor"].reconcile(a,c):this.map["xdr:oneCellAnchor"].reconcile(a,c)})}}i.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},I.exports=i},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(r,I,k){const p=r("../base-xform"),u=r("./vml-textbox-xform"),f=r("./vml-client-data-xform");class i extends p{constructor(){super(),this.map={"v:textbox":new u,"x:ClientData":new f}}get tag(){return"v:shape"}render(n,c,a){n.openNode("v:shape",i.V_SHAPE_ATTRIBUTES(c,a)),n.leafNode("v:fill",{color2:"infoBackground [80]"}),n.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),n.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(n,c),this.map["x:ClientData"].render(n,c),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case this.tag:this.reset(),this.model={margins:{insetmode:n.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[n.name],this.parser&&this.parser.parseOpen(n)}return!0}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.parser=void 0),!0;switch(n){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}i.V_SHAPE_ATTRIBUTES=(t,n)=>({id:"_x0000_s"+(1025+n),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":t.note.margins&&t.note.margins.insetmode}),I.exports=i},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{get tag(){return"v:textbox"}conversionUnit(u,f,i){return`${parseFloat(u)*f.toFixed(2)}${i}`}reverseConversionUnit(u){return(u||"").split(",").map(f=>Number(parseFloat(this.conversionUnit(parseFloat(f),.1,"")).toFixed(2)))}render(u,f){const i={style:"mso-direction-alt:auto"};if(f&&f.note){let{inset:t}=f.note&&f.note.margins;Array.isArray(t)&&(t=t.map(n=>this.conversionUnit(n,10,"mm")).join(",")),t&&(i.inset=t)}u.openNode("v:textbox",i),u.leafNode("div",{style:"text-align:left"}),u.closeNode()}parseOpen(u){switch(u.name){case this.tag:return this.model={inset:this.reverseConversionUnit(u.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(u){switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(r,I,k){const p=r("./base-xform");I.exports=class extends p{createNewModel(u){return{}}parseOpen(u){return this.parser=this.parser||this.map[u.name],this.parser?(this.parser.parseOpen(u),!0):u.name===this.tag&&(this.model=this.createNewModel(u),!0)}parseText(u){this.parser&&this.parser.parseText(u)}onParserClose(u,f){this.model[u]=f.model}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.onParserClose(u,this.parser),this.parser=void 0),!0):u!==this.tag}}},{"./base-xform":32}],49:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{render(u,f){u.openNode("HeadingPairs"),u.openNode("vt:vector",{size:2,baseType:"variant"}),u.openNode("vt:variant"),u.leafNode("vt:lpstr",void 0,"Worksheets"),u.closeNode(),u.openNode("vt:variant"),u.leafNode("vt:i4",void 0,f.length),u.closeNode(),u.closeNode(),u.closeNode()}parseOpen(u){return u.name==="HeadingPairs"}parseText(){}parseClose(u){return u!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{render(u,f){u.openNode("TitlesOfParts"),u.openNode("vt:vector",{size:f.length,baseType:"lpstr"}),f.forEach(i=>{u.leafNode("vt:lpstr",void 0,i.name)}),u.closeNode(),u.closeNode()}parseOpen(u){return u.name==="TitlesOfParts"}parseText(){}parseClose(u){return u!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(r,I,k){const p=r("../../../utils/xml-stream"),u=r("../base-xform"),f=r("../simple/string-xform"),i=r("./app-heading-pairs-xform"),t=r("./app-titles-of-parts-xform");class n extends u{constructor(){super(),this.map={Company:new f({tag:"Company"}),Manager:new f({tag:"Manager"}),HeadingPairs:new i,TitleOfParts:new t}}render(a,l){a.openXml(p.StdDocAttributes),a.openNode("Properties",n.PROPERTY_ATTRIBUTES),a.leafNode("Application",void 0,"Microsoft Excel"),a.leafNode("DocSecurity",void 0,"0"),a.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(a,l.worksheets),this.map.TitleOfParts.render(a,l.worksheets),this.map.Company.render(a,l.company||""),this.map.Manager.render(a,l.manager),a.leafNode("LinksUpToDate",void 0,"false"),a.leafNode("SharedDoc",void 0,"false"),a.leafNode("HyperlinksChanged",void 0,"false"),a.leafNode("AppVersion",void 0,"16.0300"),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"Properties":return!0;default:return this.parser=this.map[a.name],!!this.parser&&(this.parser.parseOpen(a),!0)}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}n.DateFormat=function(c){return c.toISOString().replace(/[.]\d{3,6}/,"")},n.DateAttrs={"xsi:type":"dcterms:W3CDTF"},n.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},I.exports=n},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(r,I,k){const p=r("../../../utils/xml-stream"),u=r("../base-xform");class f extends u{render(t,n){t.openXml(p.StdDocAttributes),t.openNode("Types",f.PROPERTY_ATTRIBUTES);const c={};(n.media||[]).forEach(a=>{if(a.type==="image"){const l=a.extension;c[l]||(c[l]=!0,t.leafNode("Default",{Extension:l,ContentType:"image/"+l}))}}),t.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),t.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),t.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),n.worksheets.forEach(a=>{const l=`/xl/worksheets/sheet${a.id}.xml`;t.leafNode("Override",{PartName:l,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),t.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),t.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),n.sharedStrings&&n.sharedStrings.count&&t.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),n.tables&&n.tables.forEach(a=>{t.leafNode("Override",{PartName:"/xl/tables/"+a.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),n.drawings&&n.drawings.forEach(a=>{t.leafNode("Override",{PartName:`/xl/drawings/${a.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),n.commentRefs&&(t.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),n.commentRefs.forEach(a=>{let{commentName:l}=a;t.leafNode("Override",{PartName:`/xl/${l}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),t.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),t.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),t.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}f.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},I.exports=f},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(r,I,k){const p=r("../../../utils/xml-stream"),u=r("../base-xform"),f=r("../simple/date-xform"),i=r("../simple/string-xform"),t=r("../simple/integer-xform");class n extends u{constructor(){super(),this.map={"dc:creator":new i({tag:"dc:creator"}),"dc:title":new i({tag:"dc:title"}),"dc:subject":new i({tag:"dc:subject"}),"dc:description":new i({tag:"dc:description"}),"dc:identifier":new i({tag:"dc:identifier"}),"dc:language":new i({tag:"dc:language"}),"cp:keywords":new i({tag:"cp:keywords"}),"cp:category":new i({tag:"cp:category"}),"cp:lastModifiedBy":new i({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new f({tag:"cp:lastPrinted",format:n.DateFormat}),"cp:revision":new t({tag:"cp:revision"}),"cp:version":new i({tag:"cp:version"}),"cp:contentStatus":new i({tag:"cp:contentStatus"}),"cp:contentType":new i({tag:"cp:contentType"}),"dcterms:created":new f({tag:"dcterms:created",attrs:n.DateAttrs,format:n.DateFormat}),"dcterms:modified":new f({tag:"dcterms:modified",attrs:n.DateAttrs,format:n.DateFormat})}}render(a,l){a.openXml(p.StdDocAttributes),a.openNode("cp:coreProperties",n.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(a,l.creator),this.map["dc:title"].render(a,l.title),this.map["dc:subject"].render(a,l.subject),this.map["dc:description"].render(a,l.description),this.map["dc:identifier"].render(a,l.identifier),this.map["dc:language"].render(a,l.language),this.map["cp:keywords"].render(a,l.keywords),this.map["cp:category"].render(a,l.category),this.map["cp:lastModifiedBy"].render(a,l.lastModifiedBy),this.map["cp:lastPrinted"].render(a,l.lastPrinted),this.map["cp:revision"].render(a,l.revision),this.map["cp:version"].render(a,l.version),this.map["cp:contentStatus"].render(a,l.contentStatus),this.map["cp:contentType"].render(a,l.contentType),this.map["dcterms:created"].render(a,l.created),this.map["dcterms:modified"].render(a,l.modified),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[a.name],this.parser)return this.parser.parseOpen(a),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(a))}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+a)}}}n.DateFormat=function(c){return c.toISOString().replace(/[.]\d{3}/,"")},n.DateAttrs={"xsi:type":"dcterms:W3CDTF"},n.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},I.exports=n},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{render(u,f){u.leafNode("Relationship",f)}parseOpen(u){switch(u.name){case"Relationship":return this.model=u.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(r,I,k){const p=r("../../../utils/xml-stream"),u=r("../base-xform"),f=r("./relationship-xform");class i extends u{constructor(){super(),this.map={Relationship:new f}}render(n,c){c=c||this._values,n.openXml(p.StdDocAttributes),n.openNode("Relationships",i.RELATIONSHIPS_ATTRIBUTES),c.forEach(a=>{this.map.Relationship.render(n,a)}),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[n.name],this.parser)return this.parser.parseOpen(n),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(n))}}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(n){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+n)}}}i.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},I.exports=i},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={range:{editAs:u.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}reconcilePicture(u,f){if(u&&u.rId){const i=f.rels[u.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(i){const t=i[1],n=f.mediaIndex[t];return f.media[n]}}}}},{"../base-xform":32}],57:[function(r,I,k){const p=r("../base-xform"),u=r("./blip-xform");I.exports=class extends p{constructor(){super(),this.map={"a:blip":new u}}get tag(){return"xdr:blipFill"}render(f,i){f.openNode(this.tag),this.map["a:blip"].render(f,i),f.openNode("a:stretch"),f.leafNode("a:fillRect"),f.closeNode(),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case this.tag:this.reset();break;default:this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f)}return!0}parseText(){}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{get tag(){return"a:blip"}render(u,f){u.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":f.rId,cstate:"print"})}parseOpen(u){switch(u.name){case this.tag:return this.model={rId:u.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(u){switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{get tag(){return"xdr:cNvPicPr"}render(u){u.openNode(this.tag),u.leafNode("a:picLocks",{noChangeAspect:"1"}),u.closeNode()}parseOpen(u){switch(u.name){case this.tag:default:return!0}}parseText(){}parseClose(u){switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(r,I,k){const p=r("../base-xform"),u=r("./hlink-click-xform"),f=r("./ext-lst-xform");I.exports=class extends p{constructor(){super(),this.map={"a:hlinkClick":new u,"a:extLst":new f}}get tag(){return"xdr:cNvPr"}render(i,t){i.openNode(this.tag,{id:t.index,name:"Picture "+t.index}),this.map["a:hlinkClick"].render(i,t),this.map["a:extLst"].render(i,t),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:this.reset();break;default:this.parser=this.map[i.name],this.parser&&this.parser.parseOpen(i)}return!0}parseText(){}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.parser=void 0),!0;switch(i){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(r,I,k){const p=r("../base-xform"),u=r("../simple/integer-xform");I.exports=class extends p{constructor(f){super(),this.tag=f.tag,this.map={"xdr:col":new u({tag:"xdr:col",zero:!0}),"xdr:colOff":new u({tag:"xdr:colOff",zero:!0}),"xdr:row":new u({tag:"xdr:row",zero:!0}),"xdr:rowOff":new u({tag:"xdr:rowOff",zero:!0})}}render(f,i){f.openNode(this.tag),this.map["xdr:col"].render(f,i.nativeCol),this.map["xdr:colOff"].render(f,i.nativeColOff),this.map["xdr:row"].render(f,i.nativeRow),this.map["xdr:rowOff"].render(f,i.nativeRowOff),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case this.tag:this.reset();break;default:this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f)}return!0}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(r,I,k){const p=r("../../../utils/col-cache"),u=r("../../../utils/xml-stream"),f=r("../base-xform"),i=r("./two-cell-anchor-xform"),t=r("./one-cell-anchor-xform");class n extends f{constructor(){super(),this.map={"xdr:twoCellAnchor":new i,"xdr:oneCellAnchor":new t}}prepare(a){a.anchors.forEach((l,g)=>{l.anchorType=function(b){return(typeof b.range=="string"?p.decode(b.range):b.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(l),this.map[l.anchorType].prepare(l,{index:g})})}get tag(){return"xdr:wsDr"}render(a,l){a.openXml(u.StdDocAttributes),a.openNode(this.tag,n.DRAWING_ATTRIBUTES),l.anchors.forEach(g=>{this.map[g.anchorType].render(a,g)}),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(a){case this.tag:return!1;default:return!0}}reconcile(a,l){a.anchors.forEach(g=>{g.br?this.map["xdr:twoCellAnchor"].reconcile(g,l):this.map["xdr:oneCellAnchor"].reconcile(g,l)})}}n.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},I.exports=n},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{get tag(){return"a:extLst"}render(u){u.openNode(this.tag),u.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),u.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),u.closeNode(),u.closeNode()}parseOpen(u){switch(u.name){case this.tag:default:return!0}}parseText(){}parseClose(u){switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{constructor(u){super(),this.tag=u.tag,this.map={}}render(u,f){u.openNode(this.tag);const i=Math.floor(9525*f.width),t=Math.floor(9525*f.height);u.addAttribute("cx",i),u.addAttribute("cy",t),u.closeNode()}parseOpen(u){return u.name===this.tag&&(this.model={width:parseInt(u.attributes.cx||"0",10)/9525,height:parseInt(u.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{get tag(){return"a:hlinkClick"}render(u,f){f.hyperlinks&&f.hyperlinks.rId&&u.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":f.hyperlinks.rId,tooltip:f.hyperlinks.tooltip})}parseOpen(u){switch(u.name){case this.tag:return this.model={hyperlinks:{rId:u.attributes["r:id"],tooltip:u.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(r,I,k){const p=r("../base-xform"),u=r("./c-nv-pr-xform"),f=r("./c-nv-pic-pr-xform");I.exports=class extends p{constructor(){super(),this.map={"xdr:cNvPr":new u,"xdr:cNvPicPr":new f}}get tag(){return"xdr:nvPicPr"}render(i,t){i.openNode(this.tag),this.map["xdr:cNvPr"].render(i,t),this.map["xdr:cNvPicPr"].render(i,t),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case this.tag:this.reset();break;default:this.parser=this.map[i.name],this.parser&&this.parser.parseOpen(i)}return!0}parseText(){}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.parser=void 0),!0;switch(i){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(r,I,k){const p=r("./base-cell-anchor-xform"),u=r("../static-xform"),f=r("./cell-position-xform"),i=r("./ext-xform"),t=r("./pic-xform");I.exports=class extends p{constructor(){super(),this.map={"xdr:from":new f({tag:"xdr:from"}),"xdr:ext":new i({tag:"xdr:ext"}),"xdr:pic":new t,"xdr:clientData":new u({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(n,c){this.map["xdr:pic"].prepare(n.picture,c)}render(n,c){n.openNode(this.tag,{editAs:c.range.editAs||"oneCell"}),this.map["xdr:from"].render(n,c.range.tl),this.map["xdr:ext"].render(n,c.range.ext),this.map["xdr:pic"].render(n,c.picture),this.map["xdr:clientData"].render(n,{}),n.closeNode()}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.parser=void 0),!0;switch(n){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(n,c){n.medium=this.reconcilePicture(n.picture,c)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(r,I,k){const p=r("../base-xform"),u=r("../static-xform"),f=r("./blip-fill-xform"),i=r("./nv-pic-pr-xform"),t=r("./sp-pr");I.exports=class extends p{constructor(){super(),this.map={"xdr:nvPicPr":new i,"xdr:blipFill":new f,"xdr:spPr":new u(t)}}get tag(){return"xdr:pic"}prepare(n,c){n.index=c.index+1}render(n,c){n.openNode(this.tag),this.map["xdr:nvPicPr"].render(n,c),this.map["xdr:blipFill"].render(n,c),this.map["xdr:spPr"].render(n,c),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case this.tag:this.reset();break;default:this.parser=this.map[n.name],this.parser&&this.parser.parseOpen(n)}return!0}parseText(){}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(n){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(r,I,k){I.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(r,I,k){const p=r("./base-cell-anchor-xform"),u=r("../static-xform"),f=r("./cell-position-xform"),i=r("./pic-xform");I.exports=class extends p{constructor(){super(),this.map={"xdr:from":new f({tag:"xdr:from"}),"xdr:to":new f({tag:"xdr:to"}),"xdr:pic":new i,"xdr:clientData":new u({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(t,n){this.map["xdr:pic"].prepare(t.picture,n)}render(t,n){t.openNode(this.tag,{editAs:n.range.editAs||"oneCell"}),this.map["xdr:from"].render(t,n.range.tl),this.map["xdr:to"].render(t,n.range.br),this.map["xdr:pic"].render(t,n.picture),this.map["xdr:clientData"].render(t,{}),t.closeNode()}parseClose(t){if(this.parser)return this.parser.parseClose(t)||(this.parser=void 0),!0;switch(t){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(t,n){t.medium=this.reconcilePicture(t.picture,n)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(r,I,k){const p=r("./base-xform");I.exports=class extends p{constructor(u){super(),this.tag=u.tag,this.always=!!u.always,this.count=u.count,this.empty=u.empty,this.$count=u.$count||"count",this.$=u.$,this.childXform=u.childXform,this.maxItems=u.maxItems}prepare(u,f){const{childXform:i}=this;u&&u.forEach((t,n)=>{f.index=n,i.prepare(t,f)})}render(u,f){if(this.always||f&&f.length){u.openNode(this.tag,this.$),this.count&&u.addAttribute(this.$count,f&&f.length||0);const{childXform:i}=this;(f||[]).forEach((t,n)=>{i.render(u,t,n)}),u.closeNode()}else this.empty&&u.leafNode(this.tag)}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(u)&&(this.parser=this.childXform,!0)}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser){if(!this.parser.parseClose(u)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(u,f){if(u){const{childXform:i}=this;u.forEach(t=>{i.reconcile(t,f)})}}}},{"./base-xform":32}],72:[function(r,I,k){const p=r("../../../utils/col-cache"),u=r("../base-xform");I.exports=class extends u{get tag(){return"autoFilter"}render(f,i){if(i)if(typeof i=="string")f.leafNode("autoFilter",{ref:i});else{const t=function(a){return typeof a=="string"?a:p.getAddress(a.row,a.column).address},n=t(i.from),c=t(i.to);n&&c&&f.leafNode("autoFilter",{ref:`${n}:${c}`})}}parseOpen(f){f.name==="autoFilter"&&(this.model=f.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(r,I,k){const p=r("../../../utils/utils"),u=r("../base-xform"),f=r("../../../doc/range"),i=r("../../../doc/enums"),t=r("../strings/rich-text-xform");function n(c){if(c==null)return i.ValueType.Null;if(c instanceof String||typeof c=="string")return i.ValueType.String;if(typeof c=="number")return i.ValueType.Number;if(typeof c=="boolean")return i.ValueType.Boolean;if(c instanceof Date)return i.ValueType.Date;if(c.text&&c.hyperlink)return i.ValueType.Hyperlink;if(c.formula)return i.ValueType.Formula;if(c.error)return i.ValueType.Error;throw new Error("I could not understand type of value")}I.exports=class extends u{constructor(){super(),this.richTextXForm=new t}get tag(){return"c"}prepare(c,a){const l=a.styles.addStyleModel(c.style||{},function(g){switch(g.type){case i.ValueType.Formula:return n(g.result);default:return g.type}}(c));switch(l&&(c.styleId=l),c.comment&&a.comments.push({...c.comment,ref:c.address}),c.type){case i.ValueType.String:case i.ValueType.RichText:a.sharedStrings&&(c.ssId=a.sharedStrings.add(c.value));break;case i.ValueType.Date:a.date1904&&(c.date1904=!0);break;case i.ValueType.Hyperlink:a.sharedStrings&&c.text!==void 0&&c.text!==null&&(c.ssId=a.sharedStrings.add(c.text)),a.hyperlinks.push({address:c.address,target:c.hyperlink,tooltip:c.tooltip});break;case i.ValueType.Merge:a.merges.add(c);break;case i.ValueType.Formula:if(a.date1904&&(c.date1904=!0),c.shareType==="shared"&&(c.si=a.siFormulae++),c.formula)a.formulae[c.address]=c;else if(c.sharedFormula){const g=a.formulae[c.sharedFormula];if(!g)throw new Error("Shared Formula master must exist above and or left of clone for cell "+c.address);g.si===void 0?(g.shareType="shared",g.si=a.siFormulae++,g.range=new f(g.address,c.address)):g.range&&g.range.expandToAddress(c.address),c.si=g.si}}}renderFormula(c,a){let l=null;switch(a.shareType){case"shared":l={t:"shared",ref:a.ref||a.range.range,si:a.si};break;case"array":l={t:"array",ref:a.ref};break;default:a.si!==void 0&&(l={t:"shared",si:a.si})}switch(n(a.result)){case i.ValueType.Null:c.leafNode("f",l,a.formula);break;case i.ValueType.String:c.addAttribute("t","str"),c.leafNode("f",l,a.formula),c.leafNode("v",null,a.result);break;case i.ValueType.Number:c.leafNode("f",l,a.formula),c.leafNode("v",null,a.result);break;case i.ValueType.Boolean:c.addAttribute("t","b"),c.leafNode("f",l,a.formula),c.leafNode("v",null,a.result?1:0);break;case i.ValueType.Error:c.addAttribute("t","e"),c.leafNode("f",l,a.formula),c.leafNode("v",null,a.result.error);break;case i.ValueType.Date:c.leafNode("f",l,a.formula),c.leafNode("v",null,p.dateToExcel(a.result,a.date1904));break;default:throw new Error("I could not understand type of value")}}render(c,a){if(a.type!==i.ValueType.Null||a.styleId){switch(c.openNode("c"),c.addAttribute("r",a.address),a.styleId&&c.addAttribute("s",a.styleId),a.type){case i.ValueType.Null:break;case i.ValueType.Number:c.leafNode("v",null,a.value);break;case i.ValueType.Boolean:c.addAttribute("t","b"),c.leafNode("v",null,a.value?"1":"0");break;case i.ValueType.Error:c.addAttribute("t","e"),c.leafNode("v",null,a.value.error);break;case i.ValueType.String:case i.ValueType.RichText:a.ssId!==void 0?(c.addAttribute("t","s"),c.leafNode("v",null,a.ssId)):a.value&&a.value.richText?(c.addAttribute("t","inlineStr"),c.openNode("is"),a.value.richText.forEach(l=>{this.richTextXForm.render(c,l)}),c.closeNode("is")):(c.addAttribute("t","str"),c.leafNode("v",null,a.value));break;case i.ValueType.Date:c.leafNode("v",null,p.dateToExcel(a.value,a.date1904));break;case i.ValueType.Hyperlink:a.ssId!==void 0?(c.addAttribute("t","s"),c.leafNode("v",null,a.ssId)):(c.addAttribute("t","str"),c.leafNode("v",null,a.text));break;case i.ValueType.Formula:this.renderFormula(c,a);break;case i.ValueType.Merge:}c.closeNode()}}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"c":return this.model={address:c.attributes.r},this.t=c.attributes.t,c.attributes.s&&(this.model.styleId=parseInt(c.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=c.attributes.si,this.model.shareType=c.attributes.t,this.model.ref=c.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){if(this.parser)this.parser.parseText(c);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+c:c;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+c:c:this.model.value=this.model.value?this.model.value+c:c}}parseClose(c){switch(c){case"c":{const{model:a}=this;if(a.formula||a.shareType)a.type=i.ValueType.Formula,a.value&&(this.t==="str"?a.result=p.xmlDecode(a.value):this.t==="b"?a.result=parseInt(a.value,10)!==0:this.t==="e"?a.result={error:a.value}:a.result=parseFloat(a.value),a.value=void 0);else if(a.value!==void 0)switch(this.t){case"s":a.type=i.ValueType.String,a.value=parseInt(a.value,10);break;case"str":a.type=i.ValueType.String,a.value=p.xmlDecode(a.value);break;case"inlineStr":a.type=i.ValueType.String;break;case"b":a.type=i.ValueType.Boolean,a.value=parseInt(a.value,10)!==0;break;case"e":a.type=i.ValueType.Error,a.value={error:a.value};break;default:a.type=i.ValueType.Number,a.value=parseFloat(a.value)}else a.styleId?a.type=i.ValueType.Null:a.type=i.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(c),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(c),!0)}}reconcile(c,a){const l=c.styleId&&a.styles&&a.styles.getStyleModel(c.styleId);switch(l&&(c.style=l),c.styleId!==void 0&&(c.styleId=void 0),c.type){case i.ValueType.String:typeof c.value=="number"&&a.sharedStrings&&(c.value=a.sharedStrings.getString(c.value)),c.value.richText&&(c.type=i.ValueType.RichText);break;case i.ValueType.Number:l&&p.isDateFmt(l.numFmt)&&(c.type=i.ValueType.Date,c.value=p.excelToDate(c.value,a.date1904));break;case i.ValueType.Formula:c.result!==void 0&&l&&p.isDateFmt(l.numFmt)&&(c.result=p.excelToDate(c.result,a.date1904)),c.shareType==="shared"&&(c.ref?a.formulae[c.si]=c.address:(c.sharedFormula=a.formulae[c.si],delete c.shareType),delete c.si)}const g=a.hyperlinkMap[c.address];g&&(c.type===i.ValueType.Formula?(c.text=c.result,c.result=void 0):(c.text=c.value,c.value=void 0),c.type=i.ValueType.Hyperlink,c.hyperlink=g);const b=a.commentsMap&&a.commentsMap[c.address];b&&(c.comment=b)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(r,I,k){const p=r("../../base-xform");I.exports=class extends p{get tag(){return"x14:cfIcon"}render(u,f){u.leafNode(this.tag,{iconSet:f.iconSet,iconId:f.iconId})}parseOpen(u){let{attributes:f}=u;this.model={iconSet:f.iconSet,iconId:p.toIntValue(f.iconId)}}parseClose(u){return u!==this.tag}}},{"../../base-xform":32}],75:[function(r,I,k){const{v4:p}=r("uuid"),u=r("../../base-xform"),f=r("../../composite-xform"),i=r("./databar-ext-xform"),t=r("./icon-set-ext-xform"),n={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class c extends f{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new i,"x14:iconSet":this.iconSetXform=new t}}get tag(){return"x14:cfRule"}static isExt(l){return l.type==="dataBar"?i.isExt(l):!(l.type!=="iconSet"||!l.custom&&!n[l.iconSet])}prepare(l){c.isExt(l)&&(l.x14Id=`{${p()}}`.toUpperCase())}render(l,g){if(c.isExt(g))switch(g.type){case"dataBar":this.renderDataBar(l,g);break;case"iconSet":this.renderIconSet(l,g)}}renderDataBar(l,g){l.openNode(this.tag,{type:"dataBar",id:g.x14Id}),this.databarXform.render(l,g),l.closeNode()}renderIconSet(l,g){l.openNode(this.tag,{type:"iconSet",priority:g.priority,id:g.x14Id||`{${p()}}`}),this.iconSetXform.render(l,g),l.closeNode()}createNewModel(l){let{attributes:g}=l;return{type:g.type,x14Id:g.id,priority:u.toIntValue(g.priority)}}onParserClose(l,g){Object.assign(this.model,g.model)}}I.exports=c},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(r,I,k){const p=r("../../composite-xform"),u=r("./f-ext-xform");I.exports=class extends p{constructor(){super(),this.map={"xm:f":this.fExtXform=new u}}get tag(){return"x14:cfvo"}render(f,i){f.openNode(this.tag,{type:i.type}),i.value!==void 0&&this.fExtXform.render(f,i.value),f.closeNode()}createNewModel(f){return{type:f.attributes.type}}onParserClose(f,i){switch(f){case"xm:f":this.model.value=i.model?parseFloat(i.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(r,I,k){const p=r("../../composite-xform"),u=r("./sqref-ext-xform"),f=r("./cf-rule-ext-xform");I.exports=class extends p{constructor(){super(),this.map={"xm:sqref":this.sqRef=new u,"x14:cfRule":this.cfRule=new f}}get tag(){return"x14:conditionalFormatting"}prepare(i,t){i.rules.forEach(n=>{this.cfRule.prepare(n,t)})}render(i,t){t.rules.some(f.isExt)&&(i.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),t.rules.filter(f.isExt).forEach(n=>this.cfRule.render(i,n)),this.sqRef.render(i,t.ref),i.closeNode())}createNewModel(){return{rules:[]}}onParserClose(i,t){switch(i){case"xm:sqref":this.model.ref=t.model;break;case"x14:cfRule":this.model.rules.push(t.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(r,I,k){const p=r("../../composite-xform"),u=r("./cf-rule-ext-xform"),f=r("./conditional-formatting-ext-xform");I.exports=class extends p{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new f}}get tag(){return"x14:conditionalFormattings"}hasContent(i){return i.hasExtContent===void 0&&(i.hasExtContent=i.some(t=>t.rules.some(u.isExt))),i.hasExtContent}prepare(i,t){i.forEach(n=>{this.cfXform.prepare(n,t)})}render(i,t){this.hasContent(t)&&(i.openNode(this.tag),t.forEach(n=>this.cfXform.render(i,n)),i.closeNode())}createNewModel(){return[]}onParserClose(i,t){this.model.push(t.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(r,I,k){const p=r("../../base-xform"),u=r("../../composite-xform"),f=r("../../style/color-xform"),i=r("./cfvo-ext-xform");I.exports=class extends u{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new i,"x14:borderColor":this.borderColorXform=new f("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new f("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new f("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new f("x14:axisColor")}}static isExt(t){return!t.gradient}get tag(){return"x14:dataBar"}render(t,n){t.openNode(this.tag,{minLength:p.toIntAttribute(n.minLength,0,!0),maxLength:p.toIntAttribute(n.maxLength,100,!0),border:p.toBoolAttribute(n.border,!1),gradient:p.toBoolAttribute(n.gradient,!0),negativeBarColorSameAsPositive:p.toBoolAttribute(n.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:p.toBoolAttribute(n.negativeBarBorderColorSameAsPositive,!0),axisPosition:p.toAttribute(n.axisPosition,"auto"),direction:p.toAttribute(n.direction,"leftToRight")}),n.cfvo.forEach(c=>{this.cfvoXform.render(t,c)}),this.borderColorXform.render(t,n.borderColor),this.negativeBorderColorXform.render(t,n.negativeBorderColor),this.negativeFillColorXform.render(t,n.negativeFillColor),this.axisColorXform.render(t,n.axisColor),t.closeNode()}createNewModel(t){let{attributes:n}=t;return{cfvo:[],minLength:p.toIntValue(n.minLength,0),maxLength:p.toIntValue(n.maxLength,100),border:p.toBoolValue(n.border,!1),gradient:p.toBoolValue(n.gradient,!0),negativeBarColorSameAsPositive:p.toBoolValue(n.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:p.toBoolValue(n.negativeBarBorderColorSameAsPositive,!0),axisPosition:p.toStringValue(n.axisPosition,"auto"),direction:p.toStringValue(n.direction,"leftToRight")}}onParserClose(t,n){const[,c]=t.split(":");switch(c){case"cfvo":this.model.cfvo.push(n.model);break;default:this.model[c]=n.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(r,I,k){const p=r("../../base-xform");I.exports=class extends p{get tag(){return"xm:f"}render(u,f){u.leafNode(this.tag,null,f)}parseOpen(){this.model=""}parseText(u){this.model+=u}parseClose(u){return u!==this.tag}}},{"../../base-xform":32}],81:[function(r,I,k){const p=r("../../base-xform"),u=r("../../composite-xform"),f=r("./cfvo-ext-xform"),i=r("./cf-icon-ext-xform");I.exports=class extends u{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new f,"x14:cfIcon":this.cfIconXform=new i}}get tag(){return"x14:iconSet"}render(t,n){t.openNode(this.tag,{iconSet:p.toStringAttribute(n.iconSet),reverse:p.toBoolAttribute(n.reverse,!1),showValue:p.toBoolAttribute(n.showValue,!0),custom:p.toBoolAttribute(n.icons,!1)}),n.cfvo.forEach(c=>{this.cfvoXform.render(t,c)}),n.icons&&n.icons.forEach((c,a)=>{c.iconId=a,this.cfIconXform.render(t,c)}),t.closeNode()}createNewModel(t){let{attributes:n}=t;return{cfvo:[],iconSet:p.toStringValue(n.iconSet,"3TrafficLights"),reverse:p.toBoolValue(n.reverse,!1),showValue:p.toBoolValue(n.showValue,!0)}}onParserClose(t,n){const[,c]=t.split(":");switch(c){case"cfvo":this.model.cfvo.push(n.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(n.model);break;default:this.model[c]=n.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(r,I,k){const p=r("../../base-xform");I.exports=class extends p{get tag(){return"xm:sqref"}render(u,f){u.leafNode(this.tag,null,f)}parseOpen(){this.model=""}parseText(u){this.model+=u}parseClose(u){return u!==this.tag}}},{"../../base-xform":32}],83:[function(r,I,k){const p=r("../../base-xform"),u=r("../../composite-xform"),f=r("../../../../doc/range"),i=r("./databar-xform"),t=r("./ext-lst-ref-xform"),n=r("./formula-xform"),c=r("./color-scale-xform"),a=r("./icon-set-xform"),l={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},g=d=>{const{type:w,operator:y}=d;switch(w){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:w};default:return{type:w,operator:y}}};class b extends u{constructor(){super(),this.map={dataBar:this.databarXform=new i,extLst:this.extLstRefXform=new t,formula:this.formulaXform=new n,colorScale:this.colorScaleXform=new c,iconSet:this.iconSetXform=new a}}get tag(){return"cfRule"}static isPrimitive(w){return w.type!=="iconSet"||!w.custom&&!l[w.iconSet]}render(w,y){switch(y.type){case"expression":this.renderExpression(w,y);break;case"cellIs":this.renderCellIs(w,y);break;case"top10":this.renderTop10(w,y);break;case"aboveAverage":this.renderAboveAverage(w,y);break;case"dataBar":this.renderDataBar(w,y);break;case"colorScale":this.renderColorScale(w,y);break;case"iconSet":this.renderIconSet(w,y);break;case"containsText":this.renderText(w,y);break;case"timePeriod":this.renderTimePeriod(w,y)}}renderExpression(w,y){w.openNode(this.tag,{type:"expression",dxfId:y.dxfId,priority:y.priority}),this.formulaXform.render(w,y.formulae[0]),w.closeNode()}renderCellIs(w,y){w.openNode(this.tag,{type:"cellIs",dxfId:y.dxfId,priority:y.priority,operator:y.operator}),y.formulae.forEach(T=>{this.formulaXform.render(w,T)}),w.closeNode()}renderTop10(w,y){w.leafNode(this.tag,{type:"top10",dxfId:y.dxfId,priority:y.priority,percent:p.toBoolAttribute(y.percent,!1),bottom:p.toBoolAttribute(y.bottom,!1),rank:p.toIntValue(y.rank,10,!0)})}renderAboveAverage(w,y){w.leafNode(this.tag,{type:"aboveAverage",dxfId:y.dxfId,priority:y.priority,aboveAverage:p.toBoolAttribute(y.aboveAverage,!0)})}renderDataBar(w,y){w.openNode(this.tag,{type:"dataBar",priority:y.priority}),this.databarXform.render(w,y),this.extLstRefXform.render(w,y),w.closeNode()}renderColorScale(w,y){w.openNode(this.tag,{type:"colorScale",priority:y.priority}),this.colorScaleXform.render(w,y),w.closeNode()}renderIconSet(w,y){b.isPrimitive(y)&&(w.openNode(this.tag,{type:"iconSet",priority:y.priority}),this.iconSetXform.render(w,y),w.closeNode())}renderText(w,y){w.openNode(this.tag,{type:y.operator,dxfId:y.dxfId,priority:y.priority,operator:p.toStringAttribute(y.operator,"containsText")});const T=(M=>{if(M.formulae&&M.formulae[0])return M.formulae[0];const j=new f(M.ref),{tl:X}=j;switch(M.operator){case"containsText":return`NOT(ISERROR(SEARCH("${M.text}",${X})))`;case"containsBlanks":return`LEN(TRIM(${X}))=0`;case"notContainsBlanks":return`LEN(TRIM(${X}))>0`;case"containsErrors":return`ISERROR(${X})`;case"notContainsErrors":return`NOT(ISERROR(${X}))`;default:return}})(y);T&&this.formulaXform.render(w,T),w.closeNode()}renderTimePeriod(w,y){w.openNode(this.tag,{type:"timePeriod",dxfId:y.dxfId,priority:y.priority,timePeriod:y.timePeriod});const T=(M=>{if(M.formulae&&M.formulae[0])return M.formulae[0];const j=new f(M.ref),{tl:X}=j;switch(M.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${X},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${X},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${X},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${X},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${X},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${X},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${X},1)=TODAY()-1`;case"today":return`FLOOR(${X},1)=TODAY()`;case"tomorrow":return`FLOOR(${X},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${X},1)<=6,FLOOR(${X},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${X})=MONTH(EDATE(TODAY(),0-1)),YEAR(${X})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${X})=MONTH(TODAY()),YEAR(${X})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${X})=MONTH(EDATE(TODAY(),0+1)),YEAR(${X})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(y);T&&this.formulaXform.render(w,T),w.closeNode()}createNewModel(w){let{attributes:y}=w;return{...g(y),dxfId:p.toIntValue(y.dxfId),priority:p.toIntValue(y.priority),timePeriod:y.timePeriod,percent:p.toBoolValue(y.percent),bottom:p.toBoolValue(y.bottom),rank:p.toIntValue(y.rank),aboveAverage:p.toBoolValue(y.aboveAverage)}}onParserClose(w,y){switch(w){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,y.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(y.model)}}}I.exports=b},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(r,I,k){const p=r("../../base-xform");I.exports=class extends p{get tag(){return"cfvo"}render(u,f){u.leafNode(this.tag,{type:f.type,val:f.value})}parseOpen(u){this.model={type:u.attributes.type,value:p.toFloatValue(u.attributes.val)}}parseClose(u){return u!==this.tag}}},{"../../base-xform":32}],85:[function(r,I,k){const p=r("../../composite-xform"),u=r("../../style/color-xform"),f=r("./cfvo-xform");I.exports=class extends p{constructor(){super(),this.map={cfvo:this.cfvoXform=new f,color:this.colorXform=new u}}get tag(){return"colorScale"}render(i,t){i.openNode(this.tag),t.cfvo.forEach(n=>{this.cfvoXform.render(i,n)}),t.color.forEach(n=>{this.colorXform.render(i,n)}),i.closeNode()}createNewModel(i){return{cfvo:[],color:[]}}onParserClose(i,t){this.model[i].push(t.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(r,I,k){const p=r("../../composite-xform"),u=r("./cf-rule-xform");I.exports=class extends p{constructor(){super(),this.map={cfRule:new u}}get tag(){return"conditionalFormatting"}render(f,i){i.rules.some(u.isPrimitive)&&(f.openNode(this.tag,{sqref:i.ref}),i.rules.forEach(t=>{u.isPrimitive(t)&&(t.ref=i.ref,this.map.cfRule.render(f,t))}),f.closeNode())}createNewModel(f){let{attributes:i}=f;return{ref:i.sqref,rules:[]}}onParserClose(f,i){this.model.rules.push(i.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(r,I,k){const p=r("../../base-xform"),u=r("./conditional-formatting-xform");I.exports=class extends p{constructor(){super(),this.cfXform=new u}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(f,i){let t=f.reduce((n,c)=>Math.max(n,...c.rules.map(a=>a.priority||0)),1);f.forEach(n=>{n.rules.forEach(c=>{c.priority||(c.priority=t++),c.style&&(c.dxfId=i.styles.addDxfStyle(c.style))})})}render(f,i){i.forEach(t=>{this.cfXform.render(f,t)})}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(f),!0;default:return!1}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(!!this.parser.parseClose(f)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(f,i){f.forEach(t=>{t.rules.forEach(n=>{n.dxfId!==void 0&&(n.style=i.styles.getDxfStyle(n.dxfId),delete n.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(r,I,k){const p=r("../../composite-xform"),u=r("../../style/color-xform"),f=r("./cfvo-xform");I.exports=class extends p{constructor(){super(),this.map={cfvo:this.cfvoXform=new f,color:this.colorXform=new u}}get tag(){return"dataBar"}render(i,t){i.openNode(this.tag),t.cfvo.forEach(n=>{this.cfvoXform.render(i,n)}),this.colorXform.render(i,t.color),i.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(i,t){switch(i){case"cfvo":this.model.cfvo.push(t.model);break;case"color":this.model.color=t.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(r,I,k){const p=r("../../base-xform"),u=r("../../composite-xform");class f extends p{get tag(){return"x14:id"}render(n,c){n.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(n){this.model+=n}parseClose(n){return n!==this.tag}}class i extends u{constructor(){super(),this.map={"x14:id":this.idXform=new f}}get tag(){return"ext"}render(n,c){n.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(n,c.x14Id),n.closeNode()}createNewModel(){return{}}onParserClose(n,c){this.model.x14Id=c.model}}I.exports=class extends u{constructor(){super(),this.map={ext:new i}}get tag(){return"extLst"}render(t,n){t.openNode(this.tag),this.map.ext.render(t,n),t.closeNode()}createNewModel(){return{}}onParserClose(t,n){Object.assign(this.model,n.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(r,I,k){const p=r("../../base-xform");I.exports=class extends p{get tag(){return"formula"}render(u,f){u.leafNode(this.tag,null,f)}parseOpen(){this.model=""}parseText(u){this.model+=u}parseClose(u){return u!==this.tag}}},{"../../base-xform":32}],91:[function(r,I,k){const p=r("../../base-xform"),u=r("../../composite-xform"),f=r("./cfvo-xform");I.exports=class extends u{constructor(){super(),this.map={cfvo:this.cfvoXform=new f}}get tag(){return"iconSet"}render(i,t){i.openNode(this.tag,{iconSet:p.toStringAttribute(t.iconSet,"3TrafficLights"),reverse:p.toBoolAttribute(t.reverse,!1),showValue:p.toBoolAttribute(t.showValue,!0)}),t.cfvo.forEach(n=>{this.cfvoXform.render(i,n)}),i.closeNode()}createNewModel(i){let{attributes:t}=i;return{iconSet:p.toStringValue(t.iconSet,"3TrafficLights"),reverse:p.toBoolValue(t.reverse),showValue:p.toBoolValue(t.showValue),cfvo:[]}}onParserClose(i,t){this.model[i].push(t.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(r,I,k){const p=r("../../../utils/utils"),u=r("../base-xform");I.exports=class extends u{get tag(){return"col"}prepare(f,i){const t=i.styles.addStyleModel(f.style||{});t&&(f.styleId=t)}render(f,i){f.openNode("col"),f.addAttribute("min",i.min),f.addAttribute("max",i.max),i.width&&f.addAttribute("width",i.width),i.styleId&&f.addAttribute("style",i.styleId),i.hidden&&f.addAttribute("hidden","1"),i.bestFit&&f.addAttribute("bestFit","1"),i.outlineLevel&&f.addAttribute("outlineLevel",i.outlineLevel),i.collapsed&&f.addAttribute("collapsed","1"),f.addAttribute("customWidth","1"),f.closeNode()}parseOpen(f){if(f.name==="col"){const i=this.model={min:parseInt(f.attributes.min||"0",10),max:parseInt(f.attributes.max||"0",10),width:f.attributes.width===void 0?void 0:parseFloat(f.attributes.width||"0")};return f.attributes.style&&(i.styleId=parseInt(f.attributes.style,10)),p.parseBoolean(f.attributes.hidden)&&(i.hidden=!0),p.parseBoolean(f.attributes.bestFit)&&(i.bestFit=!0),f.attributes.outlineLevel&&(i.outlineLevel=parseInt(f.attributes.outlineLevel,10)),p.parseBoolean(f.attributes.collapsed)&&(i.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(f,i){f.styleId&&(f.style=i.styles.getStyleModel(f.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(r,I,k){const p=r("../../../utils/under-dash"),u=r("../../../utils/utils"),f=r("../../../utils/col-cache"),i=r("../base-xform"),t=r("../../../doc/range");function n(a,l,g,b){const d=l[g];d!==void 0?a[g]=d:b!==void 0&&(a[g]=b)}function c(a,l,g,b){const d=l[g];d!==void 0&&(a[g]=u.parseBoolean(d))}I.exports=class extends i{get tag(){return"dataValidations"}render(a,l){const g=function(b){const d=p.map(b,(T,M)=>({address:M,dataValidation:T,marked:!1})).sort((T,M)=>p.strcmp(T.address,M.address)),w=p.keyBy(d,"address"),y=(T,M,j)=>{for(let X=0;X<M;X++){const Y=f.encodeAddress(T.row+X,j);if(!b[Y]||!p.isEqual(b[T.address],b[Y]))return!1}return!0};return d.map(T=>{if(!T.marked){const M=f.decodeEx(T.address);if(M.dimensions)return w[M.dimensions].marked=!0,{...T.dataValidation,sqref:T.address};let j=1,X=f.encodeAddress(M.row+j,M.col);for(;b[X]&&p.isEqual(T.dataValidation,b[X]);)j++,X=f.encodeAddress(M.row+j,M.col);let Y=1;for(;y(M,j,M.col+Y);)Y++;for(let W=0;W<j;W++)for(let q=0;q<Y;q++)X=f.encodeAddress(M.row+W,M.col+q),w[X].marked=!0;if(j>1||Y>1){const W=M.row+(j-1),q=M.col+(Y-1);return{...T.dataValidation,sqref:`${T.address}:${f.encodeAddress(W,q)}`}}return{...T.dataValidation,sqref:T.address}}return null}).filter(Boolean)}(l);g.length&&(a.openNode("dataValidations",{count:g.length}),g.forEach(b=>{a.openNode("dataValidation"),b.type!=="any"&&(a.addAttribute("type",b.type),b.operator&&b.type!=="list"&&b.operator!=="between"&&a.addAttribute("operator",b.operator),b.allowBlank&&a.addAttribute("allowBlank","1")),b.showInputMessage&&a.addAttribute("showInputMessage","1"),b.promptTitle&&a.addAttribute("promptTitle",b.promptTitle),b.prompt&&a.addAttribute("prompt",b.prompt),b.showErrorMessage&&a.addAttribute("showErrorMessage","1"),b.errorStyle&&a.addAttribute("errorStyle",b.errorStyle),b.errorTitle&&a.addAttribute("errorTitle",b.errorTitle),b.error&&a.addAttribute("error",b.error),a.addAttribute("sqref",b.sqref),(b.formulae||[]).forEach((d,w)=>{a.openNode("formula"+(w+1)),b.type==="date"?a.writeText(u.dateToExcel(new Date(d))):a.writeText(d),a.closeNode()}),a.closeNode()}),a.closeNode())}parseOpen(a){switch(a.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=a.attributes.sqref;const l={type:a.attributes.type||"any",formulae:[]};switch(a.attributes.type&&c(l,a.attributes,"allowBlank"),c(l,a.attributes,"showInputMessage"),c(l,a.attributes,"showErrorMessage"),l.type){case"any":case"list":case"custom":break;default:n(l,a.attributes,"operator","between")}return n(l,a.attributes,"promptTitle"),n(l,a.attributes,"prompt"),n(l,a.attributes,"errorStyle"),n(l,a.attributes,"errorTitle"),n(l,a.attributes,"error"),this._dataValidation=l,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(a){this._formula&&this._formula.push(a)}parseClose(a){switch(a){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(l=>{l.includes(":")?new t(l).forEachAddress(g=>{this.model[g]=this._dataValidation}):this.model[l]=this._dataValidation}),!0;case"formula1":case"formula2":{let l=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":l=parseInt(l,10);break;case"decimal":l=parseFloat(l);break;case"date":l=u.excelToDate(parseFloat(l))}return this._dataValidation.formulae.push(l),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{get tag(){return"dimension"}render(u,f){f&&u.leafNode("dimension",{ref:f})}parseOpen(u){return u.name==="dimension"&&(this.model=u.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{get tag(){return"drawing"}render(u,f){f&&u.leafNode(this.tag,{"r:id":f.rId})}parseOpen(u){switch(u.name){case this.tag:return this.model={rId:u.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(r,I,k){const p=r("../composite-xform"),u=r("./cf-ext/conditional-formattings-ext-xform");class f extends p{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new u}}get tag(){return"ext"}hasContent(t){return this.conditionalFormattings.hasContent(t.conditionalFormattings)}prepare(t,n){this.conditionalFormattings.prepare(t.conditionalFormattings,n)}render(t,n){t.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(t,n.conditionalFormattings),t.closeNode()}createNewModel(){return{}}onParserClose(t,n){this.model[t]=n.model}}I.exports=class extends p{constructor(){super(),this.map={ext:this.ext=new f}}get tag(){return"extLst"}prepare(i,t){this.ext.prepare(i,t)}hasContent(i){return this.ext.hasContent(i)}render(i,t){this.hasContent(t)&&(i.openNode("extLst"),this.ext.render(i,t),i.closeNode())}createNewModel(){return{}}onParserClose(i,t){Object.assign(this.model,t.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{get tag(){return"headerFooter"}render(u,f){if(f){u.addRollback();let i=!1;u.openNode("headerFooter"),f.differentFirst&&(u.addAttribute("differentFirst","1"),i=!0),f.differentOddEven&&(u.addAttribute("differentOddEven","1"),i=!0),f.oddHeader&&typeof f.oddHeader=="string"&&(u.leafNode("oddHeader",null,f.oddHeader),i=!0),f.oddFooter&&typeof f.oddFooter=="string"&&(u.leafNode("oddFooter",null,f.oddFooter),i=!0),f.evenHeader&&typeof f.evenHeader=="string"&&(u.leafNode("evenHeader",null,f.evenHeader),i=!0),f.evenFooter&&typeof f.evenFooter=="string"&&(u.leafNode("evenFooter",null,f.evenFooter),i=!0),f.firstHeader&&typeof f.firstHeader=="string"&&(u.leafNode("firstHeader",null,f.firstHeader),i=!0),f.firstFooter&&typeof f.firstFooter=="string"&&(u.leafNode("firstFooter",null,f.firstFooter),i=!0),i?(u.closeNode(),u.commit()):u.rollback()}}parseOpen(u){switch(u.name){case"headerFooter":return this.model={},u.attributes.differentFirst&&(this.model.differentFirst=parseInt(u.attributes.differentFirst,0)===1),u.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(u.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(u){switch(this.currentNode){case"oddHeader":this.model.oddHeader=u;break;case"oddFooter":this.model.oddFooter=u;break;case"evenHeader":this.model.evenHeader=u;break;case"evenFooter":this.model.evenFooter=u;break;case"firstHeader":this.model.firstHeader=u;break;case"firstFooter":this.model.firstFooter=u}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{get tag(){return"hyperlink"}render(u,f){this.isInternalLink(f)?u.leafNode("hyperlink",{ref:f.address,"r:id":f.rId,tooltip:f.tooltip,location:f.target}):u.leafNode("hyperlink",{ref:f.address,"r:id":f.rId,tooltip:f.tooltip})}parseOpen(u){return u.name==="hyperlink"&&(this.model={address:u.attributes.ref,rId:u.attributes["r:id"],tooltip:u.attributes.tooltip},u.attributes.location&&(this.model.target=u.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(u){return u.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(u.target)}}},{"../base-xform":32}],99:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{get tag(){return"mergeCell"}render(u,f){u.leafNode("mergeCell",{ref:f})}parseOpen(u){return u.name==="mergeCell"&&(this.model=u.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(r,I,k){const p=r("../../../utils/under-dash"),u=r("../../../doc/range"),f=r("../../../utils/col-cache"),i=r("../../../doc/enums");I.exports=class{constructor(){this.merges={}}add(t){if(this.merges[t.master])this.merges[t.master].expandToAddress(t.address);else{const n=`${t.master}:${t.address}`;this.merges[t.master]=new u(n)}}get mergeCells(){return p.map(this.merges,t=>t.range)}reconcile(t,n){p.each(t,c=>{const a=f.decode(c);for(let l=a.top;l<=a.bottom;l++){const g=n[l-1];for(let b=a.left;b<=a.right;b++){const d=g.cells[b-1];d?d.type===i.ValueType.Merge&&(d.master=a.tl):g.cells[b]={type:i.ValueType.Null,address:f.encodeAddress(l,b)}}}})}getMasterAddress(t){const n=this.hash[t];return n&&n.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(r,I,k){const p=r("../base-xform"),u=f=>f!==void 0;I.exports=class extends p{get tag(){return"outlinePr"}render(f,i){return!(!i||!u(i.summaryBelow)&&!u(i.summaryRight))&&(f.leafNode(this.tag,{summaryBelow:u(i.summaryBelow)?Number(i.summaryBelow):void 0,summaryRight:u(i.summaryRight)?Number(i.summaryRight):void 0}),!0)}parseOpen(f){return f.name===this.tag&&(this.model={summaryBelow:u(f.attributes.summaryBelow)?!!Number(f.attributes.summaryBelow):void 0,summaryRight:u(f.attributes.summaryRight)?!!Number(f.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{get tag(){return"brk"}render(u,f){u.leafNode("brk",f)}parseOpen(u){return u.name==="brk"&&(this.model=u.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(r,I,k){const p=r("../../../utils/under-dash"),u=r("../base-xform");I.exports=class extends u{get tag(){return"pageMargins"}render(f,i){if(i){const t={left:i.left,right:i.right,top:i.top,bottom:i.bottom,header:i.header,footer:i.footer};p.some(t,n=>n!==void 0)&&f.leafNode(this.tag,t)}}parseOpen(f){switch(f.name){case this.tag:return this.model={left:parseFloat(f.attributes.left||.7),right:parseFloat(f.attributes.right||.7),top:parseFloat(f.attributes.top||.75),bottom:parseFloat(f.attributes.bottom||.75),header:parseFloat(f.attributes.header||.3),footer:parseFloat(f.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{get tag(){return"pageSetUpPr"}render(u,f){return!(!f||!f.fitToPage)&&(u.leafNode(this.tag,{fitToPage:f.fitToPage?"1":void 0}),!0)}parseOpen(u){return u.name===this.tag&&(this.model={fitToPage:u.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(r,I,k){const p=r("../../../utils/under-dash"),u=r("../base-xform");function f(c){return c?"1":void 0}function i(c){switch(c){case"overThenDown":return c;default:return}}function t(c){switch(c){case"atEnd":case"asDisplyed":return c;default:return}}function n(c){switch(c){case"dash":case"blank":case"NA":return c;default:return}}I.exports=class extends u{get tag(){return"pageSetup"}render(c,a){if(a){const l={paperSize:a.paperSize,orientation:a.orientation,horizontalDpi:a.horizontalDpi,verticalDpi:a.verticalDpi,pageOrder:i(a.pageOrder),blackAndWhite:f(a.blackAndWhite),draft:f(a.draft),cellComments:t(a.cellComments),errors:n(a.errors),scale:a.scale,fitToWidth:a.fitToWidth,fitToHeight:a.fitToHeight,firstPageNumber:a.firstPageNumber,useFirstPageNumber:f(a.firstPageNumber),usePrinterDefaults:f(a.usePrinterDefaults),copies:a.copies};p.some(l,g=>g!==void 0)&&c.leafNode(this.tag,l)}}parseOpen(c){switch(c.name){case this.tag:return this.model={paperSize:(a=c.attributes.paperSize,a!==void 0?parseInt(a,10):void 0),orientation:c.attributes.orientation||"portrait",horizontalDpi:parseInt(c.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(c.attributes.verticalDpi||"4294967295",10),pageOrder:c.attributes.pageOrder||"downThenOver",blackAndWhite:c.attributes.blackAndWhite==="1",draft:c.attributes.draft==="1",cellComments:c.attributes.cellComments||"None",errors:c.attributes.errors||"displayed",scale:parseInt(c.attributes.scale||"100",10),fitToWidth:parseInt(c.attributes.fitToWidth||"1",10),fitToHeight:parseInt(c.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(c.attributes.firstPageNumber||"1",10),useFirstPageNumber:c.attributes.useFirstPageNumber==="1",usePrinterDefaults:c.attributes.usePrinterDefaults==="1",copies:parseInt(c.attributes.copies||"1",10)},!0;default:return!1}var a}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{get tag(){return"picture"}render(u,f){f&&u.leafNode(this.tag,{"r:id":f.rId})}parseOpen(u){switch(u.name){case this.tag:return this.model={rId:u.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(r,I,k){const p=r("../../../utils/under-dash"),u=r("../base-xform");function f(i){return i?"1":void 0}I.exports=class extends u{get tag(){return"printOptions"}render(i,t){if(t){const n={headings:f(t.showRowColHeaders),gridLines:f(t.showGridLines),horizontalCentered:f(t.horizontalCentered),verticalCentered:f(t.verticalCentered)};p.some(n,c=>c!==void 0)&&i.leafNode(this.tag,n)}}parseOpen(i){switch(i.name){case this.tag:return this.model={showRowColHeaders:i.attributes.headings==="1",showGridLines:i.attributes.gridLines==="1",horizontalCentered:i.attributes.horizontalCentered==="1",verticalCentered:i.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(r,I,k){const p=r("./page-breaks-xform"),u=r("../list-xform");I.exports=class extends u{constructor(){super({tag:"rowBreaks",count:!0,childXform:new p})}render(f,i){if(i&&i.length){f.openNode(this.tag,this.$),this.count&&(f.addAttribute(this.$count,i.length),f.addAttribute("manualBreakCount",i.length));const{childXform:t}=this;i.forEach(n=>{t.render(f,n)}),f.closeNode()}else this.empty&&f.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(r,I,k){const p=r("../base-xform"),u=r("../../../utils/utils"),f=r("./cell-xform");I.exports=class extends p{constructor(i){super(),this.maxItems=i&&i.maxItems,this.map={c:new f}}get tag(){return"row"}prepare(i,t){const n=t.styles.addStyleModel(i.style);n&&(i.styleId=n);const c=this.map.c;i.cells.forEach(a=>{c.prepare(a,t)})}render(i,t,n){i.openNode("row"),i.addAttribute("r",t.number),t.height&&(i.addAttribute("ht",t.height),i.addAttribute("customHeight","1")),t.hidden&&i.addAttribute("hidden","1"),t.min>0&&t.max>0&&t.min<=t.max&&i.addAttribute("spans",`${t.min}:${t.max}`),t.styleId&&(i.addAttribute("s",t.styleId),i.addAttribute("customFormat","1")),i.addAttribute("x14ac:dyDescent","0.25"),t.outlineLevel&&i.addAttribute("outlineLevel",t.outlineLevel),t.collapsed&&i.addAttribute("collapsed","1");const c=this.map.c;t.cells.forEach(a=>{c.render(i,a,n)}),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;if(i.name==="row"){this.numRowsSeen+=1;const t=i.attributes.spans?i.attributes.spans.split(":").map(c=>parseInt(c,10)):[void 0,void 0],n=this.model={number:parseInt(i.attributes.r,10),min:t[0],max:t[1],cells:[]};return i.attributes.s&&(n.styleId=parseInt(i.attributes.s,10)),u.parseBoolean(i.attributes.hidden)&&(n.hidden=!0),u.parseBoolean(i.attributes.bestFit)&&(n.bestFit=!0),i.attributes.ht&&(n.height=parseFloat(i.attributes.ht)),i.attributes.outlineLevel&&(n.outlineLevel=parseInt(i.attributes.outlineLevel,10)),u.parseBoolean(i.attributes.collapsed)&&(n.collapsed=!0),!0}return this.parser=this.map[i.name],!!this.parser&&(this.parser.parseOpen(i),!0)}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser){if(!this.parser.parseClose(i)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(i,t){i.style=i.styleId?t.styles.getStyleModel(i.styleId):{},i.styleId!==void 0&&(i.styleId=void 0);const n=this.map.c;i.cells.forEach(c=>{n.reconcile(c,t)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(r,I,k){const p=r("../../../utils/under-dash"),u=r("../base-xform");I.exports=class extends u{get tag(){return"sheetFormatPr"}render(f,i){if(i){const t={defaultRowHeight:i.defaultRowHeight,outlineLevelRow:i.outlineLevelRow,outlineLevelCol:i.outlineLevelCol,"x14ac:dyDescent":i.dyDescent};i.defaultColWidth&&(t.defaultColWidth=i.defaultColWidth),i.defaultRowHeight&&i.defaultRowHeight===15||(t.customHeight="1"),p.some(t,n=>n!==void 0)&&f.leafNode("sheetFormatPr",t)}}parseOpen(f){return f.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(f.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(f.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(f.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(f.attributes.outlineLevelCol||"0",10)},f.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(f.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(r,I,k){const p=r("../base-xform"),u=r("../style/color-xform"),f=r("./page-setup-properties-xform"),i=r("./outline-properties-xform");I.exports=class extends p{constructor(){super(),this.map={tabColor:new u("tabColor"),pageSetUpPr:new f,outlinePr:new i}}get tag(){return"sheetPr"}render(t,n){if(n){t.addRollback(),t.openNode("sheetPr");let c=!1;c=this.map.tabColor.render(t,n.tabColor)||c,c=this.map.pageSetUpPr.render(t,n.pageSetup)||c,c=this.map.outlinePr.render(t,n.outlineProperties)||c,c?(t.closeNode(),t.commit()):t.rollback()}}parseOpen(t){return this.parser?(this.parser.parseOpen(t),!0):t.name===this.tag?(this.reset(),!0):!!this.map[t.name]&&(this.parser=this.map[t.name],this.parser.parseOpen(t),!0)}parseText(t){return!!this.parser&&(this.parser.parseText(t),!0)}parseClose(t){return this.parser?(this.parser.parseClose(t)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(r,I,k){const p=r("../../../utils/under-dash"),u=r("../base-xform");function f(t,n){return t?n:void 0}function i(t,n){return t===n||void 0}I.exports=class extends u{get tag(){return"sheetProtection"}render(t,n){if(n){const c={sheet:f(n.sheet,"1"),selectLockedCells:n.selectLockedCells===!1?"1":void 0,selectUnlockedCells:n.selectUnlockedCells===!1?"1":void 0,formatCells:f(n.formatCells,"0"),formatColumns:f(n.formatColumns,"0"),formatRows:f(n.formatRows,"0"),insertColumns:f(n.insertColumns,"0"),insertRows:f(n.insertRows,"0"),insertHyperlinks:f(n.insertHyperlinks,"0"),deleteColumns:f(n.deleteColumns,"0"),deleteRows:f(n.deleteRows,"0"),sort:f(n.sort,"0"),autoFilter:f(n.autoFilter,"0"),pivotTables:f(n.pivotTables,"0")};n.sheet&&(c.algorithmName=n.algorithmName,c.hashValue=n.hashValue,c.saltValue=n.saltValue,c.spinCount=n.spinCount,c.objects=f(n.objects===!1,"1"),c.scenarios=f(n.scenarios===!1,"1")),p.some(c,a=>a!==void 0)&&t.leafNode(this.tag,c)}}parseOpen(t){switch(t.name){case this.tag:return this.model={sheet:i(t.attributes.sheet,"1"),objects:t.attributes.objects!=="1"&&void 0,scenarios:t.attributes.scenarios!=="1"&&void 0,selectLockedCells:t.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:t.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:i(t.attributes.formatCells,"0"),formatColumns:i(t.attributes.formatColumns,"0"),formatRows:i(t.attributes.formatRows,"0"),insertColumns:i(t.attributes.insertColumns,"0"),insertRows:i(t.attributes.insertRows,"0"),insertHyperlinks:i(t.attributes.insertHyperlinks,"0"),deleteColumns:i(t.attributes.deleteColumns,"0"),deleteRows:i(t.attributes.deleteRows,"0"),sort:i(t.attributes.sort,"0"),autoFilter:i(t.attributes.autoFilter,"0"),pivotTables:i(t.attributes.pivotTables,"0")},t.attributes.algorithmName&&(this.model.algorithmName=t.attributes.algorithmName,this.model.hashValue=t.attributes.hashValue,this.model.saltValue=t.attributes.saltValue,this.model.spinCount=parseInt(t.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(r,I,k){const p=r("../../../utils/col-cache"),u=r("../base-xform"),f={frozen:"frozen",frozenSplit:"frozen",split:"split"};I.exports=class extends u{get tag(){return"sheetView"}prepare(i){switch(i.state){case"frozen":case"split":break;default:i.state="normal"}}render(i,t){i.openNode("sheetView",{workbookViewId:t.workbookViewId||0});const n=function(b,d,w){w&&i.addAttribute(b,d)};let c,a,l,g;switch(n("rightToLeft","1",t.rightToLeft===!0),n("tabSelected","1",t.tabSelected),n("showRuler","0",t.showRuler===!1),n("showRowColHeaders","0",t.showRowColHeaders===!1),n("showGridLines","0",t.showGridLines===!1),n("zoomScale",t.zoomScale,t.zoomScale),n("zoomScaleNormal",t.zoomScaleNormal,t.zoomScaleNormal),n("view",t.style,t.style),t.state){case"frozen":a=t.xSplit||0,l=t.ySplit||0,c=t.topLeftCell||p.getAddress(l+1,a+1).address,g=(t.xSplit&&t.ySplit?"bottomRight":t.xSplit&&"topRight")||"bottomLeft",i.leafNode("pane",{xSplit:t.xSplit||void 0,ySplit:t.ySplit||void 0,topLeftCell:c,activePane:g,state:"frozen"}),i.leafNode("selection",{pane:g,activeCell:t.activeCell,sqref:t.activeCell});break;case"split":t.activePane==="topLeft"&&(t.activePane=void 0),i.leafNode("pane",{xSplit:t.xSplit||void 0,ySplit:t.ySplit||void 0,topLeftCell:t.topLeftCell,activePane:t.activePane}),i.leafNode("selection",{pane:t.activePane,activeCell:t.activeCell,sqref:t.activeCell});break;case"normal":t.activeCell&&i.leafNode("selection",{activeCell:t.activeCell,sqref:t.activeCell})}i.closeNode()}parseOpen(i){switch(i.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(i.attributes.workbookViewId,10),rightToLeft:i.attributes.rightToLeft==="1",tabSelected:i.attributes.tabSelected==="1",showRuler:i.attributes.showRuler!=="0",showRowColHeaders:i.attributes.showRowColHeaders!=="0",showGridLines:i.attributes.showGridLines!=="0",zoomScale:parseInt(i.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(i.attributes.zoomScaleNormal||"100",10),style:i.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(i.attributes.xSplit||"0",10),ySplit:parseInt(i.attributes.ySplit||"0",10),topLeftCell:i.attributes.topLeftCell,activePane:i.attributes.activePane||"topLeft",state:i.attributes.state},!0;case"selection":{const t=i.attributes.pane||"topLeft";return this.selections[t]={pane:t,activeCell:i.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(i){let t,n;switch(i){case"sheetView":return this.sheetView&&this.pane?(t=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:f[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(t.activePane=this.pane.activePane),n=this.selections[this.pane.activePane],n&&n.activeCell&&(t.activeCell=n.activeCell),this.sheetView.style&&(t.style=this.sheetView.style)):(t=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},n=this.selections.topLeft,n&&n.activeCell&&(t.activeCell=n.activeCell),this.sheetView.style&&(t.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{get tag(){return"tablePart"}render(u,f){f&&u.leafNode(this.tag,{"r:id":f.rId})}parseOpen(u){switch(u.name){case this.tag:return this.model={rId:u.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(r,I,k){const p=r("../../../utils/under-dash"),u=r("../../../utils/col-cache"),f=r("../../../utils/xml-stream"),i=r("../../rel-type"),t=r("./merges"),n=r("../base-xform"),c=r("../list-xform"),a=r("./row-xform"),l=r("./col-xform"),g=r("./dimension-xform"),b=r("./hyperlink-xform"),d=r("./merge-cell-xform"),w=r("./data-validations-xform"),y=r("./sheet-properties-xform"),T=r("./sheet-format-properties-xform"),M=r("./sheet-view-xform"),j=r("./sheet-protection-xform"),X=r("./page-margins-xform"),Y=r("./page-setup-xform"),W=r("./print-options-xform"),q=r("./auto-filter-xform"),K=r("./picture-xform"),ie=r("./drawing-xform"),$=r("./table-part-xform"),D=r("./row-breaks-xform"),F=r("./header-footer-xform"),A=r("./cf/conditional-formattings-xform"),v=r("./ext-lst-xform"),_=(C,O)=>{if(!O||!O.length)return C;if(!C||!C.length)return O;const B={},z={};return C.forEach(re=>{B[re.ref]=re,re.rules.forEach(ne=>{const{x14Id:de}=ne;de&&(z[de]=ne)})}),O.forEach(re=>{re.rules.forEach(ne=>{const de=z[ne.x14Id];de?((H,ae)=>{Object.keys(ae).forEach(U=>{const L=H[U],ee=ae[U];L===void 0&&ee!==void 0&&(H[U]=ee)})})(de,ne):B[re.ref]?B[re.ref].rules.push(ne):C.push({ref:re.ref,rules:[ne]})})}),C};class S extends n{constructor(O){super();const{maxRows:B,maxCols:z,ignoreNodes:re}=O||{};this.ignoreNodes=re||[],this.map={sheetPr:new y,dimension:new g,sheetViews:new c({tag:"sheetViews",count:!1,childXform:new M}),sheetFormatPr:new T,cols:new c({tag:"cols",count:!1,childXform:new l}),sheetData:new c({tag:"sheetData",count:!1,empty:!0,childXform:new a({maxItems:z}),maxItems:B}),autoFilter:new q,mergeCells:new c({tag:"mergeCells",count:!0,childXform:new d}),rowBreaks:new D,hyperlinks:new c({tag:"hyperlinks",count:!1,childXform:new b}),pageMargins:new X,dataValidations:new w,pageSetup:new Y,headerFooter:new F,printOptions:new W,picture:new K,drawing:new ie,sheetProtection:new j,tableParts:new c({tag:"tableParts",count:!0,childXform:new $}),conditionalFormatting:new A,extLst:new v}}prepare(O,B){B.merges=new t,O.hyperlinks=B.hyperlinks=[],O.comments=B.comments=[],B.formulae={},B.siFormulae=0,this.map.cols.prepare(O.cols,B),this.map.sheetData.prepare(O.rows,B),this.map.conditionalFormatting.prepare(O.conditionalFormattings,B),O.mergeCells=B.merges.mergeCells;const z=O.rels=[];function re(H){return"rId"+(H.length+1)}if(O.hyperlinks.forEach(H=>{const ae=re(z);H.rId=ae,z.push({Id:ae,Type:i.Hyperlink,Target:H.target,TargetMode:"External"})}),O.comments.length>0){const H={Id:re(z),Type:i.Comments,Target:`../comments${O.id}.xml`};z.push(H);const ae={Id:re(z),Type:i.VmlDrawing,Target:`../drawings/vmlDrawing${O.id}.vml`};z.push(ae),O.comments.forEach(U=>{U.refAddress=u.decodeAddress(U.ref)}),B.commentRefs.push({commentName:"comments"+O.id,vmlDrawing:"vmlDrawing"+O.id})}const ne=[];let de;O.media.forEach(H=>{if(H.type==="background"){const ae=re(z);de=B.media[H.imageId],z.push({Id:ae,Type:i.Image,Target:`../media/${de.name}.${de.extension}`}),O.background={rId:ae},O.image=B.media[H.imageId]}else if(H.type==="image"){let{drawing:ae}=O;de=B.media[H.imageId],ae||(ae=O.drawing={rId:re(z),name:"drawing"+ ++B.drawingsCount,anchors:[],rels:[]},B.drawings.push(ae),z.push({Id:ae.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${ae.name}.xml`}));let U=this.preImageId===H.imageId?ne[H.imageId]:ne[ae.rels.length];U||(U=re(ae.rels),ne[ae.rels.length]=U,ae.rels.push({Id:U,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${de.name}.${de.extension}`}));const L={picture:{rId:U},range:H.range};if(H.hyperlinks&&H.hyperlinks.hyperlink){const ee=re(ae.rels);ne[ae.rels.length]=ee,L.picture.hyperlinks={tooltip:H.hyperlinks.tooltip,rId:ee},ae.rels.push({Id:ee,Type:i.Hyperlink,Target:H.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=H.imageId,ae.anchors.push(L)}}),O.tables.forEach(H=>{const ae=re(z);H.rId=ae,z.push({Id:ae,Type:i.Table,Target:"../tables/"+H.target}),H.columns.forEach(U=>{const{style:L}=U;L&&(U.dxfId=B.styles.addDxfStyle(L))})}),this.map.extLst.prepare(O,B)}render(O,B){O.openXml(f.StdDocAttributes),O.openNode("worksheet",S.WORKSHEET_ATTRIBUTES);const z=B.properties?{defaultRowHeight:B.properties.defaultRowHeight,dyDescent:B.properties.dyDescent,outlineLevelCol:B.properties.outlineLevelCol,outlineLevelRow:B.properties.outlineLevelRow}:void 0;B.properties&&B.properties.defaultColWidth&&(z.defaultColWidth=B.properties.defaultColWidth);const re={outlineProperties:B.properties&&B.properties.outlineProperties,tabColor:B.properties&&B.properties.tabColor,pageSetup:B.pageSetup&&B.pageSetup.fitToPage?{fitToPage:B.pageSetup.fitToPage}:void 0},ne=B.pageSetup&&B.pageSetup.margins,de={showRowColHeaders:B.pageSetup&&B.pageSetup.showRowColHeaders,showGridLines:B.pageSetup&&B.pageSetup.showGridLines,horizontalCentered:B.pageSetup&&B.pageSetup.horizontalCentered,verticalCentered:B.pageSetup&&B.pageSetup.verticalCentered},H=B.sheetProtection;this.map.sheetPr.render(O,re),this.map.dimension.render(O,B.dimensions),this.map.sheetViews.render(O,B.views),this.map.sheetFormatPr.render(O,z),this.map.cols.render(O,B.cols),this.map.sheetData.render(O,B.rows),this.map.sheetProtection.render(O,H),this.map.autoFilter.render(O,B.autoFilter),this.map.mergeCells.render(O,B.mergeCells),this.map.conditionalFormatting.render(O,B.conditionalFormattings),this.map.dataValidations.render(O,B.dataValidations),this.map.hyperlinks.render(O,B.hyperlinks),this.map.printOptions.render(O,de),this.map.pageMargins.render(O,ne),this.map.pageSetup.render(O,B.pageSetup),this.map.headerFooter.render(O,B.headerFooter),this.map.rowBreaks.render(O,B.rowBreaks),this.map.drawing.render(O,B.drawing),this.map.picture.render(O,B.background),this.map.tableParts.render(O,B.tables),this.map.extLst.render(O,B),B.rels&&B.rels.forEach(ae=>{ae.Type===i.VmlDrawing&&O.leafNode("legacyDrawing",{"r:id":ae.Id})}),O.closeNode()}parseOpen(O){return this.parser?(this.parser.parseOpen(O),!0):O.name==="worksheet"?(p.each(this.map,B=>{B.reset()}),!0):(this.map[O.name]&&!this.ignoreNodes.includes(O.name)&&(this.parser=this.map[O.name],this.parser.parseOpen(O)),!0)}parseText(O){this.parser&&this.parser.parseText(O)}parseClose(O){if(this.parser)return this.parser.parseClose(O)||(this.parser=void 0),!0;switch(O){case"worksheet":{const B=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(B.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(B.outlineProperties=this.map.sheetPr.model.outlineProperties);const z={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},re=Object.assign(z,this.map.pageSetup.model,this.map.printOptions.model),ne=_(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:B,views:this.map.sheetViews.model,pageSetup:re,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:ne},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(O,B){const z=(O.relationships||[]).reduce((ne,de)=>{if(ne[de.Id]=de,de.Type===i.Comments&&(O.comments=B.comments[de.Target].comments),de.Type===i.VmlDrawing&&O.comments&&O.comments.length){const H=B.vmlDrawings[de.Target].comments;O.comments.forEach((ae,U)=>{ae.note=Object.assign({},ae.note,H[U])})}return ne},{});if(B.commentsMap=(O.comments||[]).reduce((ne,de)=>(de.ref&&(ne[de.ref]=de),ne),{}),B.hyperlinkMap=(O.hyperlinks||[]).reduce((ne,de)=>(de.rId&&(ne[de.address]=z[de.rId].Target),ne),{}),B.formulae={},O.rows=O.rows&&O.rows.filter(Boolean)||[],O.rows.forEach(ne=>{ne.cells=ne.cells&&ne.cells.filter(Boolean)||[]}),this.map.cols.reconcile(O.cols,B),this.map.sheetData.reconcile(O.rows,B),this.map.conditionalFormatting.reconcile(O.conditionalFormattings,B),O.media=[],O.drawing){const ne=z[O.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(ne){const de=ne[1];B.drawings[de].anchors.forEach(H=>{if(H.medium){const ae={type:"image",imageId:H.medium.index,range:H.range,hyperlinks:H.picture.hyperlinks};O.media.push(ae)}})}}const re=O.background&&z[O.background.rId];if(re){const ne=re.Target.split("/media/")[1],de=B.mediaIndex&&B.mediaIndex[ne];de!==void 0&&O.media.push({type:"background",imageId:de})}O.tables=(O.tables||[]).map(ne=>{const de=z[ne.rId];return B.tables[de.Target]}),delete O.relationships,delete O.hyperlinks,delete O.comments}}S.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},I.exports=S},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{constructor(u){super(),this.tag=u.tag,this.attr=u.attr}render(u,f){f&&(u.openNode(this.tag),u.closeNode())}parseOpen(u){u.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{constructor(u){super(),this.tag=u.tag,this.attr=u.attr,this.attrs=u.attrs,this._format=u.format||function(f){try{return Number.isNaN(f.getTime())?"":f.toISOString()}catch{return""}},this._parse=u.parse||function(f){return new Date(f)}}render(u,f){f&&(u.openNode(this.tag),this.attrs&&u.addAttributes(this.attrs),this.attr?u.addAttribute(this.attr,this._format(f)):u.writeText(this._format(f)),u.closeNode())}parseOpen(u){u.name===this.tag&&(this.attr?this.model=this._parse(u.attributes[this.attr]):this.text=[])}parseText(u){this.attr||this.text.push(u)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{constructor(u){super(),this.tag=u.tag,this.attr=u.attr,this.attrs=u.attrs,this.zero=u.zero}render(u,f){(f||this.zero)&&(u.openNode(this.tag),this.attrs&&u.addAttributes(this.attrs),this.attr?u.addAttribute(this.attr,f):u.writeText(f),u.closeNode())}parseOpen(u){return u.name===this.tag&&(this.attr?this.model=parseInt(u.attributes[this.attr],10):this.text=[],!0)}parseText(u){this.attr||this.text.push(u)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{constructor(u){super(),this.tag=u.tag,this.attr=u.attr,this.attrs=u.attrs}render(u,f){f!==void 0&&(u.openNode(this.tag),this.attrs&&u.addAttributes(this.attrs),this.attr?u.addAttribute(this.attr,f):u.writeText(f),u.closeNode())}parseOpen(u){u.name===this.tag&&(this.attr?this.model=u.attributes[this.attr]:this.text=[])}parseText(u){this.attr||this.text.push(u)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(r,I,k){const p=r("./base-xform"),u=r("../../utils/xml-stream");I.exports=class extends p{constructor(f){super(),this._model=f}render(f){if(!this._xml){const i=new u;(function t(n,c){n.openNode(c.tag,c.$),c.c&&c.c.forEach(a=>{t(n,a)}),c.t&&n.writeText(c.t),n.closeNode()})(i,this._model),this._xml=i.xml}f.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(f){switch(f){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(r,I,k){const p=r("./text-xform"),u=r("./rich-text-xform"),f=r("../base-xform");I.exports=class extends f{constructor(){super(),this.map={r:new u,t:new p}}get tag(){return"rPh"}render(i,t){if(i.openNode(this.tag,{sb:t.sb||0,eb:t.eb||0}),t&&t.hasOwnProperty("richText")&&t.richText){const{r:n}=this.map;t.richText.forEach(c=>{n.render(i,c)})}else t&&this.map.t.render(i,t.text);i.closeNode()}parseOpen(i){const{name:t}=i;return this.parser?(this.parser.parseOpen(i),!0):t===this.tag?(this.model={sb:parseInt(i.attributes.sb,10),eb:parseInt(i.attributes.eb,10)},!0):(this.parser=this.map[t],!!this.parser&&(this.parser.parseOpen(i),!0))}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser){if(!this.parser.parseClose(i)){switch(i){case"r":{let t=this.model.richText;t||(t=this.model.richText=[]),t.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(i){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(r,I,k){const p=r("./text-xform"),u=r("../style/font-xform"),f=r("../base-xform");class i extends f{constructor(n){super(),this.model=n}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new p)}get fontXform(){return this._fontXform||(this._fontXform=new u(i.FONT_OPTIONS))}render(n,c){c=c||this.model,n.openNode("r"),c.font&&this.fontXform.render(n,c.font),this.textXform.render(n,c.text),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(n),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(n),!0;default:return!1}}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){switch(n){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(n),!0}}}i.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},I.exports=i},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(r,I,k){const p=r("./text-xform"),u=r("./rich-text-xform"),f=r("./phonetic-text-xform"),i=r("../base-xform");I.exports=class extends i{constructor(t){super(),this.model=t,this.map={r:new u,t:new p,rPh:new f}}get tag(){return"si"}render(t,n){t.openNode(this.tag),n&&n.hasOwnProperty("richText")&&n.richText?n.richText.length?n.richText.forEach(c=>{this.map.r.render(t,c)}):this.map.t.render(t,""):n!=null&&this.map.t.render(t,n),t.closeNode()}parseOpen(t){const{name:n}=t;return this.parser?(this.parser.parseOpen(t),!0):n===this.tag?(this.model={},!0):(this.parser=this.map[n],!!this.parser&&(this.parser.parseOpen(t),!0))}parseText(t){this.parser&&this.parser.parseText(t)}parseClose(t){if(this.parser){if(!this.parser.parseClose(t)){switch(t){case"r":{let n=this.model.richText;n||(n=this.model.richText=[]),n.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(t){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(r,I,k){const p=r("../../../utils/xml-stream"),u=r("../base-xform"),f=r("./shared-string-xform");I.exports=class extends u{constructor(i){super(),this.model=i||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new f)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(i){return this.model.values[i]}add(i){return i.richText?this.addRichText(i):this.addText(i)}addText(i){let t=this.hash[i];return t===void 0&&(t=this.hash[i]=this.model.values.length,this.model.values.push(i)),this.model.count++,t}addRichText(i){const t=this.sharedStringXform.toXml(i);let n=this.rich[t];return n===void 0&&(n=this.rich[t]=this.model.values.length,this.model.values.push(i)),this.model.count++,n}render(i,t){t=t||this._values,i.openXml(p.StdDocAttributes),i.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:t.count,uniqueCount:t.values.length});const n=this.sharedStringXform;t.values.forEach(c=>{n.render(i,c)}),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(i),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(i))}}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){if(this.parser)return this.parser.parseClose(i)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(i){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+i)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{get tag(){return"t"}render(u,f){u.openNode("t"),/^\s|\n|\s$/.test(f)&&u.addAttribute("xml:space","preserve"),u.writeText(f),u.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(u,f)=>String.fromCharCode(parseInt(f,16)))}parseOpen(u){switch(u.name){case"t":return this._text=[],!0;default:return!1}}parseText(u){this._text.push(u)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(r,I,k){const p=r("../../../doc/enums"),u=r("../../../utils/utils"),f=r("../base-xform"),i={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((n,c)=>(n[c]=!0,n),{}),horizontal(n){return this.horizontalValues[n]?n:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((n,c)=>(n[c]=!0,n),{}),vertical(n){return n==="middle"?"center":this.verticalValues[n]?n:void 0},wrapText:n=>!!n||void 0,shrinkToFit:n=>!!n||void 0,textRotation(n){switch(n){case"vertical":return n;default:return(n=u.validInt(n))>=-90&&n<=90?n:void 0}},indent:n=>(n=u.validInt(n),Math.max(0,n)),readingOrder(n){switch(n){case"ltr":return p.ReadingOrder.LeftToRight;case"rtl":return p.ReadingOrder.RightToLeft;default:return}}},t={toXml(n){if(n=i.textRotation(n)){if(n==="vertical")return 255;const c=Math.round(n);if(c>=0&&c<=90)return c;if(c<0&&c>=-90)return 90-c}},toModel(n){const c=u.validInt(n);if(c!==void 0){if(c===255)return"vertical";if(c>=0&&c<=90)return c;if(c>90&&c<=180)return 90-c}}};I.exports=class extends f{get tag(){return"alignment"}render(n,c){n.addRollback(),n.openNode("alignment");let a=!1;function l(g,b){b&&(n.addAttribute(g,b),a=!0)}l("horizontal",i.horizontal(c.horizontal)),l("vertical",i.vertical(c.vertical)),l("wrapText",!!i.wrapText(c.wrapText)&&"1"),l("shrinkToFit",!!i.shrinkToFit(c.shrinkToFit)&&"1"),l("indent",i.indent(c.indent)),l("textRotation",t.toXml(c.textRotation)),l("readingOrder",i.readingOrder(c.readingOrder)),n.closeNode(),a?n.commit():n.rollback()}parseOpen(n){const c={};let a=!1;function l(g,b,d){g&&(c[b]=d,a=!0)}l(n.attributes.horizontal,"horizontal",n.attributes.horizontal),l(n.attributes.vertical,"vertical",n.attributes.vertical==="center"?"middle":n.attributes.vertical),l(n.attributes.wrapText,"wrapText",u.parseBoolean(n.attributes.wrapText)),l(n.attributes.shrinkToFit,"shrinkToFit",u.parseBoolean(n.attributes.shrinkToFit)),l(n.attributes.indent,"indent",parseInt(n.attributes.indent,10)),l(n.attributes.textRotation,"textRotation",t.toModel(n.attributes.textRotation)),l(n.attributes.readingOrder,"readingOrder",n.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=a?c:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(r,I,k){const p=r("../base-xform"),u=r("../../../utils/utils"),f=r("./color-xform");class i extends p{constructor(n){super(),this.name=n,this.map={color:new f}}get tag(){return this.name}render(n,c,a){const l=c&&c.color||a||this.defaultColor;n.openNode(this.name),c&&c.style&&(n.addAttribute("style",c.style),l&&this.map.color.render(n,l)),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case this.name:{const{style:c}=n.attributes;return this.model=c?{style:c}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(n),!0;default:return!1}}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){return this.parser?(this.parser.parseClose(n)||(this.parser=void 0),!0):(n===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(n){return i.validStyleValues[n]}}i.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((t,n)=>(t[n]=!0,t),{}),I.exports=class extends p{constructor(){super(),this.map={top:new i("top"),left:new i("left"),bottom:new i("bottom"),right:new i("right"),diagonal:new i("diagonal")}}render(t,n){const{color:c}=n;function a(l,g){l&&!l.color&&n.color&&(l={...l,color:n.color}),g.render(t,l,c)}t.openNode("border"),n.diagonal&&n.diagonal.style&&(n.diagonal.up&&t.addAttribute("diagonalUp","1"),n.diagonal.down&&t.addAttribute("diagonalDown","1")),a(n.left,this.map.left),a(n.right,this.map.right),a(n.top,this.map.top),a(n.bottom,this.map.bottom),a(n.diagonal,this.map.diagonal),t.closeNode()}parseOpen(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case"border":return this.reset(),this.diagonalUp=u.parseBoolean(t.attributes.diagonalUp),this.diagonalDown=u.parseBoolean(t.attributes.diagonalDown),!0;default:return this.parser=this.map[t.name],!!this.parser&&(this.parser.parseOpen(t),!0)}}parseText(t){this.parser&&this.parser.parseText(t)}parseClose(t){if(this.parser)return this.parser.parseClose(t)||(this.parser=void 0),!0;if(t==="border"){const n=this.model={},c=function(a,l,g){l&&(g&&Object.assign(l,g),n[a]=l)};c("left",this.map.left.model),c("right",this.map.right.model),c("top",this.map.top.model),c("bottom",this.map.bottom.model),c("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{constructor(u){super(),this.name=u||"color"}get tag(){return this.name}render(u,f){return!!f&&(u.openNode(this.name),f.argb?u.addAttribute("rgb",f.argb):f.theme!==void 0?(u.addAttribute("theme",f.theme),f.tint!==void 0&&u.addAttribute("tint",f.tint)):f.indexed!==void 0?u.addAttribute("indexed",f.indexed):u.addAttribute("auto","1"),u.closeNode(),!0)}parseOpen(u){return u.name===this.name&&(u.attributes.rgb?this.model={argb:u.attributes.rgb}:u.attributes.theme?(this.model={theme:parseInt(u.attributes.theme,10)},u.attributes.tint&&(this.model.tint=parseFloat(u.attributes.tint))):u.attributes.indexed?this.model={indexed:parseInt(u.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(r,I,k){const p=r("../base-xform"),u=r("./alignment-xform"),f=r("./border-xform"),i=r("./fill-xform"),t=r("./font-xform"),n=r("./numfmt-xform"),c=r("./protection-xform");I.exports=class extends p{constructor(){super(),this.map={alignment:new u,border:new f,fill:new i,font:new t,numFmt:new n,protection:new c}}get tag(){return"dxf"}render(a,l){if(a.openNode(this.tag),l.font&&this.map.font.render(a,l.font),l.numFmt&&l.numFmtId){const g={id:l.numFmtId,formatCode:l.numFmt};this.map.numFmt.render(a,g)}l.fill&&this.map.fill.render(a,l.fill),l.alignment&&this.map.alignment.render(a,l.alignment),l.border&&this.map.border.render(a,l.border),l.protection&&this.map.protection.render(a,l.protection),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a),!0}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.parser=void 0),!0):a!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(r,I,k){const p=r("../base-xform"),u=r("./color-xform");class f extends p{constructor(){super(),this.map={color:new u}}get tag(){return"stop"}render(a,l){a.openNode("stop"),a.addAttribute("position",l.position),this.map.color.render(a,l.color),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"stop":return this.model={position:parseFloat(a.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(a),!0;default:return!1}}parseText(){}parseClose(a){return!!this.parser&&(this.parser.parseClose(a)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class i extends p{constructor(){super(),this.map={fgColor:new u("fgColor"),bgColor:new u("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(a,l){a.openNode("patternFill"),a.addAttribute("patternType",l.pattern),l.fgColor&&this.map.fgColor.render(a,l.fgColor),l.bgColor&&this.map.bgColor.render(a,l.bgColor),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"patternFill":return this.model={type:"pattern",pattern:a.attributes.patternType},!0;default:return this.parser=this.map[a.name],!!this.parser&&(this.parser.parseOpen(a),!0)}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){return!!this.parser&&(this.parser.parseClose(a)||(this.parser.model&&(this.model[a]=this.parser.model),this.parser=void 0),!0)}}class t extends p{constructor(){super(),this.map={stop:new f}}get name(){return"gradient"}get tag(){return"gradientFill"}render(a,l){switch(a.openNode("gradientFill"),l.gradient){case"angle":a.addAttribute("degree",l.degree);break;case"path":a.addAttribute("type","path"),l.center.left&&(a.addAttribute("left",l.center.left),l.center.right===void 0&&a.addAttribute("right",l.center.left)),l.center.right&&a.addAttribute("right",l.center.right),l.center.top&&(a.addAttribute("top",l.center.top),l.center.bottom===void 0&&a.addAttribute("bottom",l.center.top)),l.center.bottom&&a.addAttribute("bottom",l.center.bottom)}const g=this.map.stop;l.stops.forEach(b=>{g.render(a,b)}),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"gradientFill":{const l=this.model={stops:[]};return a.attributes.degree?(l.gradient="angle",l.degree=parseInt(a.attributes.degree,10)):a.attributes.type==="path"&&(l.gradient="path",l.center={left:a.attributes.left?parseFloat(a.attributes.left):0,top:a.attributes.top?parseFloat(a.attributes.top):0},a.attributes.right!==a.attributes.left&&(l.center.right=a.attributes.right?parseFloat(a.attributes.right):0),a.attributes.bottom!==a.attributes.top&&(l.center.bottom=a.attributes.bottom?parseFloat(a.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(a),!0;default:return!1}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){return!!this.parser&&(this.parser.parseClose(a)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class n extends p{constructor(){super(),this.map={patternFill:new i,gradientFill:new t}}get tag(){return"fill"}render(a,l){switch(a.addRollback(),a.openNode("fill"),l.type){case"pattern":this.map.patternFill.render(a,l);break;case"gradient":this.map.gradientFill.render(a,l);break;default:return void a.rollback()}a.closeNode(),a.commit()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"fill":return this.model={},!0;default:return this.parser=this.map[a.name],!!this.parser&&(this.parser.parseOpen(a),!0)}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){return!!this.parser&&(this.parser.parseClose(a)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(a){return n.validPatternValues[a]}}n.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((c,a)=>(c[a]=!0,c),{}),n.StopXform=f,n.PatternFillXform=i,n.GradientFillXform=t,I.exports=n},{"../base-xform":32,"./color-xform":128}],131:[function(r,I,k){const p=r("./color-xform"),u=r("../simple/boolean-xform"),f=r("../simple/integer-xform"),i=r("../simple/string-xform"),t=r("./underline-xform"),n=r("../../../utils/under-dash"),c=r("../base-xform");class a extends c{constructor(g){super(),this.options=g||a.OPTIONS,this.map={b:{prop:"bold",xform:new u({tag:"b",attr:"val"})},i:{prop:"italic",xform:new u({tag:"i",attr:"val"})},u:{prop:"underline",xform:new t},charset:{prop:"charset",xform:new f({tag:"charset",attr:"val"})},color:{prop:"color",xform:new p},condense:{prop:"condense",xform:new u({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new u({tag:"extend",attr:"val"})},family:{prop:"family",xform:new f({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new u({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new i({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new i({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new u({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new u({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new f({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new i({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(g,b){const{map:d}=this;g.openNode(this.options.tagName),n.each(this.map,(w,y)=>{d[y].xform.render(g,b[w.prop])}),g.closeNode()}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;if(this.map[g.name])return this.parser=this.map[g.name].xform,this.parser.parseOpen(g);switch(g.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser&&!this.parser.parseClose(g)){const b=this.map[g];return this.parser.model&&(this.model[b.prop]=this.parser.model),this.parser=void 0,!0}switch(g){case this.options.tagName:return!1;default:return!0}}}a.OPTIONS={tagName:"font",fontNameTag:"name"},I.exports=a},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(r,I,k){const p=r("../../../utils/under-dash"),u=r("../../defaultnumformats"),f=r("../base-xform"),i=function(){const n={};return p.each(u,(c,a)=>{c.f&&(n[c.f]=parseInt(a,10))}),n}();class t extends f{constructor(c,a){super(),this.id=c,this.formatCode=a}get tag(){return"numFmt"}render(c,a){c.leafNode("numFmt",{numFmtId:a.id,formatCode:a.formatCode})}parseOpen(c){switch(c.name){case"numFmt":return this.model={id:parseInt(c.attributes.numFmtId,10),formatCode:c.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}t.getDefaultFmtId=function(n){return i[n]},t.getDefaultFmtCode=function(n){return u[n]&&u[n].f},I.exports=t},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(r,I,k){const p=r("../base-xform"),u={boolean:(f,i)=>f===void 0?i:f};I.exports=class extends p{get tag(){return"protection"}render(f,i){f.addRollback(),f.openNode("protection");let t=!1;function n(c,a){a!==void 0&&(f.addAttribute(c,a),t=!0)}n("locked",u.boolean(i.locked,!0)?void 0:"0"),n("hidden",u.boolean(i.hidden,!1)?"1":void 0),f.closeNode(),t?f.commit():f.rollback()}parseOpen(f){const i={locked:f.attributes.locked!=="0",hidden:f.attributes.hidden==="1"},t=!i.locked||i.hidden;this.model=t?i:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(r,I,k){const p=r("../base-xform"),u=r("./alignment-xform"),f=r("./protection-xform");I.exports=class extends p{constructor(i){super(),this.xfId=!(!i||!i.xfId),this.map={alignment:new u,protection:new f}}get tag(){return"xf"}render(i,t){i.openNode("xf",{numFmtId:t.numFmtId||0,fontId:t.fontId||0,fillId:t.fillId||0,borderId:t.borderId||0}),this.xfId&&i.addAttribute("xfId",t.xfId||0),t.numFmtId&&i.addAttribute("applyNumberFormat","1"),t.fontId&&i.addAttribute("applyFont","1"),t.fillId&&i.addAttribute("applyFill","1"),t.borderId&&i.addAttribute("applyBorder","1"),t.alignment&&i.addAttribute("applyAlignment","1"),t.protection&&i.addAttribute("applyProtection","1"),t.alignment&&this.map.alignment.render(i,t.alignment),t.protection&&this.map.protection.render(i,t.protection),i.closeNode()}parseOpen(i){if(this.parser)return this.parser.parseOpen(i),!0;switch(i.name){case"xf":return this.model={numFmtId:parseInt(i.attributes.numFmtId,10),fontId:parseInt(i.attributes.fontId,10),fillId:parseInt(i.attributes.fillId,10),borderId:parseInt(i.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(i.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(i),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(i),!0;default:return!1}}parseText(i){this.parser&&this.parser.parseText(i)}parseClose(i){return this.parser?(this.parser.parseClose(i)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):i!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(r,I,k){const p=r("../../../doc/enums"),u=r("../../../utils/xml-stream"),f=r("../base-xform"),i=r("../static-xform"),t=r("../list-xform"),n=r("./font-xform"),c=r("./fill-xform"),a=r("./border-xform"),l=r("./numfmt-xform"),g=r("./style-xform"),b=r("./dxf-xform");class d extends f{constructor(y){super(),this.map={numFmts:new t({tag:"numFmts",count:!0,childXform:new l}),fonts:new t({tag:"fonts",count:!0,childXform:new n,$:{"x14ac:knownFonts":1}}),fills:new t({tag:"fills",count:!0,childXform:new c}),borders:new t({tag:"borders",count:!0,childXform:new a}),cellStyleXfs:new t({tag:"cellStyleXfs",count:!0,childXform:new g}),cellXfs:new t({tag:"cellXfs",count:!0,childXform:new g({xfId:!0})}),dxfs:new t({tag:"dxfs",always:!0,count:!0,childXform:new b}),numFmt:new l,font:new n,fill:new c,border:new a,style:new g({xfId:!0}),cellStyles:d.STATIC_XFORMS.cellStyles,tableStyles:d.STATIC_XFORMS.tableStyles,extLst:d.STATIC_XFORMS.extLst},y&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(y,T){T=T||this.model,y.openXml(u.StdDocAttributes),y.openNode("styleSheet",d.STYLESHEET_ATTRIBUTES),this.index?(T.numFmts&&T.numFmts.length&&(y.openNode("numFmts",{count:T.numFmts.length}),T.numFmts.forEach(M=>{y.writeXml(M)}),y.closeNode()),T.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),y.openNode("fonts",{count:T.fonts.length,"x14ac:knownFonts":1}),T.fonts.forEach(M=>{y.writeXml(M)}),y.closeNode(),y.openNode("fills",{count:T.fills.length}),T.fills.forEach(M=>{y.writeXml(M)}),y.closeNode(),y.openNode("borders",{count:T.borders.length}),T.borders.forEach(M=>{y.writeXml(M)}),y.closeNode(),this.map.cellStyleXfs.render(y,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),y.openNode("cellXfs",{count:T.styles.length}),T.styles.forEach(M=>{y.writeXml(M)}),y.closeNode()):(this.map.numFmts.render(y,T.numFmts),this.map.fonts.render(y,T.fonts),this.map.fills.render(y,T.fills),this.map.borders.render(y,T.borders),this.map.cellStyleXfs.render(y,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(y,T.styles)),d.STATIC_XFORMS.cellStyles.render(y),this.map.dxfs.render(y,T.dxfs),d.STATIC_XFORMS.tableStyles.render(y),d.STATIC_XFORMS.extLst.render(y),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y),!0}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser)return this.parser.parseClose(y)||(this.parser=void 0),!0;switch(y){case"styleSheet":{this.model={};const T=(M,j)=>{j.model&&j.model.length&&(this.model[M]=j.model)};if(T("numFmts",this.map.numFmts),T("fonts",this.map.fonts),T("fills",this.map.fills),T("borders",this.map.borders),T("styles",this.map.cellXfs),T("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const M=this.index.numFmt;this.model.numFmts.forEach(j=>{M[j.id]=j.formatCode})}return!1}default:return!0}}addStyleModel(y,T){if(!y)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(y))return this.weakMap.get(y);const M={};if(T=T||p.ValueType.Number,y.numFmt)M.numFmtId=this._addNumFmtStr(y.numFmt);else switch(T){case p.ValueType.Number:M.numFmtId=this._addNumFmtStr("General");break;case p.ValueType.Date:M.numFmtId=this._addNumFmtStr("mm-dd-yy")}y.font&&(M.fontId=this._addFont(y.font)),y.border&&(M.borderId=this._addBorder(y.border)),y.fill&&(M.fillId=this._addFill(y.fill)),y.alignment&&(M.alignment=y.alignment),y.protection&&(M.protection=y.protection);const j=this._addStyle(M);return this.weakMap&&this.weakMap.set(y,j),j}getStyleModel(y){const T=this.model.styles[y];if(!T)return null;let M=this.index.model[y];if(M)return M;if(M=this.index.model[y]={},T.numFmtId){const X=this.index.numFmt[T.numFmtId]||l.getDefaultFmtCode(T.numFmtId);X&&(M.numFmt=X)}function j(X,Y,W){if(W||W===0){const q=Y[W];q&&(M[X]=q)}}return j("font",this.model.fonts,T.fontId),j("border",this.model.borders,T.borderId),j("fill",this.model.fills,T.fillId),T.alignment&&(M.alignment=T.alignment),T.protection&&(M.protection=T.protection),M}addDxfStyle(y){return y.numFmt&&(y.numFmtId=this._addNumFmtStr(y.numFmt)),this.model.dxfs.push(y),this.model.dxfs.length-1}getDxfStyle(y){return this.model.dxfs[y]}_addStyle(y){const T=this.map.style.toXml(y);let M=this.index.style[T];return M===void 0&&(M=this.index.style[T]=this.model.styles.length,this.model.styles.push(T)),M}_addNumFmtStr(y){let T=l.getDefaultFmtId(y);if(T!==void 0||(T=this.index.numFmt[y],T!==void 0))return T;T=this.index.numFmt[y]=164+this.model.numFmts.length;const M=this.map.numFmt.toXml({id:T,formatCode:y});return this.model.numFmts.push(M),T}_addFont(y){const T=this.map.font.toXml(y);let M=this.index.font[T];return M===void 0&&(M=this.index.font[T]=this.model.fonts.length,this.model.fonts.push(T)),M}_addBorder(y){const T=this.map.border.toXml(y);let M=this.index.border[T];return M===void 0&&(M=this.index.border[T]=this.model.borders.length,this.model.borders.push(T)),M}_addFill(y){const T=this.map.fill.toXml(y);let M=this.index.fill[T];return M===void 0&&(M=this.index.fill[T]=this.model.fills.length,this.model.fills.push(T)),M}}d.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},d.STATIC_XFORMS={cellStyles:new i({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new i({tag:"dxfs",$:{count:0}}),tableStyles:new i({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new i({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},d.Mock=class extends d{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(w){return w.autodrain(),Promise.resolve()}addStyleModel(w,y){switch(y){case p.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const w={numFmtId:l.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(w)}return this._dateStyleId}getStyleModel(){return{}}},I.exports=d},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(r,I,k){const p=r("../base-xform");class u extends p{constructor(i){super(),this.model=i}get tag(){return"u"}render(i,t){if((t=t||this.model)===!0)i.leafNode("u");else{const n=u.Attributes[t];n&&i.leafNode("u",n)}}parseOpen(i){i.name==="u"&&(this.model=i.attributes.val||!0)}parseText(){}parseClose(){return!1}}u.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},I.exports=u},{"../base-xform":32}],137:[function(r,I,k){const p=r("../base-xform"),u=r("./filter-column-xform");I.exports=class extends p{constructor(){super(),this.map={filterColumn:new u}}get tag(){return"autoFilter"}prepare(f){f.columns.forEach((i,t)=>{this.map.filterColumn.prepare(i,{index:t})})}render(f,i){return f.openNode(this.tag,{ref:i.autoFilterRef}),i.columns.forEach(t=>{this.map.filterColumn.render(f,t)}),f.closeNode(),!0}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case this.tag:return this.model={autoFilterRef:f.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[f.name],this.parser)return this.parseOpen(f),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(f))}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(f){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+f)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{get tag(){return"customFilter"}render(u,f){u.leafNode(this.tag,{val:f.val,operator:f.operator})}parseOpen(u){return u.name===this.tag&&(this.model={val:u.attributes.val,operator:u.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(r,I,k){const p=r("../base-xform"),u=r("../list-xform"),f=r("./custom-filter-xform"),i=r("./filter-xform");I.exports=class extends p{constructor(){super(),this.map={customFilters:new u({tag:"customFilters",count:!1,empty:!0,childXform:new f}),filters:new u({tag:"filters",count:!1,empty:!0,childXform:new i})}}get tag(){return"filterColumn"}prepare(t,n){t.colId=n.index.toString()}render(t,n){return n.customFilters?(t.openNode(this.tag,{colId:n.colId,hiddenButton:n.filterButton?"0":"1"}),this.map.customFilters.render(t,n.customFilters),t.closeNode(),!0):(t.leafNode(this.tag,{colId:n.colId,hiddenButton:n.filterButton?"0":"1"}),!0)}parseOpen(t){if(this.parser)return this.parser.parseOpen(t),!0;const{attributes:n}=t;switch(t.name){case this.tag:return this.model={filterButton:n.hiddenButton==="0"},!0;default:if(this.parser=this.map[t.name],this.parser)return this.parseOpen(t),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(t))}}parseText(){}parseClose(t){if(this.parser)return this.parser.parseClose(t)||(this.parser=void 0),!0;switch(t){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{get tag(){return"filter"}render(u,f){u.leafNode(this.tag,{val:f.val})}parseOpen(u){return u.name===this.tag&&(this.model={val:u.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{get tag(){return"tableColumn"}prepare(u,f){u.id=f.index+1}render(u,f){return u.leafNode(this.tag,{id:f.id.toString(),name:f.name,totalsRowLabel:f.totalsRowLabel,totalsRowFunction:f.totalsRowFunction,dxfId:f.dxfId}),!0}parseOpen(u){if(u.name===this.tag){const{attributes:f}=u;return this.model={name:f.name,totalsRowLabel:f.totalsRowLabel,totalsRowFunction:f.totalsRowFunction,dxfId:f.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(r,I,k){const p=r("../base-xform");I.exports=class extends p{get tag(){return"tableStyleInfo"}render(u,f){return u.leafNode(this.tag,{name:f.theme?f.theme:void 0,showFirstColumn:f.showFirstColumn?"1":"0",showLastColumn:f.showLastColumn?"1":"0",showRowStripes:f.showRowStripes?"1":"0",showColumnStripes:f.showColumnStripes?"1":"0"}),!0}parseOpen(u){if(u.name===this.tag){const{attributes:f}=u;return this.model={theme:f.name?f.name:null,showFirstColumn:f.showFirstColumn==="1",showLastColumn:f.showLastColumn==="1",showRowStripes:f.showRowStripes==="1",showColumnStripes:f.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(r,I,k){const p=r("../../../utils/xml-stream"),u=r("../base-xform"),f=r("../list-xform"),i=r("./auto-filter-xform"),t=r("./table-column-xform"),n=r("./table-style-info-xform");class c extends u{constructor(){super(),this.map={autoFilter:new i,tableColumns:new f({tag:"tableColumns",count:!0,empty:!0,childXform:new t}),tableStyleInfo:new n}}prepare(l,g){this.map.autoFilter.prepare(l),this.map.tableColumns.prepare(l.columns,g)}get tag(){return"table"}render(l,g){l.openXml(p.StdDocAttributes),l.openNode(this.tag,{...c.TABLE_ATTRIBUTES,id:g.id,name:g.name,displayName:g.displayName||g.name,ref:g.tableRef,totalsRowCount:g.totalsRow?"1":void 0,totalsRowShown:g.totalsRow?void 0:"1",headerRowCount:g.headerRow?"1":"0"}),this.map.autoFilter.render(l,g),this.map.tableColumns.render(l,g.columns),this.map.tableStyleInfo.render(l,g.style),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;const{name:g,attributes:b}=l;switch(g){case this.tag:this.reset(),this.model={name:b.name,displayName:b.displayName||b.name,tableRef:b.ref,totalsRow:b.totalsRowCount==="1",headerRow:b.headerRowCount==="1"};break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((g,b)=>{this.model.columns[b].filterButton=g.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(l,g){l.columns.forEach(b=>{b.dxfId!==void 0&&(b.style=g.styles.getDxfStyle(b.dxfId))})}}c.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},I.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(r,I,k){(function(p,u){(function(){const f=r("fs"),i=r("jszip"),{PassThrough:t}=r("readable-stream"),n=r("../utils/zip-stream"),c=r("../utils/stream-buf"),a=r("../utils/utils"),l=r("../utils/xml-stream"),{bufferToString:g}=r("../utils/browser-buffer-decode"),b=r("./xform/style/styles-xform"),d=r("./xform/core/core-xform"),w=r("./xform/strings/shared-strings-xform"),y=r("./xform/core/relationships-xform"),T=r("./xform/core/content-types-xform"),M=r("./xform/core/app-xform"),j=r("./xform/book/workbook-xform"),X=r("./xform/sheet/worksheet-xform"),Y=r("./xform/drawing/drawing-xform"),W=r("./xform/table/table-xform"),q=r("./xform/comment/comments-xform"),K=r("./xform/comment/vml-notes-xform"),ie=r("./xml/theme1");class ${constructor(F){this.workbook=F}async readFile(F,A){if(!await a.fs.exists(F))throw new Error("File not found: "+F);const v=f.createReadStream(F);try{const _=await this.read(v,A);return v.close(),_}catch(_){throw v.close(),_}}parseRels(F){return new y().parseStream(F)}parseWorkbook(F){return new j().parseStream(F)}parseSharedStrings(F){return new w().parseStream(F)}reconcile(F,A){const v=new j,_=new X(A),S=new Y,C=new W;v.reconcile(F);const O={media:F.media,mediaIndex:F.mediaIndex};Object.keys(F.drawings).forEach(re=>{const ne=F.drawings[re],de=F.drawingRels[re];de&&(O.rels=de.reduce((H,ae)=>(H[ae.Id]=ae,H),{}),(ne.anchors||[]).forEach(H=>{const ae=H.picture&&H.picture.hyperlinks;ae&&O.rels[ae.rId]&&(ae.hyperlink=O.rels[ae.rId].Target,delete ae.rId)}),S.reconcile(ne,O))});const B={styles:F.styles};Object.values(F.tables).forEach(re=>{C.reconcile(re,B)});const z={styles:F.styles,sharedStrings:F.sharedStrings,media:F.media,mediaIndex:F.mediaIndex,date1904:F.properties&&F.properties.date1904,drawings:F.drawings,comments:F.comments,tables:F.tables,vmlDrawings:F.vmlDrawings};F.worksheets.forEach(re=>{re.relationships=F.worksheetRels[re.sheetNo],_.reconcile(re,z)}),delete F.worksheetHash,delete F.worksheetRels,delete F.globalRels,delete F.sharedStrings,delete F.workbookRels,delete F.sheetDefs,delete F.styles,delete F.mediaIndex,delete F.drawings,delete F.drawingRels,delete F.vmlDrawings}async _processWorksheetEntry(F,A,v,_,S){const C=new X(_),O=await C.parseStream(F);O.sheetNo=v,A.worksheetHash[S]=O,A.worksheets.push(O)}async _processCommentEntry(F,A,v){const _=new q,S=await _.parseStream(F);A.comments[`../${v}.xml`]=S}async _processTableEntry(F,A,v){const _=new W,S=await _.parseStream(F);A.tables[`../tables/${v}.xml`]=S}async _processWorksheetRelsEntry(F,A,v){const _=new y,S=await _.parseStream(F);A.worksheetRels[v]=S}async _processMediaEntry(F,A,v){const _=v.lastIndexOf(".");if(_>=1){const S=v.substr(_+1),C=v.substr(0,_);await new Promise((O,B)=>{const z=new c;z.on("finish",()=>{A.mediaIndex[v]=A.media.length,A.mediaIndex[C]=A.media.length;const re={type:"image",name:C,extension:S,buffer:z.toBuffer()};A.media.push(re),O()}),F.on("error",re=>{B(re)}),F.pipe(z)})}}async _processDrawingEntry(F,A,v){const _=new Y,S=await _.parseStream(F);A.drawings[v]=S}async _processDrawingRelsEntry(F,A,v){const _=new y,S=await _.parseStream(F);A.drawingRels[v]=S}async _processVmlDrawingEntry(F,A,v){const _=new K,S=await _.parseStream(F);A.vmlDrawings[`../drawings/${v}.vml`]=S}async _processThemeEntry(F,A,v){await new Promise((_,S)=>{const C=new c;F.on("error",S),C.on("error",S),C.on("finish",()=>{A.themes[v]=C.read().toString(),_()}),F.pipe(C)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(F,A){!F[Symbol.asyncIterator]&&F.pipe&&(F=F.pipe(new t));const v=[];for await(const _ of F)v.push(_);return this.load(u.concat(v),A)}async load(F,A){let v;v=A&&A.base64?u.from(F.toString(),"base64"):F;const _={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},S=await i.loadAsync(v);for(const C of Object.values(S.files))if(!C.dir){let O,B=C.name;if(B[0]==="/"&&(B=B.substr(1)),B.match(/xl\/media\//)||B.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))O=new t,O.write(await C.async("nodebuffer"));else{let z;O=new t({writableObjectMode:!0,readableObjectMode:!0}),z=p.browser?g(await C.async("nodebuffer")):await C.async("string");const re=16384;for(let ne=0;ne<z.length;ne+=re)O.write(z.substring(ne,ne+re))}switch(O.end(),B){case"_rels/.rels":_.globalRels=await this.parseRels(O);break;case"xl/workbook.xml":{const z=await this.parseWorkbook(O);_.sheets=z.sheets,_.definedNames=z.definedNames,_.views=z.views,_.properties=z.properties,_.calcProperties=z.calcProperties;break}case"xl/_rels/workbook.xml.rels":_.workbookRels=await this.parseRels(O);break;case"xl/sharedStrings.xml":_.sharedStrings=new w,await _.sharedStrings.parseStream(O);break;case"xl/styles.xml":_.styles=new b,await _.styles.parseStream(O);break;case"docProps/app.xml":{const z=new M,re=await z.parseStream(O);_.company=re.company,_.manager=re.manager;break}case"docProps/core.xml":{const z=new d,re=await z.parseStream(O);Object.assign(_,re);break}default:{let z=B.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(z){await this._processWorksheetEntry(O,_,z[1],A,B);break}if(z=B.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),z){await this._processWorksheetRelsEntry(O,_,z[1]);break}if(z=B.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),z){await this._processThemeEntry(O,_,z[1]);break}if(z=B.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),z){await this._processMediaEntry(O,_,z[1]);break}if(z=B.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),z){await this._processDrawingEntry(O,_,z[1]);break}if(z=B.match(/xl\/(comments\d+)[.]xml/),z){await this._processCommentEntry(O,_,z[1]);break}if(z=B.match(/xl\/tables\/(table\d+)[.]xml/),z){await this._processTableEntry(O,_,z[1]);break}if(z=B.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),z){await this._processDrawingRelsEntry(O,_,z[1]);break}if(z=B.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),z){await this._processVmlDrawingEntry(O,_,z[1]);break}}}}return this.reconcile(_,A),this.workbook.model=_,this.workbook}async addMedia(F,A){await Promise.all(A.media.map(async v=>{if(v.type==="image"){const _=`xl/media/${v.name}.${v.extension}`;if(v.filename){const S=await function(C,O){return new Promise((B,z)=>{f.readFile(C,O,(re,ne)=>{re?z(re):B(ne)})})}(v.filename);return F.append(S,{name:_})}if(v.buffer)return F.append(v.buffer,{name:_});if(v.base64){const S=v.base64,C=S.substring(S.indexOf(",")+1);return F.append(C,{name:_,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(F,A){const v=new Y,_=new y;A.worksheets.forEach(S=>{const{drawing:C}=S;if(C){v.prepare(C,{});let O=v.toXml(C);F.append(O,{name:`xl/drawings/${C.name}.xml`}),O=_.toXml(C.rels),F.append(O,{name:`xl/drawings/_rels/${C.name}.xml.rels`})}})}addTables(F,A){const v=new W;A.worksheets.forEach(_=>{const{tables:S}=_;S.forEach(C=>{v.prepare(C,{});const O=v.toXml(C);F.append(O,{name:"xl/tables/"+C.target})})})}async addContentTypes(F,A){const v=new T().toXml(A);F.append(v,{name:"[Content_Types].xml"})}async addApp(F,A){const v=new M().toXml(A);F.append(v,{name:"docProps/app.xml"})}async addCore(F,A){const v=new d;F.append(v.toXml(A),{name:"docProps/core.xml"})}async addThemes(F,A){const v=A.themes||{theme1:ie};Object.keys(v).forEach(_=>{const S=v[_],C=`xl/theme/${_}.xml`;F.append(S,{name:C})})}async addOfficeRels(F){const A=new y().toXml([{Id:"rId1",Type:$.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:$.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:$.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);F.append(A,{name:"_rels/.rels"})}async addWorkbookRels(F,A){let v=1;const _=[{Id:"rId"+v++,Type:$.RelType.Styles,Target:"styles.xml"},{Id:"rId"+v++,Type:$.RelType.Theme,Target:"theme/theme1.xml"}];A.sharedStrings.count&&_.push({Id:"rId"+v++,Type:$.RelType.SharedStrings,Target:"sharedStrings.xml"}),A.worksheets.forEach(C=>{C.rId="rId"+v++,_.push({Id:C.rId,Type:$.RelType.Worksheet,Target:`worksheets/sheet${C.id}.xml`})});const S=new y().toXml(_);F.append(S,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(F,A){A.sharedStrings&&A.sharedStrings.count&&F.append(A.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(F,A){const{xml:v}=A.styles;v&&F.append(v,{name:"xl/styles.xml"})}async addWorkbook(F,A){const v=new j;F.append(v.toXml(A),{name:"xl/workbook.xml"})}async addWorksheets(F,A){const v=new X,_=new y,S=new q,C=new K;A.worksheets.forEach(O=>{let B=new l;v.render(B,O),F.append(B.xml,{name:`xl/worksheets/sheet${O.id}.xml`}),O.rels&&O.rels.length&&(B=new l,_.render(B,O.rels),F.append(B.xml,{name:`xl/worksheets/_rels/sheet${O.id}.xml.rels`})),O.comments.length>0&&(B=new l,S.render(B,O),F.append(B.xml,{name:`xl/comments${O.id}.xml`}),B=new l,C.render(B,O),F.append(B.xml,{name:`xl/drawings/vmlDrawing${O.id}.vml`}))})}_finalize(F){return new Promise((A,v)=>{F.on("finish",()=>{A(this)}),F.on("error",v),F.finalize()})}prepareModel(F,A){F.creator=F.creator||"ExcelJS",F.lastModifiedBy=F.lastModifiedBy||"ExcelJS",F.created=F.created||new Date,F.modified=F.modified||new Date,F.useSharedStrings=A.useSharedStrings===void 0||A.useSharedStrings,F.useStyles=A.useStyles===void 0||A.useStyles,F.sharedStrings=new w,F.styles=F.useStyles?new b(!0):new b.Mock;const v=new j,_=new X;v.prepare(F);const S={sharedStrings:F.sharedStrings,styles:F.styles,date1904:F.properties.date1904,drawingsCount:0,media:F.media};S.drawings=F.drawings=[],S.commentRefs=F.commentRefs=[];let C=0;F.tables=[],F.worksheets.forEach(O=>{O.tables.forEach(B=>{C++,B.target=`table${C}.xml`,B.id=C,F.tables.push(B)}),_.prepare(O,S)})}async write(F,A){A=A||{};const{model:v}=this.workbook,_=new n.ZipWriter(A.zip);return _.pipe(F),this.prepareModel(v,A),await this.addContentTypes(_,v),await this.addOfficeRels(_,v),await this.addWorkbookRels(_,v),await this.addWorksheets(_,v),await this.addSharedStrings(_,v),await this.addDrawings(_,v),await this.addTables(_,v),await Promise.all([this.addThemes(_,v),this.addStyles(_,v)]),await this.addMedia(_,v),await Promise.all([this.addApp(_,v),this.addCore(_,v)]),await this.addWorkbook(_,v),this._finalize(_)}writeFile(F,A){const v=f.createWriteStream(F);return new Promise((_,S)=>{v.on("finish",()=>{_()}),v.on("error",C=>{S(C)}),this.write(v,A).then(()=>{v.end()}).catch(C=>{S(C)})})}async writeBuffer(F){const A=new c;return await this.write(A,F),A.read()}}$.RelType=r("./rel-type"),I.exports=$}).call(this)}).call(this,r("_process"),r("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(r,I,k){I.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/> <a:font script="Hang" typeface="맑은 고딕"/> <a:font script="Hans" typeface="宋体"/> <a:font script="Hant" typeface="新細明體"/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(r,I,k){(function(p){(function(){Object.defineProperty(k,"__esModule",{value:!0}),k.CsvFormatterStream=void 0;const u=r("stream"),f=r("./formatter");class i extends u.Transform{constructor(n){super({writableObjectMode:n.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=n,this.rowFormatter=new f.RowFormatter(n),this.hasWrittenBOM=!n.writeBOM}transform(n){return this.rowFormatter.rowTransform=n,this}_transform(n,c,a){let l=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(n,(g,b)=>g?(l=!0,a(g)):(b&&b.forEach(d=>{this.push(p.from(d,"utf8"))}),l=!0,a()))}catch(g){if(l)throw g;a(g)}}_flush(n){this.rowFormatter.finish((c,a)=>c?n(c):(a&&a.forEach(l=>{this.push(p.from(l,"utf8"))}),n()))}}k.CsvFormatterStream=i}).call(this)}).call(this,r("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(r,I,k){Object.defineProperty(k,"__esModule",{value:!0}),k.FormatterOptions=void 0,k.FormatterOptions=class{constructor(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var u;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,p||{}),(p==null?void 0:p.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(p==null?void 0:p.quote)===!0?this.quote='"':(p==null?void 0:p.quote)===!1&&(this.quote=""),typeof(p==null?void 0:p.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((u=p.writeHeaders)===null||u===void 0||u),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(r,I,k){var p=function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(k,"__esModule",{value:!0}),k.FieldFormatter=void 0;const u=p(r("lodash.isboolean")),f=p(r("lodash.isnil")),i=p(r("lodash.escaperegexp"));k.FieldFormatter=class{constructor(t){this._headers=null,this.formatterOptions=t,t.headers!==null&&(this.headers=t.headers),this.REPLACE_REGEXP=new RegExp(t.quote,"g");const n=`[${t.delimiter}${i.default(t.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(n)}set headers(t){this._headers=t}shouldQuote(t,n){const c=n?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return u.default(c)?c:Array.isArray(c)?c[t]:this._headers!==null&&c[this._headers[t]]}format(t,n,c){const a=(""+(f.default(t)?"":t)).replace(/\0/g,""),{formatterOptions:l}=this;return l.quote!==""&&a.indexOf(l.quote)!==-1?this.quoteField(a.replace(this.REPLACE_REGEXP,l.escapedQuote)):a.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(n,c)?this.quoteField(a):a}quoteField(t){const{quote:n}=this.formatterOptions;return`${n}${t}${n}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(r,I,k){var p=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(k,"__esModule",{value:!0}),k.RowFormatter=void 0;const u=p(r("lodash.isfunction")),f=p(r("lodash.isequal")),i=r("./FieldFormatter"),t=r("../types");class n{constructor(a){this.rowCount=0,this.formatterOptions=a,this.fieldFormatter=new i.FieldFormatter(a),this.headers=a.headers,this.shouldWriteHeaders=a.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),a.transform&&(this.rowTransform=a.transform)}static isRowHashArray(a){return!!Array.isArray(a)&&Array.isArray(a[0])&&a[0].length===2}static isRowArray(a){return Array.isArray(a)&&!this.isRowHashArray(a)}static gatherHeaders(a){return n.isRowHashArray(a)?a.map(l=>l[0]):Array.isArray(a)?a:Object.keys(a)}static createTransform(a){return t.isSyncTransform(a)?(l,g)=>{let b=null;try{b=a(l)}catch(d){return g(d)}return g(null,b)}:(l,g)=>{a(l,g)}}set rowTransform(a){if(!u.default(a))throw new TypeError("The transform should be a function");this._rowTransform=n.createTransform(a)}format(a,l){this.callTransformer(a,(g,b)=>{if(g)return l(g);if(!a)return l(null);const d=[];if(b){const{shouldFormatColumns:w,headers:y}=this.checkHeaders(b);if(this.shouldWriteHeaders&&y&&!this.hasWrittenHeaders&&(d.push(this.formatColumns(y,!0)),this.hasWrittenHeaders=!0),w){const T=this.gatherColumns(b);d.push(this.formatColumns(T,!1))}}return l(null,d)})}finish(a){const l=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return a(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));l.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&l.push(this.formatterOptions.rowDelimiter),a(null,l)}checkHeaders(a){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const l=n.gatherHeaders(a);return this.headers=l,this.fieldFormatter.headers=l,this.shouldWriteHeaders?{shouldFormatColumns:!f.default(l,a),headers:l}:{shouldFormatColumns:!0,headers:null}}gatherColumns(a){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(a)?n.isRowHashArray(a)?this.headers.map((l,g)=>{const b=a[g];return b?b[1]:""}):n.isRowArray(a)&&!this.shouldWriteHeaders?a:this.headers.map((l,g)=>a[g]):this.headers.map(l=>a[l])}callTransformer(a,l){return this._rowTransform?this._rowTransform(a,l):l(null,a)}formatColumns(a,l){const g=a.map((d,w)=>this.fieldFormatter.format(d,w,l)).join(this.formatterOptions.delimiter),{rowCount:b}=this;return this.rowCount+=1,b?[this.formatterOptions.rowDelimiter,g].join(""):g}}k.RowFormatter=n},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(r,I,k){Object.defineProperty(k,"__esModule",{value:!0}),k.FieldFormatter=k.RowFormatter=void 0;var p=r("./RowFormatter");Object.defineProperty(k,"RowFormatter",{enumerable:!0,get:function(){return p.RowFormatter}});var u=r("./FieldFormatter");Object.defineProperty(k,"FieldFormatter",{enumerable:!0,get:function(){return u.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(r,I,k){(function(p){(function(){var u=Object.create?function(w,y,T,M){M===void 0&&(M=T),Object.defineProperty(w,M,{enumerable:!0,get:function(){return y[T]}})}:function(w,y,T,M){M===void 0&&(M=T),w[M]=y[T]},f=Object.create?function(w,y){Object.defineProperty(w,"default",{enumerable:!0,value:y})}:function(w,y){w.default=y},i=function(w){if(w&&w.__esModule)return w;var y={};if(w!=null)for(var T in w)T!=="default"&&Object.prototype.hasOwnProperty.call(w,T)&&u(y,w,T);return f(y,w),y},t=function(w,y){for(var T in w)T==="default"||Object.prototype.hasOwnProperty.call(y,T)||u(y,w,T)};Object.defineProperty(k,"__esModule",{value:!0}),k.writeToPath=k.writeToString=k.writeToBuffer=k.writeToStream=k.write=k.format=k.FormatterOptions=k.CsvFormatterStream=void 0;const n=r("util"),c=r("stream"),a=i(r("fs")),l=r("./FormatterOptions"),g=r("./CsvFormatterStream");t(r("./types"),k);var b=r("./CsvFormatterStream");Object.defineProperty(k,"CsvFormatterStream",{enumerable:!0,get:function(){return b.CsvFormatterStream}});var d=r("./FormatterOptions");Object.defineProperty(k,"FormatterOptions",{enumerable:!0,get:function(){return d.FormatterOptions}}),k.format=w=>new g.CsvFormatterStream(new l.FormatterOptions(w)),k.write=(w,y)=>{const T=k.format(y),M=n.promisify((j,X)=>{T.write(j,void 0,X)});return w.reduce((j,X)=>j.then(()=>M(X)),Promise.resolve()).then(()=>T.end()).catch(j=>{T.emit("error",j)}),T},k.writeToStream=(w,y,T)=>k.write(y,T).pipe(w),k.writeToBuffer=function(w){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const T=[],M=new c.Writable({write(j,X,Y){T.push(j),Y()}});return new Promise((j,X)=>{M.on("error",X).on("finish",()=>j(p.concat(T))),k.write(w,y).pipe(M)})},k.writeToString=(w,y)=>k.writeToBuffer(w,y).then(T=>T.toString()),k.writeToPath=(w,y,T)=>{const M=a.createWriteStream(w,{encoding:"utf8"});return k.write(y,T).pipe(M)}}).call(this)}).call(this,r("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(r,I,k){Object.defineProperty(k,"__esModule",{value:!0}),k.isSyncTransform=void 0,k.isSyncTransform=p=>p.length===1},{}],153:[function(r,I,k){(function(p){(function(){Object.defineProperty(k,"__esModule",{value:!0}),k.CsvParserStream=void 0;const u=r("string_decoder"),f=r("stream"),i=r("./transforms"),t=r("./parser");class n extends f.Transform{constructor(a){super({objectMode:a.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=a,this.parser=new t.Parser(a),this.headerTransformer=new i.HeaderTransformer(a),this.decoder=new u.StringDecoder(a.encoding),this.rowTransformerValidator=new i.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(a){return this.rowTransformerValidator.rowTransform=a,this}validate(a){return this.rowTransformerValidator.rowValidator=a,this}emit(a){if(a==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var l=arguments.length,g=new Array(l>1?l-1:0),b=1;b<l;b++)g[b-1]=arguments[b];return super.emit(a,...g)}_transform(a,l,g){if(this.hasHitRowLimit)return g();const b=n.wrapDoneCallback(g);try{const{lines:d}=this,w=d+this.decoder.write(a),y=this.parse(w,!0);return this.processRows(y,b)}catch(d){return b(d)}}_flush(a){const l=n.wrapDoneCallback(a);if(this.hasHitRowLimit)return l();try{const g=this.lines+this.decoder.end(),b=this.parse(g,!1);return this.processRows(b,l)}catch(g){return l(g)}}parse(a,l){if(!a)return[];const{line:g,rows:b}=this.parser.parse(a,l);return this.lines=g,b}processRows(a,l){const g=a.length,b=d=>{const w=M=>M?l(M):d%100!=0?b(d+1):void p(()=>b(d+1));if(this.checkAndEmitHeaders(),d>=g||this.hasHitRowLimit)return l();if(this.parsedLineCount+=1,this.shouldSkipLine)return w();const y=a[d];this.rowCount+=1,this.parsedRowCount+=1;const T=this.rowCount;return this.transformRow(y,(M,j)=>{if(M)return this.rowCount-=1,w(M);if(!j)return w(new Error("expected transform result"));if(j.isValid){if(j.row)return this.pushRow(j.row,w)}else this.emit("data-invalid",j.row,T,j.reason);return w()})};b(0)}transformRow(a,l){try{this.headerTransformer.transform(a,(g,b)=>g?l(g):b?b.isValid?b.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(b.row,l):this.skipRow(l):(this.rowCount-=1,this.parsedRowCount-=1,l(null,{row:null,isValid:!0})):this.shouldEmitRows?l(null,{isValid:!1,row:a}):this.skipRow(l):l(new Error("Expected result from header transform")))}catch(g){l(g)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(a){return this.rowCount-=1,a(null,{row:null,isValid:!0})}pushRow(a,l){try{this.parserOptions.objectMode?this.push(a):this.push(JSON.stringify(a)),l()}catch(g){l(g)}}static wrapDoneCallback(a){let l=!1;return function(g){if(g){if(l)throw g;return l=!0,void a(g)}for(var b=arguments.length,d=new Array(b>1?b-1:0),w=1;w<b;w++)d[w-1]=arguments[w];a(...d)}}}k.CsvParserStream=n}).call(this)}).call(this,r("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(r,I,k){var p=function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(k,"__esModule",{value:!0}),k.ParserOptions=void 0;const u=p(r("lodash.escaperegexp")),f=p(r("lodash.isnil"));k.ParserOptions=class{constructor(i){var t;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,i||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=u.default(this.delimiter),this.escapeChar=(t=this.escape)!==null&&t!==void 0?t:this.quote,this.supportsComments=!f.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(r,I,k){var p=Object.create?function(b,d,w,y){y===void 0&&(y=w),Object.defineProperty(b,y,{enumerable:!0,get:function(){return d[w]}})}:function(b,d,w,y){y===void 0&&(y=w),b[y]=d[w]},u=Object.create?function(b,d){Object.defineProperty(b,"default",{enumerable:!0,value:d})}:function(b,d){b.default=d},f=function(b){if(b&&b.__esModule)return b;var d={};if(b!=null)for(var w in b)w!=="default"&&Object.prototype.hasOwnProperty.call(b,w)&&p(d,b,w);return u(d,b),d},i=function(b,d){for(var w in b)w==="default"||Object.prototype.hasOwnProperty.call(d,w)||p(d,b,w)};Object.defineProperty(k,"__esModule",{value:!0}),k.parseString=k.parseFile=k.parseStream=k.parse=k.ParserOptions=k.CsvParserStream=void 0;const t=f(r("fs")),n=r("stream"),c=r("./ParserOptions"),a=r("./CsvParserStream");i(r("./types"),k);var l=r("./CsvParserStream");Object.defineProperty(k,"CsvParserStream",{enumerable:!0,get:function(){return l.CsvParserStream}});var g=r("./ParserOptions");Object.defineProperty(k,"ParserOptions",{enumerable:!0,get:function(){return g.ParserOptions}}),k.parse=b=>new a.CsvParserStream(new c.ParserOptions(b)),k.parseStream=(b,d)=>b.pipe(new a.CsvParserStream(new c.ParserOptions(d))),k.parseFile=function(b){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.createReadStream(b).pipe(new a.CsvParserStream(new c.ParserOptions(d)))},k.parseString=(b,d)=>{const w=new n.Readable;return w.push(b),w.push(null),w.pipe(new a.CsvParserStream(new c.ParserOptions(d)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(r,I,k){Object.defineProperty(k,"__esModule",{value:!0}),k.Parser=void 0;const p=r("./Scanner"),u=r("./RowParser"),f=r("./Token");class i{constructor(n){this.parserOptions=n,this.rowParser=new u.RowParser(this.parserOptions)}static removeBOM(n){return n&&n.charCodeAt(0)===65279?n.slice(1):n}parse(n,c){const a=new p.Scanner({line:i.removeBOM(n),parserOptions:this.parserOptions,hasMoreData:c});return this.parserOptions.supportsComments?this.parseWithComments(a):this.parseWithoutComments(a)}parseWithoutComments(n){const c=[];let a=!0;for(;a;)a=this.parseRow(n,c);return{line:n.line,rows:c}}parseWithComments(n){const{parserOptions:c}=this,a=[];for(let l=n.nextCharacterToken;l!==null;l=n.nextCharacterToken)if(f.Token.isTokenComment(l,c)){if(n.advancePastLine()===null)return{line:n.lineFromCursor,rows:a};if(!n.hasMoreCharacters)return{line:n.lineFromCursor,rows:a};n.truncateToCursor()}else if(!this.parseRow(n,a))break;return{line:n.line,rows:a}}parseRow(n,c){if(!n.nextNonSpaceToken)return!1;const a=this.rowParser.parse(n);return a!==null&&(this.parserOptions.ignoreEmpty&&u.RowParser.isEmptyRow(a)||c.push(a),!0)}}k.Parser=i},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(r,I,k){Object.defineProperty(k,"__esModule",{value:!0}),k.RowParser=void 0;const p=r("./column"),u=r("./Token");k.RowParser=class{constructor(f){this.parserOptions=f,this.columnParser=new p.ColumnParser(f)}static isEmptyRow(f){return f.join("").replace(/\s+/g,"")===""}parse(f){const{parserOptions:i}=this,{hasMoreData:t}=f,n=f,c=[];let a=this.getStartToken(n,c);for(;a;){if(u.Token.isTokenRowDelimiter(a))return n.advancePastToken(a),!n.hasMoreCharacters&&u.Token.isTokenCarriageReturn(a,i)&&t?null:(n.truncateToCursor(),c);if(!this.shouldSkipColumnParse(n,a,c)){const l=this.columnParser.parse(n);if(l===null)return null;c.push(l)}a=n.nextNonSpaceToken}return t?null:(n.truncateToCursor(),c)}getStartToken(f,i){const t=f.nextNonSpaceToken;return t!==null&&u.Token.isTokenDelimiter(t,this.parserOptions)?(i.push(""),f.nextNonSpaceToken):t}shouldSkipColumnParse(f,i,t){const{parserOptions:n}=this;if(u.Token.isTokenDelimiter(i,n)){f.advancePastToken(i);const c=f.nextCharacterToken;if(!f.hasMoreCharacters||c!==null&&u.Token.isTokenRowDelimiter(c)||c!==null&&u.Token.isTokenDelimiter(c,n))return t.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(r,I,k){Object.defineProperty(k,"__esModule",{value:!0}),k.Scanner=void 0;const p=r("./Token"),u=/((?:\r\n)|\n|\r)/;k.Scanner=class{constructor(f){this.cursor=0,this.line=f.line,this.lineLength=this.line.length,this.parserOptions=f.parserOptions,this.hasMoreData=f.hasMoreData,this.cursor=f.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:f}=this,i=this.parserOptions.NEXT_TOKEN_REGEXP;if(f.search(i)===-1)return null;const t=i.exec(f);if(t==null)return null;const n=t[1],c=this.cursor+(t.index||0);return new p.Token({token:n,startCursor:c,endCursor:c+n.length-1})}get nextCharacterToken(){const{cursor:f,lineLength:i}=this;return i<=f?null:new p.Token({token:this.line[f],startCursor:f,endCursor:f})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const f=u.exec(this.lineFromCursor);return f?(this.cursor+=(f.index||0)+f[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(f){return this.cursor=f,this}advanceToToken(f){return this.cursor=f.startCursor,this}advancePastToken(f){return this.cursor=f.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(r,I,k){Object.defineProperty(k,"__esModule",{value:!0}),k.Token=void 0,k.Token=class{constructor(p){this.token=p.token,this.startCursor=p.startCursor,this.endCursor=p.endCursor}static isTokenRowDelimiter(p){const u=p.token;return u==="\r"||u===`
`||u===`\r
`}static isTokenCarriageReturn(p,u){return p.token===u.carriageReturn}static isTokenComment(p,u){return u.supportsComments&&!!p&&p.token===u.comment}static isTokenEscapeCharacter(p,u){return p.token===u.escapeChar}static isTokenQuote(p,u){return p.token===u.quote}static isTokenDelimiter(p,u){return p.token===u.delimiter}}},{}],160:[function(r,I,k){Object.defineProperty(k,"__esModule",{value:!0}),k.ColumnFormatter=void 0,k.ColumnFormatter=class{constructor(p){p.trim?this.format=u=>u.trim():p.ltrim?this.format=u=>u.trimLeft():p.rtrim?this.format=u=>u.trimRight():this.format=u=>u}}},{}],161:[function(r,I,k){Object.defineProperty(k,"__esModule",{value:!0}),k.ColumnParser=void 0;const p=r("./NonQuotedColumnParser"),u=r("./QuotedColumnParser"),f=r("../Token");k.ColumnParser=class{constructor(i){this.parserOptions=i,this.quotedColumnParser=new u.QuotedColumnParser(i),this.nonQuotedColumnParser=new p.NonQuotedColumnParser(i)}parse(i){const{nextNonSpaceToken:t}=i;return t!==null&&f.Token.isTokenQuote(t,this.parserOptions)?(i.advanceToToken(t),this.quotedColumnParser.parse(i)):this.nonQuotedColumnParser.parse(i)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(r,I,k){Object.defineProperty(k,"__esModule",{value:!0}),k.NonQuotedColumnParser=void 0;const p=r("./ColumnFormatter"),u=r("../Token");k.NonQuotedColumnParser=class{constructor(f){this.parserOptions=f,this.columnFormatter=new p.ColumnFormatter(f)}parse(f){if(!f.hasMoreCharacters)return null;const{parserOptions:i}=this,t=[];let n=f.nextCharacterToken;for(;n&&!u.Token.isTokenDelimiter(n,i)&&!u.Token.isTokenRowDelimiter(n);n=f.nextCharacterToken)t.push(n.token),f.advancePastToken(n);return this.columnFormatter.format(t.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(r,I,k){Object.defineProperty(k,"__esModule",{value:!0}),k.QuotedColumnParser=void 0;const p=r("./ColumnFormatter"),u=r("../Token");k.QuotedColumnParser=class{constructor(f){this.parserOptions=f,this.columnFormatter=new p.ColumnFormatter(f)}parse(f){if(!f.hasMoreCharacters)return null;const i=f.cursor,{foundClosingQuote:t,col:n}=this.gatherDataBetweenQuotes(f);if(!t){if(f.advanceTo(i),!f.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${f.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(f),n}gatherDataBetweenQuotes(f){const{parserOptions:i}=this;let t=!1,n=!1;const c=[];let a=f.nextCharacterToken;for(;!n&&a!==null;a=f.nextCharacterToken){const l=u.Token.isTokenQuote(a,i);if(!t&&l)t=!0;else if(t)if(u.Token.isTokenEscapeCharacter(a,i)){f.advancePastToken(a);const g=f.nextCharacterToken;g!==null&&(u.Token.isTokenQuote(g,i)||u.Token.isTokenEscapeCharacter(g,i))?(c.push(g.token),a=g):l?n=!0:c.push(a.token)}else l?n=!0:c.push(a.token);f.advancePastToken(a)}return{col:this.columnFormatter.format(c.join("")),foundClosingQuote:n}}checkForMalformedColumn(f){const{parserOptions:i}=this,{nextNonSpaceToken:t}=f;if(t){const n=u.Token.isTokenDelimiter(t,i),c=u.Token.isTokenRowDelimiter(t);if(!n&&!c){const a=f.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${i.escapedDelimiter}' OR new line got: '${t.token}'. at '${a}`)}f.advanceToToken(t)}else f.hasMoreData||f.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(r,I,k){Object.defineProperty(k,"__esModule",{value:!0}),k.ColumnFormatter=k.QuotedColumnParser=k.NonQuotedColumnParser=k.ColumnParser=void 0;var p=r("./ColumnParser");Object.defineProperty(k,"ColumnParser",{enumerable:!0,get:function(){return p.ColumnParser}});var u=r("./NonQuotedColumnParser");Object.defineProperty(k,"NonQuotedColumnParser",{enumerable:!0,get:function(){return u.NonQuotedColumnParser}});var f=r("./QuotedColumnParser");Object.defineProperty(k,"QuotedColumnParser",{enumerable:!0,get:function(){return f.QuotedColumnParser}});var i=r("./ColumnFormatter");Object.defineProperty(k,"ColumnFormatter",{enumerable:!0,get:function(){return i.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(r,I,k){Object.defineProperty(k,"__esModule",{value:!0}),k.QuotedColumnParser=k.NonQuotedColumnParser=k.ColumnParser=k.Token=k.Scanner=k.RowParser=k.Parser=void 0;var p=r("./Parser");Object.defineProperty(k,"Parser",{enumerable:!0,get:function(){return p.Parser}});var u=r("./RowParser");Object.defineProperty(k,"RowParser",{enumerable:!0,get:function(){return u.RowParser}});var f=r("./Scanner");Object.defineProperty(k,"Scanner",{enumerable:!0,get:function(){return f.Scanner}});var i=r("./Token");Object.defineProperty(k,"Token",{enumerable:!0,get:function(){return i.Token}});var t=r("./column");Object.defineProperty(k,"ColumnParser",{enumerable:!0,get:function(){return t.ColumnParser}}),Object.defineProperty(k,"NonQuotedColumnParser",{enumerable:!0,get:function(){return t.NonQuotedColumnParser}}),Object.defineProperty(k,"QuotedColumnParser",{enumerable:!0,get:function(){return t.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(r,I,k){var p=function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(k,"__esModule",{value:!0}),k.HeaderTransformer=void 0;const u=p(r("lodash.isundefined")),f=p(r("lodash.isfunction")),i=p(r("lodash.uniq")),t=p(r("lodash.groupby"));k.HeaderTransformer=class{constructor(n){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=n,n.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(n.headers)?this.setHeaders(n.headers):f.default(n.headers)&&(this.headersTransform=n.headers)}transform(n,c){return this.shouldMapRow(n)?c(null,this.processRow(n)):c(null,{row:null,isValid:!0})}shouldMapRow(n){const{parserOptions:c}=this;if(!this.headersTransform&&c.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(n)){if(this.headersTransform)this.setHeaders(this.headersTransform(n));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(n)}return!1}return!0}processRow(n){if(!this.headers)return{row:n,isValid:!0};const{parserOptions:c}=this;if(!c.discardUnmappedColumns&&n.length>this.headersLength){if(!c.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${n.length}`);return{row:n,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${n.length}`}}return c.strictColumnHandling&&n.length<this.headersLength?{row:n,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${n.length}`}:{row:this.mapHeaders(n),isValid:!0}}mapHeaders(n){const c={},{headers:a,headersLength:l}=this;for(let g=0;g<l;g+=1){const b=a[g];if(!u.default(b)){const d=n[g];u.default(d)?c[b]="":c[b]=d}}return c}setHeaders(n){var c;const a=n.filter(l=>!!l);if(i.default(a).length!==a.length){const l=t.default(a),g=Object.keys(l).filter(b=>l[b].length>1);throw new Error("Duplicate headers found "+JSON.stringify(g))}this.headers=n,this.receivedHeaders=!0,this.headersLength=((c=this.headers)===null||c===void 0?void 0:c.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(r,I,k){var p=function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(k,"__esModule",{value:!0}),k.RowTransformerValidator=void 0;const u=p(r("lodash.isfunction")),f=r("../types");class i{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(n){return f.isSyncTransform(n)?(c,a)=>{let l=null;try{l=n(c)}catch(g){return a(g)}return a(null,l)}:n}static createValidator(n){return f.isSyncValidate(n)?(c,a)=>{a(null,{row:c,isValid:n(c)})}:(c,a)=>{n(c,(l,g,b)=>l?a(l):a(null,g?{row:c,isValid:g,reason:b}:{row:c,isValid:!1,reason:b}))}}set rowTransform(n){if(!u.default(n))throw new TypeError("The transform should be a function");this._rowTransform=i.createTransform(n)}set rowValidator(n){if(!u.default(n))throw new TypeError("The validate should be a function");this._rowValidator=i.createValidator(n)}transformAndValidate(n,c){return this.callTransformer(n,(a,l)=>a?c(a):l?this.callValidator(l,(g,b)=>g?c(g):b&&!b.isValid?c(null,{row:l,isValid:!1,reason:b.reason}):c(null,{row:l,isValid:!0})):c(null,{row:null,isValid:!0}))}callTransformer(n,c){return this._rowTransform?this._rowTransform(n,c):c(null,n)}callValidator(n,c){return this._rowValidator?this._rowValidator(n,c):c(null,{row:n,isValid:!0})}}k.RowTransformerValidator=i},{"../types":169,"lodash.isfunction":446}],168:[function(r,I,k){Object.defineProperty(k,"__esModule",{value:!0}),k.HeaderTransformer=k.RowTransformerValidator=void 0;var p=r("./RowTransformerValidator");Object.defineProperty(k,"RowTransformerValidator",{enumerable:!0,get:function(){return p.RowTransformerValidator}});var u=r("./HeaderTransformer");Object.defineProperty(k,"HeaderTransformer",{enumerable:!0,get:function(){return u.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(r,I,k){Object.defineProperty(k,"__esModule",{value:!0}),k.isSyncValidate=k.isSyncTransform=void 0,k.isSyncTransform=p=>p.length===1,k.isSyncValidate=p=>p.length===1},{}],170:[function(r,I,k){const p=k;p.bignum=r("bn.js"),p.define=r("./asn1/api").define,p.base=r("./asn1/base"),p.constants=r("./asn1/constants"),p.decoders=r("./asn1/decoders"),p.encoders=r("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(r,I,k){const p=r("./encoders"),u=r("./decoders"),f=r("inherits");function i(t,n){this.name=t,this.body=n,this.decoders={},this.encoders={}}k.define=function(t,n){return new i(t,n)},i.prototype._createNamed=function(t){const n=this.name;function c(a){this._initNamed(a,n)}return f(c,t),c.prototype._initNamed=function(a,l){t.call(this,a,l)},new c(this)},i.prototype._getDecoder=function(t){return t=t||"der",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(u[t])),this.decoders[t]},i.prototype.decode=function(t,n,c){return this._getDecoder(n).decode(t,c)},i.prototype._getEncoder=function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(p[t])),this.encoders[t]},i.prototype.encode=function(t,n,c){return this._getEncoder(n).encode(t,c)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(r,I,k){const p=r("inherits"),u=r("../base/reporter").Reporter,f=r("safer-buffer").Buffer;function i(n,c){u.call(this,c),f.isBuffer(n)?(this.base=n,this.offset=0,this.length=n.length):this.error("Input not Buffer")}function t(n,c){if(Array.isArray(n))this.length=0,this.value=n.map(function(a){return t.isEncoderBuffer(a)||(a=new t(a,c)),this.length+=a.length,a},this);else if(typeof n=="number"){if(!(0<=n&&n<=255))return c.error("non-byte EncoderBuffer value");this.value=n,this.length=1}else if(typeof n=="string")this.value=n,this.length=f.byteLength(n);else{if(!f.isBuffer(n))return c.error("Unsupported type: "+typeof n);this.value=n,this.length=n.length}}p(i,u),k.DecoderBuffer=i,i.isDecoderBuffer=function(n){return n instanceof i?!0:typeof n=="object"&&f.isBuffer(n.base)&&n.constructor.name==="DecoderBuffer"&&typeof n.offset=="number"&&typeof n.length=="number"&&typeof n.save=="function"&&typeof n.restore=="function"&&typeof n.isEmpty=="function"&&typeof n.readUInt8=="function"&&typeof n.skip=="function"&&typeof n.raw=="function"},i.prototype.save=function(){return{offset:this.offset,reporter:u.prototype.save.call(this)}},i.prototype.restore=function(n){const c=new i(this.base);return c.offset=n.offset,c.length=this.offset,this.offset=n.offset,u.prototype.restore.call(this,n.reporter),c},i.prototype.isEmpty=function(){return this.offset===this.length},i.prototype.readUInt8=function(n){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(n||"DecoderBuffer overrun")},i.prototype.skip=function(n,c){if(!(this.offset+n<=this.length))return this.error(c||"DecoderBuffer overrun");const a=new i(this.base);return a._reporterState=this._reporterState,a.offset=this.offset,a.length=this.offset+n,this.offset+=n,a},i.prototype.raw=function(n){return this.base.slice(n?n.offset:this.offset,this.length)},k.EncoderBuffer=t,t.isEncoderBuffer=function(n){return n instanceof t?!0:typeof n=="object"&&n.constructor.name==="EncoderBuffer"&&typeof n.length=="number"&&typeof n.join=="function"},t.prototype.join=function(n,c){return n||(n=f.alloc(this.length)),c||(c=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(a){a.join(n,c),c+=a.length}):(typeof this.value=="number"?n[c]=this.value:typeof this.value=="string"?n.write(this.value,c):f.isBuffer(this.value)&&this.value.copy(n,c),c+=this.length)),n}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(r,I,k){const p=k;p.Reporter=r("./reporter").Reporter,p.DecoderBuffer=r("./buffer").DecoderBuffer,p.EncoderBuffer=r("./buffer").EncoderBuffer,p.Node=r("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(r,I,k){const p=r("../base/reporter").Reporter,u=r("../base/buffer").EncoderBuffer,f=r("../base/buffer").DecoderBuffer,i=r("minimalistic-assert"),t=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],n=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(t);function c(l,g,b){const d={};this._baseState=d,d.name=b,d.enc=l,d.parent=g||null,d.children=null,d.tag=null,d.args=null,d.reverseArgs=null,d.choice=null,d.optional=!1,d.any=!1,d.obj=!1,d.use=null,d.useDecoder=null,d.key=null,d.default=null,d.explicit=null,d.implicit=null,d.contains=null,d.parent||(d.children=[],this._wrap())}I.exports=c;const a=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){const l=this._baseState,g={};a.forEach(function(d){g[d]=l[d]});const b=new this.constructor(g.parent);return b._baseState=g,b},c.prototype._wrap=function(){const l=this._baseState;n.forEach(function(g){this[g]=function(){const b=new this.constructor(this);return l.children.push(b),b[g].apply(b,arguments)}},this)},c.prototype._init=function(l){const g=this._baseState;i(g.parent===null),l.call(this),g.children=g.children.filter(function(b){return b._baseState.parent===this},this),i.equal(g.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(l){const g=this._baseState,b=l.filter(function(d){return d instanceof this.constructor},this);l=l.filter(function(d){return!(d instanceof this.constructor)},this),b.length!==0&&(i(g.children===null),g.children=b,b.forEach(function(d){d._baseState.parent=this},this)),l.length!==0&&(i(g.args===null),g.args=l,g.reverseArgs=l.map(function(d){if(typeof d!="object"||d.constructor!==Object)return d;const w={};return Object.keys(d).forEach(function(y){y==(0|y)&&(y|=0);const T=d[y];w[T]=y}),w}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(l){c.prototype[l]=function(){const g=this._baseState;throw new Error(l+" not implemented for encoding: "+g.enc)}}),t.forEach(function(l){c.prototype[l]=function(){const g=this._baseState,b=Array.prototype.slice.call(arguments);return i(g.tag===null),g.tag=l,this._useArgs(b),this}}),c.prototype.use=function(l){i(l);const g=this._baseState;return i(g.use===null),g.use=l,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(l){const g=this._baseState;return i(g.default===null),g.default=l,g.optional=!0,this},c.prototype.explicit=function(l){const g=this._baseState;return i(g.explicit===null&&g.implicit===null),g.explicit=l,this},c.prototype.implicit=function(l){const g=this._baseState;return i(g.explicit===null&&g.implicit===null),g.implicit=l,this},c.prototype.obj=function(){const l=this._baseState,g=Array.prototype.slice.call(arguments);return l.obj=!0,g.length!==0&&this._useArgs(g),this},c.prototype.key=function(l){const g=this._baseState;return i(g.key===null),g.key=l,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(l){const g=this._baseState;return i(g.choice===null),g.choice=l,this._useArgs(Object.keys(l).map(function(b){return l[b]})),this},c.prototype.contains=function(l){const g=this._baseState;return i(g.use===null),g.contains=l,this},c.prototype._decode=function(l,g){const b=this._baseState;if(b.parent===null)return l.wrapResult(b.children[0]._decode(l,g));let d,w=b.default,y=!0,T=null;if(b.key!==null&&(T=l.enterKey(b.key)),b.optional){let M=null;if(b.explicit!==null?M=b.explicit:b.implicit!==null?M=b.implicit:b.tag!==null&&(M=b.tag),M!==null||b.any){if(y=this._peekTag(l,M,b.any),l.isError(y))return y}else{const j=l.save();try{b.choice===null?this._decodeGeneric(b.tag,l,g):this._decodeChoice(l,g),y=!0}catch{y=!1}l.restore(j)}}if(b.obj&&y&&(d=l.enterObject()),y){if(b.explicit!==null){const j=this._decodeTag(l,b.explicit);if(l.isError(j))return j;l=j}const M=l.offset;if(b.use===null&&b.choice===null){let j;b.any&&(j=l.save());const X=this._decodeTag(l,b.implicit!==null?b.implicit:b.tag,b.any);if(l.isError(X))return X;b.any?w=l.raw(j):l=X}if(g&&g.track&&b.tag!==null&&g.track(l.path(),M,l.length,"tagged"),g&&g.track&&b.tag!==null&&g.track(l.path(),l.offset,l.length,"content"),b.any||(w=b.choice===null?this._decodeGeneric(b.tag,l,g):this._decodeChoice(l,g)),l.isError(w))return w;if(b.any||b.choice!==null||b.children===null||b.children.forEach(function(j){j._decode(l,g)}),b.contains&&(b.tag==="octstr"||b.tag==="bitstr")){const j=new f(w);w=this._getUse(b.contains,l._reporterState.obj)._decode(j,g)}}return b.obj&&y&&(w=l.leaveObject(d)),b.key===null||w===null&&y!==!0?T!==null&&l.exitKey(T):l.leaveKey(T,b.key,w),w},c.prototype._decodeGeneric=function(l,g,b){const d=this._baseState;return l==="seq"||l==="set"?null:l==="seqof"||l==="setof"?this._decodeList(g,l,d.args[0],b):/str$/.test(l)?this._decodeStr(g,l,b):l==="objid"&&d.args?this._decodeObjid(g,d.args[0],d.args[1],b):l==="objid"?this._decodeObjid(g,null,null,b):l==="gentime"||l==="utctime"?this._decodeTime(g,l,b):l==="null_"?this._decodeNull(g,b):l==="bool"?this._decodeBool(g,b):l==="objDesc"?this._decodeStr(g,l,b):l==="int"||l==="enum"?this._decodeInt(g,d.args&&d.args[0],b):d.use!==null?this._getUse(d.use,g._reporterState.obj)._decode(g,b):g.error("unknown tag: "+l)},c.prototype._getUse=function(l,g){const b=this._baseState;return b.useDecoder=this._use(l,g),i(b.useDecoder._baseState.parent===null),b.useDecoder=b.useDecoder._baseState.children[0],b.implicit!==b.useDecoder._baseState.implicit&&(b.useDecoder=b.useDecoder.clone(),b.useDecoder._baseState.implicit=b.implicit),b.useDecoder},c.prototype._decodeChoice=function(l,g){const b=this._baseState;let d=null,w=!1;return Object.keys(b.choice).some(function(y){const T=l.save(),M=b.choice[y];try{const j=M._decode(l,g);if(l.isError(j))return!1;d={type:y,value:j},w=!0}catch{return l.restore(T),!1}return!0},this),w?d:l.error("Choice not matched")},c.prototype._createEncoderBuffer=function(l){return new u(l,this.reporter)},c.prototype._encode=function(l,g,b){const d=this._baseState;if(d.default!==null&&d.default===l)return;const w=this._encodeValue(l,g,b);return w===void 0||this._skipDefault(w,g,b)?void 0:w},c.prototype._encodeValue=function(l,g,b){const d=this._baseState;if(d.parent===null)return d.children[0]._encode(l,g||new p);let w=null;if(this.reporter=g,d.optional&&l===void 0){if(d.default===null)return;l=d.default}let y=null,T=!1;if(d.any)w=this._createEncoderBuffer(l);else if(d.choice)w=this._encodeChoice(l,g);else if(d.contains)y=this._getUse(d.contains,b)._encode(l,g),T=!0;else if(d.children)y=d.children.map(function(M){if(M._baseState.tag==="null_")return M._encode(null,g,l);if(M._baseState.key===null)return g.error("Child should have a key");const j=g.enterKey(M._baseState.key);if(typeof l!="object")return g.error("Child expected, but input is not object");const X=M._encode(l[M._baseState.key],g,l);return g.leaveKey(j),X},this).filter(function(M){return M}),y=this._createEncoderBuffer(y);else if(d.tag==="seqof"||d.tag==="setof"){if(!d.args||d.args.length!==1)return g.error("Too many args for : "+d.tag);if(!Array.isArray(l))return g.error("seqof/setof, but data is not Array");const M=this.clone();M._baseState.implicit=null,y=this._createEncoderBuffer(l.map(function(j){const X=this._baseState;return this._getUse(X.args[0],l)._encode(j,g)},M))}else d.use!==null?w=this._getUse(d.use,b)._encode(l,g):(y=this._encodePrimitive(d.tag,l),T=!0);if(!d.any&&d.choice===null){const M=d.implicit!==null?d.implicit:d.tag,j=d.implicit===null?"universal":"context";M===null?d.use===null&&g.error("Tag could be omitted only for .use()"):d.use===null&&(w=this._encodeComposite(M,T,j,y))}return d.explicit!==null&&(w=this._encodeComposite(d.explicit,!1,"context",w)),w},c.prototype._encodeChoice=function(l,g){const b=this._baseState,d=b.choice[l.type];return d||i(!1,l.type+" not found in "+JSON.stringify(Object.keys(b.choice))),d._encode(l.value,g)},c.prototype._encodePrimitive=function(l,g){const b=this._baseState;if(/str$/.test(l))return this._encodeStr(g,l);if(l==="objid"&&b.args)return this._encodeObjid(g,b.reverseArgs[0],b.args[1]);if(l==="objid")return this._encodeObjid(g,null,null);if(l==="gentime"||l==="utctime")return this._encodeTime(g,l);if(l==="null_")return this._encodeNull();if(l==="int"||l==="enum")return this._encodeInt(g,b.args&&b.reverseArgs[0]);if(l==="bool")return this._encodeBool(g);if(l==="objDesc")return this._encodeStr(g,l);throw new Error("Unsupported tag: "+l)},c.prototype._isNumstr=function(l){return/^[0-9 ]*$/.test(l)},c.prototype._isPrintstr=function(l){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(l)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(r,I,k){const p=r("inherits");function u(i){this._reporterState={obj:null,path:[],options:i||{},errors:[]}}function f(i,t){this.path=i,this.rethrow(t)}k.Reporter=u,u.prototype.isError=function(i){return i instanceof f},u.prototype.save=function(){const i=this._reporterState;return{obj:i.obj,pathLen:i.path.length}},u.prototype.restore=function(i){const t=this._reporterState;t.obj=i.obj,t.path=t.path.slice(0,i.pathLen)},u.prototype.enterKey=function(i){return this._reporterState.path.push(i)},u.prototype.exitKey=function(i){const t=this._reporterState;t.path=t.path.slice(0,i-1)},u.prototype.leaveKey=function(i,t,n){const c=this._reporterState;this.exitKey(i),c.obj!==null&&(c.obj[t]=n)},u.prototype.path=function(){return this._reporterState.path.join("/")},u.prototype.enterObject=function(){const i=this._reporterState,t=i.obj;return i.obj={},t},u.prototype.leaveObject=function(i){const t=this._reporterState,n=t.obj;return t.obj=i,n},u.prototype.error=function(i){let t;const n=this._reporterState,c=i instanceof f;if(t=c?i:new f(n.path.map(function(a){return"["+JSON.stringify(a)+"]"}).join(""),i.message||i,i.stack),!n.options.partial)throw t;return c||n.errors.push(t),t},u.prototype.wrapResult=function(i){const t=this._reporterState;return t.options.partial?{result:this.isError(i)?null:i,errors:t.errors}:i},p(f,Error),f.prototype.rethrow=function(i){if(this.message=i+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,f),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},{inherits:440}],176:[function(r,I,k){function p(u){const f={};return Object.keys(u).forEach(function(i){(0|i)==i&&(i|=0);const t=u[i];f[t]=i}),f}k.tagClass={0:"universal",1:"application",2:"context",3:"private"},k.tagClassByName=p(k.tagClass),k.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},k.tagByName=p(k.tag)},{}],177:[function(r,I,k){const p=k;p._reverse=function(u){const f={};return Object.keys(u).forEach(function(i){(0|i)==i&&(i|=0);const t=u[i];f[t]=i}),f},p.der=r("./der")},{"./der":176}],178:[function(r,I,k){const p=r("inherits"),u=r("bn.js"),f=r("../base/buffer").DecoderBuffer,i=r("../base/node"),t=r("../constants/der");function n(g){this.enc="der",this.name=g.name,this.entity=g,this.tree=new c,this.tree._init(g.body)}function c(g){i.call(this,"der",g)}function a(g,b){let d=g.readUInt8(b);if(g.isError(d))return d;const w=t.tagClass[d>>6],y=(32&d)==0;if((31&d)==31){let T=d;for(d=0;(128&T)==128;){if(T=g.readUInt8(b),g.isError(T))return T;d<<=7,d|=127&T}}else d&=31;return{cls:w,primitive:y,tag:d,tagStr:t.tag[d]}}function l(g,b,d){let w=g.readUInt8(d);if(g.isError(w))return w;if(!b&&w===128)return null;if((128&w)==0)return w;const y=127&w;if(y>4)return g.error("length octect is too long");w=0;for(let T=0;T<y;T++){w<<=8;const M=g.readUInt8(d);if(g.isError(M))return M;w|=M}return w}I.exports=n,n.prototype.decode=function(g,b){return f.isDecoderBuffer(g)||(g=new f(g,b)),this.tree._decode(g,b)},p(c,i),c.prototype._peekTag=function(g,b,d){if(g.isEmpty())return!1;const w=g.save(),y=a(g,'Failed to peek tag: "'+b+'"');return g.isError(y)?y:(g.restore(w),y.tag===b||y.tagStr===b||y.tagStr+"of"===b||d)},c.prototype._decodeTag=function(g,b,d){const w=a(g,'Failed to decode tag of "'+b+'"');if(g.isError(w))return w;let y=l(g,w.primitive,'Failed to get length of "'+b+'"');if(g.isError(y))return y;if(!d&&w.tag!==b&&w.tagStr!==b&&w.tagStr+"of"!==b)return g.error('Failed to match tag: "'+b+'"');if(w.primitive||y!==null)return g.skip(y,'Failed to match body of: "'+b+'"');const T=g.save(),M=this._skipUntilEnd(g,'Failed to skip indefinite length body: "'+this.tag+'"');return g.isError(M)?M:(y=g.offset-T.offset,g.restore(T),g.skip(y,'Failed to match body of: "'+b+'"'))},c.prototype._skipUntilEnd=function(g,b){for(;;){const d=a(g,b);if(g.isError(d))return d;const w=l(g,d.primitive,b);if(g.isError(w))return w;let y;if(y=d.primitive||w!==null?g.skip(w):this._skipUntilEnd(g,b),g.isError(y))return y;if(d.tagStr==="end")break}},c.prototype._decodeList=function(g,b,d,w){const y=[];for(;!g.isEmpty();){const T=this._peekTag(g,"end");if(g.isError(T))return T;const M=d.decode(g,"der",w);if(g.isError(M)&&T)break;y.push(M)}return y},c.prototype._decodeStr=function(g,b){if(b==="bitstr"){const d=g.readUInt8();return g.isError(d)?d:{unused:d,data:g.raw()}}if(b==="bmpstr"){const d=g.raw();if(d.length%2==1)return g.error("Decoding of string type: bmpstr length mismatch");let w="";for(let y=0;y<d.length/2;y++)w+=String.fromCharCode(d.readUInt16BE(2*y));return w}if(b==="numstr"){const d=g.raw().toString("ascii");return this._isNumstr(d)?d:g.error("Decoding of string type: numstr unsupported characters")}if(b==="octstr"||b==="objDesc")return g.raw();if(b==="printstr"){const d=g.raw().toString("ascii");return this._isPrintstr(d)?d:g.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(b)?g.raw().toString():g.error("Decoding of string type: "+b+" unsupported")},c.prototype._decodeObjid=function(g,b,d){let w;const y=[];let T=0,M=0;for(;!g.isEmpty();)M=g.readUInt8(),T<<=7,T|=127&M,(128&M)==0&&(y.push(T),T=0);128&M&&y.push(T);const j=y[0]/40|0,X=y[0]%40;if(w=d?y:[j,X].concat(y.slice(1)),b){let Y=b[w.join(" ")];Y===void 0&&(Y=b[w.join(".")]),Y!==void 0&&(w=Y)}return w},c.prototype._decodeTime=function(g,b){const d=g.raw().toString();let w,y,T,M,j,X;if(b==="gentime")w=0|d.slice(0,4),y=0|d.slice(4,6),T=0|d.slice(6,8),M=0|d.slice(8,10),j=0|d.slice(10,12),X=0|d.slice(12,14);else{if(b!=="utctime")return g.error("Decoding "+b+" time is not supported yet");w=0|d.slice(0,2),y=0|d.slice(2,4),T=0|d.slice(4,6),M=0|d.slice(6,8),j=0|d.slice(8,10),X=0|d.slice(10,12),w=w<70?2e3+w:1900+w}return Date.UTC(w,y-1,T,M,j,X,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(g){const b=g.readUInt8();return g.isError(b)?b:b!==0},c.prototype._decodeInt=function(g,b){const d=g.raw();let w=new u(d);return b&&(w=b[w.toString(10)]||w),w},c.prototype._use=function(g,b){return typeof g=="function"&&(g=g(b)),g._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(r,I,k){const p=k;p.der=r("./der"),p.pem=r("./pem")},{"./der":178,"./pem":180}],180:[function(r,I,k){const p=r("inherits"),u=r("safer-buffer").Buffer,f=r("./der");function i(t){f.call(this,t),this.enc="pem"}p(i,f),I.exports=i,i.prototype.decode=function(t,n){const c=t.toString().split(/[\r\n]+/g),a=n.label.toUpperCase(),l=/^-----(BEGIN|END) ([^-]+)-----$/;let g=-1,b=-1;for(let y=0;y<c.length;y++){const T=c[y].match(l);if(T!==null&&T[2]===a){if(g!==-1){if(T[1]!=="END")break;b=y;break}if(T[1]!=="BEGIN")break;g=y}}if(g===-1||b===-1)throw new Error("PEM section not found for: "+a);const d=c.slice(g+1,b).join("");d.replace(/[^a-z0-9+/=]+/gi,"");const w=u.from(d,"base64");return f.prototype.decode.call(this,w,n)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(r,I,k){const p=r("inherits"),u=r("safer-buffer").Buffer,f=r("../base/node"),i=r("../constants/der");function t(a){this.enc="der",this.name=a.name,this.entity=a,this.tree=new n,this.tree._init(a.body)}function n(a){f.call(this,"der",a)}function c(a){return a<10?"0"+a:a}I.exports=t,t.prototype.encode=function(a,l){return this.tree._encode(a,l).join()},p(n,f),n.prototype._encodeComposite=function(a,l,g,b){const d=function(T,M,j,X){let Y;if(T==="seqof"?T="seq":T==="setof"&&(T="set"),i.tagByName.hasOwnProperty(T))Y=i.tagByName[T];else{if(typeof T!="number"||(0|T)!==T)return X.error("Unknown tag: "+T);Y=T}return Y>=31?X.error("Multi-octet tag encoding unsupported"):(M||(Y|=32),Y|=i.tagClassByName[j||"universal"]<<6,Y)}(a,l,g,this.reporter);if(b.length<128){const T=u.alloc(2);return T[0]=d,T[1]=b.length,this._createEncoderBuffer([T,b])}let w=1;for(let T=b.length;T>=256;T>>=8)w++;const y=u.alloc(2+w);y[0]=d,y[1]=128|w;for(let T=1+w,M=b.length;M>0;T--,M>>=8)y[T]=255&M;return this._createEncoderBuffer([y,b])},n.prototype._encodeStr=function(a,l){if(l==="bitstr")return this._createEncoderBuffer([0|a.unused,a.data]);if(l==="bmpstr"){const g=u.alloc(2*a.length);for(let b=0;b<a.length;b++)g.writeUInt16BE(a.charCodeAt(b),2*b);return this._createEncoderBuffer(g)}return l==="numstr"?this._isNumstr(a)?this._createEncoderBuffer(a):this.reporter.error("Encoding of string type: numstr supports only digits and space"):l==="printstr"?this._isPrintstr(a)?this._createEncoderBuffer(a):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(l)||l==="objDesc"?this._createEncoderBuffer(a):this.reporter.error("Encoding of string type: "+l+" unsupported")},n.prototype._encodeObjid=function(a,l,g){if(typeof a=="string"){if(!l)return this.reporter.error("string objid given, but no values map found");if(!l.hasOwnProperty(a))return this.reporter.error("objid not found in values map");a=l[a].split(/[\s.]+/g);for(let y=0;y<a.length;y++)a[y]|=0}else if(Array.isArray(a)){a=a.slice();for(let y=0;y<a.length;y++)a[y]|=0}if(!Array.isArray(a))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(a));if(!g){if(a[1]>=40)return this.reporter.error("Second objid identifier OOB");a.splice(0,2,40*a[0]+a[1])}let b=0;for(let y=0;y<a.length;y++){let T=a[y];for(b++;T>=128;T>>=7)b++}const d=u.alloc(b);let w=d.length-1;for(let y=a.length-1;y>=0;y--){let T=a[y];for(d[w--]=127&T;(T>>=7)>0;)d[w--]=128|127&T}return this._createEncoderBuffer(d)},n.prototype._encodeTime=function(a,l){let g;const b=new Date(a);return l==="gentime"?g=[c(b.getUTCFullYear()),c(b.getUTCMonth()+1),c(b.getUTCDate()),c(b.getUTCHours()),c(b.getUTCMinutes()),c(b.getUTCSeconds()),"Z"].join(""):l==="utctime"?g=[c(b.getUTCFullYear()%100),c(b.getUTCMonth()+1),c(b.getUTCDate()),c(b.getUTCHours()),c(b.getUTCMinutes()),c(b.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+l+" time is not supported yet"),this._encodeStr(g,"octstr")},n.prototype._encodeNull=function(){return this._createEncoderBuffer("")},n.prototype._encodeInt=function(a,l){if(typeof a=="string"){if(!l)return this.reporter.error("String int or enum given, but no values map");if(!l.hasOwnProperty(a))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(a));a=l[a]}if(typeof a!="number"&&!u.isBuffer(a)){const d=a.toArray();!a.sign&&128&d[0]&&d.unshift(0),a=u.from(d)}if(u.isBuffer(a)){let d=a.length;a.length===0&&d++;const w=u.alloc(d);return a.copy(w),a.length===0&&(w[0]=0),this._createEncoderBuffer(w)}if(a<128)return this._createEncoderBuffer(a);if(a<256)return this._createEncoderBuffer([0,a]);let g=1;for(let d=a;d>=256;d>>=8)g++;const b=new Array(g);for(let d=b.length-1;d>=0;d--)b[d]=255&a,a>>=8;return 128&b[0]&&b.unshift(0),this._createEncoderBuffer(u.from(b))},n.prototype._encodeBool=function(a){return this._createEncoderBuffer(a?255:0)},n.prototype._use=function(a,l){return typeof a=="function"&&(a=a(l)),a._getEncoder("der").tree},n.prototype._skipDefault=function(a,l,g){const b=this._baseState;let d;if(b.default===null)return!1;const w=a.join();if(b.defaultBuffer===void 0&&(b.defaultBuffer=this._encodeValue(b.default,l,g).join()),w.length!==b.defaultBuffer.length)return!1;for(d=0;d<w.length;d++)if(w[d]!==b.defaultBuffer[d])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(r,I,k){const p=k;p.der=r("./der"),p.pem=r("./pem")},{"./der":181,"./pem":183}],183:[function(r,I,k){const p=r("inherits"),u=r("./der");function f(i){u.call(this,i),this.enc="pem"}p(f,u),I.exports=f,f.prototype.encode=function(i,t){const n=u.prototype.encode.call(this,i).toString("base64"),c=["-----BEGIN "+t.label+"-----"];for(let a=0;a<n.length;a+=64)c.push(n.slice(a,a+64));return c.push("-----END "+t.label+"-----"),c.join(`
`)}},{"./der":181,inherits:440}],184:[function(r,I,k){(function(p,u){function f(D,F){if(!D)throw new Error(F||"Assertion failed")}function i(D,F){D.super_=F;var A=function(){};A.prototype=F.prototype,D.prototype=new A,D.prototype.constructor=D}function t(D,F,A){if(t.isBN(D))return D;this.negative=0,this.words=null,this.length=0,this.red=null,D!==null&&(F!=="le"&&F!=="be"||(A=F,F=10),this._init(D||0,F||10,A||"be"))}var n;typeof p=="object"?p.exports=t:(void 0).BN=t,t.BN=t,t.wordSize=26;try{n=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:r("buffer").Buffer}catch{}function c(D,F){var A=D.charCodeAt(F);return A>=65&&A<=70?A-55:A>=97&&A<=102?A-87:A-48&15}function a(D,F,A){var v=c(D,A);return A-1>=F&&(v|=c(D,A-1)<<4),v}function l(D,F,A,v){for(var _=0,S=Math.min(D.length,A),C=F;C<S;C++){var O=D.charCodeAt(C)-48;_*=v,_+=O>=49?O-49+10:O>=17?O-17+10:O}return _}t.isBN=function(D){return D instanceof t||D!==null&&typeof D=="object"&&D.constructor.wordSize===t.wordSize&&Array.isArray(D.words)},t.max=function(D,F){return D.cmp(F)>0?D:F},t.min=function(D,F){return D.cmp(F)<0?D:F},t.prototype._init=function(D,F,A){if(typeof D=="number")return this._initNumber(D,F,A);if(typeof D=="object")return this._initArray(D,F,A);F==="hex"&&(F=16),f(F===(0|F)&&F>=2&&F<=36);var v=0;(D=D.toString().replace(/\s+/g,""))[0]==="-"&&(v++,this.negative=1),v<D.length&&(F===16?this._parseHex(D,v,A):(this._parseBase(D,F,v),A==="le"&&this._initArray(this.toArray(),F,A)))},t.prototype._initNumber=function(D,F,A){D<0&&(this.negative=1,D=-D),D<67108864?(this.words=[67108863&D],this.length=1):D<4503599627370496?(this.words=[67108863&D,D/67108864&67108863],this.length=2):(f(D<9007199254740992),this.words=[67108863&D,D/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),F,A)},t.prototype._initArray=function(D,F,A){if(f(typeof D.length=="number"),D.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(D.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var _,S,C=0;if(A==="be")for(v=D.length-1,_=0;v>=0;v-=3)S=D[v]|D[v-1]<<8|D[v-2]<<16,this.words[_]|=S<<C&67108863,this.words[_+1]=S>>>26-C&67108863,(C+=24)>=26&&(C-=26,_++);else if(A==="le")for(v=0,_=0;v<D.length;v+=3)S=D[v]|D[v+1]<<8|D[v+2]<<16,this.words[_]|=S<<C&67108863,this.words[_+1]=S>>>26-C&67108863,(C+=24)>=26&&(C-=26,_++);return this.strip()},t.prototype._parseHex=function(D,F,A){this.length=Math.ceil((D.length-F)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var _,S=0,C=0;if(A==="be")for(v=D.length-1;v>=F;v-=2)_=a(D,F,v)<<S,this.words[C]|=67108863&_,S>=18?(S-=18,C+=1,this.words[C]|=_>>>26):S+=8;else for(v=(D.length-F)%2==0?F+1:F;v<D.length;v+=2)_=a(D,F,v)<<S,this.words[C]|=67108863&_,S>=18?(S-=18,C+=1,this.words[C]|=_>>>26):S+=8;this.strip()},t.prototype._parseBase=function(D,F,A){this.words=[0],this.length=1;for(var v=0,_=1;_<=67108863;_*=F)v++;v--,_=_/F|0;for(var S=D.length-A,C=S%v,O=Math.min(S,S-C)+A,B=0,z=A;z<O;z+=v)B=l(D,z,z+v,F),this.imuln(_),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B);if(C!==0){var re=1;for(B=l(D,z,D.length,F),z=0;z<C;z++)re*=F;this.imuln(re),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B)}this.strip()},t.prototype.copy=function(D){D.words=new Array(this.length);for(var F=0;F<this.length;F++)D.words[F]=this.words[F];D.length=this.length,D.negative=this.negative,D.red=this.red},t.prototype.clone=function(){var D=new t(null);return this.copy(D),D},t.prototype._expand=function(D){for(;this.length<D;)this.words[this.length++]=0;return this},t.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},t.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},t.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function w(D,F,A){A.negative=F.negative^D.negative;var v=D.length+F.length|0;A.length=v,v=v-1|0;var _=0|D.words[0],S=0|F.words[0],C=_*S,O=67108863&C,B=C/67108864|0;A.words[0]=O;for(var z=1;z<v;z++){for(var re=B>>>26,ne=67108863&B,de=Math.min(z,F.length-1),H=Math.max(0,z-D.length+1);H<=de;H++){var ae=z-H|0;re+=(C=(_=0|D.words[ae])*(S=0|F.words[H])+ne)/67108864|0,ne=67108863&C}A.words[z]=0|ne,B=0|re}return B!==0?A.words[z]=0|B:A.length--,A.strip()}t.prototype.toString=function(D,F){var A;if(F=0|F||1,(D=D||10)===16||D==="hex"){A="";for(var v=0,_=0,S=0;S<this.length;S++){var C=this.words[S],O=(16777215&(C<<v|_)).toString(16);A=(_=C>>>24-v&16777215)!==0||S!==this.length-1?g[6-O.length]+O+A:O+A,(v+=2)>=26&&(v-=26,S--)}for(_!==0&&(A=_.toString(16)+A);A.length%F!=0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(D===(0|D)&&D>=2&&D<=36){var B=b[D],z=d[D];A="";var re=this.clone();for(re.negative=0;!re.isZero();){var ne=re.modn(z).toString(D);A=(re=re.idivn(z)).isZero()?ne+A:g[B-ne.length]+ne+A}for(this.isZero()&&(A="0"+A);A.length%F!=0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}f(!1,"Base should be between 2 and 36")},t.prototype.toNumber=function(){var D=this.words[0];return this.length===2?D+=67108864*this.words[1]:this.length===3&&this.words[2]===1?D+=4503599627370496+67108864*this.words[1]:this.length>2&&f(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-D:D},t.prototype.toJSON=function(){return this.toString(16)},t.prototype.toBuffer=function(D,F){return f(n!==void 0),this.toArrayLike(n,D,F)},t.prototype.toArray=function(D,F){return this.toArrayLike(Array,D,F)},t.prototype.toArrayLike=function(D,F,A){var v=this.byteLength(),_=A||Math.max(1,v);f(v<=_,"byte array longer than desired length"),f(_>0,"Requested array length <= 0"),this.strip();var S,C,O=F==="le",B=new D(_),z=this.clone();if(O){for(C=0;!z.isZero();C++)S=z.andln(255),z.iushrn(8),B[C]=S;for(;C<_;C++)B[C]=0}else{for(C=0;C<_-v;C++)B[C]=0;for(C=0;!z.isZero();C++)S=z.andln(255),z.iushrn(8),B[_-C-1]=S}return B},Math.clz32?t.prototype._countBits=function(D){return 32-Math.clz32(D)}:t.prototype._countBits=function(D){var F=D,A=0;return F>=4096&&(A+=13,F>>>=13),F>=64&&(A+=7,F>>>=7),F>=8&&(A+=4,F>>>=4),F>=2&&(A+=2,F>>>=2),A+F},t.prototype._zeroBits=function(D){if(D===0)return 26;var F=D,A=0;return(8191&F)==0&&(A+=13,F>>>=13),(127&F)==0&&(A+=7,F>>>=7),(15&F)==0&&(A+=4,F>>>=4),(3&F)==0&&(A+=2,F>>>=2),(1&F)==0&&A++,A},t.prototype.bitLength=function(){var D=this.words[this.length-1],F=this._countBits(D);return 26*(this.length-1)+F},t.prototype.zeroBits=function(){if(this.isZero())return 0;for(var D=0,F=0;F<this.length;F++){var A=this._zeroBits(this.words[F]);if(D+=A,A!==26)break}return D},t.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},t.prototype.toTwos=function(D){return this.negative!==0?this.abs().inotn(D).iaddn(1):this.clone()},t.prototype.fromTwos=function(D){return this.testn(D-1)?this.notn(D).iaddn(1).ineg():this.clone()},t.prototype.isNeg=function(){return this.negative!==0},t.prototype.neg=function(){return this.clone().ineg()},t.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},t.prototype.iuor=function(D){for(;this.length<D.length;)this.words[this.length++]=0;for(var F=0;F<D.length;F++)this.words[F]=this.words[F]|D.words[F];return this.strip()},t.prototype.ior=function(D){return f((this.negative|D.negative)==0),this.iuor(D)},t.prototype.or=function(D){return this.length>D.length?this.clone().ior(D):D.clone().ior(this)},t.prototype.uor=function(D){return this.length>D.length?this.clone().iuor(D):D.clone().iuor(this)},t.prototype.iuand=function(D){var F;F=this.length>D.length?D:this;for(var A=0;A<F.length;A++)this.words[A]=this.words[A]&D.words[A];return this.length=F.length,this.strip()},t.prototype.iand=function(D){return f((this.negative|D.negative)==0),this.iuand(D)},t.prototype.and=function(D){return this.length>D.length?this.clone().iand(D):D.clone().iand(this)},t.prototype.uand=function(D){return this.length>D.length?this.clone().iuand(D):D.clone().iuand(this)},t.prototype.iuxor=function(D){var F,A;this.length>D.length?(F=this,A=D):(F=D,A=this);for(var v=0;v<A.length;v++)this.words[v]=F.words[v]^A.words[v];if(this!==F)for(;v<F.length;v++)this.words[v]=F.words[v];return this.length=F.length,this.strip()},t.prototype.ixor=function(D){return f((this.negative|D.negative)==0),this.iuxor(D)},t.prototype.xor=function(D){return this.length>D.length?this.clone().ixor(D):D.clone().ixor(this)},t.prototype.uxor=function(D){return this.length>D.length?this.clone().iuxor(D):D.clone().iuxor(this)},t.prototype.inotn=function(D){f(typeof D=="number"&&D>=0);var F=0|Math.ceil(D/26),A=D%26;this._expand(F),A>0&&F--;for(var v=0;v<F;v++)this.words[v]=67108863&~this.words[v];return A>0&&(this.words[v]=~this.words[v]&67108863>>26-A),this.strip()},t.prototype.notn=function(D){return this.clone().inotn(D)},t.prototype.setn=function(D,F){f(typeof D=="number"&&D>=0);var A=D/26|0,v=D%26;return this._expand(A+1),this.words[A]=F?this.words[A]|1<<v:this.words[A]&~(1<<v),this.strip()},t.prototype.iadd=function(D){var F,A,v;if(this.negative!==0&&D.negative===0)return this.negative=0,F=this.isub(D),this.negative^=1,this._normSign();if(this.negative===0&&D.negative!==0)return D.negative=0,F=this.isub(D),D.negative=1,F._normSign();this.length>D.length?(A=this,v=D):(A=D,v=this);for(var _=0,S=0;S<v.length;S++)F=(0|A.words[S])+(0|v.words[S])+_,this.words[S]=67108863&F,_=F>>>26;for(;_!==0&&S<A.length;S++)F=(0|A.words[S])+_,this.words[S]=67108863&F,_=F>>>26;if(this.length=A.length,_!==0)this.words[this.length]=_,this.length++;else if(A!==this)for(;S<A.length;S++)this.words[S]=A.words[S];return this},t.prototype.add=function(D){var F;return D.negative!==0&&this.negative===0?(D.negative=0,F=this.sub(D),D.negative^=1,F):D.negative===0&&this.negative!==0?(this.negative=0,F=D.sub(this),this.negative=1,F):this.length>D.length?this.clone().iadd(D):D.clone().iadd(this)},t.prototype.isub=function(D){if(D.negative!==0){D.negative=0;var F=this.iadd(D);return D.negative=1,F._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(D),this.negative=1,this._normSign();var A,v,_=this.cmp(D);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;_>0?(A=this,v=D):(A=D,v=this);for(var S=0,C=0;C<v.length;C++)S=(F=(0|A.words[C])-(0|v.words[C])+S)>>26,this.words[C]=67108863&F;for(;S!==0&&C<A.length;C++)S=(F=(0|A.words[C])+S)>>26,this.words[C]=67108863&F;if(S===0&&C<A.length&&A!==this)for(;C<A.length;C++)this.words[C]=A.words[C];return this.length=Math.max(this.length,C),A!==this&&(this.negative=1),this.strip()},t.prototype.sub=function(D){return this.clone().isub(D)};var y=function(D,F,A){var v,_,S,C=D.words,O=F.words,B=A.words,z=0,re=0|C[0],ne=8191&re,de=re>>>13,H=0|C[1],ae=8191&H,U=H>>>13,L=0|C[2],ee=8191&L,ce=L>>>13,ve=0|C[3],he=8191&ve,xe=ve>>>13,_e=0|C[4],Re=8191&_e,pe=_e>>>13,Ae=0|C[5],Se=8191&Ae,Ue=Ae>>>13,ke=0|C[6],We=8191&ke,$e=ke>>>13,Ze=0|C[7],lt=8191&Ze,xt=Ze>>>13,Tt=0|C[8],gt=8191&Tt,Mt=Tt>>>13,Ft=0|C[9],Bt=8191&Ft,Gt=Ft>>>13,ft=0|O[0],Ge=8191&ft,bt=ft>>>13,Et=0|O[1],yt=8191&Et,fr=Et>>>13,_r=0|O[2],Lt=8191&_r,Dt=_r>>>13,ir=0|O[3],rr=8191&ir,kr=ir>>>13,hr=0|O[4],Yt=8191&hr,Jt=hr>>>13,vr=0|O[5],Kt=8191&vr,ur=vr>>>13,Ar=0|O[6],$t=8191&Ar,Oe=Ar>>>13,He=0|O[7],et=8191&He,ht=He>>>13,it=0|O[8],kt=8191&it,er=it>>>13,jt=0|O[9],Pt=8191&jt,nr=jt>>>13;A.negative=D.negative^F.negative,A.length=19;var Qt=(z+(v=Math.imul(ne,Ge))|0)+((8191&(_=(_=Math.imul(ne,bt))+Math.imul(de,Ge)|0))<<13)|0;z=((S=Math.imul(de,bt))+(_>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,v=Math.imul(ae,Ge),_=(_=Math.imul(ae,bt))+Math.imul(U,Ge)|0,S=Math.imul(U,bt);var sr=(z+(v=v+Math.imul(ne,yt)|0)|0)+((8191&(_=(_=_+Math.imul(ne,fr)|0)+Math.imul(de,yt)|0))<<13)|0;z=((S=S+Math.imul(de,fr)|0)+(_>>>13)|0)+(sr>>>26)|0,sr&=67108863,v=Math.imul(ee,Ge),_=(_=Math.imul(ee,bt))+Math.imul(ce,Ge)|0,S=Math.imul(ce,bt),v=v+Math.imul(ae,yt)|0,_=(_=_+Math.imul(ae,fr)|0)+Math.imul(U,yt)|0,S=S+Math.imul(U,fr)|0;var jr=(z+(v=v+Math.imul(ne,Lt)|0)|0)+((8191&(_=(_=_+Math.imul(ne,Dt)|0)+Math.imul(de,Lt)|0))<<13)|0;z=((S=S+Math.imul(de,Dt)|0)+(_>>>13)|0)+(jr>>>26)|0,jr&=67108863,v=Math.imul(he,Ge),_=(_=Math.imul(he,bt))+Math.imul(xe,Ge)|0,S=Math.imul(xe,bt),v=v+Math.imul(ee,yt)|0,_=(_=_+Math.imul(ee,fr)|0)+Math.imul(ce,yt)|0,S=S+Math.imul(ce,fr)|0,v=v+Math.imul(ae,Lt)|0,_=(_=_+Math.imul(ae,Dt)|0)+Math.imul(U,Lt)|0,S=S+Math.imul(U,Dt)|0;var Mr=(z+(v=v+Math.imul(ne,rr)|0)|0)+((8191&(_=(_=_+Math.imul(ne,kr)|0)+Math.imul(de,rr)|0))<<13)|0;z=((S=S+Math.imul(de,kr)|0)+(_>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,v=Math.imul(Re,Ge),_=(_=Math.imul(Re,bt))+Math.imul(pe,Ge)|0,S=Math.imul(pe,bt),v=v+Math.imul(he,yt)|0,_=(_=_+Math.imul(he,fr)|0)+Math.imul(xe,yt)|0,S=S+Math.imul(xe,fr)|0,v=v+Math.imul(ee,Lt)|0,_=(_=_+Math.imul(ee,Dt)|0)+Math.imul(ce,Lt)|0,S=S+Math.imul(ce,Dt)|0,v=v+Math.imul(ae,rr)|0,_=(_=_+Math.imul(ae,kr)|0)+Math.imul(U,rr)|0,S=S+Math.imul(U,kr)|0;var Nr=(z+(v=v+Math.imul(ne,Yt)|0)|0)+((8191&(_=(_=_+Math.imul(ne,Jt)|0)+Math.imul(de,Yt)|0))<<13)|0;z=((S=S+Math.imul(de,Jt)|0)+(_>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,v=Math.imul(Se,Ge),_=(_=Math.imul(Se,bt))+Math.imul(Ue,Ge)|0,S=Math.imul(Ue,bt),v=v+Math.imul(Re,yt)|0,_=(_=_+Math.imul(Re,fr)|0)+Math.imul(pe,yt)|0,S=S+Math.imul(pe,fr)|0,v=v+Math.imul(he,Lt)|0,_=(_=_+Math.imul(he,Dt)|0)+Math.imul(xe,Lt)|0,S=S+Math.imul(xe,Dt)|0,v=v+Math.imul(ee,rr)|0,_=(_=_+Math.imul(ee,kr)|0)+Math.imul(ce,rr)|0,S=S+Math.imul(ce,kr)|0,v=v+Math.imul(ae,Yt)|0,_=(_=_+Math.imul(ae,Jt)|0)+Math.imul(U,Yt)|0,S=S+Math.imul(U,Jt)|0;var Sr=(z+(v=v+Math.imul(ne,Kt)|0)|0)+((8191&(_=(_=_+Math.imul(ne,ur)|0)+Math.imul(de,Kt)|0))<<13)|0;z=((S=S+Math.imul(de,ur)|0)+(_>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,v=Math.imul(We,Ge),_=(_=Math.imul(We,bt))+Math.imul($e,Ge)|0,S=Math.imul($e,bt),v=v+Math.imul(Se,yt)|0,_=(_=_+Math.imul(Se,fr)|0)+Math.imul(Ue,yt)|0,S=S+Math.imul(Ue,fr)|0,v=v+Math.imul(Re,Lt)|0,_=(_=_+Math.imul(Re,Dt)|0)+Math.imul(pe,Lt)|0,S=S+Math.imul(pe,Dt)|0,v=v+Math.imul(he,rr)|0,_=(_=_+Math.imul(he,kr)|0)+Math.imul(xe,rr)|0,S=S+Math.imul(xe,kr)|0,v=v+Math.imul(ee,Yt)|0,_=(_=_+Math.imul(ee,Jt)|0)+Math.imul(ce,Yt)|0,S=S+Math.imul(ce,Jt)|0,v=v+Math.imul(ae,Kt)|0,_=(_=_+Math.imul(ae,ur)|0)+Math.imul(U,Kt)|0,S=S+Math.imul(U,ur)|0;var wr=(z+(v=v+Math.imul(ne,$t)|0)|0)+((8191&(_=(_=_+Math.imul(ne,Oe)|0)+Math.imul(de,$t)|0))<<13)|0;z=((S=S+Math.imul(de,Oe)|0)+(_>>>13)|0)+(wr>>>26)|0,wr&=67108863,v=Math.imul(lt,Ge),_=(_=Math.imul(lt,bt))+Math.imul(xt,Ge)|0,S=Math.imul(xt,bt),v=v+Math.imul(We,yt)|0,_=(_=_+Math.imul(We,fr)|0)+Math.imul($e,yt)|0,S=S+Math.imul($e,fr)|0,v=v+Math.imul(Se,Lt)|0,_=(_=_+Math.imul(Se,Dt)|0)+Math.imul(Ue,Lt)|0,S=S+Math.imul(Ue,Dt)|0,v=v+Math.imul(Re,rr)|0,_=(_=_+Math.imul(Re,kr)|0)+Math.imul(pe,rr)|0,S=S+Math.imul(pe,kr)|0,v=v+Math.imul(he,Yt)|0,_=(_=_+Math.imul(he,Jt)|0)+Math.imul(xe,Yt)|0,S=S+Math.imul(xe,Jt)|0,v=v+Math.imul(ee,Kt)|0,_=(_=_+Math.imul(ee,ur)|0)+Math.imul(ce,Kt)|0,S=S+Math.imul(ce,ur)|0,v=v+Math.imul(ae,$t)|0,_=(_=_+Math.imul(ae,Oe)|0)+Math.imul(U,$t)|0,S=S+Math.imul(U,Oe)|0;var Ee=(z+(v=v+Math.imul(ne,et)|0)|0)+((8191&(_=(_=_+Math.imul(ne,ht)|0)+Math.imul(de,et)|0))<<13)|0;z=((S=S+Math.imul(de,ht)|0)+(_>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,v=Math.imul(gt,Ge),_=(_=Math.imul(gt,bt))+Math.imul(Mt,Ge)|0,S=Math.imul(Mt,bt),v=v+Math.imul(lt,yt)|0,_=(_=_+Math.imul(lt,fr)|0)+Math.imul(xt,yt)|0,S=S+Math.imul(xt,fr)|0,v=v+Math.imul(We,Lt)|0,_=(_=_+Math.imul(We,Dt)|0)+Math.imul($e,Lt)|0,S=S+Math.imul($e,Dt)|0,v=v+Math.imul(Se,rr)|0,_=(_=_+Math.imul(Se,kr)|0)+Math.imul(Ue,rr)|0,S=S+Math.imul(Ue,kr)|0,v=v+Math.imul(Re,Yt)|0,_=(_=_+Math.imul(Re,Jt)|0)+Math.imul(pe,Yt)|0,S=S+Math.imul(pe,Jt)|0,v=v+Math.imul(he,Kt)|0,_=(_=_+Math.imul(he,ur)|0)+Math.imul(xe,Kt)|0,S=S+Math.imul(xe,ur)|0,v=v+Math.imul(ee,$t)|0,_=(_=_+Math.imul(ee,Oe)|0)+Math.imul(ce,$t)|0,S=S+Math.imul(ce,Oe)|0,v=v+Math.imul(ae,et)|0,_=(_=_+Math.imul(ae,ht)|0)+Math.imul(U,et)|0,S=S+Math.imul(U,ht)|0;var Fe=(z+(v=v+Math.imul(ne,kt)|0)|0)+((8191&(_=(_=_+Math.imul(ne,er)|0)+Math.imul(de,kt)|0))<<13)|0;z=((S=S+Math.imul(de,er)|0)+(_>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,v=Math.imul(Bt,Ge),_=(_=Math.imul(Bt,bt))+Math.imul(Gt,Ge)|0,S=Math.imul(Gt,bt),v=v+Math.imul(gt,yt)|0,_=(_=_+Math.imul(gt,fr)|0)+Math.imul(Mt,yt)|0,S=S+Math.imul(Mt,fr)|0,v=v+Math.imul(lt,Lt)|0,_=(_=_+Math.imul(lt,Dt)|0)+Math.imul(xt,Lt)|0,S=S+Math.imul(xt,Dt)|0,v=v+Math.imul(We,rr)|0,_=(_=_+Math.imul(We,kr)|0)+Math.imul($e,rr)|0,S=S+Math.imul($e,kr)|0,v=v+Math.imul(Se,Yt)|0,_=(_=_+Math.imul(Se,Jt)|0)+Math.imul(Ue,Yt)|0,S=S+Math.imul(Ue,Jt)|0,v=v+Math.imul(Re,Kt)|0,_=(_=_+Math.imul(Re,ur)|0)+Math.imul(pe,Kt)|0,S=S+Math.imul(pe,ur)|0,v=v+Math.imul(he,$t)|0,_=(_=_+Math.imul(he,Oe)|0)+Math.imul(xe,$t)|0,S=S+Math.imul(xe,Oe)|0,v=v+Math.imul(ee,et)|0,_=(_=_+Math.imul(ee,ht)|0)+Math.imul(ce,et)|0,S=S+Math.imul(ce,ht)|0,v=v+Math.imul(ae,kt)|0,_=(_=_+Math.imul(ae,er)|0)+Math.imul(U,kt)|0,S=S+Math.imul(U,er)|0;var ot=(z+(v=v+Math.imul(ne,Pt)|0)|0)+((8191&(_=(_=_+Math.imul(ne,nr)|0)+Math.imul(de,Pt)|0))<<13)|0;z=((S=S+Math.imul(de,nr)|0)+(_>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(Bt,yt),_=(_=Math.imul(Bt,fr))+Math.imul(Gt,yt)|0,S=Math.imul(Gt,fr),v=v+Math.imul(gt,Lt)|0,_=(_=_+Math.imul(gt,Dt)|0)+Math.imul(Mt,Lt)|0,S=S+Math.imul(Mt,Dt)|0,v=v+Math.imul(lt,rr)|0,_=(_=_+Math.imul(lt,kr)|0)+Math.imul(xt,rr)|0,S=S+Math.imul(xt,kr)|0,v=v+Math.imul(We,Yt)|0,_=(_=_+Math.imul(We,Jt)|0)+Math.imul($e,Yt)|0,S=S+Math.imul($e,Jt)|0,v=v+Math.imul(Se,Kt)|0,_=(_=_+Math.imul(Se,ur)|0)+Math.imul(Ue,Kt)|0,S=S+Math.imul(Ue,ur)|0,v=v+Math.imul(Re,$t)|0,_=(_=_+Math.imul(Re,Oe)|0)+Math.imul(pe,$t)|0,S=S+Math.imul(pe,Oe)|0,v=v+Math.imul(he,et)|0,_=(_=_+Math.imul(he,ht)|0)+Math.imul(xe,et)|0,S=S+Math.imul(xe,ht)|0,v=v+Math.imul(ee,kt)|0,_=(_=_+Math.imul(ee,er)|0)+Math.imul(ce,kt)|0,S=S+Math.imul(ce,er)|0;var De=(z+(v=v+Math.imul(ae,Pt)|0)|0)+((8191&(_=(_=_+Math.imul(ae,nr)|0)+Math.imul(U,Pt)|0))<<13)|0;z=((S=S+Math.imul(U,nr)|0)+(_>>>13)|0)+(De>>>26)|0,De&=67108863,v=Math.imul(Bt,Lt),_=(_=Math.imul(Bt,Dt))+Math.imul(Gt,Lt)|0,S=Math.imul(Gt,Dt),v=v+Math.imul(gt,rr)|0,_=(_=_+Math.imul(gt,kr)|0)+Math.imul(Mt,rr)|0,S=S+Math.imul(Mt,kr)|0,v=v+Math.imul(lt,Yt)|0,_=(_=_+Math.imul(lt,Jt)|0)+Math.imul(xt,Yt)|0,S=S+Math.imul(xt,Jt)|0,v=v+Math.imul(We,Kt)|0,_=(_=_+Math.imul(We,ur)|0)+Math.imul($e,Kt)|0,S=S+Math.imul($e,ur)|0,v=v+Math.imul(Se,$t)|0,_=(_=_+Math.imul(Se,Oe)|0)+Math.imul(Ue,$t)|0,S=S+Math.imul(Ue,Oe)|0,v=v+Math.imul(Re,et)|0,_=(_=_+Math.imul(Re,ht)|0)+Math.imul(pe,et)|0,S=S+Math.imul(pe,ht)|0,v=v+Math.imul(he,kt)|0,_=(_=_+Math.imul(he,er)|0)+Math.imul(xe,kt)|0,S=S+Math.imul(xe,er)|0;var zt=(z+(v=v+Math.imul(ee,Pt)|0)|0)+((8191&(_=(_=_+Math.imul(ee,nr)|0)+Math.imul(ce,Pt)|0))<<13)|0;z=((S=S+Math.imul(ce,nr)|0)+(_>>>13)|0)+(zt>>>26)|0,zt&=67108863,v=Math.imul(Bt,rr),_=(_=Math.imul(Bt,kr))+Math.imul(Gt,rr)|0,S=Math.imul(Gt,kr),v=v+Math.imul(gt,Yt)|0,_=(_=_+Math.imul(gt,Jt)|0)+Math.imul(Mt,Yt)|0,S=S+Math.imul(Mt,Jt)|0,v=v+Math.imul(lt,Kt)|0,_=(_=_+Math.imul(lt,ur)|0)+Math.imul(xt,Kt)|0,S=S+Math.imul(xt,ur)|0,v=v+Math.imul(We,$t)|0,_=(_=_+Math.imul(We,Oe)|0)+Math.imul($e,$t)|0,S=S+Math.imul($e,Oe)|0,v=v+Math.imul(Se,et)|0,_=(_=_+Math.imul(Se,ht)|0)+Math.imul(Ue,et)|0,S=S+Math.imul(Ue,ht)|0,v=v+Math.imul(Re,kt)|0,_=(_=_+Math.imul(Re,er)|0)+Math.imul(pe,kt)|0,S=S+Math.imul(pe,er)|0;var at=(z+(v=v+Math.imul(he,Pt)|0)|0)+((8191&(_=(_=_+Math.imul(he,nr)|0)+Math.imul(xe,Pt)|0))<<13)|0;z=((S=S+Math.imul(xe,nr)|0)+(_>>>13)|0)+(at>>>26)|0,at&=67108863,v=Math.imul(Bt,Yt),_=(_=Math.imul(Bt,Jt))+Math.imul(Gt,Yt)|0,S=Math.imul(Gt,Jt),v=v+Math.imul(gt,Kt)|0,_=(_=_+Math.imul(gt,ur)|0)+Math.imul(Mt,Kt)|0,S=S+Math.imul(Mt,ur)|0,v=v+Math.imul(lt,$t)|0,_=(_=_+Math.imul(lt,Oe)|0)+Math.imul(xt,$t)|0,S=S+Math.imul(xt,Oe)|0,v=v+Math.imul(We,et)|0,_=(_=_+Math.imul(We,ht)|0)+Math.imul($e,et)|0,S=S+Math.imul($e,ht)|0,v=v+Math.imul(Se,kt)|0,_=(_=_+Math.imul(Se,er)|0)+Math.imul(Ue,kt)|0,S=S+Math.imul(Ue,er)|0;var vt=(z+(v=v+Math.imul(Re,Pt)|0)|0)+((8191&(_=(_=_+Math.imul(Re,nr)|0)+Math.imul(pe,Pt)|0))<<13)|0;z=((S=S+Math.imul(pe,nr)|0)+(_>>>13)|0)+(vt>>>26)|0,vt&=67108863,v=Math.imul(Bt,Kt),_=(_=Math.imul(Bt,ur))+Math.imul(Gt,Kt)|0,S=Math.imul(Gt,ur),v=v+Math.imul(gt,$t)|0,_=(_=_+Math.imul(gt,Oe)|0)+Math.imul(Mt,$t)|0,S=S+Math.imul(Mt,Oe)|0,v=v+Math.imul(lt,et)|0,_=(_=_+Math.imul(lt,ht)|0)+Math.imul(xt,et)|0,S=S+Math.imul(xt,ht)|0,v=v+Math.imul(We,kt)|0,_=(_=_+Math.imul(We,er)|0)+Math.imul($e,kt)|0,S=S+Math.imul($e,er)|0;var xr=(z+(v=v+Math.imul(Se,Pt)|0)|0)+((8191&(_=(_=_+Math.imul(Se,nr)|0)+Math.imul(Ue,Pt)|0))<<13)|0;z=((S=S+Math.imul(Ue,nr)|0)+(_>>>13)|0)+(xr>>>26)|0,xr&=67108863,v=Math.imul(Bt,$t),_=(_=Math.imul(Bt,Oe))+Math.imul(Gt,$t)|0,S=Math.imul(Gt,Oe),v=v+Math.imul(gt,et)|0,_=(_=_+Math.imul(gt,ht)|0)+Math.imul(Mt,et)|0,S=S+Math.imul(Mt,ht)|0,v=v+Math.imul(lt,kt)|0,_=(_=_+Math.imul(lt,er)|0)+Math.imul(xt,kt)|0,S=S+Math.imul(xt,er)|0;var Rt=(z+(v=v+Math.imul(We,Pt)|0)|0)+((8191&(_=(_=_+Math.imul(We,nr)|0)+Math.imul($e,Pt)|0))<<13)|0;z=((S=S+Math.imul($e,nr)|0)+(_>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,v=Math.imul(Bt,et),_=(_=Math.imul(Bt,ht))+Math.imul(Gt,et)|0,S=Math.imul(Gt,ht),v=v+Math.imul(gt,kt)|0,_=(_=_+Math.imul(gt,er)|0)+Math.imul(Mt,kt)|0,S=S+Math.imul(Mt,er)|0;var Nt=(z+(v=v+Math.imul(lt,Pt)|0)|0)+((8191&(_=(_=_+Math.imul(lt,nr)|0)+Math.imul(xt,Pt)|0))<<13)|0;z=((S=S+Math.imul(xt,nr)|0)+(_>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,v=Math.imul(Bt,kt),_=(_=Math.imul(Bt,er))+Math.imul(Gt,kt)|0,S=Math.imul(Gt,er);var Ct=(z+(v=v+Math.imul(gt,Pt)|0)|0)+((8191&(_=(_=_+Math.imul(gt,nr)|0)+Math.imul(Mt,Pt)|0))<<13)|0;z=((S=S+Math.imul(Mt,nr)|0)+(_>>>13)|0)+(Ct>>>26)|0,Ct&=67108863;var dr=(z+(v=Math.imul(Bt,Pt))|0)+((8191&(_=(_=Math.imul(Bt,nr))+Math.imul(Gt,Pt)|0))<<13)|0;return z=((S=Math.imul(Gt,nr))+(_>>>13)|0)+(dr>>>26)|0,dr&=67108863,B[0]=Qt,B[1]=sr,B[2]=jr,B[3]=Mr,B[4]=Nr,B[5]=Sr,B[6]=wr,B[7]=Ee,B[8]=Fe,B[9]=ot,B[10]=De,B[11]=zt,B[12]=at,B[13]=vt,B[14]=xr,B[15]=Rt,B[16]=Nt,B[17]=Ct,B[18]=dr,z!==0&&(B[19]=z,A.length++),A};function T(D,F,A){return new M().mulp(D,F,A)}function M(D,F){this.x=D,this.y=F}Math.imul||(y=w),t.prototype.mulTo=function(D,F){var A=this.length+D.length;return this.length===10&&D.length===10?y(this,D,F):A<63?w(this,D,F):A<1024?function(v,_,S){S.negative=_.negative^v.negative,S.length=v.length+_.length;for(var C=0,O=0,B=0;B<S.length-1;B++){var z=O;O=0;for(var re=67108863&C,ne=Math.min(B,_.length-1),de=Math.max(0,B-v.length+1);de<=ne;de++){var H=B-de,ae=(0|v.words[H])*(0|_.words[de]),U=67108863&ae;re=67108863&(U=U+re|0),O+=(z=(z=z+(ae/67108864|0)|0)+(U>>>26)|0)>>>26,z&=67108863}S.words[B]=re,C=z,z=O}return C!==0?S.words[B]=C:S.length--,S.strip()}(this,D,F):T(this,D,F)},M.prototype.makeRBT=function(D){for(var F=new Array(D),A=t.prototype._countBits(D)-1,v=0;v<D;v++)F[v]=this.revBin(v,A,D);return F},M.prototype.revBin=function(D,F,A){if(D===0||D===A-1)return D;for(var v=0,_=0;_<F;_++)v|=(1&D)<<F-_-1,D>>=1;return v},M.prototype.permute=function(D,F,A,v,_,S){for(var C=0;C<S;C++)v[C]=F[D[C]],_[C]=A[D[C]]},M.prototype.transform=function(D,F,A,v,_,S){this.permute(S,D,F,A,v,_);for(var C=1;C<_;C<<=1)for(var O=C<<1,B=Math.cos(2*Math.PI/O),z=Math.sin(2*Math.PI/O),re=0;re<_;re+=O)for(var ne=B,de=z,H=0;H<C;H++){var ae=A[re+H],U=v[re+H],L=A[re+H+C],ee=v[re+H+C],ce=ne*L-de*ee;ee=ne*ee+de*L,L=ce,A[re+H]=ae+L,v[re+H]=U+ee,A[re+H+C]=ae-L,v[re+H+C]=U-ee,H!==O&&(ce=B*ne-z*de,de=B*de+z*ne,ne=ce)}},M.prototype.guessLen13b=function(D,F){var A=1|Math.max(F,D),v=1&A,_=0;for(A=A/2|0;A;A>>>=1)_++;return 1<<_+1+v},M.prototype.conjugate=function(D,F,A){if(!(A<=1))for(var v=0;v<A/2;v++){var _=D[v];D[v]=D[A-v-1],D[A-v-1]=_,_=F[v],F[v]=-F[A-v-1],F[A-v-1]=-_}},M.prototype.normalize13b=function(D,F){for(var A=0,v=0;v<F/2;v++){var _=8192*Math.round(D[2*v+1]/F)+Math.round(D[2*v]/F)+A;D[v]=67108863&_,A=_<67108864?0:_/67108864|0}return D},M.prototype.convert13b=function(D,F,A,v){for(var _=0,S=0;S<F;S++)_+=0|D[S],A[2*S]=8191&_,_>>>=13,A[2*S+1]=8191&_,_>>>=13;for(S=2*F;S<v;++S)A[S]=0;f(_===0),f((-8192&_)==0)},M.prototype.stub=function(D){for(var F=new Array(D),A=0;A<D;A++)F[A]=0;return F},M.prototype.mulp=function(D,F,A){var v=2*this.guessLen13b(D.length,F.length),_=this.makeRBT(v),S=this.stub(v),C=new Array(v),O=new Array(v),B=new Array(v),z=new Array(v),re=new Array(v),ne=new Array(v),de=A.words;de.length=v,this.convert13b(D.words,D.length,C,v),this.convert13b(F.words,F.length,z,v),this.transform(C,S,O,B,v,_),this.transform(z,S,re,ne,v,_);for(var H=0;H<v;H++){var ae=O[H]*re[H]-B[H]*ne[H];B[H]=O[H]*ne[H]+B[H]*re[H],O[H]=ae}return this.conjugate(O,B,v),this.transform(O,B,de,S,v,_),this.conjugate(de,S,v),this.normalize13b(de,v),A.negative=D.negative^F.negative,A.length=D.length+F.length,A.strip()},t.prototype.mul=function(D){var F=new t(null);return F.words=new Array(this.length+D.length),this.mulTo(D,F)},t.prototype.mulf=function(D){var F=new t(null);return F.words=new Array(this.length+D.length),T(this,D,F)},t.prototype.imul=function(D){return this.clone().mulTo(D,this)},t.prototype.imuln=function(D){f(typeof D=="number"),f(D<67108864);for(var F=0,A=0;A<this.length;A++){var v=(0|this.words[A])*D,_=(67108863&v)+(67108863&F);F>>=26,F+=v/67108864|0,F+=_>>>26,this.words[A]=67108863&_}return F!==0&&(this.words[A]=F,this.length++),this},t.prototype.muln=function(D){return this.clone().imuln(D)},t.prototype.sqr=function(){return this.mul(this)},t.prototype.isqr=function(){return this.imul(this.clone())},t.prototype.pow=function(D){var F=function(S){for(var C=new Array(S.bitLength()),O=0;O<C.length;O++){var B=O/26|0,z=O%26;C[O]=(S.words[B]&1<<z)>>>z}return C}(D);if(F.length===0)return new t(1);for(var A=this,v=0;v<F.length&&F[v]===0;v++,A=A.sqr());if(++v<F.length)for(var _=A.sqr();v<F.length;v++,_=_.sqr())F[v]!==0&&(A=A.mul(_));return A},t.prototype.iushln=function(D){f(typeof D=="number"&&D>=0);var F,A=D%26,v=(D-A)/26,_=67108863>>>26-A<<26-A;if(A!==0){var S=0;for(F=0;F<this.length;F++){var C=this.words[F]&_,O=(0|this.words[F])-C<<A;this.words[F]=O|S,S=C>>>26-A}S&&(this.words[F]=S,this.length++)}if(v!==0){for(F=this.length-1;F>=0;F--)this.words[F+v]=this.words[F];for(F=0;F<v;F++)this.words[F]=0;this.length+=v}return this.strip()},t.prototype.ishln=function(D){return f(this.negative===0),this.iushln(D)},t.prototype.iushrn=function(D,F,A){var v;f(typeof D=="number"&&D>=0),v=F?(F-F%26)/26:0;var _=D%26,S=Math.min((D-_)/26,this.length),C=67108863^67108863>>>_<<_,O=A;if(v-=S,v=Math.max(0,v),O){for(var B=0;B<S;B++)O.words[B]=this.words[B];O.length=S}if(S!==0)if(this.length>S)for(this.length-=S,B=0;B<this.length;B++)this.words[B]=this.words[B+S];else this.words[0]=0,this.length=1;var z=0;for(B=this.length-1;B>=0&&(z!==0||B>=v);B--){var re=0|this.words[B];this.words[B]=z<<26-_|re>>>_,z=re&C}return O&&z!==0&&(O.words[O.length++]=z),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},t.prototype.ishrn=function(D,F,A){return f(this.negative===0),this.iushrn(D,F,A)},t.prototype.shln=function(D){return this.clone().ishln(D)},t.prototype.ushln=function(D){return this.clone().iushln(D)},t.prototype.shrn=function(D){return this.clone().ishrn(D)},t.prototype.ushrn=function(D){return this.clone().iushrn(D)},t.prototype.testn=function(D){f(typeof D=="number"&&D>=0);var F=D%26,A=(D-F)/26,v=1<<F;return!(this.length<=A)&&!!(this.words[A]&v)},t.prototype.imaskn=function(D){f(typeof D=="number"&&D>=0);var F=D%26,A=(D-F)/26;if(f(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(F!==0&&A++,this.length=Math.min(A,this.length),F!==0){var v=67108863^67108863>>>F<<F;this.words[this.length-1]&=v}return this.strip()},t.prototype.maskn=function(D){return this.clone().imaskn(D)},t.prototype.iaddn=function(D){return f(typeof D=="number"),f(D<67108864),D<0?this.isubn(-D):this.negative!==0?this.length===1&&(0|this.words[0])<D?(this.words[0]=D-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(D),this.negative=1,this):this._iaddn(D)},t.prototype._iaddn=function(D){this.words[0]+=D;for(var F=0;F<this.length&&this.words[F]>=67108864;F++)this.words[F]-=67108864,F===this.length-1?this.words[F+1]=1:this.words[F+1]++;return this.length=Math.max(this.length,F+1),this},t.prototype.isubn=function(D){if(f(typeof D=="number"),f(D<67108864),D<0)return this.iaddn(-D);if(this.negative!==0)return this.negative=0,this.iaddn(D),this.negative=1,this;if(this.words[0]-=D,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var F=0;F<this.length&&this.words[F]<0;F++)this.words[F]+=67108864,this.words[F+1]-=1;return this.strip()},t.prototype.addn=function(D){return this.clone().iaddn(D)},t.prototype.subn=function(D){return this.clone().isubn(D)},t.prototype.iabs=function(){return this.negative=0,this},t.prototype.abs=function(){return this.clone().iabs()},t.prototype._ishlnsubmul=function(D,F,A){var v,_,S=D.length+A;this._expand(S);var C=0;for(v=0;v<D.length;v++){_=(0|this.words[v+A])+C;var O=(0|D.words[v])*F;C=((_-=67108863&O)>>26)-(O/67108864|0),this.words[v+A]=67108863&_}for(;v<this.length-A;v++)C=(_=(0|this.words[v+A])+C)>>26,this.words[v+A]=67108863&_;if(C===0)return this.strip();for(f(C===-1),C=0,v=0;v<this.length;v++)C=(_=-(0|this.words[v])+C)>>26,this.words[v]=67108863&_;return this.negative=1,this.strip()},t.prototype._wordDiv=function(D,F){var A=(this.length,D.length),v=this.clone(),_=D,S=0|_.words[_.length-1];(A=26-this._countBits(S))!==0&&(_=_.ushln(A),v.iushln(A),S=0|_.words[_.length-1]);var C,O=v.length-_.length;if(F!=="mod"){(C=new t(null)).length=O+1,C.words=new Array(C.length);for(var B=0;B<C.length;B++)C.words[B]=0}var z=v.clone()._ishlnsubmul(_,1,O);z.negative===0&&(v=z,C&&(C.words[O]=1));for(var re=O-1;re>=0;re--){var ne=67108864*(0|v.words[_.length+re])+(0|v.words[_.length+re-1]);for(ne=Math.min(ne/S|0,67108863),v._ishlnsubmul(_,ne,re);v.negative!==0;)ne--,v.negative=0,v._ishlnsubmul(_,1,re),v.isZero()||(v.negative^=1);C&&(C.words[re]=ne)}return C&&C.strip(),v.strip(),F!=="div"&&A!==0&&v.iushrn(A),{div:C||null,mod:v}},t.prototype.divmod=function(D,F,A){return f(!D.isZero()),this.isZero()?{div:new t(0),mod:new t(0)}:this.negative!==0&&D.negative===0?(S=this.neg().divmod(D,F),F!=="mod"&&(v=S.div.neg()),F!=="div"&&(_=S.mod.neg(),A&&_.negative!==0&&_.iadd(D)),{div:v,mod:_}):this.negative===0&&D.negative!==0?(S=this.divmod(D.neg(),F),F!=="mod"&&(v=S.div.neg()),{div:v,mod:S.mod}):(this.negative&D.negative)!=0?(S=this.neg().divmod(D.neg(),F),F!=="div"&&(_=S.mod.neg(),A&&_.negative!==0&&_.isub(D)),{div:S.div,mod:_}):D.length>this.length||this.cmp(D)<0?{div:new t(0),mod:this}:D.length===1?F==="div"?{div:this.divn(D.words[0]),mod:null}:F==="mod"?{div:null,mod:new t(this.modn(D.words[0]))}:{div:this.divn(D.words[0]),mod:new t(this.modn(D.words[0]))}:this._wordDiv(D,F);var v,_,S},t.prototype.div=function(D){return this.divmod(D,"div",!1).div},t.prototype.mod=function(D){return this.divmod(D,"mod",!1).mod},t.prototype.umod=function(D){return this.divmod(D,"mod",!0).mod},t.prototype.divRound=function(D){var F=this.divmod(D);if(F.mod.isZero())return F.div;var A=F.div.negative!==0?F.mod.isub(D):F.mod,v=D.ushrn(1),_=D.andln(1),S=A.cmp(v);return S<0||_===1&&S===0?F.div:F.div.negative!==0?F.div.isubn(1):F.div.iaddn(1)},t.prototype.modn=function(D){f(D<=67108863);for(var F=(1<<26)%D,A=0,v=this.length-1;v>=0;v--)A=(F*A+(0|this.words[v]))%D;return A},t.prototype.idivn=function(D){f(D<=67108863);for(var F=0,A=this.length-1;A>=0;A--){var v=(0|this.words[A])+67108864*F;this.words[A]=v/D|0,F=v%D}return this.strip()},t.prototype.divn=function(D){return this.clone().idivn(D)},t.prototype.egcd=function(D){f(D.negative===0),f(!D.isZero());var F=this,A=D.clone();F=F.negative!==0?F.umod(D):F.clone();for(var v=new t(1),_=new t(0),S=new t(0),C=new t(1),O=0;F.isEven()&&A.isEven();)F.iushrn(1),A.iushrn(1),++O;for(var B=A.clone(),z=F.clone();!F.isZero();){for(var re=0,ne=1;(F.words[0]&ne)==0&&re<26;++re,ne<<=1);if(re>0)for(F.iushrn(re);re-- >0;)(v.isOdd()||_.isOdd())&&(v.iadd(B),_.isub(z)),v.iushrn(1),_.iushrn(1);for(var de=0,H=1;(A.words[0]&H)==0&&de<26;++de,H<<=1);if(de>0)for(A.iushrn(de);de-- >0;)(S.isOdd()||C.isOdd())&&(S.iadd(B),C.isub(z)),S.iushrn(1),C.iushrn(1);F.cmp(A)>=0?(F.isub(A),v.isub(S),_.isub(C)):(A.isub(F),S.isub(v),C.isub(_))}return{a:S,b:C,gcd:A.iushln(O)}},t.prototype._invmp=function(D){f(D.negative===0),f(!D.isZero());var F=this,A=D.clone();F=F.negative!==0?F.umod(D):F.clone();for(var v,_=new t(1),S=new t(0),C=A.clone();F.cmpn(1)>0&&A.cmpn(1)>0;){for(var O=0,B=1;(F.words[0]&B)==0&&O<26;++O,B<<=1);if(O>0)for(F.iushrn(O);O-- >0;)_.isOdd()&&_.iadd(C),_.iushrn(1);for(var z=0,re=1;(A.words[0]&re)==0&&z<26;++z,re<<=1);if(z>0)for(A.iushrn(z);z-- >0;)S.isOdd()&&S.iadd(C),S.iushrn(1);F.cmp(A)>=0?(F.isub(A),_.isub(S)):(A.isub(F),S.isub(_))}return(v=F.cmpn(1)===0?_:S).cmpn(0)<0&&v.iadd(D),v},t.prototype.gcd=function(D){if(this.isZero())return D.abs();if(D.isZero())return this.abs();var F=this.clone(),A=D.clone();F.negative=0,A.negative=0;for(var v=0;F.isEven()&&A.isEven();v++)F.iushrn(1),A.iushrn(1);for(;;){for(;F.isEven();)F.iushrn(1);for(;A.isEven();)A.iushrn(1);var _=F.cmp(A);if(_<0){var S=F;F=A,A=S}else if(_===0||A.cmpn(1)===0)break;F.isub(A)}return A.iushln(v)},t.prototype.invm=function(D){return this.egcd(D).a.umod(D)},t.prototype.isEven=function(){return(1&this.words[0])==0},t.prototype.isOdd=function(){return(1&this.words[0])==1},t.prototype.andln=function(D){return this.words[0]&D},t.prototype.bincn=function(D){f(typeof D=="number");var F=D%26,A=(D-F)/26,v=1<<F;if(this.length<=A)return this._expand(A+1),this.words[A]|=v,this;for(var _=v,S=A;_!==0&&S<this.length;S++){var C=0|this.words[S];_=(C+=_)>>>26,C&=67108863,this.words[S]=C}return _!==0&&(this.words[S]=_,this.length++),this},t.prototype.isZero=function(){return this.length===1&&this.words[0]===0},t.prototype.cmpn=function(D){var F,A=D<0;if(this.negative!==0&&!A)return-1;if(this.negative===0&&A)return 1;if(this.strip(),this.length>1)F=1;else{A&&(D=-D),f(D<=67108863,"Number is too big");var v=0|this.words[0];F=v===D?0:v<D?-1:1}return this.negative!==0?0|-F:F},t.prototype.cmp=function(D){if(this.negative!==0&&D.negative===0)return-1;if(this.negative===0&&D.negative!==0)return 1;var F=this.ucmp(D);return this.negative!==0?0|-F:F},t.prototype.ucmp=function(D){if(this.length>D.length)return 1;if(this.length<D.length)return-1;for(var F=0,A=this.length-1;A>=0;A--){var v=0|this.words[A],_=0|D.words[A];if(v!==_){v<_?F=-1:v>_&&(F=1);break}}return F},t.prototype.gtn=function(D){return this.cmpn(D)===1},t.prototype.gt=function(D){return this.cmp(D)===1},t.prototype.gten=function(D){return this.cmpn(D)>=0},t.prototype.gte=function(D){return this.cmp(D)>=0},t.prototype.ltn=function(D){return this.cmpn(D)===-1},t.prototype.lt=function(D){return this.cmp(D)===-1},t.prototype.lten=function(D){return this.cmpn(D)<=0},t.prototype.lte=function(D){return this.cmp(D)<=0},t.prototype.eqn=function(D){return this.cmpn(D)===0},t.prototype.eq=function(D){return this.cmp(D)===0},t.red=function(D){return new ie(D)},t.prototype.toRed=function(D){return f(!this.red,"Already a number in reduction context"),f(this.negative===0,"red works only with positives"),D.convertTo(this)._forceRed(D)},t.prototype.fromRed=function(){return f(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},t.prototype._forceRed=function(D){return this.red=D,this},t.prototype.forceRed=function(D){return f(!this.red,"Already a number in reduction context"),this._forceRed(D)},t.prototype.redAdd=function(D){return f(this.red,"redAdd works only with red numbers"),this.red.add(this,D)},t.prototype.redIAdd=function(D){return f(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,D)},t.prototype.redSub=function(D){return f(this.red,"redSub works only with red numbers"),this.red.sub(this,D)},t.prototype.redISub=function(D){return f(this.red,"redISub works only with red numbers"),this.red.isub(this,D)},t.prototype.redShl=function(D){return f(this.red,"redShl works only with red numbers"),this.red.shl(this,D)},t.prototype.redMul=function(D){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,D),this.red.mul(this,D)},t.prototype.redIMul=function(D){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,D),this.red.imul(this,D)},t.prototype.redSqr=function(){return f(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},t.prototype.redISqr=function(){return f(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},t.prototype.redSqrt=function(){return f(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},t.prototype.redInvm=function(){return f(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},t.prototype.redNeg=function(){return f(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},t.prototype.redPow=function(D){return f(this.red&&!D.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,D)};var j={k256:null,p224:null,p192:null,p25519:null};function X(D,F){this.name=D,this.p=new t(F,16),this.n=this.p.bitLength(),this.k=new t(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function Y(){X.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function W(){X.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function q(){X.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function K(){X.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function ie(D){if(typeof D=="string"){var F=t._prime(D);this.m=F.p,this.prime=F}else f(D.gtn(1),"modulus must be greater than 1"),this.m=D,this.prime=null}function $(D){ie.call(this,D),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new t(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}X.prototype._tmp=function(){var D=new t(null);return D.words=new Array(Math.ceil(this.n/13)),D},X.prototype.ireduce=function(D){var F,A=D;do this.split(A,this.tmp),F=(A=(A=this.imulK(A)).iadd(this.tmp)).bitLength();while(F>this.n);var v=F<this.n?-1:A.ucmp(this.p);return v===0?(A.words[0]=0,A.length=1):v>0?A.isub(this.p):A.strip!==void 0?A.strip():A._strip(),A},X.prototype.split=function(D,F){D.iushrn(this.n,0,F)},X.prototype.imulK=function(D){return D.imul(this.k)},i(Y,X),Y.prototype.split=function(D,F){for(var A=Math.min(D.length,9),v=0;v<A;v++)F.words[v]=D.words[v];if(F.length=A,D.length<=9)return D.words[0]=0,void(D.length=1);var _=D.words[9];for(F.words[F.length++]=4194303&_,v=10;v<D.length;v++){var S=0|D.words[v];D.words[v-10]=(4194303&S)<<4|_>>>22,_=S}_>>>=22,D.words[v-10]=_,_===0&&D.length>10?D.length-=10:D.length-=9},Y.prototype.imulK=function(D){D.words[D.length]=0,D.words[D.length+1]=0,D.length+=2;for(var F=0,A=0;A<D.length;A++){var v=0|D.words[A];F+=977*v,D.words[A]=67108863&F,F=64*v+(F/67108864|0)}return D.words[D.length-1]===0&&(D.length--,D.words[D.length-1]===0&&D.length--),D},i(W,X),i(q,X),i(K,X),K.prototype.imulK=function(D){for(var F=0,A=0;A<D.length;A++){var v=19*(0|D.words[A])+F,_=67108863&v;v>>>=26,D.words[A]=_,F=v}return F!==0&&(D.words[D.length++]=F),D},t._prime=function(D){if(j[D])return j[D];var F;if(D==="k256")F=new Y;else if(D==="p224")F=new W;else if(D==="p192")F=new q;else{if(D!=="p25519")throw new Error("Unknown prime "+D);F=new K}return j[D]=F,F},ie.prototype._verify1=function(D){f(D.negative===0,"red works only with positives"),f(D.red,"red works only with red numbers")},ie.prototype._verify2=function(D,F){f((D.negative|F.negative)==0,"red works only with positives"),f(D.red&&D.red===F.red,"red works only with red numbers")},ie.prototype.imod=function(D){return this.prime?this.prime.ireduce(D)._forceRed(this):D.umod(this.m)._forceRed(this)},ie.prototype.neg=function(D){return D.isZero()?D.clone():this.m.sub(D)._forceRed(this)},ie.prototype.add=function(D,F){this._verify2(D,F);var A=D.add(F);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},ie.prototype.iadd=function(D,F){this._verify2(D,F);var A=D.iadd(F);return A.cmp(this.m)>=0&&A.isub(this.m),A},ie.prototype.sub=function(D,F){this._verify2(D,F);var A=D.sub(F);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},ie.prototype.isub=function(D,F){this._verify2(D,F);var A=D.isub(F);return A.cmpn(0)<0&&A.iadd(this.m),A},ie.prototype.shl=function(D,F){return this._verify1(D),this.imod(D.ushln(F))},ie.prototype.imul=function(D,F){return this._verify2(D,F),this.imod(D.imul(F))},ie.prototype.mul=function(D,F){return this._verify2(D,F),this.imod(D.mul(F))},ie.prototype.isqr=function(D){return this.imul(D,D.clone())},ie.prototype.sqr=function(D){return this.mul(D,D)},ie.prototype.sqrt=function(D){if(D.isZero())return D.clone();var F=this.m.andln(3);if(f(F%2==1),F===3){var A=this.m.add(new t(1)).iushrn(2);return this.pow(D,A)}for(var v=this.m.subn(1),_=0;!v.isZero()&&v.andln(1)===0;)_++,v.iushrn(1);f(!v.isZero());var S=new t(1).toRed(this),C=S.redNeg(),O=this.m.subn(1).iushrn(1),B=this.m.bitLength();for(B=new t(2*B*B).toRed(this);this.pow(B,O).cmp(C)!==0;)B.redIAdd(C);for(var z=this.pow(B,v),re=this.pow(D,v.addn(1).iushrn(1)),ne=this.pow(D,v),de=_;ne.cmp(S)!==0;){for(var H=ne,ae=0;H.cmp(S)!==0;ae++)H=H.redSqr();f(ae<de);var U=this.pow(z,new t(1).iushln(de-ae-1));re=re.redMul(U),z=U.redSqr(),ne=ne.redMul(z),de=ae}return re},ie.prototype.invm=function(D){var F=D._invmp(this.m);return F.negative!==0?(F.negative=0,this.imod(F).redNeg()):this.imod(F)},ie.prototype.pow=function(D,F){if(F.isZero())return new t(1).toRed(this);if(F.cmpn(1)===0)return D.clone();var A=new Array(16);A[0]=new t(1).toRed(this),A[1]=D;for(var v=2;v<A.length;v++)A[v]=this.mul(A[v-1],D);var _=A[0],S=0,C=0,O=F.bitLength()%26;for(O===0&&(O=26),v=F.length-1;v>=0;v--){for(var B=F.words[v],z=O-1;z>=0;z--){var re=B>>z&1;_!==A[0]&&(_=this.sqr(_)),re!==0||S!==0?(S<<=1,S|=re,(++C===4||v===0&&z===0)&&(_=this.mul(_,A[S]),C=0,S=0)):C=0}O=26}return _},ie.prototype.convertTo=function(D){var F=D.umod(this.m);return F===D?F.clone():F},ie.prototype.convertFrom=function(D){var F=D.clone();return F.red=null,F},t.mont=function(D){return new $(D)},i($,ie),$.prototype.convertTo=function(D){return this.imod(D.ushln(this.shift))},$.prototype.convertFrom=function(D){var F=this.imod(D.mul(this.rinv));return F.red=null,F},$.prototype.imul=function(D,F){if(D.isZero()||F.isZero())return D.words[0]=0,D.length=1,D;var A=D.imul(F),v=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=A.isub(v).iushrn(this.shift),S=_;return _.cmp(this.m)>=0?S=_.isub(this.m):_.cmpn(0)<0&&(S=_.iadd(this.m)),S._forceRed(this)},$.prototype.mul=function(D,F){if(D.isZero()||F.isZero())return new t(0)._forceRed(this);var A=D.mul(F),v=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=A.isub(v).iushrn(this.shift),S=_;return _.cmp(this.m)>=0?S=_.isub(this.m):_.cmpn(0)<0&&(S=_.iadd(this.m)),S._forceRed(this)},$.prototype.invm=function(D){return this.imod(D._invmp(this.m).mul(this.r2))._forceRed(this)}})(I===void 0||I)},{buffer:188}],185:[function(r,I,k){k.byteLength=function(l){var g=c(l),b=g[0],d=g[1];return 3*(b+d)/4-d},k.toByteArray=function(l){var g,b,d=c(l),w=d[0],y=d[1],T=new f(function(X,Y,W){return 3*(Y+W)/4-W}(0,w,y)),M=0,j=y>0?w-4:w;for(b=0;b<j;b+=4)g=u[l.charCodeAt(b)]<<18|u[l.charCodeAt(b+1)]<<12|u[l.charCodeAt(b+2)]<<6|u[l.charCodeAt(b+3)],T[M++]=g>>16&255,T[M++]=g>>8&255,T[M++]=255&g;return y===2&&(g=u[l.charCodeAt(b)]<<2|u[l.charCodeAt(b+1)]>>4,T[M++]=255&g),y===1&&(g=u[l.charCodeAt(b)]<<10|u[l.charCodeAt(b+1)]<<4|u[l.charCodeAt(b+2)]>>2,T[M++]=g>>8&255,T[M++]=255&g),T},k.fromByteArray=function(l){for(var g,b=l.length,d=b%3,w=[],y=0,T=b-d;y<T;y+=16383)w.push(a(l,y,y+16383>T?T:y+16383));return d===1?(g=l[b-1],w.push(p[g>>2]+p[g<<4&63]+"==")):d===2&&(g=(l[b-2]<<8)+l[b-1],w.push(p[g>>10]+p[g>>4&63]+p[g<<2&63]+"=")),w.join("")};for(var p=[],u=[],f=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,n=i.length;t<n;++t)p[t]=i[t],u[i.charCodeAt(t)]=t;function c(l){var g=l.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=l.indexOf("=");return b===-1&&(b=g),[b,b===g?0:4-b%4]}function a(l,g,b){for(var d,w,y=[],T=g;T<b;T+=3)d=(l[T]<<16&16711680)+(l[T+1]<<8&65280)+(255&l[T+2]),y.push(p[(w=d)>>18&63]+p[w>>12&63]+p[w>>6&63]+p[63&w]);return y.join("")}u[45]=62,u[95]=63},{}],186:[function(r,I,k){(function(p,u){function f(A,v){if(!A)throw new Error(v||"Assertion failed")}function i(A,v){A.super_=v;var _=function(){};_.prototype=v.prototype,A.prototype=new _,A.prototype.constructor=A}function t(A,v,_){if(t.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&(v!=="le"&&v!=="be"||(_=v,v=10),this._init(A||0,v||10,_||"be"))}var n;typeof p=="object"?p.exports=t:(void 0).BN=t,t.BN=t,t.wordSize=26;try{n=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:r("buffer").Buffer}catch{}function c(A,v){var _=A.charCodeAt(v);return _>=48&&_<=57?_-48:_>=65&&_<=70?_-55:_>=97&&_<=102?_-87:void f(!1,"Invalid character in "+A)}function a(A,v,_){var S=c(A,_);return _-1>=v&&(S|=c(A,_-1)<<4),S}function l(A,v,_,S){for(var C=0,O=0,B=Math.min(A.length,_),z=v;z<B;z++){var re=A.charCodeAt(z)-48;C*=S,O=re>=49?re-49+10:re>=17?re-17+10:re,f(re>=0&&O<S,"Invalid character"),C+=O}return C}function g(A,v){A.words=v.words,A.length=v.length,A.negative=v.negative,A.red=v.red}if(t.isBN=function(A){return A instanceof t||A!==null&&typeof A=="object"&&A.constructor.wordSize===t.wordSize&&Array.isArray(A.words)},t.max=function(A,v){return A.cmp(v)>0?A:v},t.min=function(A,v){return A.cmp(v)<0?A:v},t.prototype._init=function(A,v,_){if(typeof A=="number")return this._initNumber(A,v,_);if(typeof A=="object")return this._initArray(A,v,_);v==="hex"&&(v=16),f(v===(0|v)&&v>=2&&v<=36);var S=0;(A=A.toString().replace(/\s+/g,""))[0]==="-"&&(S++,this.negative=1),S<A.length&&(v===16?this._parseHex(A,S,_):(this._parseBase(A,v,S),_==="le"&&this._initArray(this.toArray(),v,_)))},t.prototype._initNumber=function(A,v,_){A<0&&(this.negative=1,A=-A),A<67108864?(this.words=[67108863&A],this.length=1):A<4503599627370496?(this.words=[67108863&A,A/67108864&67108863],this.length=2):(f(A<9007199254740992),this.words=[67108863&A,A/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),v,_)},t.prototype._initArray=function(A,v,_){if(f(typeof A.length=="number"),A.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(A.length/3),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var C,O,B=0;if(_==="be")for(S=A.length-1,C=0;S>=0;S-=3)O=A[S]|A[S-1]<<8|A[S-2]<<16,this.words[C]|=O<<B&67108863,this.words[C+1]=O>>>26-B&67108863,(B+=24)>=26&&(B-=26,C++);else if(_==="le")for(S=0,C=0;S<A.length;S+=3)O=A[S]|A[S+1]<<8|A[S+2]<<16,this.words[C]|=O<<B&67108863,this.words[C+1]=O>>>26-B&67108863,(B+=24)>=26&&(B-=26,C++);return this._strip()},t.prototype._parseHex=function(A,v,_){this.length=Math.ceil((A.length-v)/6),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var C,O=0,B=0;if(_==="be")for(S=A.length-1;S>=v;S-=2)C=a(A,v,S)<<O,this.words[B]|=67108863&C,O>=18?(O-=18,B+=1,this.words[B]|=C>>>26):O+=8;else for(S=(A.length-v)%2==0?v+1:v;S<A.length;S+=2)C=a(A,v,S)<<O,this.words[B]|=67108863&C,O>=18?(O-=18,B+=1,this.words[B]|=C>>>26):O+=8;this._strip()},t.prototype._parseBase=function(A,v,_){this.words=[0],this.length=1;for(var S=0,C=1;C<=67108863;C*=v)S++;S--,C=C/v|0;for(var O=A.length-_,B=O%S,z=Math.min(O,O-B)+_,re=0,ne=_;ne<z;ne+=S)re=l(A,ne,ne+S,v),this.imuln(C),this.words[0]+re<67108864?this.words[0]+=re:this._iaddn(re);if(B!==0){var de=1;for(re=l(A,ne,A.length,v),ne=0;ne<B;ne++)de*=v;this.imuln(de),this.words[0]+re<67108864?this.words[0]+=re:this._iaddn(re)}this._strip()},t.prototype.copy=function(A){A.words=new Array(this.length);for(var v=0;v<this.length;v++)A.words[v]=this.words[v];A.length=this.length,A.negative=this.negative,A.red=this.red},t.prototype._move=function(A){g(A,this)},t.prototype.clone=function(){var A=new t(null);return this.copy(A),A},t.prototype._expand=function(A){for(;this.length<A;)this.words[this.length++]=0;return this},t.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},t.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{t.prototype[Symbol.for("nodejs.util.inspect.custom")]=b}catch{t.prototype.inspect=b}else t.prototype.inspect=b;function b(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];t.prototype.toString=function(A,v){var _;if(v=0|v||1,(A=A||10)===16||A==="hex"){_="";for(var S=0,C=0,O=0;O<this.length;O++){var B=this.words[O],z=(16777215&(B<<S|C)).toString(16);C=B>>>24-S&16777215,(S+=2)>=26&&(S-=26,O--),_=C!==0||O!==this.length-1?d[6-z.length]+z+_:z+_}for(C!==0&&(_=C.toString(16)+_);_.length%v!=0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(A===(0|A)&&A>=2&&A<=36){var re=w[A],ne=y[A];_="";var de=this.clone();for(de.negative=0;!de.isZero();){var H=de.modrn(ne).toString(A);_=(de=de.idivn(ne)).isZero()?H+_:d[re-H.length]+H+_}for(this.isZero()&&(_="0"+_);_.length%v!=0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}f(!1,"Base should be between 2 and 36")},t.prototype.toNumber=function(){var A=this.words[0];return this.length===2?A+=67108864*this.words[1]:this.length===3&&this.words[2]===1?A+=4503599627370496+67108864*this.words[1]:this.length>2&&f(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-A:A},t.prototype.toJSON=function(){return this.toString(16,2)},n&&(t.prototype.toBuffer=function(A,v){return this.toArrayLike(n,A,v)}),t.prototype.toArray=function(A,v){return this.toArrayLike(Array,A,v)};function T(A,v,_){_.negative=v.negative^A.negative;var S=A.length+v.length|0;_.length=S,S=S-1|0;var C=0|A.words[0],O=0|v.words[0],B=C*O,z=67108863&B,re=B/67108864|0;_.words[0]=z;for(var ne=1;ne<S;ne++){for(var de=re>>>26,H=67108863&re,ae=Math.min(ne,v.length-1),U=Math.max(0,ne-A.length+1);U<=ae;U++){var L=ne-U|0;de+=(B=(C=0|A.words[L])*(O=0|v.words[U])+H)/67108864|0,H=67108863&B}_.words[ne]=0|H,re=0|de}return re!==0?_.words[ne]=0|re:_.length--,_._strip()}t.prototype.toArrayLike=function(A,v,_){this._strip();var S=this.byteLength(),C=_||Math.max(1,S);f(S<=C,"byte array longer than desired length"),f(C>0,"Requested array length <= 0");var O=function(B,z){return B.allocUnsafe?B.allocUnsafe(z):new B(z)}(A,C);return this["_toArrayLike"+(v==="le"?"LE":"BE")](O,S),O},t.prototype._toArrayLikeLE=function(A,v){for(var _=0,S=0,C=0,O=0;C<this.length;C++){var B=this.words[C]<<O|S;A[_++]=255&B,_<A.length&&(A[_++]=B>>8&255),_<A.length&&(A[_++]=B>>16&255),O===6?(_<A.length&&(A[_++]=B>>24&255),S=0,O=0):(S=B>>>24,O+=2)}if(_<A.length)for(A[_++]=S;_<A.length;)A[_++]=0},t.prototype._toArrayLikeBE=function(A,v){for(var _=A.length-1,S=0,C=0,O=0;C<this.length;C++){var B=this.words[C]<<O|S;A[_--]=255&B,_>=0&&(A[_--]=B>>8&255),_>=0&&(A[_--]=B>>16&255),O===6?(_>=0&&(A[_--]=B>>24&255),S=0,O=0):(S=B>>>24,O+=2)}if(_>=0)for(A[_--]=S;_>=0;)A[_--]=0},Math.clz32?t.prototype._countBits=function(A){return 32-Math.clz32(A)}:t.prototype._countBits=function(A){var v=A,_=0;return v>=4096&&(_+=13,v>>>=13),v>=64&&(_+=7,v>>>=7),v>=8&&(_+=4,v>>>=4),v>=2&&(_+=2,v>>>=2),_+v},t.prototype._zeroBits=function(A){if(A===0)return 26;var v=A,_=0;return(8191&v)==0&&(_+=13,v>>>=13),(127&v)==0&&(_+=7,v>>>=7),(15&v)==0&&(_+=4,v>>>=4),(3&v)==0&&(_+=2,v>>>=2),(1&v)==0&&_++,_},t.prototype.bitLength=function(){var A=this.words[this.length-1],v=this._countBits(A);return 26*(this.length-1)+v},t.prototype.zeroBits=function(){if(this.isZero())return 0;for(var A=0,v=0;v<this.length;v++){var _=this._zeroBits(this.words[v]);if(A+=_,_!==26)break}return A},t.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},t.prototype.toTwos=function(A){return this.negative!==0?this.abs().inotn(A).iaddn(1):this.clone()},t.prototype.fromTwos=function(A){return this.testn(A-1)?this.notn(A).iaddn(1).ineg():this.clone()},t.prototype.isNeg=function(){return this.negative!==0},t.prototype.neg=function(){return this.clone().ineg()},t.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},t.prototype.iuor=function(A){for(;this.length<A.length;)this.words[this.length++]=0;for(var v=0;v<A.length;v++)this.words[v]=this.words[v]|A.words[v];return this._strip()},t.prototype.ior=function(A){return f((this.negative|A.negative)==0),this.iuor(A)},t.prototype.or=function(A){return this.length>A.length?this.clone().ior(A):A.clone().ior(this)},t.prototype.uor=function(A){return this.length>A.length?this.clone().iuor(A):A.clone().iuor(this)},t.prototype.iuand=function(A){var v;v=this.length>A.length?A:this;for(var _=0;_<v.length;_++)this.words[_]=this.words[_]&A.words[_];return this.length=v.length,this._strip()},t.prototype.iand=function(A){return f((this.negative|A.negative)==0),this.iuand(A)},t.prototype.and=function(A){return this.length>A.length?this.clone().iand(A):A.clone().iand(this)},t.prototype.uand=function(A){return this.length>A.length?this.clone().iuand(A):A.clone().iuand(this)},t.prototype.iuxor=function(A){var v,_;this.length>A.length?(v=this,_=A):(v=A,_=this);for(var S=0;S<_.length;S++)this.words[S]=v.words[S]^_.words[S];if(this!==v)for(;S<v.length;S++)this.words[S]=v.words[S];return this.length=v.length,this._strip()},t.prototype.ixor=function(A){return f((this.negative|A.negative)==0),this.iuxor(A)},t.prototype.xor=function(A){return this.length>A.length?this.clone().ixor(A):A.clone().ixor(this)},t.prototype.uxor=function(A){return this.length>A.length?this.clone().iuxor(A):A.clone().iuxor(this)},t.prototype.inotn=function(A){f(typeof A=="number"&&A>=0);var v=0|Math.ceil(A/26),_=A%26;this._expand(v),_>0&&v--;for(var S=0;S<v;S++)this.words[S]=67108863&~this.words[S];return _>0&&(this.words[S]=~this.words[S]&67108863>>26-_),this._strip()},t.prototype.notn=function(A){return this.clone().inotn(A)},t.prototype.setn=function(A,v){f(typeof A=="number"&&A>=0);var _=A/26|0,S=A%26;return this._expand(_+1),this.words[_]=v?this.words[_]|1<<S:this.words[_]&~(1<<S),this._strip()},t.prototype.iadd=function(A){var v,_,S;if(this.negative!==0&&A.negative===0)return this.negative=0,v=this.isub(A),this.negative^=1,this._normSign();if(this.negative===0&&A.negative!==0)return A.negative=0,v=this.isub(A),A.negative=1,v._normSign();this.length>A.length?(_=this,S=A):(_=A,S=this);for(var C=0,O=0;O<S.length;O++)v=(0|_.words[O])+(0|S.words[O])+C,this.words[O]=67108863&v,C=v>>>26;for(;C!==0&&O<_.length;O++)v=(0|_.words[O])+C,this.words[O]=67108863&v,C=v>>>26;if(this.length=_.length,C!==0)this.words[this.length]=C,this.length++;else if(_!==this)for(;O<_.length;O++)this.words[O]=_.words[O];return this},t.prototype.add=function(A){var v;return A.negative!==0&&this.negative===0?(A.negative=0,v=this.sub(A),A.negative^=1,v):A.negative===0&&this.negative!==0?(this.negative=0,v=A.sub(this),this.negative=1,v):this.length>A.length?this.clone().iadd(A):A.clone().iadd(this)},t.prototype.isub=function(A){if(A.negative!==0){A.negative=0;var v=this.iadd(A);return A.negative=1,v._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(A),this.negative=1,this._normSign();var _,S,C=this.cmp(A);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;C>0?(_=this,S=A):(_=A,S=this);for(var O=0,B=0;B<S.length;B++)O=(v=(0|_.words[B])-(0|S.words[B])+O)>>26,this.words[B]=67108863&v;for(;O!==0&&B<_.length;B++)O=(v=(0|_.words[B])+O)>>26,this.words[B]=67108863&v;if(O===0&&B<_.length&&_!==this)for(;B<_.length;B++)this.words[B]=_.words[B];return this.length=Math.max(this.length,B),_!==this&&(this.negative=1),this._strip()},t.prototype.sub=function(A){return this.clone().isub(A)};var M=function(A,v,_){var S,C,O,B=A.words,z=v.words,re=_.words,ne=0,de=0|B[0],H=8191&de,ae=de>>>13,U=0|B[1],L=8191&U,ee=U>>>13,ce=0|B[2],ve=8191&ce,he=ce>>>13,xe=0|B[3],_e=8191&xe,Re=xe>>>13,pe=0|B[4],Ae=8191&pe,Se=pe>>>13,Ue=0|B[5],ke=8191&Ue,We=Ue>>>13,$e=0|B[6],Ze=8191&$e,lt=$e>>>13,xt=0|B[7],Tt=8191&xt,gt=xt>>>13,Mt=0|B[8],Ft=8191&Mt,Bt=Mt>>>13,Gt=0|B[9],ft=8191&Gt,Ge=Gt>>>13,bt=0|z[0],Et=8191&bt,yt=bt>>>13,fr=0|z[1],_r=8191&fr,Lt=fr>>>13,Dt=0|z[2],ir=8191&Dt,rr=Dt>>>13,kr=0|z[3],hr=8191&kr,Yt=kr>>>13,Jt=0|z[4],vr=8191&Jt,Kt=Jt>>>13,ur=0|z[5],Ar=8191&ur,$t=ur>>>13,Oe=0|z[6],He=8191&Oe,et=Oe>>>13,ht=0|z[7],it=8191&ht,kt=ht>>>13,er=0|z[8],jt=8191&er,Pt=er>>>13,nr=0|z[9],Qt=8191&nr,sr=nr>>>13;_.negative=A.negative^v.negative,_.length=19;var jr=(ne+(S=Math.imul(H,Et))|0)+((8191&(C=(C=Math.imul(H,yt))+Math.imul(ae,Et)|0))<<13)|0;ne=((O=Math.imul(ae,yt))+(C>>>13)|0)+(jr>>>26)|0,jr&=67108863,S=Math.imul(L,Et),C=(C=Math.imul(L,yt))+Math.imul(ee,Et)|0,O=Math.imul(ee,yt);var Mr=(ne+(S=S+Math.imul(H,_r)|0)|0)+((8191&(C=(C=C+Math.imul(H,Lt)|0)+Math.imul(ae,_r)|0))<<13)|0;ne=((O=O+Math.imul(ae,Lt)|0)+(C>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,S=Math.imul(ve,Et),C=(C=Math.imul(ve,yt))+Math.imul(he,Et)|0,O=Math.imul(he,yt),S=S+Math.imul(L,_r)|0,C=(C=C+Math.imul(L,Lt)|0)+Math.imul(ee,_r)|0,O=O+Math.imul(ee,Lt)|0;var Nr=(ne+(S=S+Math.imul(H,ir)|0)|0)+((8191&(C=(C=C+Math.imul(H,rr)|0)+Math.imul(ae,ir)|0))<<13)|0;ne=((O=O+Math.imul(ae,rr)|0)+(C>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,S=Math.imul(_e,Et),C=(C=Math.imul(_e,yt))+Math.imul(Re,Et)|0,O=Math.imul(Re,yt),S=S+Math.imul(ve,_r)|0,C=(C=C+Math.imul(ve,Lt)|0)+Math.imul(he,_r)|0,O=O+Math.imul(he,Lt)|0,S=S+Math.imul(L,ir)|0,C=(C=C+Math.imul(L,rr)|0)+Math.imul(ee,ir)|0,O=O+Math.imul(ee,rr)|0;var Sr=(ne+(S=S+Math.imul(H,hr)|0)|0)+((8191&(C=(C=C+Math.imul(H,Yt)|0)+Math.imul(ae,hr)|0))<<13)|0;ne=((O=O+Math.imul(ae,Yt)|0)+(C>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,S=Math.imul(Ae,Et),C=(C=Math.imul(Ae,yt))+Math.imul(Se,Et)|0,O=Math.imul(Se,yt),S=S+Math.imul(_e,_r)|0,C=(C=C+Math.imul(_e,Lt)|0)+Math.imul(Re,_r)|0,O=O+Math.imul(Re,Lt)|0,S=S+Math.imul(ve,ir)|0,C=(C=C+Math.imul(ve,rr)|0)+Math.imul(he,ir)|0,O=O+Math.imul(he,rr)|0,S=S+Math.imul(L,hr)|0,C=(C=C+Math.imul(L,Yt)|0)+Math.imul(ee,hr)|0,O=O+Math.imul(ee,Yt)|0;var wr=(ne+(S=S+Math.imul(H,vr)|0)|0)+((8191&(C=(C=C+Math.imul(H,Kt)|0)+Math.imul(ae,vr)|0))<<13)|0;ne=((O=O+Math.imul(ae,Kt)|0)+(C>>>13)|0)+(wr>>>26)|0,wr&=67108863,S=Math.imul(ke,Et),C=(C=Math.imul(ke,yt))+Math.imul(We,Et)|0,O=Math.imul(We,yt),S=S+Math.imul(Ae,_r)|0,C=(C=C+Math.imul(Ae,Lt)|0)+Math.imul(Se,_r)|0,O=O+Math.imul(Se,Lt)|0,S=S+Math.imul(_e,ir)|0,C=(C=C+Math.imul(_e,rr)|0)+Math.imul(Re,ir)|0,O=O+Math.imul(Re,rr)|0,S=S+Math.imul(ve,hr)|0,C=(C=C+Math.imul(ve,Yt)|0)+Math.imul(he,hr)|0,O=O+Math.imul(he,Yt)|0,S=S+Math.imul(L,vr)|0,C=(C=C+Math.imul(L,Kt)|0)+Math.imul(ee,vr)|0,O=O+Math.imul(ee,Kt)|0;var Ee=(ne+(S=S+Math.imul(H,Ar)|0)|0)+((8191&(C=(C=C+Math.imul(H,$t)|0)+Math.imul(ae,Ar)|0))<<13)|0;ne=((O=O+Math.imul(ae,$t)|0)+(C>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,S=Math.imul(Ze,Et),C=(C=Math.imul(Ze,yt))+Math.imul(lt,Et)|0,O=Math.imul(lt,yt),S=S+Math.imul(ke,_r)|0,C=(C=C+Math.imul(ke,Lt)|0)+Math.imul(We,_r)|0,O=O+Math.imul(We,Lt)|0,S=S+Math.imul(Ae,ir)|0,C=(C=C+Math.imul(Ae,rr)|0)+Math.imul(Se,ir)|0,O=O+Math.imul(Se,rr)|0,S=S+Math.imul(_e,hr)|0,C=(C=C+Math.imul(_e,Yt)|0)+Math.imul(Re,hr)|0,O=O+Math.imul(Re,Yt)|0,S=S+Math.imul(ve,vr)|0,C=(C=C+Math.imul(ve,Kt)|0)+Math.imul(he,vr)|0,O=O+Math.imul(he,Kt)|0,S=S+Math.imul(L,Ar)|0,C=(C=C+Math.imul(L,$t)|0)+Math.imul(ee,Ar)|0,O=O+Math.imul(ee,$t)|0;var Fe=(ne+(S=S+Math.imul(H,He)|0)|0)+((8191&(C=(C=C+Math.imul(H,et)|0)+Math.imul(ae,He)|0))<<13)|0;ne=((O=O+Math.imul(ae,et)|0)+(C>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,S=Math.imul(Tt,Et),C=(C=Math.imul(Tt,yt))+Math.imul(gt,Et)|0,O=Math.imul(gt,yt),S=S+Math.imul(Ze,_r)|0,C=(C=C+Math.imul(Ze,Lt)|0)+Math.imul(lt,_r)|0,O=O+Math.imul(lt,Lt)|0,S=S+Math.imul(ke,ir)|0,C=(C=C+Math.imul(ke,rr)|0)+Math.imul(We,ir)|0,O=O+Math.imul(We,rr)|0,S=S+Math.imul(Ae,hr)|0,C=(C=C+Math.imul(Ae,Yt)|0)+Math.imul(Se,hr)|0,O=O+Math.imul(Se,Yt)|0,S=S+Math.imul(_e,vr)|0,C=(C=C+Math.imul(_e,Kt)|0)+Math.imul(Re,vr)|0,O=O+Math.imul(Re,Kt)|0,S=S+Math.imul(ve,Ar)|0,C=(C=C+Math.imul(ve,$t)|0)+Math.imul(he,Ar)|0,O=O+Math.imul(he,$t)|0,S=S+Math.imul(L,He)|0,C=(C=C+Math.imul(L,et)|0)+Math.imul(ee,He)|0,O=O+Math.imul(ee,et)|0;var ot=(ne+(S=S+Math.imul(H,it)|0)|0)+((8191&(C=(C=C+Math.imul(H,kt)|0)+Math.imul(ae,it)|0))<<13)|0;ne=((O=O+Math.imul(ae,kt)|0)+(C>>>13)|0)+(ot>>>26)|0,ot&=67108863,S=Math.imul(Ft,Et),C=(C=Math.imul(Ft,yt))+Math.imul(Bt,Et)|0,O=Math.imul(Bt,yt),S=S+Math.imul(Tt,_r)|0,C=(C=C+Math.imul(Tt,Lt)|0)+Math.imul(gt,_r)|0,O=O+Math.imul(gt,Lt)|0,S=S+Math.imul(Ze,ir)|0,C=(C=C+Math.imul(Ze,rr)|0)+Math.imul(lt,ir)|0,O=O+Math.imul(lt,rr)|0,S=S+Math.imul(ke,hr)|0,C=(C=C+Math.imul(ke,Yt)|0)+Math.imul(We,hr)|0,O=O+Math.imul(We,Yt)|0,S=S+Math.imul(Ae,vr)|0,C=(C=C+Math.imul(Ae,Kt)|0)+Math.imul(Se,vr)|0,O=O+Math.imul(Se,Kt)|0,S=S+Math.imul(_e,Ar)|0,C=(C=C+Math.imul(_e,$t)|0)+Math.imul(Re,Ar)|0,O=O+Math.imul(Re,$t)|0,S=S+Math.imul(ve,He)|0,C=(C=C+Math.imul(ve,et)|0)+Math.imul(he,He)|0,O=O+Math.imul(he,et)|0,S=S+Math.imul(L,it)|0,C=(C=C+Math.imul(L,kt)|0)+Math.imul(ee,it)|0,O=O+Math.imul(ee,kt)|0;var De=(ne+(S=S+Math.imul(H,jt)|0)|0)+((8191&(C=(C=C+Math.imul(H,Pt)|0)+Math.imul(ae,jt)|0))<<13)|0;ne=((O=O+Math.imul(ae,Pt)|0)+(C>>>13)|0)+(De>>>26)|0,De&=67108863,S=Math.imul(ft,Et),C=(C=Math.imul(ft,yt))+Math.imul(Ge,Et)|0,O=Math.imul(Ge,yt),S=S+Math.imul(Ft,_r)|0,C=(C=C+Math.imul(Ft,Lt)|0)+Math.imul(Bt,_r)|0,O=O+Math.imul(Bt,Lt)|0,S=S+Math.imul(Tt,ir)|0,C=(C=C+Math.imul(Tt,rr)|0)+Math.imul(gt,ir)|0,O=O+Math.imul(gt,rr)|0,S=S+Math.imul(Ze,hr)|0,C=(C=C+Math.imul(Ze,Yt)|0)+Math.imul(lt,hr)|0,O=O+Math.imul(lt,Yt)|0,S=S+Math.imul(ke,vr)|0,C=(C=C+Math.imul(ke,Kt)|0)+Math.imul(We,vr)|0,O=O+Math.imul(We,Kt)|0,S=S+Math.imul(Ae,Ar)|0,C=(C=C+Math.imul(Ae,$t)|0)+Math.imul(Se,Ar)|0,O=O+Math.imul(Se,$t)|0,S=S+Math.imul(_e,He)|0,C=(C=C+Math.imul(_e,et)|0)+Math.imul(Re,He)|0,O=O+Math.imul(Re,et)|0,S=S+Math.imul(ve,it)|0,C=(C=C+Math.imul(ve,kt)|0)+Math.imul(he,it)|0,O=O+Math.imul(he,kt)|0,S=S+Math.imul(L,jt)|0,C=(C=C+Math.imul(L,Pt)|0)+Math.imul(ee,jt)|0,O=O+Math.imul(ee,Pt)|0;var zt=(ne+(S=S+Math.imul(H,Qt)|0)|0)+((8191&(C=(C=C+Math.imul(H,sr)|0)+Math.imul(ae,Qt)|0))<<13)|0;ne=((O=O+Math.imul(ae,sr)|0)+(C>>>13)|0)+(zt>>>26)|0,zt&=67108863,S=Math.imul(ft,_r),C=(C=Math.imul(ft,Lt))+Math.imul(Ge,_r)|0,O=Math.imul(Ge,Lt),S=S+Math.imul(Ft,ir)|0,C=(C=C+Math.imul(Ft,rr)|0)+Math.imul(Bt,ir)|0,O=O+Math.imul(Bt,rr)|0,S=S+Math.imul(Tt,hr)|0,C=(C=C+Math.imul(Tt,Yt)|0)+Math.imul(gt,hr)|0,O=O+Math.imul(gt,Yt)|0,S=S+Math.imul(Ze,vr)|0,C=(C=C+Math.imul(Ze,Kt)|0)+Math.imul(lt,vr)|0,O=O+Math.imul(lt,Kt)|0,S=S+Math.imul(ke,Ar)|0,C=(C=C+Math.imul(ke,$t)|0)+Math.imul(We,Ar)|0,O=O+Math.imul(We,$t)|0,S=S+Math.imul(Ae,He)|0,C=(C=C+Math.imul(Ae,et)|0)+Math.imul(Se,He)|0,O=O+Math.imul(Se,et)|0,S=S+Math.imul(_e,it)|0,C=(C=C+Math.imul(_e,kt)|0)+Math.imul(Re,it)|0,O=O+Math.imul(Re,kt)|0,S=S+Math.imul(ve,jt)|0,C=(C=C+Math.imul(ve,Pt)|0)+Math.imul(he,jt)|0,O=O+Math.imul(he,Pt)|0;var at=(ne+(S=S+Math.imul(L,Qt)|0)|0)+((8191&(C=(C=C+Math.imul(L,sr)|0)+Math.imul(ee,Qt)|0))<<13)|0;ne=((O=O+Math.imul(ee,sr)|0)+(C>>>13)|0)+(at>>>26)|0,at&=67108863,S=Math.imul(ft,ir),C=(C=Math.imul(ft,rr))+Math.imul(Ge,ir)|0,O=Math.imul(Ge,rr),S=S+Math.imul(Ft,hr)|0,C=(C=C+Math.imul(Ft,Yt)|0)+Math.imul(Bt,hr)|0,O=O+Math.imul(Bt,Yt)|0,S=S+Math.imul(Tt,vr)|0,C=(C=C+Math.imul(Tt,Kt)|0)+Math.imul(gt,vr)|0,O=O+Math.imul(gt,Kt)|0,S=S+Math.imul(Ze,Ar)|0,C=(C=C+Math.imul(Ze,$t)|0)+Math.imul(lt,Ar)|0,O=O+Math.imul(lt,$t)|0,S=S+Math.imul(ke,He)|0,C=(C=C+Math.imul(ke,et)|0)+Math.imul(We,He)|0,O=O+Math.imul(We,et)|0,S=S+Math.imul(Ae,it)|0,C=(C=C+Math.imul(Ae,kt)|0)+Math.imul(Se,it)|0,O=O+Math.imul(Se,kt)|0,S=S+Math.imul(_e,jt)|0,C=(C=C+Math.imul(_e,Pt)|0)+Math.imul(Re,jt)|0,O=O+Math.imul(Re,Pt)|0;var vt=(ne+(S=S+Math.imul(ve,Qt)|0)|0)+((8191&(C=(C=C+Math.imul(ve,sr)|0)+Math.imul(he,Qt)|0))<<13)|0;ne=((O=O+Math.imul(he,sr)|0)+(C>>>13)|0)+(vt>>>26)|0,vt&=67108863,S=Math.imul(ft,hr),C=(C=Math.imul(ft,Yt))+Math.imul(Ge,hr)|0,O=Math.imul(Ge,Yt),S=S+Math.imul(Ft,vr)|0,C=(C=C+Math.imul(Ft,Kt)|0)+Math.imul(Bt,vr)|0,O=O+Math.imul(Bt,Kt)|0,S=S+Math.imul(Tt,Ar)|0,C=(C=C+Math.imul(Tt,$t)|0)+Math.imul(gt,Ar)|0,O=O+Math.imul(gt,$t)|0,S=S+Math.imul(Ze,He)|0,C=(C=C+Math.imul(Ze,et)|0)+Math.imul(lt,He)|0,O=O+Math.imul(lt,et)|0,S=S+Math.imul(ke,it)|0,C=(C=C+Math.imul(ke,kt)|0)+Math.imul(We,it)|0,O=O+Math.imul(We,kt)|0,S=S+Math.imul(Ae,jt)|0,C=(C=C+Math.imul(Ae,Pt)|0)+Math.imul(Se,jt)|0,O=O+Math.imul(Se,Pt)|0;var xr=(ne+(S=S+Math.imul(_e,Qt)|0)|0)+((8191&(C=(C=C+Math.imul(_e,sr)|0)+Math.imul(Re,Qt)|0))<<13)|0;ne=((O=O+Math.imul(Re,sr)|0)+(C>>>13)|0)+(xr>>>26)|0,xr&=67108863,S=Math.imul(ft,vr),C=(C=Math.imul(ft,Kt))+Math.imul(Ge,vr)|0,O=Math.imul(Ge,Kt),S=S+Math.imul(Ft,Ar)|0,C=(C=C+Math.imul(Ft,$t)|0)+Math.imul(Bt,Ar)|0,O=O+Math.imul(Bt,$t)|0,S=S+Math.imul(Tt,He)|0,C=(C=C+Math.imul(Tt,et)|0)+Math.imul(gt,He)|0,O=O+Math.imul(gt,et)|0,S=S+Math.imul(Ze,it)|0,C=(C=C+Math.imul(Ze,kt)|0)+Math.imul(lt,it)|0,O=O+Math.imul(lt,kt)|0,S=S+Math.imul(ke,jt)|0,C=(C=C+Math.imul(ke,Pt)|0)+Math.imul(We,jt)|0,O=O+Math.imul(We,Pt)|0;var Rt=(ne+(S=S+Math.imul(Ae,Qt)|0)|0)+((8191&(C=(C=C+Math.imul(Ae,sr)|0)+Math.imul(Se,Qt)|0))<<13)|0;ne=((O=O+Math.imul(Se,sr)|0)+(C>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,S=Math.imul(ft,Ar),C=(C=Math.imul(ft,$t))+Math.imul(Ge,Ar)|0,O=Math.imul(Ge,$t),S=S+Math.imul(Ft,He)|0,C=(C=C+Math.imul(Ft,et)|0)+Math.imul(Bt,He)|0,O=O+Math.imul(Bt,et)|0,S=S+Math.imul(Tt,it)|0,C=(C=C+Math.imul(Tt,kt)|0)+Math.imul(gt,it)|0,O=O+Math.imul(gt,kt)|0,S=S+Math.imul(Ze,jt)|0,C=(C=C+Math.imul(Ze,Pt)|0)+Math.imul(lt,jt)|0,O=O+Math.imul(lt,Pt)|0;var Nt=(ne+(S=S+Math.imul(ke,Qt)|0)|0)+((8191&(C=(C=C+Math.imul(ke,sr)|0)+Math.imul(We,Qt)|0))<<13)|0;ne=((O=O+Math.imul(We,sr)|0)+(C>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,S=Math.imul(ft,He),C=(C=Math.imul(ft,et))+Math.imul(Ge,He)|0,O=Math.imul(Ge,et),S=S+Math.imul(Ft,it)|0,C=(C=C+Math.imul(Ft,kt)|0)+Math.imul(Bt,it)|0,O=O+Math.imul(Bt,kt)|0,S=S+Math.imul(Tt,jt)|0,C=(C=C+Math.imul(Tt,Pt)|0)+Math.imul(gt,jt)|0,O=O+Math.imul(gt,Pt)|0;var Ct=(ne+(S=S+Math.imul(Ze,Qt)|0)|0)+((8191&(C=(C=C+Math.imul(Ze,sr)|0)+Math.imul(lt,Qt)|0))<<13)|0;ne=((O=O+Math.imul(lt,sr)|0)+(C>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,S=Math.imul(ft,it),C=(C=Math.imul(ft,kt))+Math.imul(Ge,it)|0,O=Math.imul(Ge,kt),S=S+Math.imul(Ft,jt)|0,C=(C=C+Math.imul(Ft,Pt)|0)+Math.imul(Bt,jt)|0,O=O+Math.imul(Bt,Pt)|0;var dr=(ne+(S=S+Math.imul(Tt,Qt)|0)|0)+((8191&(C=(C=C+Math.imul(Tt,sr)|0)+Math.imul(gt,Qt)|0))<<13)|0;ne=((O=O+Math.imul(gt,sr)|0)+(C>>>13)|0)+(dr>>>26)|0,dr&=67108863,S=Math.imul(ft,jt),C=(C=Math.imul(ft,Pt))+Math.imul(Ge,jt)|0,O=Math.imul(Ge,Pt);var be=(ne+(S=S+Math.imul(Ft,Qt)|0)|0)+((8191&(C=(C=C+Math.imul(Ft,sr)|0)+Math.imul(Bt,Qt)|0))<<13)|0;ne=((O=O+Math.imul(Bt,sr)|0)+(C>>>13)|0)+(be>>>26)|0,be&=67108863;var Ie=(ne+(S=Math.imul(ft,Qt))|0)+((8191&(C=(C=Math.imul(ft,sr))+Math.imul(Ge,Qt)|0))<<13)|0;return ne=((O=Math.imul(Ge,sr))+(C>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,re[0]=jr,re[1]=Mr,re[2]=Nr,re[3]=Sr,re[4]=wr,re[5]=Ee,re[6]=Fe,re[7]=ot,re[8]=De,re[9]=zt,re[10]=at,re[11]=vt,re[12]=xr,re[13]=Rt,re[14]=Nt,re[15]=Ct,re[16]=dr,re[17]=be,re[18]=Ie,ne!==0&&(re[19]=ne,_.length++),_};function j(A,v,_){_.negative=v.negative^A.negative,_.length=A.length+v.length;for(var S=0,C=0,O=0;O<_.length-1;O++){var B=C;C=0;for(var z=67108863&S,re=Math.min(O,v.length-1),ne=Math.max(0,O-A.length+1);ne<=re;ne++){var de=O-ne,H=(0|A.words[de])*(0|v.words[ne]),ae=67108863&H;z=67108863&(ae=ae+z|0),C+=(B=(B=B+(H/67108864|0)|0)+(ae>>>26)|0)>>>26,B&=67108863}_.words[O]=z,S=B,B=C}return S!==0?_.words[O]=S:_.length--,_._strip()}function X(A,v,_){return j(A,v,_)}Math.imul||(M=T),t.prototype.mulTo=function(A,v){var _=this.length+A.length;return this.length===10&&A.length===10?M(this,A,v):_<63?T(this,A,v):_<1024?j(this,A,v):X(this,A,v)},t.prototype.mul=function(A){var v=new t(null);return v.words=new Array(this.length+A.length),this.mulTo(A,v)},t.prototype.mulf=function(A){var v=new t(null);return v.words=new Array(this.length+A.length),X(this,A,v)},t.prototype.imul=function(A){return this.clone().mulTo(A,this)},t.prototype.imuln=function(A){var v=A<0;v&&(A=-A),f(typeof A=="number"),f(A<67108864);for(var _=0,S=0;S<this.length;S++){var C=(0|this.words[S])*A,O=(67108863&C)+(67108863&_);_>>=26,_+=C/67108864|0,_+=O>>>26,this.words[S]=67108863&O}return _!==0&&(this.words[S]=_,this.length++),v?this.ineg():this},t.prototype.muln=function(A){return this.clone().imuln(A)},t.prototype.sqr=function(){return this.mul(this)},t.prototype.isqr=function(){return this.imul(this.clone())},t.prototype.pow=function(A){var v=function(O){for(var B=new Array(O.bitLength()),z=0;z<B.length;z++){var re=z/26|0,ne=z%26;B[z]=O.words[re]>>>ne&1}return B}(A);if(v.length===0)return new t(1);for(var _=this,S=0;S<v.length&&v[S]===0;S++,_=_.sqr());if(++S<v.length)for(var C=_.sqr();S<v.length;S++,C=C.sqr())v[S]!==0&&(_=_.mul(C));return _},t.prototype.iushln=function(A){f(typeof A=="number"&&A>=0);var v,_=A%26,S=(A-_)/26,C=67108863>>>26-_<<26-_;if(_!==0){var O=0;for(v=0;v<this.length;v++){var B=this.words[v]&C,z=(0|this.words[v])-B<<_;this.words[v]=z|O,O=B>>>26-_}O&&(this.words[v]=O,this.length++)}if(S!==0){for(v=this.length-1;v>=0;v--)this.words[v+S]=this.words[v];for(v=0;v<S;v++)this.words[v]=0;this.length+=S}return this._strip()},t.prototype.ishln=function(A){return f(this.negative===0),this.iushln(A)},t.prototype.iushrn=function(A,v,_){var S;f(typeof A=="number"&&A>=0),S=v?(v-v%26)/26:0;var C=A%26,O=Math.min((A-C)/26,this.length),B=67108863^67108863>>>C<<C,z=_;if(S-=O,S=Math.max(0,S),z){for(var re=0;re<O;re++)z.words[re]=this.words[re];z.length=O}if(O!==0)if(this.length>O)for(this.length-=O,re=0;re<this.length;re++)this.words[re]=this.words[re+O];else this.words[0]=0,this.length=1;var ne=0;for(re=this.length-1;re>=0&&(ne!==0||re>=S);re--){var de=0|this.words[re];this.words[re]=ne<<26-C|de>>>C,ne=de&B}return z&&ne!==0&&(z.words[z.length++]=ne),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},t.prototype.ishrn=function(A,v,_){return f(this.negative===0),this.iushrn(A,v,_)},t.prototype.shln=function(A){return this.clone().ishln(A)},t.prototype.ushln=function(A){return this.clone().iushln(A)},t.prototype.shrn=function(A){return this.clone().ishrn(A)},t.prototype.ushrn=function(A){return this.clone().iushrn(A)},t.prototype.testn=function(A){f(typeof A=="number"&&A>=0);var v=A%26,_=(A-v)/26,S=1<<v;return!(this.length<=_)&&!!(this.words[_]&S)},t.prototype.imaskn=function(A){f(typeof A=="number"&&A>=0);var v=A%26,_=(A-v)/26;if(f(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(v!==0&&_++,this.length=Math.min(_,this.length),v!==0){var S=67108863^67108863>>>v<<v;this.words[this.length-1]&=S}return this._strip()},t.prototype.maskn=function(A){return this.clone().imaskn(A)},t.prototype.iaddn=function(A){return f(typeof A=="number"),f(A<67108864),A<0?this.isubn(-A):this.negative!==0?this.length===1&&(0|this.words[0])<=A?(this.words[0]=A-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(A),this.negative=1,this):this._iaddn(A)},t.prototype._iaddn=function(A){this.words[0]+=A;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},t.prototype.isubn=function(A){if(f(typeof A=="number"),f(A<67108864),A<0)return this.iaddn(-A);if(this.negative!==0)return this.negative=0,this.iaddn(A),this.negative=1,this;if(this.words[0]-=A,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this._strip()},t.prototype.addn=function(A){return this.clone().iaddn(A)},t.prototype.subn=function(A){return this.clone().isubn(A)},t.prototype.iabs=function(){return this.negative=0,this},t.prototype.abs=function(){return this.clone().iabs()},t.prototype._ishlnsubmul=function(A,v,_){var S,C,O=A.length+_;this._expand(O);var B=0;for(S=0;S<A.length;S++){C=(0|this.words[S+_])+B;var z=(0|A.words[S])*v;B=((C-=67108863&z)>>26)-(z/67108864|0),this.words[S+_]=67108863&C}for(;S<this.length-_;S++)B=(C=(0|this.words[S+_])+B)>>26,this.words[S+_]=67108863&C;if(B===0)return this._strip();for(f(B===-1),B=0,S=0;S<this.length;S++)B=(C=-(0|this.words[S])+B)>>26,this.words[S]=67108863&C;return this.negative=1,this._strip()},t.prototype._wordDiv=function(A,v){var _=(this.length,A.length),S=this.clone(),C=A,O=0|C.words[C.length-1];(_=26-this._countBits(O))!==0&&(C=C.ushln(_),S.iushln(_),O=0|C.words[C.length-1]);var B,z=S.length-C.length;if(v!=="mod"){(B=new t(null)).length=z+1,B.words=new Array(B.length);for(var re=0;re<B.length;re++)B.words[re]=0}var ne=S.clone()._ishlnsubmul(C,1,z);ne.negative===0&&(S=ne,B&&(B.words[z]=1));for(var de=z-1;de>=0;de--){var H=67108864*(0|S.words[C.length+de])+(0|S.words[C.length+de-1]);for(H=Math.min(H/O|0,67108863),S._ishlnsubmul(C,H,de);S.negative!==0;)H--,S.negative=0,S._ishlnsubmul(C,1,de),S.isZero()||(S.negative^=1);B&&(B.words[de]=H)}return B&&B._strip(),S._strip(),v!=="div"&&_!==0&&S.iushrn(_),{div:B||null,mod:S}},t.prototype.divmod=function(A,v,_){return f(!A.isZero()),this.isZero()?{div:new t(0),mod:new t(0)}:this.negative!==0&&A.negative===0?(O=this.neg().divmod(A,v),v!=="mod"&&(S=O.div.neg()),v!=="div"&&(C=O.mod.neg(),_&&C.negative!==0&&C.iadd(A)),{div:S,mod:C}):this.negative===0&&A.negative!==0?(O=this.divmod(A.neg(),v),v!=="mod"&&(S=O.div.neg()),{div:S,mod:O.mod}):(this.negative&A.negative)!=0?(O=this.neg().divmod(A.neg(),v),v!=="div"&&(C=O.mod.neg(),_&&C.negative!==0&&C.isub(A)),{div:O.div,mod:C}):A.length>this.length||this.cmp(A)<0?{div:new t(0),mod:this}:A.length===1?v==="div"?{div:this.divn(A.words[0]),mod:null}:v==="mod"?{div:null,mod:new t(this.modrn(A.words[0]))}:{div:this.divn(A.words[0]),mod:new t(this.modrn(A.words[0]))}:this._wordDiv(A,v);var S,C,O},t.prototype.div=function(A){return this.divmod(A,"div",!1).div},t.prototype.mod=function(A){return this.divmod(A,"mod",!1).mod},t.prototype.umod=function(A){return this.divmod(A,"mod",!0).mod},t.prototype.divRound=function(A){var v=this.divmod(A);if(v.mod.isZero())return v.div;var _=v.div.negative!==0?v.mod.isub(A):v.mod,S=A.ushrn(1),C=A.andln(1),O=_.cmp(S);return O<0||C===1&&O===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},t.prototype.modrn=function(A){var v=A<0;v&&(A=-A),f(A<=67108863);for(var _=(1<<26)%A,S=0,C=this.length-1;C>=0;C--)S=(_*S+(0|this.words[C]))%A;return v?-S:S},t.prototype.modn=function(A){return this.modrn(A)},t.prototype.idivn=function(A){var v=A<0;v&&(A=-A),f(A<=67108863);for(var _=0,S=this.length-1;S>=0;S--){var C=(0|this.words[S])+67108864*_;this.words[S]=C/A|0,_=C%A}return this._strip(),v?this.ineg():this},t.prototype.divn=function(A){return this.clone().idivn(A)},t.prototype.egcd=function(A){f(A.negative===0),f(!A.isZero());var v=this,_=A.clone();v=v.negative!==0?v.umod(A):v.clone();for(var S=new t(1),C=new t(0),O=new t(0),B=new t(1),z=0;v.isEven()&&_.isEven();)v.iushrn(1),_.iushrn(1),++z;for(var re=_.clone(),ne=v.clone();!v.isZero();){for(var de=0,H=1;(v.words[0]&H)==0&&de<26;++de,H<<=1);if(de>0)for(v.iushrn(de);de-- >0;)(S.isOdd()||C.isOdd())&&(S.iadd(re),C.isub(ne)),S.iushrn(1),C.iushrn(1);for(var ae=0,U=1;(_.words[0]&U)==0&&ae<26;++ae,U<<=1);if(ae>0)for(_.iushrn(ae);ae-- >0;)(O.isOdd()||B.isOdd())&&(O.iadd(re),B.isub(ne)),O.iushrn(1),B.iushrn(1);v.cmp(_)>=0?(v.isub(_),S.isub(O),C.isub(B)):(_.isub(v),O.isub(S),B.isub(C))}return{a:O,b:B,gcd:_.iushln(z)}},t.prototype._invmp=function(A){f(A.negative===0),f(!A.isZero());var v=this,_=A.clone();v=v.negative!==0?v.umod(A):v.clone();for(var S,C=new t(1),O=new t(0),B=_.clone();v.cmpn(1)>0&&_.cmpn(1)>0;){for(var z=0,re=1;(v.words[0]&re)==0&&z<26;++z,re<<=1);if(z>0)for(v.iushrn(z);z-- >0;)C.isOdd()&&C.iadd(B),C.iushrn(1);for(var ne=0,de=1;(_.words[0]&de)==0&&ne<26;++ne,de<<=1);if(ne>0)for(_.iushrn(ne);ne-- >0;)O.isOdd()&&O.iadd(B),O.iushrn(1);v.cmp(_)>=0?(v.isub(_),C.isub(O)):(_.isub(v),O.isub(C))}return(S=v.cmpn(1)===0?C:O).cmpn(0)<0&&S.iadd(A),S},t.prototype.gcd=function(A){if(this.isZero())return A.abs();if(A.isZero())return this.abs();var v=this.clone(),_=A.clone();v.negative=0,_.negative=0;for(var S=0;v.isEven()&&_.isEven();S++)v.iushrn(1),_.iushrn(1);for(;;){for(;v.isEven();)v.iushrn(1);for(;_.isEven();)_.iushrn(1);var C=v.cmp(_);if(C<0){var O=v;v=_,_=O}else if(C===0||_.cmpn(1)===0)break;v.isub(_)}return _.iushln(S)},t.prototype.invm=function(A){return this.egcd(A).a.umod(A)},t.prototype.isEven=function(){return(1&this.words[0])==0},t.prototype.isOdd=function(){return(1&this.words[0])==1},t.prototype.andln=function(A){return this.words[0]&A},t.prototype.bincn=function(A){f(typeof A=="number");var v=A%26,_=(A-v)/26,S=1<<v;if(this.length<=_)return this._expand(_+1),this.words[_]|=S,this;for(var C=S,O=_;C!==0&&O<this.length;O++){var B=0|this.words[O];C=(B+=C)>>>26,B&=67108863,this.words[O]=B}return C!==0&&(this.words[O]=C,this.length++),this},t.prototype.isZero=function(){return this.length===1&&this.words[0]===0},t.prototype.cmpn=function(A){var v,_=A<0;if(this.negative!==0&&!_)return-1;if(this.negative===0&&_)return 1;if(this._strip(),this.length>1)v=1;else{_&&(A=-A),f(A<=67108863,"Number is too big");var S=0|this.words[0];v=S===A?0:S<A?-1:1}return this.negative!==0?0|-v:v},t.prototype.cmp=function(A){if(this.negative!==0&&A.negative===0)return-1;if(this.negative===0&&A.negative!==0)return 1;var v=this.ucmp(A);return this.negative!==0?0|-v:v},t.prototype.ucmp=function(A){if(this.length>A.length)return 1;if(this.length<A.length)return-1;for(var v=0,_=this.length-1;_>=0;_--){var S=0|this.words[_],C=0|A.words[_];if(S!==C){S<C?v=-1:S>C&&(v=1);break}}return v},t.prototype.gtn=function(A){return this.cmpn(A)===1},t.prototype.gt=function(A){return this.cmp(A)===1},t.prototype.gten=function(A){return this.cmpn(A)>=0},t.prototype.gte=function(A){return this.cmp(A)>=0},t.prototype.ltn=function(A){return this.cmpn(A)===-1},t.prototype.lt=function(A){return this.cmp(A)===-1},t.prototype.lten=function(A){return this.cmpn(A)<=0},t.prototype.lte=function(A){return this.cmp(A)<=0},t.prototype.eqn=function(A){return this.cmpn(A)===0},t.prototype.eq=function(A){return this.cmp(A)===0},t.red=function(A){return new D(A)},t.prototype.toRed=function(A){return f(!this.red,"Already a number in reduction context"),f(this.negative===0,"red works only with positives"),A.convertTo(this)._forceRed(A)},t.prototype.fromRed=function(){return f(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},t.prototype._forceRed=function(A){return this.red=A,this},t.prototype.forceRed=function(A){return f(!this.red,"Already a number in reduction context"),this._forceRed(A)},t.prototype.redAdd=function(A){return f(this.red,"redAdd works only with red numbers"),this.red.add(this,A)},t.prototype.redIAdd=function(A){return f(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,A)},t.prototype.redSub=function(A){return f(this.red,"redSub works only with red numbers"),this.red.sub(this,A)},t.prototype.redISub=function(A){return f(this.red,"redISub works only with red numbers"),this.red.isub(this,A)},t.prototype.redShl=function(A){return f(this.red,"redShl works only with red numbers"),this.red.shl(this,A)},t.prototype.redMul=function(A){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.mul(this,A)},t.prototype.redIMul=function(A){return f(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.imul(this,A)},t.prototype.redSqr=function(){return f(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},t.prototype.redISqr=function(){return f(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},t.prototype.redSqrt=function(){return f(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},t.prototype.redInvm=function(){return f(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},t.prototype.redNeg=function(){return f(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},t.prototype.redPow=function(A){return f(this.red&&!A.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,A)};var Y={k256:null,p224:null,p192:null,p25519:null};function W(A,v){this.name=A,this.p=new t(v,16),this.n=this.p.bitLength(),this.k=new t(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function q(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function K(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ie(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function $(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function D(A){if(typeof A=="string"){var v=t._prime(A);this.m=v.p,this.prime=v}else f(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}function F(A){D.call(this,A),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new t(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}W.prototype._tmp=function(){var A=new t(null);return A.words=new Array(Math.ceil(this.n/13)),A},W.prototype.ireduce=function(A){var v,_=A;do this.split(_,this.tmp),v=(_=(_=this.imulK(_)).iadd(this.tmp)).bitLength();while(v>this.n);var S=v<this.n?-1:_.ucmp(this.p);return S===0?(_.words[0]=0,_.length=1):S>0?_.isub(this.p):_.strip!==void 0?_.strip():_._strip(),_},W.prototype.split=function(A,v){A.iushrn(this.n,0,v)},W.prototype.imulK=function(A){return A.imul(this.k)},i(q,W),q.prototype.split=function(A,v){for(var _=Math.min(A.length,9),S=0;S<_;S++)v.words[S]=A.words[S];if(v.length=_,A.length<=9)return A.words[0]=0,void(A.length=1);var C=A.words[9];for(v.words[v.length++]=4194303&C,S=10;S<A.length;S++){var O=0|A.words[S];A.words[S-10]=(4194303&O)<<4|C>>>22,C=O}C>>>=22,A.words[S-10]=C,C===0&&A.length>10?A.length-=10:A.length-=9},q.prototype.imulK=function(A){A.words[A.length]=0,A.words[A.length+1]=0,A.length+=2;for(var v=0,_=0;_<A.length;_++){var S=0|A.words[_];v+=977*S,A.words[_]=67108863&v,v=64*S+(v/67108864|0)}return A.words[A.length-1]===0&&(A.length--,A.words[A.length-1]===0&&A.length--),A},i(K,W),i(ie,W),i($,W),$.prototype.imulK=function(A){for(var v=0,_=0;_<A.length;_++){var S=19*(0|A.words[_])+v,C=67108863&S;S>>>=26,A.words[_]=C,v=S}return v!==0&&(A.words[A.length++]=v),A},t._prime=function(A){if(Y[A])return Y[A];var v;if(A==="k256")v=new q;else if(A==="p224")v=new K;else if(A==="p192")v=new ie;else{if(A!=="p25519")throw new Error("Unknown prime "+A);v=new $}return Y[A]=v,v},D.prototype._verify1=function(A){f(A.negative===0,"red works only with positives"),f(A.red,"red works only with red numbers")},D.prototype._verify2=function(A,v){f((A.negative|v.negative)==0,"red works only with positives"),f(A.red&&A.red===v.red,"red works only with red numbers")},D.prototype.imod=function(A){return this.prime?this.prime.ireduce(A)._forceRed(this):(g(A,A.umod(this.m)._forceRed(this)),A)},D.prototype.neg=function(A){return A.isZero()?A.clone():this.m.sub(A)._forceRed(this)},D.prototype.add=function(A,v){this._verify2(A,v);var _=A.add(v);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},D.prototype.iadd=function(A,v){this._verify2(A,v);var _=A.iadd(v);return _.cmp(this.m)>=0&&_.isub(this.m),_},D.prototype.sub=function(A,v){this._verify2(A,v);var _=A.sub(v);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},D.prototype.isub=function(A,v){this._verify2(A,v);var _=A.isub(v);return _.cmpn(0)<0&&_.iadd(this.m),_},D.prototype.shl=function(A,v){return this._verify1(A),this.imod(A.ushln(v))},D.prototype.imul=function(A,v){return this._verify2(A,v),this.imod(A.imul(v))},D.prototype.mul=function(A,v){return this._verify2(A,v),this.imod(A.mul(v))},D.prototype.isqr=function(A){return this.imul(A,A.clone())},D.prototype.sqr=function(A){return this.mul(A,A)},D.prototype.sqrt=function(A){if(A.isZero())return A.clone();var v=this.m.andln(3);if(f(v%2==1),v===3){var _=this.m.add(new t(1)).iushrn(2);return this.pow(A,_)}for(var S=this.m.subn(1),C=0;!S.isZero()&&S.andln(1)===0;)C++,S.iushrn(1);f(!S.isZero());var O=new t(1).toRed(this),B=O.redNeg(),z=this.m.subn(1).iushrn(1),re=this.m.bitLength();for(re=new t(2*re*re).toRed(this);this.pow(re,z).cmp(B)!==0;)re.redIAdd(B);for(var ne=this.pow(re,S),de=this.pow(A,S.addn(1).iushrn(1)),H=this.pow(A,S),ae=C;H.cmp(O)!==0;){for(var U=H,L=0;U.cmp(O)!==0;L++)U=U.redSqr();f(L<ae);var ee=this.pow(ne,new t(1).iushln(ae-L-1));de=de.redMul(ee),ne=ee.redSqr(),H=H.redMul(ne),ae=L}return de},D.prototype.invm=function(A){var v=A._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},D.prototype.pow=function(A,v){if(v.isZero())return new t(1).toRed(this);if(v.cmpn(1)===0)return A.clone();var _=new Array(16);_[0]=new t(1).toRed(this),_[1]=A;for(var S=2;S<_.length;S++)_[S]=this.mul(_[S-1],A);var C=_[0],O=0,B=0,z=v.bitLength()%26;for(z===0&&(z=26),S=v.length-1;S>=0;S--){for(var re=v.words[S],ne=z-1;ne>=0;ne--){var de=re>>ne&1;C!==_[0]&&(C=this.sqr(C)),de!==0||O!==0?(O<<=1,O|=de,(++B===4||S===0&&ne===0)&&(C=this.mul(C,_[O]),B=0,O=0)):B=0}z=26}return C},D.prototype.convertTo=function(A){var v=A.umod(this.m);return v===A?v.clone():v},D.prototype.convertFrom=function(A){var v=A.clone();return v.red=null,v},t.mont=function(A){return new F(A)},i(F,D),F.prototype.convertTo=function(A){return this.imod(A.ushln(this.shift))},F.prototype.convertFrom=function(A){var v=this.imod(A.mul(this.rinv));return v.red=null,v},F.prototype.imul=function(A,v){if(A.isZero()||v.isZero())return A.words[0]=0,A.length=1,A;var _=A.imul(v),S=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=_.isub(S).iushrn(this.shift),O=C;return C.cmp(this.m)>=0?O=C.isub(this.m):C.cmpn(0)<0&&(O=C.iadd(this.m)),O._forceRed(this)},F.prototype.mul=function(A,v){if(A.isZero()||v.isZero())return new t(0)._forceRed(this);var _=A.mul(v),S=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=_.isub(S).iushrn(this.shift),O=C;return C.cmp(this.m)>=0?O=C.isub(this.m):C.cmpn(0)<0&&(O=C.iadd(this.m)),O._forceRed(this)},F.prototype.invm=function(A){return this.imod(A._invmp(this.m).mul(this.r2))._forceRed(this)}})(I===void 0||I)},{buffer:188}],187:[function(r,I,k){var p;function u(i){this.rand=i}if(I.exports=function(i){return p||(p=new u(null)),p.generate(i)},I.exports.Rand=u,u.prototype.generate=function(i){return this._rand(i)},u.prototype._rand=function(i){if(this.rand.getBytes)return this.rand.getBytes(i);for(var t=new Uint8Array(i),n=0;n<t.length;n++)t[n]=this.rand.getByte();return t},typeof self=="object")self.crypto&&self.crypto.getRandomValues?u.prototype._rand=function(i){var t=new Uint8Array(i);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?u.prototype._rand=function(i){var t=new Uint8Array(i);return self.msCrypto.getRandomValues(t),t}:typeof window=="object"&&(u.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var f=r("crypto");if(typeof f.randomBytes!="function")throw new Error("Not supported");u.prototype._rand=function(i){return f.randomBytes(i)}}catch{}},{crypto:188}],188:[function(r,I,k){},{}],189:[function(r,I,k){var p=r("safe-buffer").Buffer;function u(a){p.isBuffer(a)||(a=p.from(a));for(var l=a.length/4|0,g=new Array(l),b=0;b<l;b++)g[b]=a.readUInt32BE(4*b);return g}function f(a){for(;0<a.length;a++)a[0]=0}function i(a,l,g,b,d){for(var w,y,T,M,j=g[0],X=g[1],Y=g[2],W=g[3],q=a[0]^l[0],K=a[1]^l[1],ie=a[2]^l[2],$=a[3]^l[3],D=4,F=1;F<d;F++)w=j[q>>>24]^X[K>>>16&255]^Y[ie>>>8&255]^W[255&$]^l[D++],y=j[K>>>24]^X[ie>>>16&255]^Y[$>>>8&255]^W[255&q]^l[D++],T=j[ie>>>24]^X[$>>>16&255]^Y[q>>>8&255]^W[255&K]^l[D++],M=j[$>>>24]^X[q>>>16&255]^Y[K>>>8&255]^W[255&ie]^l[D++],q=w,K=y,ie=T,$=M;return w=(b[q>>>24]<<24|b[K>>>16&255]<<16|b[ie>>>8&255]<<8|b[255&$])^l[D++],y=(b[K>>>24]<<24|b[ie>>>16&255]<<16|b[$>>>8&255]<<8|b[255&q])^l[D++],T=(b[ie>>>24]<<24|b[$>>>16&255]<<16|b[q>>>8&255]<<8|b[255&K])^l[D++],M=(b[$>>>24]<<24|b[q>>>16&255]<<16|b[K>>>8&255]<<8|b[255&ie])^l[D++],[w>>>=0,y>>>=0,T>>>=0,M>>>=0]}var t=[0,1,2,4,8,16,32,64,128,27,54],n=function(){for(var a=new Array(256),l=0;l<256;l++)a[l]=l<128?l<<1:l<<1^283;for(var g=[],b=[],d=[[],[],[],[]],w=[[],[],[],[]],y=0,T=0,M=0;M<256;++M){var j=T^T<<1^T<<2^T<<3^T<<4;j=j>>>8^255&j^99,g[y]=j,b[j]=y;var X=a[y],Y=a[X],W=a[Y],q=257*a[j]^16843008*j;d[0][y]=q<<24|q>>>8,d[1][y]=q<<16|q>>>16,d[2][y]=q<<8|q>>>24,d[3][y]=q,q=16843009*W^65537*Y^257*X^16843008*y,w[0][j]=q<<24|q>>>8,w[1][j]=q<<16|q>>>16,w[2][j]=q<<8|q>>>24,w[3][j]=q,y===0?y=T=1:(y=X^a[a[a[W^X]]],T^=a[a[T]])}return{SBOX:g,INV_SBOX:b,SUB_MIX:d,INV_SUB_MIX:w}}();function c(a){this._key=u(a),this._reset()}c.blockSize=16,c.keySize=32,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var a=this._key,l=a.length,g=l+6,b=4*(g+1),d=[],w=0;w<l;w++)d[w]=a[w];for(w=l;w<b;w++){var y=d[w-1];w%l==0?(y=y<<8|y>>>24,y=n.SBOX[y>>>24]<<24|n.SBOX[y>>>16&255]<<16|n.SBOX[y>>>8&255]<<8|n.SBOX[255&y],y^=t[w/l|0]<<24):l>6&&w%l==4&&(y=n.SBOX[y>>>24]<<24|n.SBOX[y>>>16&255]<<16|n.SBOX[y>>>8&255]<<8|n.SBOX[255&y]),d[w]=d[w-l]^y}for(var T=[],M=0;M<b;M++){var j=b-M,X=d[j-(M%4?0:4)];T[M]=M<4||j<=4?X:n.INV_SUB_MIX[0][n.SBOX[X>>>24]]^n.INV_SUB_MIX[1][n.SBOX[X>>>16&255]]^n.INV_SUB_MIX[2][n.SBOX[X>>>8&255]]^n.INV_SUB_MIX[3][n.SBOX[255&X]]}this._nRounds=g,this._keySchedule=d,this._invKeySchedule=T},c.prototype.encryptBlockRaw=function(a){return i(a=u(a),this._keySchedule,n.SUB_MIX,n.SBOX,this._nRounds)},c.prototype.encryptBlock=function(a){var l=this.encryptBlockRaw(a),g=p.allocUnsafe(16);return g.writeUInt32BE(l[0],0),g.writeUInt32BE(l[1],4),g.writeUInt32BE(l[2],8),g.writeUInt32BE(l[3],12),g},c.prototype.decryptBlock=function(a){var l=(a=u(a))[1];a[1]=a[3],a[3]=l;var g=i(a,this._invKeySchedule,n.INV_SUB_MIX,n.INV_SBOX,this._nRounds),b=p.allocUnsafe(16);return b.writeUInt32BE(g[0],0),b.writeUInt32BE(g[3],4),b.writeUInt32BE(g[2],8),b.writeUInt32BE(g[1],12),b},c.prototype.scrub=function(){f(this._keySchedule),f(this._invKeySchedule),f(this._key)},I.exports.AES=c},{"safe-buffer":494}],190:[function(r,I,k){var p=r("./aes"),u=r("safe-buffer").Buffer,f=r("cipher-base"),i=r("inherits"),t=r("./ghash"),n=r("buffer-xor"),c=r("./incr32");function a(l,g,b,d){f.call(this);var w=u.alloc(4,0);this._cipher=new p.AES(g);var y=this._cipher.encryptBlock(w);this._ghash=new t(y),b=function(T,M,j){if(M.length===12)return T._finID=u.concat([M,u.from([0,0,0,1])]),u.concat([M,u.from([0,0,0,2])]);var X=new t(j),Y=M.length,W=Y%16;X.update(M),W&&(W=16-W,X.update(u.alloc(W,0))),X.update(u.alloc(8,0));var q=8*Y,K=u.alloc(8);K.writeUIntBE(q,0,8),X.update(K),T._finID=X.state;var ie=u.from(T._finID);return c(ie),ie}(this,b,y),this._prev=u.from(b),this._cache=u.allocUnsafe(0),this._secCache=u.allocUnsafe(0),this._decrypt=d,this._alen=0,this._len=0,this._mode=l,this._authTag=null,this._called=!1}i(a,f),a.prototype._update=function(l){if(!this._called&&this._alen){var g=16-this._alen%16;g<16&&(g=u.alloc(g,0),this._ghash.update(g))}this._called=!0;var b=this._mode.encrypt(this,l);return this._decrypt?this._ghash.update(l):this._ghash.update(b),this._len+=l.length,b},a.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var l=n(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(g,b){var d=0;g.length!==b.length&&d++;for(var w=Math.min(g.length,b.length),y=0;y<w;++y)d+=g[y]^b[y];return d}(l,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=l,this._cipher.scrub()},a.prototype.getAuthTag=function(){if(this._decrypt||!u.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},a.prototype.setAuthTag=function(l){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=l},a.prototype.setAAD=function(l){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(l),this._alen+=l.length},I.exports=a},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(r,I,k){var p=r("./encrypter"),u=r("./decrypter"),f=r("./modes/list.json");k.createCipher=k.Cipher=p.createCipher,k.createCipheriv=k.Cipheriv=p.createCipheriv,k.createDecipher=k.Decipher=u.createDecipher,k.createDecipheriv=k.Decipheriv=u.createDecipheriv,k.listCiphers=k.getCiphers=function(){return Object.keys(f)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(r,I,k){var p=r("./authCipher"),u=r("safe-buffer").Buffer,f=r("./modes"),i=r("./streamCipher"),t=r("cipher-base"),n=r("./aes"),c=r("evp_bytestokey");function a(b,d,w){t.call(this),this._cache=new l,this._last=void 0,this._cipher=new n.AES(d),this._prev=u.from(w),this._mode=b,this._autopadding=!0}function l(){this.cache=u.allocUnsafe(0)}function g(b,d,w){var y=f[b.toLowerCase()];if(!y)throw new TypeError("invalid suite type");if(typeof w=="string"&&(w=u.from(w)),y.mode!=="GCM"&&w.length!==y.iv)throw new TypeError("invalid iv length "+w.length);if(typeof d=="string"&&(d=u.from(d)),d.length!==y.key/8)throw new TypeError("invalid key length "+d.length);return y.type==="stream"?new i(y.module,d,w,!0):y.type==="auth"?new p(y.module,d,w,!0):new a(y.module,d,w)}r("inherits")(a,t),a.prototype._update=function(b){var d,w;this._cache.add(b);for(var y=[];d=this._cache.get(this._autopadding);)w=this._mode.decrypt(this,d),y.push(w);return u.concat(y)},a.prototype._final=function(){var b=this._cache.flush();if(this._autopadding)return function(d){var w=d[15];if(w<1||w>16)throw new Error("unable to decrypt data");for(var y=-1;++y<w;)if(d[y+(16-w)]!==w)throw new Error("unable to decrypt data");if(w!==16)return d.slice(0,16-w)}(this._mode.decrypt(this,b));if(b)throw new Error("data not multiple of block length")},a.prototype.setAutoPadding=function(b){return this._autopadding=!!b,this},l.prototype.add=function(b){this.cache=u.concat([this.cache,b])},l.prototype.get=function(b){var d;if(b){if(this.cache.length>16)return d=this.cache.slice(0,16),this.cache=this.cache.slice(16),d}else if(this.cache.length>=16)return d=this.cache.slice(0,16),this.cache=this.cache.slice(16),d;return null},l.prototype.flush=function(){if(this.cache.length)return this.cache},k.createDecipher=function(b,d){var w=f[b.toLowerCase()];if(!w)throw new TypeError("invalid suite type");var y=c(d,!1,w.key,w.iv);return g(b,y.key,y.iv)},k.createDecipheriv=g},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(r,I,k){var p=r("./modes"),u=r("./authCipher"),f=r("safe-buffer").Buffer,i=r("./streamCipher"),t=r("cipher-base"),n=r("./aes"),c=r("evp_bytestokey");function a(d,w,y){t.call(this),this._cache=new g,this._cipher=new n.AES(w),this._prev=f.from(y),this._mode=d,this._autopadding=!0}r("inherits")(a,t),a.prototype._update=function(d){var w,y;this._cache.add(d);for(var T=[];w=this._cache.get();)y=this._mode.encrypt(this,w),T.push(y);return f.concat(T)};var l=f.alloc(16,16);function g(){this.cache=f.allocUnsafe(0)}function b(d,w,y){var T=p[d.toLowerCase()];if(!T)throw new TypeError("invalid suite type");if(typeof w=="string"&&(w=f.from(w)),w.length!==T.key/8)throw new TypeError("invalid key length "+w.length);if(typeof y=="string"&&(y=f.from(y)),T.mode!=="GCM"&&y.length!==T.iv)throw new TypeError("invalid iv length "+y.length);return T.type==="stream"?new i(T.module,w,y):T.type==="auth"?new u(T.module,w,y):new a(T.module,w,y)}a.prototype._final=function(){var d=this._cache.flush();if(this._autopadding)return d=this._mode.encrypt(this,d),this._cipher.scrub(),d;if(!d.equals(l))throw this._cipher.scrub(),new Error("data not multiple of block length")},a.prototype.setAutoPadding=function(d){return this._autopadding=!!d,this},g.prototype.add=function(d){this.cache=f.concat([this.cache,d])},g.prototype.get=function(){if(this.cache.length>15){var d=this.cache.slice(0,16);return this.cache=this.cache.slice(16),d}return null},g.prototype.flush=function(){for(var d=16-this.cache.length,w=f.allocUnsafe(d),y=-1;++y<d;)w.writeUInt8(d,y);return f.concat([this.cache,w])},k.createCipheriv=b,k.createCipher=function(d,w){var y=p[d.toLowerCase()];if(!y)throw new TypeError("invalid suite type");var T=c(w,!1,y.key,y.iv);return b(d,T.key,T.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(r,I,k){var p=r("safe-buffer").Buffer,u=p.alloc(16,0);function f(t){var n=p.allocUnsafe(16);return n.writeUInt32BE(t[0]>>>0,0),n.writeUInt32BE(t[1]>>>0,4),n.writeUInt32BE(t[2]>>>0,8),n.writeUInt32BE(t[3]>>>0,12),n}function i(t){this.h=t,this.state=p.alloc(16,0),this.cache=p.allocUnsafe(0)}i.prototype.ghash=function(t){for(var n=-1;++n<t.length;)this.state[n]^=t[n];this._multiply()},i.prototype._multiply=function(){for(var t,n,c,a=[(t=this.h).readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)],l=[0,0,0,0],g=-1;++g<128;){for((this.state[~~(g/8)]&1<<7-g%8)!=0&&(l[0]^=a[0],l[1]^=a[1],l[2]^=a[2],l[3]^=a[3]),c=(1&a[3])!=0,n=3;n>0;n--)a[n]=a[n]>>>1|(1&a[n-1])<<31;a[0]=a[0]>>>1,c&&(a[0]=a[0]^225<<24)}this.state=f(l)},i.prototype.update=function(t){var n;for(this.cache=p.concat([this.cache,t]);this.cache.length>=16;)n=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(n)},i.prototype.final=function(t,n){return this.cache.length&&this.ghash(p.concat([this.cache,u],16)),this.ghash(f([0,t,0,n])),this.state},I.exports=i},{"safe-buffer":494}],195:[function(r,I,k){I.exports=function(p){for(var u,f=p.length;f--;){if((u=p.readUInt8(f))!==255){u++,p.writeUInt8(u,f);break}p.writeUInt8(0,f)}}},{}],196:[function(r,I,k){var p=r("buffer-xor");k.encrypt=function(u,f){var i=p(f,u._prev);return u._prev=u._cipher.encryptBlock(i),u._prev},k.decrypt=function(u,f){var i=u._prev;u._prev=f;var t=u._cipher.decryptBlock(f);return p(t,i)}},{"buffer-xor":219}],197:[function(r,I,k){var p=r("safe-buffer").Buffer,u=r("buffer-xor");function f(i,t,n){var c=t.length,a=u(t,i._cache);return i._cache=i._cache.slice(c),i._prev=p.concat([i._prev,n?t:a]),a}k.encrypt=function(i,t,n){for(var c,a=p.allocUnsafe(0);t.length;){if(i._cache.length===0&&(i._cache=i._cipher.encryptBlock(i._prev),i._prev=p.allocUnsafe(0)),!(i._cache.length<=t.length)){a=p.concat([a,f(i,t,n)]);break}c=i._cache.length,a=p.concat([a,f(i,t.slice(0,c),n)]),t=t.slice(c)}return a}},{"buffer-xor":219,"safe-buffer":494}],198:[function(r,I,k){var p=r("safe-buffer").Buffer;function u(i,t,n){for(var c,a,l=-1,g=0;++l<8;)c=t&1<<7-l?128:0,g+=(128&(a=i._cipher.encryptBlock(i._prev)[0]^c))>>l%8,i._prev=f(i._prev,n?c:a);return g}function f(i,t){var n=i.length,c=-1,a=p.allocUnsafe(i.length);for(i=p.concat([i,p.from([t])]);++c<n;)a[c]=i[c]<<1|i[c+1]>>7;return a}k.encrypt=function(i,t,n){for(var c=t.length,a=p.allocUnsafe(c),l=-1;++l<c;)a[l]=u(i,t[l],n);return a}},{"safe-buffer":494}],199:[function(r,I,k){var p=r("safe-buffer").Buffer;function u(f,i,t){var n=f._cipher.encryptBlock(f._prev)[0]^i;return f._prev=p.concat([f._prev.slice(1),p.from([t?i:n])]),n}k.encrypt=function(f,i,t){for(var n=i.length,c=p.allocUnsafe(n),a=-1;++a<n;)c[a]=u(f,i[a],t);return c}},{"safe-buffer":494}],200:[function(r,I,k){var p=r("buffer-xor"),u=r("safe-buffer").Buffer,f=r("../incr32");function i(t){var n=t._cipher.encryptBlockRaw(t._prev);return f(t._prev),n}k.encrypt=function(t,n){var c=Math.ceil(n.length/16),a=t._cache.length;t._cache=u.concat([t._cache,u.allocUnsafe(16*c)]);for(var l=0;l<c;l++){var g=i(t),b=a+16*l;t._cache.writeUInt32BE(g[0],b+0),t._cache.writeUInt32BE(g[1],b+4),t._cache.writeUInt32BE(g[2],b+8),t._cache.writeUInt32BE(g[3],b+12)}var d=t._cache.slice(0,n.length);return t._cache=t._cache.slice(n.length),p(n,d)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(r,I,k){k.encrypt=function(p,u){return p._cipher.encryptBlock(u)},k.decrypt=function(p,u){return p._cipher.decryptBlock(u)}},{}],202:[function(r,I,k){var p={ECB:r("./ecb"),CBC:r("./cbc"),CFB:r("./cfb"),CFB8:r("./cfb8"),CFB1:r("./cfb1"),OFB:r("./ofb"),CTR:r("./ctr"),GCM:r("./ctr")},u=r("./list.json");for(var f in u)u[f].module=p[u[f].mode];I.exports=u},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(r,I,k){I.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(r,I,k){(function(p){(function(){var u=r("buffer-xor");function f(i){return i._prev=i._cipher.encryptBlock(i._prev),i._prev}k.encrypt=function(i,t){for(;i._cache.length<t.length;)i._cache=p.concat([i._cache,f(i)]);var n=i._cache.slice(0,t.length);return i._cache=i._cache.slice(t.length),u(t,n)}}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(r,I,k){var p=r("./aes"),u=r("safe-buffer").Buffer,f=r("cipher-base");function i(t,n,c,a){f.call(this),this._cipher=new p.AES(n),this._prev=u.from(c),this._cache=u.allocUnsafe(0),this._secCache=u.allocUnsafe(0),this._decrypt=a,this._mode=t}r("inherits")(i,f),i.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)},i.prototype._final=function(){this._cipher.scrub()},I.exports=i},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(r,I,k){var p=r("browserify-des"),u=r("browserify-aes/browser"),f=r("browserify-aes/modes"),i=r("browserify-des/modes"),t=r("evp_bytestokey");function n(a,l,g){if(a=a.toLowerCase(),f[a])return u.createCipheriv(a,l,g);if(i[a])return new p({key:l,iv:g,mode:a});throw new TypeError("invalid suite type")}function c(a,l,g){if(a=a.toLowerCase(),f[a])return u.createDecipheriv(a,l,g);if(i[a])return new p({key:l,iv:g,mode:a,decrypt:!0});throw new TypeError("invalid suite type")}k.createCipher=k.Cipher=function(a,l){var g,b;if(a=a.toLowerCase(),f[a])g=f[a].key,b=f[a].iv;else{if(!i[a])throw new TypeError("invalid suite type");g=8*i[a].key,b=i[a].iv}var d=t(l,!1,g,b);return n(a,d.key,d.iv)},k.createCipheriv=k.Cipheriv=n,k.createDecipher=k.Decipher=function(a,l){var g,b;if(a=a.toLowerCase(),f[a])g=f[a].key,b=f[a].iv;else{if(!i[a])throw new TypeError("invalid suite type");g=8*i[a].key,b=i[a].iv}var d=t(l,!1,g,b);return c(a,d.key,d.iv)},k.createDecipheriv=k.Decipheriv=c,k.listCiphers=k.getCiphers=function(){return Object.keys(i).concat(u.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(r,I,k){var p=r("cipher-base"),u=r("des.js"),f=r("inherits"),i=r("safe-buffer").Buffer,t={"des-ede3-cbc":u.CBC.instantiate(u.EDE),"des-ede3":u.EDE,"des-ede-cbc":u.CBC.instantiate(u.EDE),"des-ede":u.EDE,"des-cbc":u.CBC.instantiate(u.DES),"des-ecb":u.DES};function n(c){p.call(this);var a,l=c.mode.toLowerCase(),g=t[l];a=c.decrypt?"decrypt":"encrypt";var b=c.key;i.isBuffer(b)||(b=i.from(b)),l!=="des-ede"&&l!=="des-ede-cbc"||(b=i.concat([b,b.slice(0,8)]));var d=c.iv;i.isBuffer(d)||(d=i.from(d)),this._des=g.create({key:b,iv:d,type:a})}t.des=t["des-cbc"],t.des3=t["des-ede3-cbc"],I.exports=n,f(n,p),n.prototype._update=function(c){return i.from(this._des.update(c))},n.prototype._final=function(){return i.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(r,I,k){k["des-ecb"]={key:8,iv:0},k["des-cbc"]=k.des={key:8,iv:8},k["des-ede3-cbc"]=k.des3={key:24,iv:8},k["des-ede3"]={key:24,iv:0},k["des-ede-cbc"]={key:16,iv:8},k["des-ede"]={key:16,iv:0}},{}],209:[function(r,I,k){(function(p){(function(){var u=r("bn.js"),f=r("randombytes");function i(n){var c,a=n.modulus.byteLength();do c=new u(f(a));while(c.cmp(n.modulus)>=0||!c.umod(n.prime1)||!c.umod(n.prime2));return c}function t(n,c){var a=function(Y){var W=i(Y);return{blinder:W.toRed(u.mont(Y.modulus)).redPow(new u(Y.publicExponent)).fromRed(),unblinder:W.invm(Y.modulus)}}(c),l=c.modulus.byteLength(),g=new u(n).mul(a.blinder).umod(c.modulus),b=g.toRed(u.mont(c.prime1)),d=g.toRed(u.mont(c.prime2)),w=c.coefficient,y=c.prime1,T=c.prime2,M=b.redPow(c.exponent1).fromRed(),j=d.redPow(c.exponent2).fromRed(),X=M.isub(j).imul(w).umod(y).imul(T);return j.iadd(X).imul(a.unblinder).umod(c.modulus).toArrayLike(p,"be",l)}t.getr=i,I.exports=t}).call(this)}).call(this,r("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(r,I,k){I.exports=r("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(r,I,k){I.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(r,I,k){I.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(r,I,k){var p=r("safe-buffer").Buffer,u=r("create-hash"),f=r("readable-stream"),i=r("inherits"),t=r("./sign"),n=r("./verify"),c=r("./algorithms.json");function a(d){f.Writable.call(this);var w=c[d];if(!w)throw new Error("Unknown message digest");this._hashType=w.hash,this._hash=u(w.hash),this._tag=w.id,this._signType=w.sign}function l(d){f.Writable.call(this);var w=c[d];if(!w)throw new Error("Unknown message digest");this._hash=u(w.hash),this._tag=w.id,this._signType=w.sign}function g(d){return new a(d)}function b(d){return new l(d)}Object.keys(c).forEach(function(d){c[d].id=p.from(c[d].id,"hex"),c[d.toLowerCase()]=c[d]}),i(a,f.Writable),a.prototype._write=function(d,w,y){this._hash.update(d),y()},a.prototype.update=function(d,w){return typeof d=="string"&&(d=p.from(d,w)),this._hash.update(d),this},a.prototype.sign=function(d,w){this.end();var y=this._hash.digest(),T=t(y,d,this._hashType,this._signType,this._tag);return w?T.toString(w):T},i(l,f.Writable),l.prototype._write=function(d,w,y){this._hash.update(d),y()},l.prototype.update=function(d,w){return typeof d=="string"&&(d=p.from(d,w)),this._hash.update(d),this},l.prototype.verify=function(d,w,y){typeof w=="string"&&(w=p.from(w,y)),this.end();var T=this._hash.digest();return n(w,T,d,this._signType,this._tag)},I.exports={Sign:g,Verify:b,createSign:g,createVerify:b}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(r,I,k){var p=r("safe-buffer").Buffer,u=r("create-hmac"),f=r("browserify-rsa"),i=r("elliptic").ec,t=r("bn.js"),n=r("parse-asn1"),c=r("./curves.json");function a(d,w,y,T){if((d=p.from(d.toArray())).length<w.byteLength()){var M=p.alloc(w.byteLength()-d.length);d=p.concat([M,d])}var j=y.length,X=function(q,K){q=(q=l(q,K)).mod(K);var ie=p.from(q.toArray());if(ie.length<K.byteLength()){var $=p.alloc(K.byteLength()-ie.length);ie=p.concat([$,ie])}return ie}(y,w),Y=p.alloc(j);Y.fill(1);var W=p.alloc(j);return W=u(T,W).update(Y).update(p.from([0])).update(d).update(X).digest(),Y=u(T,W).update(Y).digest(),{k:W=u(T,W).update(Y).update(p.from([1])).update(d).update(X).digest(),v:Y=u(T,W).update(Y).digest()}}function l(d,w){var y=new t(d),T=(d.length<<3)-w.bitLength();return T>0&&y.ishrn(T),y}function g(d,w,y){var T,M;do{for(T=p.alloc(0);8*T.length<d.bitLength();)w.v=u(y,w.k).update(w.v).digest(),T=p.concat([T,w.v]);M=l(T,d),w.k=u(y,w.k).update(w.v).update(p.from([0])).digest(),w.v=u(y,w.k).update(w.v).digest()}while(M.cmp(d)!==-1);return M}function b(d,w,y,T){return d.toRed(t.mont(y)).redPow(w).fromRed().mod(T)}I.exports=function(d,w,y,T,M){var j=n(w);if(j.curve){if(T!=="ecdsa"&&T!=="ecdsa/rsa")throw new Error("wrong private key type");return function(q,K){var ie=c[K.curve.join(".")];if(!ie)throw new Error("unknown curve "+K.curve.join("."));var $=new i(ie).keyFromPrivate(K.privateKey).sign(q);return p.from($.toDER())}(d,j)}if(j.type==="dsa"){if(T!=="dsa")throw new Error("wrong private key type");return function(q,K,ie){for(var $,D=K.params.priv_key,F=K.params.p,A=K.params.q,v=K.params.g,_=new t(0),S=l(q,A).mod(A),C=!1,O=a(D,A,q,ie);C===!1;)$=g(A,O,ie),_=b(v,$,F,A),(C=$.invm(A).imul(S.add(D.mul(_))).mod(A)).cmpn(0)===0&&(C=!1,_=new t(0));return function(B,z){B=B.toArray(),z=z.toArray(),128&B[0]&&(B=[0].concat(B)),128&z[0]&&(z=[0].concat(z));var re=[48,B.length+z.length+4,2,B.length];return re=re.concat(B,[2,z.length],z),p.from(re)}(_,C)}(d,j,y)}if(T!=="rsa"&&T!=="ecdsa/rsa")throw new Error("wrong private key type");d=p.concat([M,d]);for(var X=j.modulus.byteLength(),Y=[0,1];d.length+Y.length+1<X;)Y.push(255);Y.push(0);for(var W=-1;++W<d.length;)Y.push(d[W]);return f(Y,j)},I.exports.getKey=a,I.exports.makeKey=g},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(r,I,k){var p=r("safe-buffer").Buffer,u=r("bn.js"),f=r("elliptic").ec,i=r("parse-asn1"),t=r("./curves.json");function n(c,a){if(c.cmpn(0)<=0)throw new Error("invalid sig");if(c.cmp(a)>=a)throw new Error("invalid sig")}I.exports=function(c,a,l,g,b){var d=i(l);if(d.type==="ec"){if(g!=="ecdsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");return function(Y,W,q){var K=t[q.data.algorithm.curve.join(".")];if(!K)throw new Error("unknown curve "+q.data.algorithm.curve.join("."));var ie=new f(K),$=q.data.subjectPrivateKey.data;return ie.verify(W,Y,$)}(c,a,d)}if(d.type==="dsa"){if(g!=="dsa")throw new Error("wrong public key type");return function(Y,W,q){var K=q.data.p,ie=q.data.q,$=q.data.g,D=q.data.pub_key,F=i.signature.decode(Y,"der"),A=F.s,v=F.r;n(A,ie),n(v,ie);var _=u.mont(K),S=A.invm(ie);return $.toRed(_).redPow(new u(W).mul(S).mod(ie)).fromRed().mul(D.toRed(_).redPow(v.mul(S).mod(ie)).fromRed()).mod(K).mod(ie).cmp(v)===0}(c,a,d)}if(g!=="rsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");a=p.concat([b,a]);for(var w=d.modulus.byteLength(),y=[1],T=0;a.length+y.length+2<w;)y.push(255),T++;y.push(0);for(var M=-1;++M<a.length;)y.push(a[M]);y=p.from(y);var j=u.mont(d.modulus);c=(c=new u(c).toRed(j)).redPow(new u(d.publicExponent)),c=p.from(c.fromRed().toArray());var X=T<8?1:0;for(w=Math.min(c.length,y.length),c.length!==y.length&&(X=1),M=-1;++M<w;)X|=c[M]^y[M];return X===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(r,I,k){},{}],217:[function(r,I,k){var p=r("buffer"),u=p.Buffer;function f(t,n){for(var c in t)n[c]=t[c]}function i(t,n,c){return u(t,n,c)}u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?I.exports=p:(f(p,k),k.Buffer=i),f(u,i),i.from=function(t,n,c){if(typeof t=="number")throw new TypeError("Argument must not be a number");return u(t,n,c)},i.alloc=function(t,n,c){if(typeof t!="number")throw new TypeError("Argument must be a number");var a=u(t);return n!==void 0?typeof c=="string"?a.fill(n,c):a.fill(n):a.fill(0),a},i.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return u(t)},i.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return p.SlowBuffer(t)}},{buffer:220}],218:[function(r,I,k){var p=r("safe-buffer").Buffer,u=p.isEncoding||function(d){switch((d=""+d)&&d.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function f(d){var w;switch(this.encoding=function(y){var T=function(M){if(!M)return"utf8";for(var j;;)switch(M){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return M;default:if(j)return;M=(""+M).toLowerCase(),j=!0}}(y);if(typeof T!="string"&&(p.isEncoding===u||!u(y)))throw new Error("Unknown encoding: "+y);return T||y}(d),this.encoding){case"utf16le":this.text=n,this.end=c,w=4;break;case"utf8":this.fillLast=t,w=4;break;case"base64":this.text=a,this.end=l,w=3;break;default:return this.write=g,void(this.end=b)}this.lastNeed=0,this.lastTotal=0,this.lastChar=p.allocUnsafe(w)}function i(d){return d<=127?0:d>>5==6?2:d>>4==14?3:d>>3==30?4:d>>6==2?-1:-2}function t(d){var w=this.lastTotal-this.lastNeed,y=function(T,M,j){if((192&M[0])!=128)return T.lastNeed=0,"�";if(T.lastNeed>1&&M.length>1){if((192&M[1])!=128)return T.lastNeed=1,"�";if(T.lastNeed>2&&M.length>2&&(192&M[2])!=128)return T.lastNeed=2,"�"}}(this,d);return y!==void 0?y:this.lastNeed<=d.length?(d.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(d.copy(this.lastChar,w,0,d.length),void(this.lastNeed-=d.length))}function n(d,w){if((d.length-w)%2==0){var y=d.toString("utf16le",w);if(y){var T=y.charCodeAt(y.length-1);if(T>=55296&&T<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=d[d.length-1],d.toString("utf16le",w,d.length-1)}function c(d){var w=d&&d.length?this.write(d):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return w+this.lastChar.toString("utf16le",0,y)}return w}function a(d,w){var y=(d.length-w)%3;return y===0?d.toString("base64",w):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=d[d.length-1]:(this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1]),d.toString("base64",w,d.length-y))}function l(d){var w=d&&d.length?this.write(d):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function g(d){return d.toString(this.encoding)}function b(d){return d&&d.length?this.write(d):""}k.StringDecoder=f,f.prototype.write=function(d){if(d.length===0)return"";var w,y;if(this.lastNeed){if((w=this.fillLast(d))===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<d.length?w?w+this.text(d,y):this.text(d,y):w||""},f.prototype.end=function(d){var w=d&&d.length?this.write(d):"";return this.lastNeed?w+"�":w},f.prototype.text=function(d,w){var y=function(M,j,X){var Y=j.length-1;if(Y<X)return 0;var W=i(j[Y]);return W>=0?(W>0&&(M.lastNeed=W-1),W):--Y<X||W===-2?0:(W=i(j[Y]))>=0?(W>0&&(M.lastNeed=W-2),W):--Y<X||W===-2?0:(W=i(j[Y]))>=0?(W>0&&(W===2?W=0:M.lastNeed=W-3),W):0}(this,d,w);if(!this.lastNeed)return d.toString("utf8",w);this.lastTotal=y;var T=d.length-(y-this.lastNeed);return d.copy(this.lastChar,0,T),d.toString("utf8",w,T)},f.prototype.fillLast=function(d){if(this.lastNeed<=d.length)return d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,d.length),this.lastNeed-=d.length}},{"safe-buffer":217}],219:[function(r,I,k){(function(p){(function(){I.exports=function(u,f){for(var i=Math.min(u.length,f.length),t=new p(i),n=0;n<i;++n)t[n]=u[n]^f[n];return t}}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220}],220:[function(r,I,k){(function(p){(function(){var u=r("base64-js"),f=r("ieee754");k.Buffer=t,k.SlowBuffer=function(U){return+U!=U&&(U=0),t.alloc(+U)},k.INSPECT_MAX_BYTES=50;function i(U){if(U>2147483647)throw new RangeError('The value "'+U+'" is invalid for option "size"');var L=new Uint8Array(U);return L.__proto__=t.prototype,L}function t(U,L,ee){if(typeof U=="number"){if(typeof L=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return a(U)}return n(U,L,ee)}function n(U,L,ee){if(typeof U=="string")return function(he,xe){if(typeof xe=="string"&&xe!==""||(xe="utf8"),!t.isEncoding(xe))throw new TypeError("Unknown encoding: "+xe);var _e=0|b(he,xe),Re=i(_e),pe=Re.write(he,xe);return pe!==_e&&(Re=Re.slice(0,pe)),Re}(U,L);if(ArrayBuffer.isView(U))return l(U);if(U==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(H(U,ArrayBuffer)||U&&H(U.buffer,ArrayBuffer))return function(he,xe,_e){if(xe<0||he.byteLength<xe)throw new RangeError('"offset" is outside of buffer bounds');if(he.byteLength<xe+(_e||0))throw new RangeError('"length" is outside of buffer bounds');var Re;return Re=xe===void 0&&_e===void 0?new Uint8Array(he):_e===void 0?new Uint8Array(he,xe):new Uint8Array(he,xe,_e),Re.__proto__=t.prototype,Re}(U,L,ee);if(typeof U=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ce=U.valueOf&&U.valueOf();if(ce!=null&&ce!==U)return t.from(ce,L,ee);var ve=function(he){if(t.isBuffer(he)){var xe=0|g(he.length),_e=i(xe);return _e.length===0||he.copy(_e,0,0,xe),_e}if(he.length!==void 0)return typeof he.length!="number"||ae(he.length)?i(0):l(he);if(he.type==="Buffer"&&Array.isArray(he.data))return l(he.data)}(U);if(ve)return ve;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof U[Symbol.toPrimitive]=="function")return t.from(U[Symbol.toPrimitive]("string"),L,ee);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}function c(U){if(typeof U!="number")throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function a(U){return c(U),i(U<0?0:0|g(U))}function l(U){for(var L=U.length<0?0:0|g(U.length),ee=i(L),ce=0;ce<L;ce+=1)ee[ce]=255&U[ce];return ee}function g(U){if(U>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|U}function b(U,L){if(t.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||H(U,ArrayBuffer))return U.byteLength;if(typeof U!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);var ee=U.length,ce=arguments.length>2&&arguments[2]===!0;if(!ce&&ee===0)return 0;for(var ve=!1;;)switch(L){case"ascii":case"latin1":case"binary":return ee;case"utf8":case"utf-8":return re(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ee;case"hex":return ee>>>1;case"base64":return ne(U).length;default:if(ve)return ce?-1:re(U).length;L=(""+L).toLowerCase(),ve=!0}}function d(U,L,ee){var ce=!1;if((L===void 0||L<0)&&(L=0),L>this.length||((ee===void 0||ee>this.length)&&(ee=this.length),ee<=0)||(ee>>>=0)<=(L>>>=0))return"";for(U||(U="utf8");;)switch(U){case"hex":return F(this,L,ee);case"utf8":case"utf-8":return ie(this,L,ee);case"ascii":return $(this,L,ee);case"latin1":case"binary":return D(this,L,ee);case"base64":return K(this,L,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,L,ee);default:if(ce)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),ce=!0}}function w(U,L,ee){var ce=U[L];U[L]=U[ee],U[ee]=ce}function y(U,L,ee,ce,ve){if(U.length===0)return-1;if(typeof ee=="string"?(ce=ee,ee=0):ee>2147483647?ee=2147483647:ee<-2147483648&&(ee=-2147483648),ae(ee=+ee)&&(ee=ve?0:U.length-1),ee<0&&(ee=U.length+ee),ee>=U.length){if(ve)return-1;ee=U.length-1}else if(ee<0){if(!ve)return-1;ee=0}if(typeof L=="string"&&(L=t.from(L,ce)),t.isBuffer(L))return L.length===0?-1:T(U,L,ee,ce,ve);if(typeof L=="number")return L&=255,typeof Uint8Array.prototype.indexOf=="function"?ve?Uint8Array.prototype.indexOf.call(U,L,ee):Uint8Array.prototype.lastIndexOf.call(U,L,ee):T(U,[L],ee,ce,ve);throw new TypeError("val must be string, number or Buffer")}function T(U,L,ee,ce,ve){var he,xe=1,_e=U.length,Re=L.length;if(ce!==void 0&&((ce=String(ce).toLowerCase())==="ucs2"||ce==="ucs-2"||ce==="utf16le"||ce==="utf-16le")){if(U.length<2||L.length<2)return-1;xe=2,_e/=2,Re/=2,ee/=2}function pe(ke,We){return xe===1?ke[We]:ke.readUInt16BE(We*xe)}if(ve){var Ae=-1;for(he=ee;he<_e;he++)if(pe(U,he)===pe(L,Ae===-1?0:he-Ae)){if(Ae===-1&&(Ae=he),he-Ae+1===Re)return Ae*xe}else Ae!==-1&&(he-=he-Ae),Ae=-1}else for(ee+Re>_e&&(ee=_e-Re),he=ee;he>=0;he--){for(var Se=!0,Ue=0;Ue<Re;Ue++)if(pe(U,he+Ue)!==pe(L,Ue)){Se=!1;break}if(Se)return he}return-1}function M(U,L,ee,ce){ee=Number(ee)||0;var ve=U.length-ee;ce?(ce=Number(ce))>ve&&(ce=ve):ce=ve;var he=L.length;ce>he/2&&(ce=he/2);for(var xe=0;xe<ce;++xe){var _e=parseInt(L.substr(2*xe,2),16);if(ae(_e))return xe;U[ee+xe]=_e}return xe}function j(U,L,ee,ce){return de(re(L,U.length-ee),U,ee,ce)}function X(U,L,ee,ce){return de(function(ve){for(var he=[],xe=0;xe<ve.length;++xe)he.push(255&ve.charCodeAt(xe));return he}(L),U,ee,ce)}function Y(U,L,ee,ce){return X(U,L,ee,ce)}function W(U,L,ee,ce){return de(ne(L),U,ee,ce)}function q(U,L,ee,ce){return de(function(ve,he){for(var xe,_e,Re,pe=[],Ae=0;Ae<ve.length&&!((he-=2)<0);++Ae)xe=ve.charCodeAt(Ae),_e=xe>>8,Re=xe%256,pe.push(Re),pe.push(_e);return pe}(L,U.length-ee),U,ee,ce)}function K(U,L,ee){return L===0&&ee===U.length?u.fromByteArray(U):u.fromByteArray(U.slice(L,ee))}function ie(U,L,ee){ee=Math.min(U.length,ee);for(var ce=[],ve=L;ve<ee;){var he,xe,_e,Re,pe=U[ve],Ae=null,Se=pe>239?4:pe>223?3:pe>191?2:1;if(ve+Se<=ee)switch(Se){case 1:pe<128&&(Ae=pe);break;case 2:(192&(he=U[ve+1]))==128&&(Re=(31&pe)<<6|63&he)>127&&(Ae=Re);break;case 3:he=U[ve+1],xe=U[ve+2],(192&he)==128&&(192&xe)==128&&(Re=(15&pe)<<12|(63&he)<<6|63&xe)>2047&&(Re<55296||Re>57343)&&(Ae=Re);break;case 4:he=U[ve+1],xe=U[ve+2],_e=U[ve+3],(192&he)==128&&(192&xe)==128&&(192&_e)==128&&(Re=(15&pe)<<18|(63&he)<<12|(63&xe)<<6|63&_e)>65535&&Re<1114112&&(Ae=Re)}Ae===null?(Ae=65533,Se=1):Ae>65535&&(Ae-=65536,ce.push(Ae>>>10&1023|55296),Ae=56320|1023&Ae),ce.push(Ae),ve+=Se}return function(Ue){var ke=Ue.length;if(ke<=4096)return String.fromCharCode.apply(String,Ue);for(var We="",$e=0;$e<ke;)We+=String.fromCharCode.apply(String,Ue.slice($e,$e+=4096));return We}(ce)}k.kMaxLength=2147483647,t.TYPED_ARRAY_SUPPORT=function(){try{var U=new Uint8Array(1);return U.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},U.foo()===42}catch{return!1}}(),t.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),t.poolSize=8192,t.from=function(U,L,ee){return n(U,L,ee)},t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array,t.alloc=function(U,L,ee){return function(ce,ve,he){return c(ce),ce<=0?i(ce):ve!==void 0?typeof he=="string"?i(ce).fill(ve,he):i(ce).fill(ve):i(ce)}(U,L,ee)},t.allocUnsafe=function(U){return a(U)},t.allocUnsafeSlow=function(U){return a(U)},t.isBuffer=function(U){return U!=null&&U._isBuffer===!0&&U!==t.prototype},t.compare=function(U,L){if(H(U,Uint8Array)&&(U=t.from(U,U.offset,U.byteLength)),H(L,Uint8Array)&&(L=t.from(L,L.offset,L.byteLength)),!t.isBuffer(U)||!t.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(U===L)return 0;for(var ee=U.length,ce=L.length,ve=0,he=Math.min(ee,ce);ve<he;++ve)if(U[ve]!==L[ve]){ee=U[ve],ce=L[ve];break}return ee<ce?-1:ce<ee?1:0},t.isEncoding=function(U){switch(String(U).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(U,L){if(!Array.isArray(U))throw new TypeError('"list" argument must be an Array of Buffers');if(U.length===0)return t.alloc(0);var ee;if(L===void 0)for(L=0,ee=0;ee<U.length;++ee)L+=U[ee].length;var ce=t.allocUnsafe(L),ve=0;for(ee=0;ee<U.length;++ee){var he=U[ee];if(H(he,Uint8Array)&&(he=t.from(he)),!t.isBuffer(he))throw new TypeError('"list" argument must be an Array of Buffers');he.copy(ce,ve),ve+=he.length}return ce},t.byteLength=b,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var U=this.length;if(U%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var L=0;L<U;L+=2)w(this,L,L+1);return this},t.prototype.swap32=function(){var U=this.length;if(U%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var L=0;L<U;L+=4)w(this,L,L+3),w(this,L+1,L+2);return this},t.prototype.swap64=function(){var U=this.length;if(U%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var L=0;L<U;L+=8)w(this,L,L+7),w(this,L+1,L+6),w(this,L+2,L+5),w(this,L+3,L+4);return this},t.prototype.toString=function(){var U=this.length;return U===0?"":arguments.length===0?ie(this,0,U):d.apply(this,arguments)},t.prototype.toLocaleString=t.prototype.toString,t.prototype.equals=function(U){if(!t.isBuffer(U))throw new TypeError("Argument must be a Buffer");return this===U||t.compare(this,U)===0},t.prototype.inspect=function(){var U="",L=k.INSPECT_MAX_BYTES;return U=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim(),this.length>L&&(U+=" ... "),"<Buffer "+U+">"},t.prototype.compare=function(U,L,ee,ce,ve){if(H(U,Uint8Array)&&(U=t.from(U,U.offset,U.byteLength)),!t.isBuffer(U))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof U);if(L===void 0&&(L=0),ee===void 0&&(ee=U?U.length:0),ce===void 0&&(ce=0),ve===void 0&&(ve=this.length),L<0||ee>U.length||ce<0||ve>this.length)throw new RangeError("out of range index");if(ce>=ve&&L>=ee)return 0;if(ce>=ve)return-1;if(L>=ee)return 1;if(this===U)return 0;for(var he=(ve>>>=0)-(ce>>>=0),xe=(ee>>>=0)-(L>>>=0),_e=Math.min(he,xe),Re=this.slice(ce,ve),pe=U.slice(L,ee),Ae=0;Ae<_e;++Ae)if(Re[Ae]!==pe[Ae]){he=Re[Ae],xe=pe[Ae];break}return he<xe?-1:xe<he?1:0},t.prototype.includes=function(U,L,ee){return this.indexOf(U,L,ee)!==-1},t.prototype.indexOf=function(U,L,ee){return y(this,U,L,ee,!0)},t.prototype.lastIndexOf=function(U,L,ee){return y(this,U,L,ee,!1)},t.prototype.write=function(U,L,ee,ce){if(L===void 0)ce="utf8",ee=this.length,L=0;else if(ee===void 0&&typeof L=="string")ce=L,ee=this.length,L=0;else{if(!isFinite(L))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");L>>>=0,isFinite(ee)?(ee>>>=0,ce===void 0&&(ce="utf8")):(ce=ee,ee=void 0)}var ve=this.length-L;if((ee===void 0||ee>ve)&&(ee=ve),U.length>0&&(ee<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");ce||(ce="utf8");for(var he=!1;;)switch(ce){case"hex":return M(this,U,L,ee);case"utf8":case"utf-8":return j(this,U,L,ee);case"ascii":return X(this,U,L,ee);case"latin1":case"binary":return Y(this,U,L,ee);case"base64":return W(this,U,L,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,U,L,ee);default:if(he)throw new TypeError("Unknown encoding: "+ce);ce=(""+ce).toLowerCase(),he=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $(U,L,ee){var ce="";ee=Math.min(U.length,ee);for(var ve=L;ve<ee;++ve)ce+=String.fromCharCode(127&U[ve]);return ce}function D(U,L,ee){var ce="";ee=Math.min(U.length,ee);for(var ve=L;ve<ee;++ve)ce+=String.fromCharCode(U[ve]);return ce}function F(U,L,ee){var ce=U.length;(!L||L<0)&&(L=0),(!ee||ee<0||ee>ce)&&(ee=ce);for(var ve="",he=L;he<ee;++he)ve+=z(U[he]);return ve}function A(U,L,ee){for(var ce=U.slice(L,ee),ve="",he=0;he<ce.length;he+=2)ve+=String.fromCharCode(ce[he]+256*ce[he+1]);return ve}function v(U,L,ee){if(U%1!=0||U<0)throw new RangeError("offset is not uint");if(U+L>ee)throw new RangeError("Trying to access beyond buffer length")}function _(U,L,ee,ce,ve,he){if(!t.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(L>ve||L<he)throw new RangeError('"value" argument is out of bounds');if(ee+ce>U.length)throw new RangeError("Index out of range")}function S(U,L,ee,ce,ve,he){if(ee+ce>U.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("Index out of range")}function C(U,L,ee,ce,ve){return L=+L,ee>>>=0,ve||S(U,0,ee,4),f.write(U,L,ee,ce,23,4),ee+4}function O(U,L,ee,ce,ve){return L=+L,ee>>>=0,ve||S(U,0,ee,8),f.write(U,L,ee,ce,52,8),ee+8}t.prototype.slice=function(U,L){var ee=this.length;(U=~~U)<0?(U+=ee)<0&&(U=0):U>ee&&(U=ee),(L=L===void 0?ee:~~L)<0?(L+=ee)<0&&(L=0):L>ee&&(L=ee),L<U&&(L=U);var ce=this.subarray(U,L);return ce.__proto__=t.prototype,ce},t.prototype.readUIntLE=function(U,L,ee){U>>>=0,L>>>=0,ee||v(U,L,this.length);for(var ce=this[U],ve=1,he=0;++he<L&&(ve*=256);)ce+=this[U+he]*ve;return ce},t.prototype.readUIntBE=function(U,L,ee){U>>>=0,L>>>=0,ee||v(U,L,this.length);for(var ce=this[U+--L],ve=1;L>0&&(ve*=256);)ce+=this[U+--L]*ve;return ce},t.prototype.readUInt8=function(U,L){return U>>>=0,L||v(U,1,this.length),this[U]},t.prototype.readUInt16LE=function(U,L){return U>>>=0,L||v(U,2,this.length),this[U]|this[U+1]<<8},t.prototype.readUInt16BE=function(U,L){return U>>>=0,L||v(U,2,this.length),this[U]<<8|this[U+1]},t.prototype.readUInt32LE=function(U,L){return U>>>=0,L||v(U,4,this.length),(this[U]|this[U+1]<<8|this[U+2]<<16)+16777216*this[U+3]},t.prototype.readUInt32BE=function(U,L){return U>>>=0,L||v(U,4,this.length),16777216*this[U]+(this[U+1]<<16|this[U+2]<<8|this[U+3])},t.prototype.readIntLE=function(U,L,ee){U>>>=0,L>>>=0,ee||v(U,L,this.length);for(var ce=this[U],ve=1,he=0;++he<L&&(ve*=256);)ce+=this[U+he]*ve;return ce>=(ve*=128)&&(ce-=Math.pow(2,8*L)),ce},t.prototype.readIntBE=function(U,L,ee){U>>>=0,L>>>=0,ee||v(U,L,this.length);for(var ce=L,ve=1,he=this[U+--ce];ce>0&&(ve*=256);)he+=this[U+--ce]*ve;return he>=(ve*=128)&&(he-=Math.pow(2,8*L)),he},t.prototype.readInt8=function(U,L){return U>>>=0,L||v(U,1,this.length),128&this[U]?-1*(255-this[U]+1):this[U]},t.prototype.readInt16LE=function(U,L){U>>>=0,L||v(U,2,this.length);var ee=this[U]|this[U+1]<<8;return 32768&ee?4294901760|ee:ee},t.prototype.readInt16BE=function(U,L){U>>>=0,L||v(U,2,this.length);var ee=this[U+1]|this[U]<<8;return 32768&ee?4294901760|ee:ee},t.prototype.readInt32LE=function(U,L){return U>>>=0,L||v(U,4,this.length),this[U]|this[U+1]<<8|this[U+2]<<16|this[U+3]<<24},t.prototype.readInt32BE=function(U,L){return U>>>=0,L||v(U,4,this.length),this[U]<<24|this[U+1]<<16|this[U+2]<<8|this[U+3]},t.prototype.readFloatLE=function(U,L){return U>>>=0,L||v(U,4,this.length),f.read(this,U,!0,23,4)},t.prototype.readFloatBE=function(U,L){return U>>>=0,L||v(U,4,this.length),f.read(this,U,!1,23,4)},t.prototype.readDoubleLE=function(U,L){return U>>>=0,L||v(U,8,this.length),f.read(this,U,!0,52,8)},t.prototype.readDoubleBE=function(U,L){return U>>>=0,L||v(U,8,this.length),f.read(this,U,!1,52,8)},t.prototype.writeUIntLE=function(U,L,ee,ce){U=+U,L>>>=0,ee>>>=0,ce||_(this,U,L,ee,Math.pow(2,8*ee)-1,0);var ve=1,he=0;for(this[L]=255&U;++he<ee&&(ve*=256);)this[L+he]=U/ve&255;return L+ee},t.prototype.writeUIntBE=function(U,L,ee,ce){U=+U,L>>>=0,ee>>>=0,ce||_(this,U,L,ee,Math.pow(2,8*ee)-1,0);var ve=ee-1,he=1;for(this[L+ve]=255&U;--ve>=0&&(he*=256);)this[L+ve]=U/he&255;return L+ee},t.prototype.writeUInt8=function(U,L,ee){return U=+U,L>>>=0,ee||_(this,U,L,1,255,0),this[L]=255&U,L+1},t.prototype.writeUInt16LE=function(U,L,ee){return U=+U,L>>>=0,ee||_(this,U,L,2,65535,0),this[L]=255&U,this[L+1]=U>>>8,L+2},t.prototype.writeUInt16BE=function(U,L,ee){return U=+U,L>>>=0,ee||_(this,U,L,2,65535,0),this[L]=U>>>8,this[L+1]=255&U,L+2},t.prototype.writeUInt32LE=function(U,L,ee){return U=+U,L>>>=0,ee||_(this,U,L,4,4294967295,0),this[L+3]=U>>>24,this[L+2]=U>>>16,this[L+1]=U>>>8,this[L]=255&U,L+4},t.prototype.writeUInt32BE=function(U,L,ee){return U=+U,L>>>=0,ee||_(this,U,L,4,4294967295,0),this[L]=U>>>24,this[L+1]=U>>>16,this[L+2]=U>>>8,this[L+3]=255&U,L+4},t.prototype.writeIntLE=function(U,L,ee,ce){if(U=+U,L>>>=0,!ce){var ve=Math.pow(2,8*ee-1);_(this,U,L,ee,ve-1,-ve)}var he=0,xe=1,_e=0;for(this[L]=255&U;++he<ee&&(xe*=256);)U<0&&_e===0&&this[L+he-1]!==0&&(_e=1),this[L+he]=(U/xe>>0)-_e&255;return L+ee},t.prototype.writeIntBE=function(U,L,ee,ce){if(U=+U,L>>>=0,!ce){var ve=Math.pow(2,8*ee-1);_(this,U,L,ee,ve-1,-ve)}var he=ee-1,xe=1,_e=0;for(this[L+he]=255&U;--he>=0&&(xe*=256);)U<0&&_e===0&&this[L+he+1]!==0&&(_e=1),this[L+he]=(U/xe>>0)-_e&255;return L+ee},t.prototype.writeInt8=function(U,L,ee){return U=+U,L>>>=0,ee||_(this,U,L,1,127,-128),U<0&&(U=255+U+1),this[L]=255&U,L+1},t.prototype.writeInt16LE=function(U,L,ee){return U=+U,L>>>=0,ee||_(this,U,L,2,32767,-32768),this[L]=255&U,this[L+1]=U>>>8,L+2},t.prototype.writeInt16BE=function(U,L,ee){return U=+U,L>>>=0,ee||_(this,U,L,2,32767,-32768),this[L]=U>>>8,this[L+1]=255&U,L+2},t.prototype.writeInt32LE=function(U,L,ee){return U=+U,L>>>=0,ee||_(this,U,L,4,2147483647,-2147483648),this[L]=255&U,this[L+1]=U>>>8,this[L+2]=U>>>16,this[L+3]=U>>>24,L+4},t.prototype.writeInt32BE=function(U,L,ee){return U=+U,L>>>=0,ee||_(this,U,L,4,2147483647,-2147483648),U<0&&(U=4294967295+U+1),this[L]=U>>>24,this[L+1]=U>>>16,this[L+2]=U>>>8,this[L+3]=255&U,L+4},t.prototype.writeFloatLE=function(U,L,ee){return C(this,U,L,!0,ee)},t.prototype.writeFloatBE=function(U,L,ee){return C(this,U,L,!1,ee)},t.prototype.writeDoubleLE=function(U,L,ee){return O(this,U,L,!0,ee)},t.prototype.writeDoubleBE=function(U,L,ee){return O(this,U,L,!1,ee)},t.prototype.copy=function(U,L,ee,ce){if(!t.isBuffer(U))throw new TypeError("argument should be a Buffer");if(ee||(ee=0),ce||ce===0||(ce=this.length),L>=U.length&&(L=U.length),L||(L=0),ce>0&&ce<ee&&(ce=ee),ce===ee||U.length===0||this.length===0)return 0;if(L<0)throw new RangeError("targetStart out of bounds");if(ee<0||ee>=this.length)throw new RangeError("Index out of range");if(ce<0)throw new RangeError("sourceEnd out of bounds");ce>this.length&&(ce=this.length),U.length-L<ce-ee&&(ce=U.length-L+ee);var ve=ce-ee;if(this===U&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(L,ee,ce);else if(this===U&&ee<L&&L<ce)for(var he=ve-1;he>=0;--he)U[he+L]=this[he+ee];else Uint8Array.prototype.set.call(U,this.subarray(ee,ce),L);return ve},t.prototype.fill=function(U,L,ee,ce){if(typeof U=="string"){if(typeof L=="string"?(ce=L,L=0,ee=this.length):typeof ee=="string"&&(ce=ee,ee=this.length),ce!==void 0&&typeof ce!="string")throw new TypeError("encoding must be a string");if(typeof ce=="string"&&!t.isEncoding(ce))throw new TypeError("Unknown encoding: "+ce);if(U.length===1){var ve=U.charCodeAt(0);(ce==="utf8"&&ve<128||ce==="latin1")&&(U=ve)}}else typeof U=="number"&&(U&=255);if(L<0||this.length<L||this.length<ee)throw new RangeError("Out of range index");if(ee<=L)return this;var he;if(L>>>=0,ee=ee===void 0?this.length:ee>>>0,U||(U=0),typeof U=="number")for(he=L;he<ee;++he)this[he]=U;else{var xe=t.isBuffer(U)?U:t.from(U,ce),_e=xe.length;if(_e===0)throw new TypeError('The value "'+U+'" is invalid for argument "value"');for(he=0;he<ee-L;++he)this[he+L]=xe[he%_e]}return this};var B=/[^+/0-9A-Za-z-_]/g;function z(U){return U<16?"0"+U.toString(16):U.toString(16)}function re(U,L){var ee;L=L||1/0;for(var ce=U.length,ve=null,he=[],xe=0;xe<ce;++xe){if((ee=U.charCodeAt(xe))>55295&&ee<57344){if(!ve){if(ee>56319){(L-=3)>-1&&he.push(239,191,189);continue}if(xe+1===ce){(L-=3)>-1&&he.push(239,191,189);continue}ve=ee;continue}if(ee<56320){(L-=3)>-1&&he.push(239,191,189),ve=ee;continue}ee=65536+(ve-55296<<10|ee-56320)}else ve&&(L-=3)>-1&&he.push(239,191,189);if(ve=null,ee<128){if((L-=1)<0)break;he.push(ee)}else if(ee<2048){if((L-=2)<0)break;he.push(ee>>6|192,63&ee|128)}else if(ee<65536){if((L-=3)<0)break;he.push(ee>>12|224,ee>>6&63|128,63&ee|128)}else{if(!(ee<1114112))throw new Error("Invalid code point");if((L-=4)<0)break;he.push(ee>>18|240,ee>>12&63|128,ee>>6&63|128,63&ee|128)}}return he}function ne(U){return u.toByteArray(function(L){if((L=(L=L.split("=")[0]).trim().replace(B,"")).length<2)return"";for(;L.length%4!=0;)L+="=";return L}(U))}function de(U,L,ee,ce){for(var ve=0;ve<ce&&!(ve+ee>=L.length||ve>=U.length);++ve)L[ve+ee]=U[ve];return ve}function H(U,L){return U instanceof L||U!=null&&U.constructor!=null&&U.constructor.name!=null&&U.constructor.name===L.name}function ae(U){return U!=U}}).call(this)}).call(this,r("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(r,I,k){var p=r("safe-buffer").Buffer,u=r("stream").Transform,f=r("string_decoder").StringDecoder;function i(t){u.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r("inherits")(i,u),i.prototype.update=function(t,n,c){typeof t=="string"&&(t=p.from(t,n));var a=this._update(t);return this.hashMode?this:(c&&(a=this._toString(a,c)),a)},i.prototype.setAutoPadding=function(){},i.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},i.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},i.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},i.prototype._transform=function(t,n,c){var a;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(l){a=l}finally{c(a)}},i.prototype._flush=function(t){var n;try{this.push(this.__final())}catch(c){n=c}t(n)},i.prototype._finalOrDigest=function(t){var n=this.__final()||p.alloc(0);return t&&(n=this._toString(n,t,!0)),n},i.prototype._toString=function(t,n,c){if(this._decoder||(this._decoder=new f(n),this._encoding=n),this._encoding!==n)throw new Error("can't switch encodings");var a=this._decoder.write(t);return c&&(a+=this._decoder.end()),a},I.exports=i},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(r,I,k){var p=r("../internals/is-callable"),u=r("../internals/try-to-string"),f=TypeError;I.exports=function(i){if(p(i))return i;throw new f(u(i)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(r,I,k){var p=r("../internals/is-constructor"),u=r("../internals/try-to-string"),f=TypeError;I.exports=function(i){if(p(i))return i;throw new f(u(i)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(r,I,k){var p=r("../internals/is-callable"),u=String,f=TypeError;I.exports=function(i){if(typeof i=="object"||p(i))return i;throw new f("Can't set "+u(i)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(r,I,k){var p=r("../internals/well-known-symbol"),u=r("../internals/object-create"),f=r("../internals/object-define-property").f,i=p("unscopables"),t=Array.prototype;t[i]===void 0&&f(t,i,{configurable:!0,value:u(null)}),I.exports=function(n){t[i][n]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(r,I,k){var p=r("../internals/object-is-prototype-of"),u=TypeError;I.exports=function(f,i){if(p(i,f))return f;throw new u("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(r,I,k){var p=r("../internals/is-object"),u=String,f=TypeError;I.exports=function(i){if(p(i))return i;throw new f(u(i)+" is not an object")}},{"../internals/is-object":289}],228:[function(r,I,k){var p=r("../internals/to-indexed-object"),u=r("../internals/to-absolute-index"),f=r("../internals/length-of-array-like"),i=function(t){return function(n,c,a){var l,g=p(n),b=f(g),d=u(a,b);if(t&&c!=c){for(;b>d;)if((l=g[d++])!=l)return!0}else for(;b>d;d++)if((t||d in g)&&g[d]===c)return t||d||0;return!t&&-1}};I.exports={includes:i(!0),indexOf:i(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(r,I,k){var p=r("../internals/function-bind-context"),u=r("../internals/function-uncurry-this"),f=r("../internals/indexed-object"),i=r("../internals/to-object"),t=r("../internals/length-of-array-like"),n=r("../internals/array-species-create"),c=u([].push),a=function(l){var g=l===1,b=l===2,d=l===3,w=l===4,y=l===6,T=l===7,M=l===5||y;return function(j,X,Y,W){for(var q,K,ie=i(j),$=f(ie),D=p(X,Y),F=t($),A=0,v=W||n,_=g?v(j,F):b||T?v(j,0):void 0;F>A;A++)if((M||A in $)&&(K=D(q=$[A],A,ie),l))if(g)_[A]=K;else if(K)switch(l){case 3:return!0;case 5:return q;case 6:return A;case 2:c(_,q)}else switch(l){case 4:return!1;case 7:c(_,q)}return y?-1:d||w?w:_}};I.exports={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(r,I,k){var p=r("../internals/to-absolute-index"),u=r("../internals/length-of-array-like"),f=r("../internals/create-property"),i=Array,t=Math.max;I.exports=function(n,c,a){for(var l=u(n),g=p(c,l),b=p(a===void 0?l:a,l),d=i(t(b-g,0)),w=0;g<b;g++,w++)f(d,w,n[g]);return d.length=w,d}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(r,I,k){var p=r("../internals/function-uncurry-this");I.exports=p([].slice)},{"../internals/function-uncurry-this":268}],232:[function(r,I,k){var p=r("../internals/is-array"),u=r("../internals/is-constructor"),f=r("../internals/is-object"),i=r("../internals/well-known-symbol")("species"),t=Array;I.exports=function(n){var c;return p(n)&&(c=n.constructor,(u(c)&&(c===t||p(c.prototype))||f(c)&&(c=c[i])===null)&&(c=void 0)),c===void 0?t:c}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(r,I,k){var p=r("../internals/array-species-constructor");I.exports=function(u,f){return new(p(u))(f===0?0:f)}},{"../internals/array-species-constructor":232}],234:[function(r,I,k){var p=r("../internals/well-known-symbol")("iterator"),u=!1;try{var f=0,i={next:function(){return{done:!!f++}},return:function(){u=!0}};i[p]=function(){return this},Array.from(i,function(){throw 2})}catch{}I.exports=function(t,n){try{if(!n&&!u)return!1}catch{return!1}var c=!1;try{var a={};a[p]=function(){return{next:function(){return{done:c=!0}}}},t(a)}catch{}return c}},{"../internals/well-known-symbol":357}],235:[function(r,I,k){var p=r("../internals/function-uncurry-this"),u=p({}.toString),f=p("".slice);I.exports=function(i){return f(u(i),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(r,I,k){var p=r("../internals/to-string-tag-support"),u=r("../internals/is-callable"),f=r("../internals/classof-raw"),i=r("../internals/well-known-symbol")("toStringTag"),t=Object,n=f(function(){return arguments}())==="Arguments";I.exports=p?f:function(c){var a,l,g;return c===void 0?"Undefined":c===null?"Null":typeof(l=function(b,d){try{return b[d]}catch{}}(a=t(c),i))=="string"?l:n?f(a):(g=f(a))==="Object"&&u(a.callee)?"Arguments":g}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(r,I,k){var p=r("../internals/has-own-property"),u=r("../internals/own-keys"),f=r("../internals/object-get-own-property-descriptor"),i=r("../internals/object-define-property");I.exports=function(t,n,c){for(var a=u(n),l=i.f,g=f.f,b=0;b<a.length;b++){var d=a[b];p(t,d)||c&&p(c,d)||l(t,d,g(n,d))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(r,I,k){var p=r("../internals/well-known-symbol")("match");I.exports=function(u){var f=/./;try{"/./"[u](f)}catch{try{return f[p]=!1,"/./"[u](f)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(r,I,k){var p=r("../internals/fails");I.exports=!p(function(){function u(){}return u.prototype.constructor=null,Object.getPrototypeOf(new u)!==u.prototype})},{"../internals/fails":260}],240:[function(r,I,k){I.exports=function(p,u){return{value:p,done:u}}},{}],241:[function(r,I,k){var p=r("../internals/descriptors"),u=r("../internals/object-define-property"),f=r("../internals/create-property-descriptor");I.exports=p?function(i,t,n){return u.f(i,t,f(1,n))}:function(i,t,n){return i[t]=n,i}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(r,I,k){I.exports=function(p,u){return{enumerable:!(1&p),configurable:!(2&p),writable:!(4&p),value:u}}},{}],243:[function(r,I,k){var p=r("../internals/to-property-key"),u=r("../internals/object-define-property"),f=r("../internals/create-property-descriptor");I.exports=function(i,t,n){var c=p(t);c in i?u.f(i,c,f(0,n)):i[c]=n}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(r,I,k){var p=r("../internals/make-built-in"),u=r("../internals/object-define-property");I.exports=function(f,i,t){return t.get&&p(t.get,i,{getter:!0}),t.set&&p(t.set,i,{setter:!0}),u.f(f,i,t)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(r,I,k){var p=r("../internals/is-callable"),u=r("../internals/object-define-property"),f=r("../internals/make-built-in"),i=r("../internals/define-global-property");I.exports=function(t,n,c,a){a||(a={});var l=a.enumerable,g=a.name!==void 0?a.name:n;if(p(c)&&f(c,g,a),a.global)l?t[n]=c:i(n,c);else{try{a.unsafe?t[n]&&(l=!0):delete t[n]}catch{}l?t[n]=c:u.f(t,n,{value:c,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(r,I,k){var p=r("../internals/global"),u=Object.defineProperty;I.exports=function(f,i){try{u(p,f,{value:i,configurable:!0,writable:!0})}catch{p[f]=i}return i}},{"../internals/global":274}],247:[function(r,I,k){var p=r("../internals/fails");I.exports=!p(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(r,I,k){var p=typeof document=="object"&&document.all,u=p===void 0&&p!==void 0;I.exports={all:p,IS_HTMLDDA:u}},{}],249:[function(r,I,k){var p=r("../internals/global"),u=r("../internals/is-object"),f=p.document,i=u(f)&&u(f.createElement);I.exports=function(t){return i?f.createElement(t):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(r,I,k){var p=r("../internals/engine-is-deno"),u=r("../internals/engine-is-node");I.exports=!p&&!u&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(r,I,k){I.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(r,I,k){var p=r("../internals/engine-user-agent");I.exports=/ipad|iphone|ipod/i.test(p)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(r,I,k){var p=r("../internals/engine-user-agent");I.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(p)},{"../internals/engine-user-agent":256}],254:[function(r,I,k){var p=r("../internals/global"),u=r("../internals/classof-raw");I.exports=u(p.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(r,I,k){var p=r("../internals/engine-user-agent");I.exports=/web0s(?!.*chrome)/i.test(p)},{"../internals/engine-user-agent":256}],256:[function(r,I,k){I.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(r,I,k){var p,u,f=r("../internals/global"),i=r("../internals/engine-user-agent"),t=f.process,n=f.Deno,c=t&&t.versions||n&&n.version,a=c&&c.v8;a&&(u=(p=a.split("."))[0]>0&&p[0]<4?1:+(p[0]+p[1])),!u&&i&&(!(p=i.match(/Edge\/(\d+)/))||p[1]>=74)&&(p=i.match(/Chrome\/(\d+)/))&&(u=+p[1]),I.exports=u},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(r,I,k){I.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(r,I,k){var p=r("../internals/global"),u=r("../internals/object-get-own-property-descriptor").f,f=r("../internals/create-non-enumerable-property"),i=r("../internals/define-built-in"),t=r("../internals/define-global-property"),n=r("../internals/copy-constructor-properties"),c=r("../internals/is-forced");I.exports=function(a,l){var g,b,d,w,y,T=a.target,M=a.global,j=a.stat;if(g=M?p:j?p[T]||t(T,{}):(p[T]||{}).prototype)for(b in l){if(w=l[b],d=a.dontCallGetSet?(y=u(g,b))&&y.value:g[b],!c(M?b:T+(j?".":"#")+b,a.forced)&&d!==void 0){if(typeof w==typeof d)continue;n(w,d)}(a.sham||d&&d.sham)&&f(w,"sham",!0),i(g,b,w,a)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(r,I,k){I.exports=function(p){try{return!!p()}catch{return!0}}},{}],261:[function(r,I,k){var p=r("../internals/function-bind-native"),u=Function.prototype,f=u.apply,i=u.call;I.exports=typeof Reflect=="object"&&Reflect.apply||(p?i.bind(f):function(){return i.apply(f,arguments)})},{"../internals/function-bind-native":263}],262:[function(r,I,k){var p=r("../internals/function-uncurry-this-clause"),u=r("../internals/a-callable"),f=r("../internals/function-bind-native"),i=p(p.bind);I.exports=function(t,n){return u(t),n===void 0?t:f?i(t,n):function(){return t.apply(n,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(r,I,k){var p=r("../internals/fails");I.exports=!p(function(){var u=(function(){}).bind();return typeof u!="function"||u.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(r,I,k){var p=r("../internals/function-bind-native"),u=Function.prototype.call;I.exports=p?u.bind(u):function(){return u.apply(u,arguments)}},{"../internals/function-bind-native":263}],265:[function(r,I,k){var p=r("../internals/descriptors"),u=r("../internals/has-own-property"),f=Function.prototype,i=p&&Object.getOwnPropertyDescriptor,t=u(f,"name"),n=t&&(function(){}).name==="something",c=t&&(!p||p&&i(f,"name").configurable);I.exports={EXISTS:t,PROPER:n,CONFIGURABLE:c}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(r,I,k){var p=r("../internals/function-uncurry-this"),u=r("../internals/a-callable");I.exports=function(f,i,t){try{return p(u(Object.getOwnPropertyDescriptor(f,i)[t]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(r,I,k){var p=r("../internals/classof-raw"),u=r("../internals/function-uncurry-this");I.exports=function(f){if(p(f)==="Function")return u(f)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(r,I,k){var p=r("../internals/function-bind-native"),u=Function.prototype,f=u.call,i=p&&u.bind.bind(f,f);I.exports=p?i:function(t){return function(){return f.apply(t,arguments)}}},{"../internals/function-bind-native":263}],269:[function(r,I,k){var p=r("../internals/global"),u=r("../internals/is-callable"),f=function(i){return u(i)?i:void 0};I.exports=function(i,t){return arguments.length<2?f(p[i]):p[i]&&p[i][t]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(r,I,k){var p=r("../internals/classof"),u=r("../internals/get-method"),f=r("../internals/is-null-or-undefined"),i=r("../internals/iterators"),t=r("../internals/well-known-symbol")("iterator");I.exports=function(n){if(!f(n))return u(n,t)||u(n,"@@iterator")||i[p(n)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(r,I,k){var p=r("../internals/function-call"),u=r("../internals/a-callable"),f=r("../internals/an-object"),i=r("../internals/try-to-string"),t=r("../internals/get-iterator-method"),n=TypeError;I.exports=function(c,a){var l=arguments.length<2?t(c):a;if(u(l))return f(p(l,c));throw new n(i(c)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(r,I,k){var p=r("../internals/function-uncurry-this"),u=r("../internals/is-array"),f=r("../internals/is-callable"),i=r("../internals/classof-raw"),t=r("../internals/to-string"),n=p([].push);I.exports=function(c){if(f(c))return c;if(u(c)){for(var a=c.length,l=[],g=0;g<a;g++){var b=c[g];typeof b=="string"?n(l,b):typeof b!="number"&&i(b)!=="Number"&&i(b)!=="String"||n(l,t(b))}var d=l.length,w=!0;return function(y,T){if(w)return w=!1,T;if(u(this))return T;for(var M=0;M<d;M++)if(l[M]===y)return T}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(r,I,k){var p=r("../internals/a-callable"),u=r("../internals/is-null-or-undefined");I.exports=function(f,i){var t=f[i];return u(t)?void 0:p(t)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(r,I,k){(function(p){(function(){var u=function(f){return f&&f.Math===Math&&f};I.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof p=="object"&&p)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof yr<"u"?yr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(r,I,k){var p=r("../internals/function-uncurry-this"),u=r("../internals/to-object"),f=p({}.hasOwnProperty);I.exports=Object.hasOwn||function(i,t){return f(u(i),t)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(r,I,k){I.exports={}},{}],277:[function(r,I,k){I.exports=function(p,u){try{arguments.length===1?console.error(p):console.error(p,u)}catch{}}},{}],278:[function(r,I,k){var p=r("../internals/get-built-in");I.exports=p("document","documentElement")},{"../internals/get-built-in":269}],279:[function(r,I,k){var p=r("../internals/descriptors"),u=r("../internals/fails"),f=r("../internals/document-create-element");I.exports=!p&&!u(function(){return Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(r,I,k){var p=r("../internals/function-uncurry-this"),u=r("../internals/fails"),f=r("../internals/classof-raw"),i=Object,t=p("".split);I.exports=u(function(){return!i("z").propertyIsEnumerable(0)})?function(n){return f(n)==="String"?t(n,""):i(n)}:i},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(r,I,k){var p=r("../internals/function-uncurry-this"),u=r("../internals/is-callable"),f=r("../internals/shared-store"),i=p(Function.toString);u(f.inspectSource)||(f.inspectSource=function(t){return i(t)}),I.exports=f.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(r,I,k){var p,u,f,i=r("../internals/weak-map-basic-detection"),t=r("../internals/global"),n=r("../internals/is-object"),c=r("../internals/create-non-enumerable-property"),a=r("../internals/has-own-property"),l=r("../internals/shared-store"),g=r("../internals/shared-key"),b=r("../internals/hidden-keys"),d=t.TypeError,w=t.WeakMap;if(i||l.state){var y=l.state||(l.state=new w);y.get=y.get,y.has=y.has,y.set=y.set,p=function(M,j){if(y.has(M))throw new d("Object already initialized");return j.facade=M,y.set(M,j),j},u=function(M){return y.get(M)||{}},f=function(M){return y.has(M)}}else{var T=g("state");b[T]=!0,p=function(M,j){if(a(M,T))throw new d("Object already initialized");return j.facade=M,c(M,T,j),j},u=function(M){return a(M,T)?M[T]:{}},f=function(M){return a(M,T)}}I.exports={set:p,get:u,has:f,enforce:function(M){return f(M)?u(M):p(M,{})},getterFor:function(M){return function(j){var X;if(!n(j)||(X=u(j)).type!==M)throw new d("Incompatible receiver, "+M+" required");return X}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(r,I,k){var p=r("../internals/well-known-symbol"),u=r("../internals/iterators"),f=p("iterator"),i=Array.prototype;I.exports=function(t){return t!==void 0&&(u.Array===t||i[f]===t)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(r,I,k){var p=r("../internals/classof-raw");I.exports=Array.isArray||function(u){return p(u)==="Array"}},{"../internals/classof-raw":235}],285:[function(r,I,k){var p=r("../internals/document-all"),u=p.all;I.exports=p.IS_HTMLDDA?function(f){return typeof f=="function"||f===u}:function(f){return typeof f=="function"}},{"../internals/document-all":248}],286:[function(r,I,k){var p=r("../internals/function-uncurry-this"),u=r("../internals/fails"),f=r("../internals/is-callable"),i=r("../internals/classof"),t=r("../internals/get-built-in"),n=r("../internals/inspect-source"),c=function(){},a=[],l=t("Reflect","construct"),g=/^\s*(?:class|function)\b/,b=p(g.exec),d=!g.test(c),w=function(T){if(!f(T))return!1;try{return l(c,a,T),!0}catch{return!1}},y=function(T){if(!f(T))return!1;switch(i(T)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!b(g,n(T))}catch{return!0}};y.sham=!0,I.exports=!l||u(function(){var T;return w(w.call)||!w(Object)||!w(function(){T=!0})||T})?y:w},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(r,I,k){var p=r("../internals/fails"),u=r("../internals/is-callable"),f=/#|\.prototype\./,i=function(l,g){var b=n[t(l)];return b===a||b!==c&&(u(g)?p(g):!!g)},t=i.normalize=function(l){return String(l).replace(f,".").toLowerCase()},n=i.data={},c=i.NATIVE="N",a=i.POLYFILL="P";I.exports=i},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(r,I,k){I.exports=function(p){return p==null}},{}],289:[function(r,I,k){var p=r("../internals/is-callable"),u=r("../internals/document-all"),f=u.all;I.exports=u.IS_HTMLDDA?function(i){return typeof i=="object"?i!==null:p(i)||i===f}:function(i){return typeof i=="object"?i!==null:p(i)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(r,I,k){I.exports=!1},{}],291:[function(r,I,k){var p=r("../internals/is-object"),u=r("../internals/classof-raw"),f=r("../internals/well-known-symbol")("match");I.exports=function(i){var t;return p(i)&&((t=i[f])!==void 0?!!t:u(i)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(r,I,k){var p=r("../internals/get-built-in"),u=r("../internals/is-callable"),f=r("../internals/object-is-prototype-of"),i=r("../internals/use-symbol-as-uid"),t=Object;I.exports=i?function(n){return typeof n=="symbol"}:function(n){var c=p("Symbol");return u(c)&&f(c.prototype,t(n))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(r,I,k){var p=r("../internals/function-bind-context"),u=r("../internals/function-call"),f=r("../internals/an-object"),i=r("../internals/try-to-string"),t=r("../internals/is-array-iterator-method"),n=r("../internals/length-of-array-like"),c=r("../internals/object-is-prototype-of"),a=r("../internals/get-iterator"),l=r("../internals/get-iterator-method"),g=r("../internals/iterator-close"),b=TypeError,d=function(y,T){this.stopped=y,this.result=T},w=d.prototype;I.exports=function(y,T,M){var j,X,Y,W,q,K,ie,$=M&&M.that,D=!(!M||!M.AS_ENTRIES),F=!(!M||!M.IS_RECORD),A=!(!M||!M.IS_ITERATOR),v=!(!M||!M.INTERRUPTED),_=p(T,$),S=function(O){return j&&g(j,"normal",O),new d(!0,O)},C=function(O){return D?(f(O),v?_(O[0],O[1],S):_(O[0],O[1])):v?_(O,S):_(O)};if(F)j=y.iterator;else if(A)j=y;else{if(!(X=l(y)))throw new b(i(y)+" is not iterable");if(t(X)){for(Y=0,W=n(y);W>Y;Y++)if((q=C(y[Y]))&&c(w,q))return q;return new d(!1)}j=a(y,X)}for(K=F?y.next:j.next;!(ie=u(K,j)).done;){try{q=C(ie.value)}catch(O){g(j,"throw",O)}if(typeof q=="object"&&q&&c(w,q))return q}return new d(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(r,I,k){var p=r("../internals/function-call"),u=r("../internals/an-object"),f=r("../internals/get-method");I.exports=function(i,t,n){var c,a;u(i);try{if(!(c=f(i,"return"))){if(t==="throw")throw n;return n}c=p(c,i)}catch(l){a=!0,c=l}if(t==="throw")throw n;if(a)throw c;return u(c),n}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(r,I,k){var p=r("../internals/iterators-core").IteratorPrototype,u=r("../internals/object-create"),f=r("../internals/create-property-descriptor"),i=r("../internals/set-to-string-tag"),t=r("../internals/iterators"),n=function(){return this};I.exports=function(c,a,l,g){var b=a+" Iterator";return c.prototype=u(p,{next:f(+!g,l)}),i(c,b,!1,!0),t[b]=n,c}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(r,I,k){var p=r("../internals/export"),u=r("../internals/function-call"),f=r("../internals/is-pure"),i=r("../internals/function-name"),t=r("../internals/is-callable"),n=r("../internals/iterator-create-constructor"),c=r("../internals/object-get-prototype-of"),a=r("../internals/object-set-prototype-of"),l=r("../internals/set-to-string-tag"),g=r("../internals/create-non-enumerable-property"),b=r("../internals/define-built-in"),d=r("../internals/well-known-symbol"),w=r("../internals/iterators"),y=r("../internals/iterators-core"),T=i.PROPER,M=i.CONFIGURABLE,j=y.IteratorPrototype,X=y.BUGGY_SAFARI_ITERATORS,Y=d("iterator"),W=function(){return this};I.exports=function(q,K,ie,$,D,F,A){n(ie,K,$);var v,_,S,C=function(H){if(H===D&&ne)return ne;if(!X&&H&&H in z)return z[H];switch(H){case"keys":case"values":case"entries":return function(){return new ie(this,H)}}return function(){return new ie(this)}},O=K+" Iterator",B=!1,z=q.prototype,re=z[Y]||z["@@iterator"]||D&&z[D],ne=!X&&re||C(D),de=K==="Array"&&z.entries||re;if(de&&(v=c(de.call(new q)))!==Object.prototype&&v.next&&(f||c(v)===j||(a?a(v,j):t(v[Y])||b(v,Y,W)),l(v,O,!0,!0),f&&(w[O]=W)),T&&D==="values"&&re&&re.name!=="values"&&(!f&&M?g(z,"name","values"):(B=!0,ne=function(){return u(re,this)})),D)if(_={values:C("values"),keys:F?ne:C("keys"),entries:C("entries")},A)for(S in _)(X||B||!(S in z))&&b(z,S,_[S]);else p({target:K,proto:!0,forced:X||B},_);return f&&!A||z[Y]===ne||b(z,Y,ne,{name:D}),w[K]=ne,_}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(r,I,k){var p,u,f,i=r("../internals/fails"),t=r("../internals/is-callable"),n=r("../internals/is-object"),c=r("../internals/object-create"),a=r("../internals/object-get-prototype-of"),l=r("../internals/define-built-in"),g=r("../internals/well-known-symbol"),b=r("../internals/is-pure"),d=g("iterator"),w=!1;[].keys&&("next"in(f=[].keys())?(u=a(a(f)))!==Object.prototype&&(p=u):w=!0),!n(p)||i(function(){var y={};return p[d].call(y)!==y})?p={}:b&&(p=c(p)),t(p[d])||l(p,d,function(){return this}),I.exports={IteratorPrototype:p,BUGGY_SAFARI_ITERATORS:w}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(r,I,k){arguments[4][276][0].apply(k,arguments)},{dup:276}],299:[function(r,I,k){var p=r("../internals/to-length");I.exports=function(u){return p(u.length)}},{"../internals/to-length":343}],300:[function(r,I,k){var p=r("../internals/function-uncurry-this"),u=r("../internals/fails"),f=r("../internals/is-callable"),i=r("../internals/has-own-property"),t=r("../internals/descriptors"),n=r("../internals/function-name").CONFIGURABLE,c=r("../internals/inspect-source"),a=r("../internals/internal-state"),l=a.enforce,g=a.get,b=String,d=Object.defineProperty,w=p("".slice),y=p("".replace),T=p([].join),M=t&&!u(function(){return d(function(){},"length",{value:8}).length!==8}),j=String(String).split("String"),X=I.exports=function(Y,W,q){w(b(W),0,7)==="Symbol("&&(W="["+y(b(W),/^Symbol\(([^)]*)\)/,"$1")+"]"),q&&q.getter&&(W="get "+W),q&&q.setter&&(W="set "+W),(!i(Y,"name")||n&&Y.name!==W)&&(t?d(Y,"name",{value:W,configurable:!0}):Y.name=W),M&&q&&i(q,"arity")&&Y.length!==q.arity&&d(Y,"length",{value:q.arity});try{q&&i(q,"constructor")&&q.constructor?t&&d(Y,"prototype",{writable:!1}):Y.prototype&&(Y.prototype=void 0)}catch{}var K=l(Y);return i(K,"source")||(K.source=T(j,typeof W=="string"?W:"")),Y};Function.prototype.toString=X(function(){return f(this)&&g(this).source||c(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(r,I,k){var p=Math.ceil,u=Math.floor;I.exports=Math.trunc||function(f){var i=+f;return(i>0?u:p)(i)}},{}],302:[function(r,I,k){var p,u,f,i,t,n=r("../internals/global"),c=r("../internals/function-bind-context"),a=r("../internals/object-get-own-property-descriptor").f,l=r("../internals/task").set,g=r("../internals/queue"),b=r("../internals/engine-is-ios"),d=r("../internals/engine-is-ios-pebble"),w=r("../internals/engine-is-webos-webkit"),y=r("../internals/engine-is-node"),T=n.MutationObserver||n.WebKitMutationObserver,M=n.document,j=n.process,X=n.Promise,Y=a(n,"queueMicrotask"),W=Y&&Y.value;if(!W){var q=new g,K=function(){var ie,$;for(y&&(ie=j.domain)&&ie.exit();$=q.get();)try{$()}catch(D){throw q.head&&p(),D}ie&&ie.enter()};b||y||w||!T||!M?!d&&X&&X.resolve?((i=X.resolve(void 0)).constructor=X,t=c(i.then,i),p=function(){t(K)}):y?p=function(){j.nextTick(K)}:(l=c(l,n),p=function(){l(K)}):(u=!0,f=M.createTextNode(""),new T(K).observe(f,{characterData:!0}),p=function(){f.data=u=!u}),W=function(ie){q.head||p(),q.add(ie)}}I.exports=W},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(r,I,k){var p=r("../internals/a-callable"),u=TypeError,f=function(i){var t,n;this.promise=new i(function(c,a){if(t!==void 0||n!==void 0)throw new u("Bad Promise constructor");t=c,n=a}),this.resolve=p(t),this.reject=p(n)};I.exports.f=function(i){return new f(i)}},{"../internals/a-callable":222}],304:[function(r,I,k){var p=r("../internals/is-regexp"),u=TypeError;I.exports=function(f){if(p(f))throw new u("The method doesn't accept regular expressions");return f}},{"../internals/is-regexp":291}],305:[function(r,I,k){var p=r("../internals/descriptors"),u=r("../internals/function-uncurry-this"),f=r("../internals/function-call"),i=r("../internals/fails"),t=r("../internals/object-keys"),n=r("../internals/object-get-own-property-symbols"),c=r("../internals/object-property-is-enumerable"),a=r("../internals/to-object"),l=r("../internals/indexed-object"),g=Object.assign,b=Object.defineProperty,d=u([].concat);I.exports=!g||i(function(){if(p&&g({b:1},g(b({},"a",{enumerable:!0,get:function(){b(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var w={},y={},T=Symbol("assign detection");return w[T]=7,"abcdefghijklmnopqrst".split("").forEach(function(M){y[M]=M}),g({},w)[T]!==7||t(g({},y)).join("")!=="abcdefghijklmnopqrst"})?function(w,y){for(var T=a(w),M=arguments.length,j=1,X=n.f,Y=c.f;M>j;)for(var W,q=l(arguments[j++]),K=X?d(t(q),X(q)):t(q),ie=K.length,$=0;ie>$;)W=K[$++],p&&!f(Y,q,W)||(T[W]=q[W]);return T}:g},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(r,I,k){var p,u=r("../internals/an-object"),f=r("../internals/object-define-properties"),i=r("../internals/enum-bug-keys"),t=r("../internals/hidden-keys"),n=r("../internals/html"),c=r("../internals/document-create-element"),a=r("../internals/shared-key"),l=a("IE_PROTO"),g=function(){},b=function(y){return"<script>"+y+"<\/script>"},d=function(y){y.write(b("")),y.close();var T=y.parentWindow.Object;return y=null,T},w=function(){try{p=new ActiveXObject("htmlfile")}catch{}var y,T;w=typeof document<"u"?document.domain&&p?d(p):((T=c("iframe")).style.display="none",n.appendChild(T),T.src="javascript:",(y=T.contentWindow.document).open(),y.write(b("document.F=Object")),y.close(),y.F):d(p);for(var M=i.length;M--;)delete w.prototype[i[M]];return w()};t[l]=!0,I.exports=Object.create||function(y,T){var M;return y!==null?(g.prototype=u(y),M=new g,g.prototype=null,M[l]=y):M=w(),T===void 0?M:f.f(M,T)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(r,I,k){var p=r("../internals/descriptors"),u=r("../internals/v8-prototype-define-bug"),f=r("../internals/object-define-property"),i=r("../internals/an-object"),t=r("../internals/to-indexed-object"),n=r("../internals/object-keys");k.f=p&&!u?Object.defineProperties:function(c,a){i(c);for(var l,g=t(a),b=n(a),d=b.length,w=0;d>w;)f.f(c,l=b[w++],g[l]);return c}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(r,I,k){var p=r("../internals/descriptors"),u=r("../internals/ie8-dom-define"),f=r("../internals/v8-prototype-define-bug"),i=r("../internals/an-object"),t=r("../internals/to-property-key"),n=TypeError,c=Object.defineProperty,a=Object.getOwnPropertyDescriptor;k.f=p?f?function(l,g,b){if(i(l),g=t(g),i(b),typeof l=="function"&&g==="prototype"&&"value"in b&&"writable"in b&&!b.writable){var d=a(l,g);d&&d.writable&&(l[g]=b.value,b={configurable:"configurable"in b?b.configurable:d.configurable,enumerable:"enumerable"in b?b.enumerable:d.enumerable,writable:!1})}return c(l,g,b)}:c:function(l,g,b){if(i(l),g=t(g),i(b),u)try{return c(l,g,b)}catch{}if("get"in b||"set"in b)throw new n("Accessors not supported");return"value"in b&&(l[g]=b.value),l}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(r,I,k){var p=r("../internals/descriptors"),u=r("../internals/function-call"),f=r("../internals/object-property-is-enumerable"),i=r("../internals/create-property-descriptor"),t=r("../internals/to-indexed-object"),n=r("../internals/to-property-key"),c=r("../internals/has-own-property"),a=r("../internals/ie8-dom-define"),l=Object.getOwnPropertyDescriptor;k.f=p?l:function(g,b){if(g=t(g),b=n(b),a)try{return l(g,b)}catch{}if(c(g,b))return i(!u(f.f,g,b),g[b])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(r,I,k){var p=r("../internals/classof-raw"),u=r("../internals/to-indexed-object"),f=r("../internals/object-get-own-property-names").f,i=r("../internals/array-slice-simple"),t=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];I.exports.f=function(n){return t&&p(n)==="Window"?function(c){try{return f(c)}catch{return i(t)}}(n):f(u(n))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(r,I,k){var p=r("../internals/object-keys-internal"),u=r("../internals/enum-bug-keys").concat("length","prototype");k.f=Object.getOwnPropertyNames||function(f){return p(f,u)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(r,I,k){k.f=Object.getOwnPropertySymbols},{}],313:[function(r,I,k){var p=r("../internals/has-own-property"),u=r("../internals/is-callable"),f=r("../internals/to-object"),i=r("../internals/shared-key"),t=r("../internals/correct-prototype-getter"),n=i("IE_PROTO"),c=Object,a=c.prototype;I.exports=t?c.getPrototypeOf:function(l){var g=f(l);if(p(g,n))return g[n];var b=g.constructor;return u(b)&&g instanceof b?b.prototype:g instanceof c?a:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(r,I,k){var p=r("../internals/function-uncurry-this");I.exports=p({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(r,I,k){var p=r("../internals/function-uncurry-this"),u=r("../internals/has-own-property"),f=r("../internals/to-indexed-object"),i=r("../internals/array-includes").indexOf,t=r("../internals/hidden-keys"),n=p([].push);I.exports=function(c,a){var l,g=f(c),b=0,d=[];for(l in g)!u(t,l)&&u(g,l)&&n(d,l);for(;a.length>b;)u(g,l=a[b++])&&(~i(d,l)||n(d,l));return d}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(r,I,k){var p=r("../internals/object-keys-internal"),u=r("../internals/enum-bug-keys");I.exports=Object.keys||function(f){return p(f,u)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(r,I,k){var p={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,f=u&&!p.call({1:2},1);k.f=f?function(i){var t=u(this,i);return!!t&&t.enumerable}:p},{}],318:[function(r,I,k){var p=r("../internals/function-uncurry-this-accessor"),u=r("../internals/an-object"),f=r("../internals/a-possible-prototype");I.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var i,t=!1,n={};try{(i=p(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch{}return function(c,a){return u(c),f(a),t?i(c,a):c.__proto__=a,c}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(r,I,k){var p=r("../internals/descriptors"),u=r("../internals/fails"),f=r("../internals/function-uncurry-this"),i=r("../internals/object-get-prototype-of"),t=r("../internals/object-keys"),n=r("../internals/to-indexed-object"),c=f(r("../internals/object-property-is-enumerable").f),a=f([].push),l=p&&u(function(){var b=Object.create(null);return b[2]=2,!c(b,2)}),g=function(b){return function(d){for(var w,y=n(d),T=t(y),M=l&&i(y)===null,j=T.length,X=0,Y=[];j>X;)w=T[X++],p&&!(M?w in y:c(y,w))||a(Y,b?[w,y[w]]:y[w]);return Y}};I.exports={entries:g(!0),values:g(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(r,I,k){var p=r("../internals/function-call"),u=r("../internals/is-callable"),f=r("../internals/is-object"),i=TypeError;I.exports=function(t,n){var c,a;if(n==="string"&&u(c=t.toString)&&!f(a=p(c,t))||u(c=t.valueOf)&&!f(a=p(c,t))||n!=="string"&&u(c=t.toString)&&!f(a=p(c,t)))return a;throw new i("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(r,I,k){var p=r("../internals/get-built-in"),u=r("../internals/function-uncurry-this"),f=r("../internals/object-get-own-property-names"),i=r("../internals/object-get-own-property-symbols"),t=r("../internals/an-object"),n=u([].concat);I.exports=p("Reflect","ownKeys")||function(c){var a=f.f(t(c)),l=i.f;return l?n(a,l(c)):a}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(r,I,k){var p=r("../internals/global");I.exports=p},{"../internals/global":274}],323:[function(r,I,k){I.exports=function(p){try{return{error:!1,value:p()}}catch(u){return{error:!0,value:u}}}},{}],324:[function(r,I,k){var p=r("../internals/global"),u=r("../internals/promise-native-constructor"),f=r("../internals/is-callable"),i=r("../internals/is-forced"),t=r("../internals/inspect-source"),n=r("../internals/well-known-symbol"),c=r("../internals/engine-is-browser"),a=r("../internals/engine-is-deno"),l=r("../internals/is-pure"),g=r("../internals/engine-v8-version"),b=u&&u.prototype,d=n("species"),w=!1,y=f(p.PromiseRejectionEvent),T=i("Promise",function(){var M=t(u),j=M!==String(u);if(!j&&g===66||l&&(!b.catch||!b.finally))return!0;if(!g||g<51||!/native code/.test(M)){var X=new u(function(W){W(1)}),Y=function(W){W(function(){},function(){})};if((X.constructor={})[d]=Y,!(w=X.then(function(){})instanceof Y))return!0}return!j&&(c||a)&&!y});I.exports={CONSTRUCTOR:T,REJECTION_EVENT:y,SUBCLASSING:w}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(r,I,k){var p=r("../internals/global");I.exports=p.Promise},{"../internals/global":274}],326:[function(r,I,k){var p=r("../internals/an-object"),u=r("../internals/is-object"),f=r("../internals/new-promise-capability");I.exports=function(i,t){if(p(i),u(t)&&t.constructor===i)return t;var n=f.f(i);return(0,n.resolve)(t),n.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(r,I,k){var p=r("../internals/promise-native-constructor"),u=r("../internals/check-correctness-of-iteration"),f=r("../internals/promise-constructor-detection").CONSTRUCTOR;I.exports=f||!u(function(i){p.all(i).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(r,I,k){var p=function(){this.head=null,this.tail=null};p.prototype={add:function(u){var f={item:u,next:null},i=this.tail;i?i.next=f:this.head=f,this.tail=f},get:function(){var u=this.head;if(u)return(this.head=u.next)===null&&(this.tail=null),u.item}},I.exports=p},{}],329:[function(r,I,k){var p=r("../internals/is-null-or-undefined"),u=TypeError;I.exports=function(f){if(p(f))throw new u("Can't call method on "+f);return f}},{"../internals/is-null-or-undefined":288}],330:[function(r,I,k){var p=r("../internals/get-built-in"),u=r("../internals/define-built-in-accessor"),f=r("../internals/well-known-symbol"),i=r("../internals/descriptors"),t=f("species");I.exports=function(n){var c=p(n);i&&c&&!c[t]&&u(c,t,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(r,I,k){var p=r("../internals/object-define-property").f,u=r("../internals/has-own-property"),f=r("../internals/well-known-symbol")("toStringTag");I.exports=function(i,t,n){i&&!n&&(i=i.prototype),i&&!u(i,f)&&p(i,f,{configurable:!0,value:t})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(r,I,k){var p=r("../internals/shared"),u=r("../internals/uid"),f=p("keys");I.exports=function(i){return f[i]||(f[i]=u(i))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(r,I,k){var p=r("../internals/global"),u=r("../internals/define-global-property"),f=p["__core-js_shared__"]||u("__core-js_shared__",{});I.exports=f},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(r,I,k){var p=r("../internals/is-pure"),u=r("../internals/shared-store");(I.exports=function(f,i){return u[f]||(u[f]=i!==void 0?i:{})})("versions",[]).push({version:"3.33.0",mode:p?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(r,I,k){var p=r("../internals/an-object"),u=r("../internals/a-constructor"),f=r("../internals/is-null-or-undefined"),i=r("../internals/well-known-symbol")("species");I.exports=function(t,n){var c,a=p(t).constructor;return a===void 0||f(c=p(a)[i])?n:u(c)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(r,I,k){var p=r("../internals/engine-v8-version"),u=r("../internals/fails"),f=r("../internals/global").String;I.exports=!!Object.getOwnPropertySymbols&&!u(function(){var i=Symbol("symbol detection");return!f(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&p&&p<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(r,I,k){var p=r("../internals/function-call"),u=r("../internals/get-built-in"),f=r("../internals/well-known-symbol"),i=r("../internals/define-built-in");I.exports=function(){var t=u("Symbol"),n=t&&t.prototype,c=n&&n.valueOf,a=f("toPrimitive");n&&!n[a]&&i(n,a,function(l){return p(c,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(r,I,k){var p=r("../internals/symbol-constructor-detection");I.exports=p&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(r,I,k){var p,u,f,i,t=r("../internals/global"),n=r("../internals/function-apply"),c=r("../internals/function-bind-context"),a=r("../internals/is-callable"),l=r("../internals/has-own-property"),g=r("../internals/fails"),b=r("../internals/html"),d=r("../internals/array-slice"),w=r("../internals/document-create-element"),y=r("../internals/validate-arguments-length"),T=r("../internals/engine-is-ios"),M=r("../internals/engine-is-node"),j=t.setImmediate,X=t.clearImmediate,Y=t.process,W=t.Dispatch,q=t.Function,K=t.MessageChannel,ie=t.String,$=0,D={};g(function(){p=t.location});var F=function(S){if(l(D,S)){var C=D[S];delete D[S],C()}},A=function(S){return function(){F(S)}},v=function(S){F(S.data)},_=function(S){t.postMessage(ie(S),p.protocol+"//"+p.host)};j&&X||(j=function(S){y(arguments.length,1);var C=a(S)?S:q(S),O=d(arguments,1);return D[++$]=function(){n(C,void 0,O)},u($),$},X=function(S){delete D[S]},M?u=function(S){Y.nextTick(A(S))}:W&&W.now?u=function(S){W.now(A(S))}:K&&!T?(i=(f=new K).port2,f.port1.onmessage=v,u=c(i.postMessage,i)):t.addEventListener&&a(t.postMessage)&&!t.importScripts&&p&&p.protocol!=="file:"&&!g(_)?(u=_,t.addEventListener("message",v,!1)):u="onreadystatechange"in w("script")?function(S){b.appendChild(w("script")).onreadystatechange=function(){b.removeChild(this),F(S)}}:function(S){setTimeout(A(S),0)}),I.exports={set:j,clear:X}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(r,I,k){var p=r("../internals/to-integer-or-infinity"),u=Math.max,f=Math.min;I.exports=function(i,t){var n=p(i);return n<0?u(n+t,0):f(n,t)}},{"../internals/to-integer-or-infinity":342}],341:[function(r,I,k){var p=r("../internals/indexed-object"),u=r("../internals/require-object-coercible");I.exports=function(f){return p(u(f))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(r,I,k){var p=r("../internals/math-trunc");I.exports=function(u){var f=+u;return f!=f||f===0?0:p(f)}},{"../internals/math-trunc":301}],343:[function(r,I,k){var p=r("../internals/to-integer-or-infinity"),u=Math.min;I.exports=function(f){return f>0?u(p(f),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(r,I,k){var p=r("../internals/require-object-coercible"),u=Object;I.exports=function(f){return u(p(f))}},{"../internals/require-object-coercible":329}],345:[function(r,I,k){var p=r("../internals/function-call"),u=r("../internals/is-object"),f=r("../internals/is-symbol"),i=r("../internals/get-method"),t=r("../internals/ordinary-to-primitive"),n=r("../internals/well-known-symbol"),c=TypeError,a=n("toPrimitive");I.exports=function(l,g){if(!u(l)||f(l))return l;var b,d=i(l,a);if(d){if(g===void 0&&(g="default"),b=p(d,l,g),!u(b)||f(b))return b;throw new c("Can't convert object to primitive value")}return g===void 0&&(g="number"),t(l,g)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(r,I,k){var p=r("../internals/to-primitive"),u=r("../internals/is-symbol");I.exports=function(f){var i=p(f,"string");return u(i)?i:i+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(r,I,k){var p={};p[r("../internals/well-known-symbol")("toStringTag")]="z",I.exports=String(p)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(r,I,k){var p=r("../internals/classof"),u=String;I.exports=function(f){if(p(f)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return u(f)}},{"../internals/classof":236}],349:[function(r,I,k){var p=String;I.exports=function(u){try{return p(u)}catch{return"Object"}}},{}],350:[function(r,I,k){var p=r("../internals/function-uncurry-this"),u=0,f=Math.random(),i=p(1 .toString);I.exports=function(t){return"Symbol("+(t===void 0?"":t)+")_"+i(++u+f,36)}},{"../internals/function-uncurry-this":268}],351:[function(r,I,k){var p=r("../internals/symbol-constructor-detection");I.exports=p&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(r,I,k){var p=r("../internals/descriptors"),u=r("../internals/fails");I.exports=p&&u(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(r,I,k){var p=TypeError;I.exports=function(u,f){if(u<f)throw new p("Not enough arguments");return u}},{}],354:[function(r,I,k){var p=r("../internals/global"),u=r("../internals/is-callable"),f=p.WeakMap;I.exports=u(f)&&/native code/.test(String(f))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(r,I,k){var p=r("../internals/path"),u=r("../internals/has-own-property"),f=r("../internals/well-known-symbol-wrapped"),i=r("../internals/object-define-property").f;I.exports=function(t){var n=p.Symbol||(p.Symbol={});u(n,t)||i(n,t,{value:f.f(t)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(r,I,k){var p=r("../internals/well-known-symbol");k.f=p},{"../internals/well-known-symbol":357}],357:[function(r,I,k){var p=r("../internals/global"),u=r("../internals/shared"),f=r("../internals/has-own-property"),i=r("../internals/uid"),t=r("../internals/symbol-constructor-detection"),n=r("../internals/use-symbol-as-uid"),c=p.Symbol,a=u("wks"),l=n?c.for||c:c&&c.withoutSetter||i;I.exports=function(g){return f(a,g)||(a[g]=t&&f(c,g)?c[g]:l("Symbol."+g)),a[g]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(r,I,k){var p=r("../internals/export"),u=r("../internals/array-iteration").findIndex,f=r("../internals/add-to-unscopables"),i=!0;"findIndex"in[]&&Array(1).findIndex(function(){i=!1}),p({target:"Array",proto:!0,forced:i},{findIndex:function(t){return u(this,t,arguments.length>1?arguments[1]:void 0)}}),f("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(r,I,k){var p=r("../internals/export"),u=r("../internals/array-iteration").find,f=r("../internals/add-to-unscopables"),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),p({target:"Array",proto:!0,forced:i},{find:function(t){return u(this,t,arguments.length>1?arguments[1]:void 0)}}),f("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(r,I,k){var p=r("../internals/export"),u=r("../internals/array-includes").includes,f=r("../internals/fails"),i=r("../internals/add-to-unscopables");p({target:"Array",proto:!0,forced:f(function(){return!Array(1).includes()})},{includes:function(t){return u(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(r,I,k){var p=r("../internals/to-indexed-object"),u=r("../internals/add-to-unscopables"),f=r("../internals/iterators"),i=r("../internals/internal-state"),t=r("../internals/object-define-property").f,n=r("../internals/iterator-define"),c=r("../internals/create-iter-result-object"),a=r("../internals/is-pure"),l=r("../internals/descriptors"),g=i.set,b=i.getterFor("Array Iterator");I.exports=n(Array,"Array",function(w,y){g(this,{type:"Array Iterator",target:p(w),index:0,kind:y})},function(){var w=b(this),y=w.target,T=w.kind,M=w.index++;if(!y||M>=y.length)return w.target=void 0,c(void 0,!0);switch(T){case"keys":return c(M,!1);case"values":return c(y[M],!1)}return c([M,y[M]],!1)},"values");var d=f.Arguments=f.Array;if(u("keys"),u("values"),u("entries"),!a&&l&&d.name!=="values")try{t(d,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(r,I,k){var p=r("../internals/export"),u=r("../internals/get-built-in"),f=r("../internals/function-apply"),i=r("../internals/function-call"),t=r("../internals/function-uncurry-this"),n=r("../internals/fails"),c=r("../internals/is-callable"),a=r("../internals/is-symbol"),l=r("../internals/array-slice"),g=r("../internals/get-json-replacer-function"),b=r("../internals/symbol-constructor-detection"),d=String,w=u("JSON","stringify"),y=t(/./.exec),T=t("".charAt),M=t("".charCodeAt),j=t("".replace),X=t(1 .toString),Y=/[\uD800-\uDFFF]/g,W=/^[\uD800-\uDBFF]$/,q=/^[\uDC00-\uDFFF]$/,K=!b||n(function(){var F=u("Symbol")("stringify detection");return w([F])!=="[null]"||w({a:F})!=="{}"||w(Object(F))!=="{}"}),ie=n(function(){return w("\uDF06\uD834")!=='"\\udf06\\ud834"'||w("\uDEAD")!=='"\\udead"'}),$=function(F,A){var v=l(arguments),_=g(A);if(c(_)||F!==void 0&&!a(F))return v[1]=function(S,C){if(c(_)&&(C=i(_,this,d(S),C)),!a(C))return C},f(w,null,v)},D=function(F,A,v){var _=T(v,A-1),S=T(v,A+1);return y(W,F)&&!y(q,S)||y(q,F)&&!y(W,_)?"\\u"+X(M(F,0),16):F};w&&p({target:"JSON",stat:!0,arity:3,forced:K||ie},{stringify:function(F,A,v){var _=l(arguments),S=f(K?$:w,null,_);return ie&&typeof S=="string"?j(S,Y,D):S}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(r,I,k){r("../internals/export")({target:"Number",stat:!0},{isNaN:function(p){return p!=p}})},{"../internals/export":259}],364:[function(r,I,k){var p=r("../internals/export"),u=r("../internals/object-assign");p({target:"Object",stat:!0,arity:2,forced:Object.assign!==u},{assign:u})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(r,I,k){var p=r("../internals/export"),u=r("../internals/symbol-constructor-detection"),f=r("../internals/fails"),i=r("../internals/object-get-own-property-symbols"),t=r("../internals/to-object");p({target:"Object",stat:!0,forced:!u||f(function(){i.f(1)})},{getOwnPropertySymbols:function(n){var c=i.f;return c?c(t(n)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(r,I,k){var p=r("../internals/export"),u=r("../internals/to-object"),f=r("../internals/object-keys");p({target:"Object",stat:!0,forced:r("../internals/fails")(function(){f(1)})},{keys:function(i){return f(u(i))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(r,I,k){var p=r("../internals/export"),u=r("../internals/object-to-array").values;p({target:"Object",stat:!0},{values:function(f){return u(f)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(r,I,k){var p=r("../internals/export"),u=r("../internals/function-call"),f=r("../internals/a-callable"),i=r("../internals/new-promise-capability"),t=r("../internals/perform"),n=r("../internals/iterate");p({target:"Promise",stat:!0,forced:r("../internals/promise-statics-incorrect-iteration")},{all:function(c){var a=this,l=i.f(a),g=l.resolve,b=l.reject,d=t(function(){var w=f(a.resolve),y=[],T=0,M=1;n(c,function(j){var X=T++,Y=!1;M++,u(w,a,j).then(function(W){Y||(Y=!0,y[X]=W,--M||g(y))},b)}),--M||g(y)});return d.error&&b(d.value),l.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(r,I,k){var p=r("../internals/export"),u=r("../internals/is-pure"),f=r("../internals/promise-constructor-detection").CONSTRUCTOR,i=r("../internals/promise-native-constructor"),t=r("../internals/get-built-in"),n=r("../internals/is-callable"),c=r("../internals/define-built-in"),a=i&&i.prototype;if(p({target:"Promise",proto:!0,forced:f,real:!0},{catch:function(g){return this.then(void 0,g)}}),!u&&n(i)){var l=t("Promise").prototype.catch;a.catch!==l&&c(a,"catch",l,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(r,I,k){var p,u,f,i=r("../internals/export"),t=r("../internals/is-pure"),n=r("../internals/engine-is-node"),c=r("../internals/global"),a=r("../internals/function-call"),l=r("../internals/define-built-in"),g=r("../internals/object-set-prototype-of"),b=r("../internals/set-to-string-tag"),d=r("../internals/set-species"),w=r("../internals/a-callable"),y=r("../internals/is-callable"),T=r("../internals/is-object"),M=r("../internals/an-instance"),j=r("../internals/species-constructor"),X=r("../internals/task").set,Y=r("../internals/microtask"),W=r("../internals/host-report-errors"),q=r("../internals/perform"),K=r("../internals/queue"),ie=r("../internals/internal-state"),$=r("../internals/promise-native-constructor"),D=r("../internals/promise-constructor-detection"),F=r("../internals/new-promise-capability"),A=D.CONSTRUCTOR,v=D.REJECTION_EVENT,_=D.SUBCLASSING,S=ie.getterFor("Promise"),C=ie.set,O=$&&$.prototype,B=$,z=O,re=c.TypeError,ne=c.document,de=c.process,H=F.f,ae=H,U=!!(ne&&ne.createEvent&&c.dispatchEvent),L=function(Se){var Ue;return!(!T(Se)||!y(Ue=Se.then))&&Ue},ee=function(Se,Ue){var ke,We,$e,Ze=Ue.value,lt=Ue.state===1,xt=lt?Se.ok:Se.fail,Tt=Se.resolve,gt=Se.reject,Mt=Se.domain;try{xt?(lt||(Ue.rejection===2&&_e(Ue),Ue.rejection=1),xt===!0?ke=Ze:(Mt&&Mt.enter(),ke=xt(Ze),Mt&&(Mt.exit(),$e=!0)),ke===Se.promise?gt(new re("Promise-chain cycle")):(We=L(ke))?a(We,ke,Tt,gt):Tt(ke)):gt(Ze)}catch(Ft){Mt&&!$e&&Mt.exit(),gt(Ft)}},ce=function(Se,Ue){Se.notified||(Se.notified=!0,Y(function(){for(var ke,We=Se.reactions;ke=We.get();)ee(ke,Se);Se.notified=!1,Ue&&!Se.rejection&&he(Se)}))},ve=function(Se,Ue,ke){var We,$e;U?((We=ne.createEvent("Event")).promise=Ue,We.reason=ke,We.initEvent(Se,!1,!0),c.dispatchEvent(We)):We={promise:Ue,reason:ke},!v&&($e=c["on"+Se])?$e(We):Se==="unhandledrejection"&&W("Unhandled promise rejection",ke)},he=function(Se){a(X,c,function(){var Ue,ke=Se.facade,We=Se.value;if(xe(Se)&&(Ue=q(function(){n?de.emit("unhandledRejection",We,ke):ve("unhandledrejection",ke,We)}),Se.rejection=n||xe(Se)?2:1,Ue.error))throw Ue.value})},xe=function(Se){return Se.rejection!==1&&!Se.parent},_e=function(Se){a(X,c,function(){var Ue=Se.facade;n?de.emit("rejectionHandled",Ue):ve("rejectionhandled",Ue,Se.value)})},Re=function(Se,Ue,ke){return function(We){Se(Ue,We,ke)}},pe=function(Se,Ue,ke){Se.done||(Se.done=!0,ke&&(Se=ke),Se.value=Ue,Se.state=2,ce(Se,!0))},Ae=function(Se,Ue,ke){if(!Se.done){Se.done=!0,ke&&(Se=ke);try{if(Se.facade===Ue)throw new re("Promise can't be resolved itself");var We=L(Ue);We?Y(function(){var $e={done:!1};try{a(We,Ue,Re(Ae,$e,Se),Re(pe,$e,Se))}catch(Ze){pe($e,Ze,Se)}}):(Se.value=Ue,Se.state=1,ce(Se,!1))}catch($e){pe({done:!1},$e,Se)}}};if(A&&(z=(B=function(Se){M(this,z),w(Se),a(p,this);var Ue=S(this);try{Se(Re(Ae,Ue),Re(pe,Ue))}catch(ke){pe(Ue,ke)}}).prototype,(p=function(Se){C(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new K,rejection:!1,state:0,value:void 0})}).prototype=l(z,"then",function(Se,Ue){var ke=S(this),We=H(j(this,B));return ke.parent=!0,We.ok=!y(Se)||Se,We.fail=y(Ue)&&Ue,We.domain=n?de.domain:void 0,ke.state===0?ke.reactions.add(We):Y(function(){ee(We,ke)}),We.promise}),u=function(){var Se=new p,Ue=S(Se);this.promise=Se,this.resolve=Re(Ae,Ue),this.reject=Re(pe,Ue)},F.f=H=function(Se){return Se===B||Se===void 0?new u(Se):ae(Se)},!t&&y($)&&O!==Object.prototype)){f=O.then,_||l(O,"then",function(Se,Ue){var ke=this;return new B(function(We,$e){a(f,ke,We,$e)}).then(Se,Ue)},{unsafe:!0});try{delete O.constructor}catch{}g&&g(O,z)}i({global:!0,constructor:!0,wrap:!0,forced:A},{Promise:B}),b(B,"Promise",!1,!0),d("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(r,I,k){var p=r("../internals/export"),u=r("../internals/is-pure"),f=r("../internals/promise-native-constructor"),i=r("../internals/fails"),t=r("../internals/get-built-in"),n=r("../internals/is-callable"),c=r("../internals/species-constructor"),a=r("../internals/promise-resolve"),l=r("../internals/define-built-in"),g=f&&f.prototype;if(p({target:"Promise",proto:!0,real:!0,forced:!!f&&i(function(){g.finally.call({then:function(){}},function(){})})},{finally:function(d){var w=c(this,t("Promise")),y=n(d);return this.then(y?function(T){return a(w,d()).then(function(){return T})}:d,y?function(T){return a(w,d()).then(function(){throw T})}:d)}}),!u&&n(f)){var b=t("Promise").prototype.finally;g.finally!==b&&l(g,"finally",b,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(r,I,k){r("../modules/es.promise.constructor"),r("../modules/es.promise.all"),r("../modules/es.promise.catch"),r("../modules/es.promise.race"),r("../modules/es.promise.reject"),r("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(r,I,k){var p=r("../internals/export"),u=r("../internals/function-call"),f=r("../internals/a-callable"),i=r("../internals/new-promise-capability"),t=r("../internals/perform"),n=r("../internals/iterate");p({target:"Promise",stat:!0,forced:r("../internals/promise-statics-incorrect-iteration")},{race:function(c){var a=this,l=i.f(a),g=l.reject,b=t(function(){var d=f(a.resolve);n(c,function(w){u(d,a,w).then(l.resolve,g)})});return b.error&&g(b.value),l.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(r,I,k){var p=r("../internals/export"),u=r("../internals/function-call"),f=r("../internals/new-promise-capability");p({target:"Promise",stat:!0,forced:r("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(i){var t=f.f(this);return u(t.reject,void 0,i),t.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(r,I,k){var p=r("../internals/export"),u=r("../internals/get-built-in"),f=r("../internals/is-pure"),i=r("../internals/promise-native-constructor"),t=r("../internals/promise-constructor-detection").CONSTRUCTOR,n=r("../internals/promise-resolve"),c=u("Promise"),a=f&&!t;p({target:"Promise",stat:!0,forced:f||t},{resolve:function(l){return n(a&&this===c?i:this,l)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(r,I,k){var p=r("../internals/export"),u=r("../internals/function-uncurry-this"),f=r("../internals/to-absolute-index"),i=RangeError,t=String.fromCharCode,n=String.fromCodePoint,c=u([].join);p({target:"String",stat:!0,arity:1,forced:!!n&&n.length!==1},{fromCodePoint:function(a){for(var l,g=[],b=arguments.length,d=0;b>d;){if(l=+arguments[d++],f(l,1114111)!==l)throw new i(l+" is not a valid code point");g[d]=l<65536?t(l):t(55296+((l-=65536)>>10),l%1024+56320)}return c(g,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(r,I,k){var p=r("../internals/export"),u=r("../internals/function-uncurry-this"),f=r("../internals/not-a-regexp"),i=r("../internals/require-object-coercible"),t=r("../internals/to-string"),n=r("../internals/correct-is-regexp-logic"),c=u("".indexOf);p({target:"String",proto:!0,forced:!n("includes")},{includes:function(a){return!!~c(t(i(this)),t(f(a)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(r,I,k){r("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(r,I,k){var p=r("../internals/export"),u=r("../internals/global"),f=r("../internals/function-call"),i=r("../internals/function-uncurry-this"),t=r("../internals/is-pure"),n=r("../internals/descriptors"),c=r("../internals/symbol-constructor-detection"),a=r("../internals/fails"),l=r("../internals/has-own-property"),g=r("../internals/object-is-prototype-of"),b=r("../internals/an-object"),d=r("../internals/to-indexed-object"),w=r("../internals/to-property-key"),y=r("../internals/to-string"),T=r("../internals/create-property-descriptor"),M=r("../internals/object-create"),j=r("../internals/object-keys"),X=r("../internals/object-get-own-property-names"),Y=r("../internals/object-get-own-property-names-external"),W=r("../internals/object-get-own-property-symbols"),q=r("../internals/object-get-own-property-descriptor"),K=r("../internals/object-define-property"),ie=r("../internals/object-define-properties"),$=r("../internals/object-property-is-enumerable"),D=r("../internals/define-built-in"),F=r("../internals/define-built-in-accessor"),A=r("../internals/shared"),v=r("../internals/shared-key"),_=r("../internals/hidden-keys"),S=r("../internals/uid"),C=r("../internals/well-known-symbol"),O=r("../internals/well-known-symbol-wrapped"),B=r("../internals/well-known-symbol-define"),z=r("../internals/symbol-define-to-primitive"),re=r("../internals/set-to-string-tag"),ne=r("../internals/internal-state"),de=r("../internals/array-iteration").forEach,H=v("hidden"),ae=ne.set,U=ne.getterFor("Symbol"),L=Object.prototype,ee=u.Symbol,ce=ee&&ee.prototype,ve=u.RangeError,he=u.TypeError,xe=u.QObject,_e=q.f,Re=K.f,pe=Y.f,Ae=$.f,Se=i([].push),Ue=A("symbols"),ke=A("op-symbols"),We=A("wks"),$e=!xe||!xe.prototype||!xe.prototype.findChild,Ze=function(ft,Ge,bt){var Et=_e(L,Ge);Et&&delete L[Ge],Re(ft,Ge,bt),Et&&ft!==L&&Re(L,Ge,Et)},lt=n&&a(function(){return M(Re({},"a",{get:function(){return Re(this,"a",{value:7}).a}})).a!==7})?Ze:Re,xt=function(ft,Ge){var bt=Ue[ft]=M(ce);return ae(bt,{type:"Symbol",tag:ft,description:Ge}),n||(bt.description=Ge),bt},Tt=function(ft,Ge,bt){ft===L&&Tt(ke,Ge,bt),b(ft);var Et=w(Ge);return b(bt),l(Ue,Et)?(bt.enumerable?(l(ft,H)&&ft[H][Et]&&(ft[H][Et]=!1),bt=M(bt,{enumerable:T(0,!1)})):(l(ft,H)||Re(ft,H,T(1,{})),ft[H][Et]=!0),lt(ft,Et,bt)):Re(ft,Et,bt)},gt=function(ft,Ge){b(ft);var bt=d(Ge),Et=j(bt).concat(Gt(bt));return de(Et,function(yt){n&&!f(Mt,bt,yt)||Tt(ft,yt,bt[yt])}),ft},Mt=function(ft){var Ge=w(ft),bt=f(Ae,this,Ge);return!(this===L&&l(Ue,Ge)&&!l(ke,Ge))&&(!(bt||!l(this,Ge)||!l(Ue,Ge)||l(this,H)&&this[H][Ge])||bt)},Ft=function(ft,Ge){var bt=d(ft),Et=w(Ge);if(bt!==L||!l(Ue,Et)||l(ke,Et)){var yt=_e(bt,Et);return!yt||!l(Ue,Et)||l(bt,H)&&bt[H][Et]||(yt.enumerable=!0),yt}},Bt=function(ft){var Ge=pe(d(ft)),bt=[];return de(Ge,function(Et){l(Ue,Et)||l(_,Et)||Se(bt,Et)}),bt},Gt=function(ft){var Ge=ft===L,bt=pe(Ge?ke:d(ft)),Et=[];return de(bt,function(yt){!l(Ue,yt)||Ge&&!l(L,yt)||Se(Et,Ue[yt])}),Et};c||(D(ce=(ee=function(){if(g(ce,this))throw new he("Symbol is not a constructor");var ft=arguments.length&&arguments[0]!==void 0?y(arguments[0]):void 0,Ge=S(ft),bt=function(Et){this===L&&f(bt,ke,Et),l(this,H)&&l(this[H],Ge)&&(this[H][Ge]=!1);var yt=T(1,Et);try{lt(this,Ge,yt)}catch(fr){if(!(fr instanceof ve))throw fr;Ze(this,Ge,yt)}};return n&&$e&&lt(L,Ge,{configurable:!0,set:bt}),xt(Ge,ft)}).prototype,"toString",function(){return U(this).tag}),D(ee,"withoutSetter",function(ft){return xt(S(ft),ft)}),$.f=Mt,K.f=Tt,ie.f=gt,q.f=Ft,X.f=Y.f=Bt,W.f=Gt,O.f=function(ft){return xt(C(ft),ft)},n&&(F(ce,"description",{configurable:!0,get:function(){return U(this).description}}),t||D(L,"propertyIsEnumerable",Mt,{unsafe:!0}))),p({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:ee}),de(j(We),function(ft){B(ft)}),p({target:"Symbol",stat:!0,forced:!c},{useSetter:function(){$e=!0},useSimple:function(){$e=!1}}),p({target:"Object",stat:!0,forced:!c,sham:!n},{create:function(ft,Ge){return Ge===void 0?M(ft):gt(M(ft),Ge)},defineProperty:Tt,defineProperties:gt,getOwnPropertyDescriptor:Ft}),p({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:Bt}),z(),re(ee,"Symbol"),_[H]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(r,I,k){var p=r("../internals/export"),u=r("../internals/get-built-in"),f=r("../internals/has-own-property"),i=r("../internals/to-string"),t=r("../internals/shared"),n=r("../internals/symbol-registry-detection"),c=t("string-to-symbol-registry"),a=t("symbol-to-string-registry");p({target:"Symbol",stat:!0,forced:!n},{for:function(l){var g=i(l);if(f(c,g))return c[g];var b=u("Symbol")(g);return c[g]=b,a[b]=g,b}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(r,I,k){r("../modules/es.symbol.constructor"),r("../modules/es.symbol.for"),r("../modules/es.symbol.key-for"),r("../modules/es.json.stringify"),r("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(r,I,k){var p=r("../internals/export"),u=r("../internals/has-own-property"),f=r("../internals/is-symbol"),i=r("../internals/try-to-string"),t=r("../internals/shared"),n=r("../internals/symbol-registry-detection"),c=t("symbol-to-string-registry");p({target:"Symbol",stat:!0,forced:!n},{keyFor:function(a){if(!f(a))throw new TypeError(i(a)+" is not a symbol");if(u(c,a))return c[a]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(r,I,k){function p(u){return Object.prototype.toString.call(u)}k.isArray=function(u){return Array.isArray?Array.isArray(u):p(u)==="[object Array]"},k.isBoolean=function(u){return typeof u=="boolean"},k.isNull=function(u){return u===null},k.isNullOrUndefined=function(u){return u==null},k.isNumber=function(u){return typeof u=="number"},k.isString=function(u){return typeof u=="string"},k.isSymbol=function(u){return typeof u=="symbol"},k.isUndefined=function(u){return u===void 0},k.isRegExp=function(u){return p(u)==="[object RegExp]"},k.isObject=function(u){return typeof u=="object"&&u!==null},k.isDate=function(u){return p(u)==="[object Date]"},k.isError=function(u){return p(u)==="[object Error]"||u instanceof Error},k.isFunction=function(u){return typeof u=="function"},k.isPrimitive=function(u){return u===null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||typeof u=="symbol"||u===void 0},k.isBuffer=r("buffer").Buffer.isBuffer},{buffer:220}],384:[function(r,I,k){(function(p){(function(){var u=r("elliptic"),f=r("bn.js");I.exports=function(c){return new t(c)};var i={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function t(c){this.curveType=i[c],this.curveType||(this.curveType={name:c}),this.curve=new u.ec(this.curveType.name),this.keys=void 0}function n(c,a,l){Array.isArray(c)||(c=c.toArray());var g=new p(c);if(l&&g.length<l){var b=new p(l-g.length);b.fill(0),g=p.concat([b,g])}return a?g.toString(a):g}i.p224=i.secp224r1,i.p256=i.secp256r1=i.prime256v1,i.p192=i.secp192r1=i.prime192v1,i.p384=i.secp384r1,i.p521=i.secp521r1,t.prototype.generateKeys=function(c,a){return this.keys=this.curve.genKeyPair(),this.getPublicKey(c,a)},t.prototype.computeSecret=function(c,a,l){return a=a||"utf8",p.isBuffer(c)||(c=new p(c,a)),n(this.curve.keyFromPublic(c).getPublic().mul(this.keys.getPrivate()).getX(),l,this.curveType.byteLength)},t.prototype.getPublicKey=function(c,a){var l=this.keys.getPublic(a==="compressed",!0);return a==="hybrid"&&(l[l.length-1]%2?l[0]=7:l[0]=6),n(l,c)},t.prototype.getPrivateKey=function(c){return n(this.keys.getPrivate(),c)},t.prototype.setPublicKey=function(c,a){return a=a||"utf8",p.isBuffer(c)||(c=new p(c,a)),this.keys._importPublic(c),this},t.prototype.setPrivateKey=function(c,a){a=a||"utf8",p.isBuffer(c)||(c=new p(c,a));var l=new f(c);return l=l.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(l),this}}).call(this)}).call(this,r("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(r,I,k){arguments[4][184][0].apply(k,arguments)},{buffer:188,dup:184}],386:[function(r,I,k){var p=r("inherits"),u=r("md5.js"),f=r("ripemd160"),i=r("sha.js"),t=r("cipher-base");function n(c){t.call(this,"digest"),this._hash=c}p(n,t),n.prototype._update=function(c){this._hash.update(c)},n.prototype._final=function(){return this._hash.digest()},I.exports=function(c){return(c=c.toLowerCase())==="md5"?new u:c==="rmd160"||c==="ripemd160"?new f:new n(i(c))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(r,I,k){var p=r("md5.js");I.exports=function(u){return new p().update(u).digest()}},{"md5.js":450}],388:[function(r,I,k){var p=r("inherits"),u=r("./legacy"),f=r("cipher-base"),i=r("safe-buffer").Buffer,t=r("create-hash/md5"),n=r("ripemd160"),c=r("sha.js"),a=i.alloc(128);function l(g,b){f.call(this,"digest"),typeof b=="string"&&(b=i.from(b));var d=g==="sha512"||g==="sha384"?128:64;this._alg=g,this._key=b,b.length>d?b=(g==="rmd160"?new n:c(g)).update(b).digest():b.length<d&&(b=i.concat([b,a],d));for(var w=this._ipad=i.allocUnsafe(d),y=this._opad=i.allocUnsafe(d),T=0;T<d;T++)w[T]=54^b[T],y[T]=92^b[T];this._hash=g==="rmd160"?new n:c(g),this._hash.update(w)}p(l,f),l.prototype._update=function(g){this._hash.update(g)},l.prototype._final=function(){var g=this._hash.digest();return(this._alg==="rmd160"?new n:c(this._alg)).update(this._opad).update(g).digest()},I.exports=function(g,b){return(g=g.toLowerCase())==="rmd160"||g==="ripemd160"?new l("rmd160",b):g==="md5"?new u(t,b):new l(g,b)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(r,I,k){var p=r("inherits"),u=r("safe-buffer").Buffer,f=r("cipher-base"),i=u.alloc(128);function t(n,c){f.call(this,"digest"),typeof c=="string"&&(c=u.from(c)),this._alg=n,this._key=c,c.length>64?c=n(c):c.length<64&&(c=u.concat([c,i],64));for(var a=this._ipad=u.allocUnsafe(64),l=this._opad=u.allocUnsafe(64),g=0;g<64;g++)a[g]=54^c[g],l[g]=92^c[g];this._hash=[a]}p(t,f),t.prototype._update=function(n){this._hash.push(n)},t.prototype._final=function(){var n=this._alg(u.concat(this._hash));return this._alg(u.concat([this._opad,n]))},I.exports=t},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(r,I,k){k.randomBytes=k.rng=k.pseudoRandomBytes=k.prng=r("randombytes"),k.createHash=k.Hash=r("create-hash"),k.createHmac=k.Hmac=r("create-hmac");var p=r("browserify-sign/algos"),u=Object.keys(p),f=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(u);k.getHashes=function(){return f};var i=r("pbkdf2");k.pbkdf2=i.pbkdf2,k.pbkdf2Sync=i.pbkdf2Sync;var t=r("browserify-cipher");k.Cipher=t.Cipher,k.createCipher=t.createCipher,k.Cipheriv=t.Cipheriv,k.createCipheriv=t.createCipheriv,k.Decipher=t.Decipher,k.createDecipher=t.createDecipher,k.Decipheriv=t.Decipheriv,k.createDecipheriv=t.createDecipheriv,k.getCiphers=t.getCiphers,k.listCiphers=t.listCiphers;var n=r("diffie-hellman");k.DiffieHellmanGroup=n.DiffieHellmanGroup,k.createDiffieHellmanGroup=n.createDiffieHellmanGroup,k.getDiffieHellman=n.getDiffieHellman,k.createDiffieHellman=n.createDiffieHellman,k.DiffieHellman=n.DiffieHellman;var c=r("browserify-sign");k.createSign=c.createSign,k.Sign=c.Sign,k.createVerify=c.createVerify,k.Verify=c.Verify,k.createECDH=r("create-ecdh");var a=r("public-encrypt");k.publicEncrypt=a.publicEncrypt,k.privateEncrypt=a.privateEncrypt,k.publicDecrypt=a.publicDecrypt,k.privateDecrypt=a.privateDecrypt;var l=r("randomfill");k.randomFill=l.randomFill,k.randomFillSync=l.randomFillSync,k.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},k.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(r,I,k){(function(p,u){typeof k=="object"&&I!==void 0?I.exports=u():(p=typeof globalThis<"u"?globalThis:p||self).dayjs=u()})(void 0,function(){var p=6e4,u=36e5,f="millisecond",i="second",t="minute",n="hour",c="day",a="week",l="month",g="quarter",b="year",d="date",w="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(v){var _=["th","st","nd","rd"],S=v%100;return"["+v+(_[(S-20)%10]||_[S]||_[0])+"]"}},j=function(v,_,S){var C=String(v);return!C||C.length>=_?v:""+Array(_+1-C.length).join(S)+v},X={s:j,z:function(v){var _=-v.utcOffset(),S=Math.abs(_),C=Math.floor(S/60),O=S%60;return(_<=0?"+":"-")+j(C,2,"0")+":"+j(O,2,"0")},m:function v(_,S){if(_.date()<S.date())return-v(S,_);var C=12*(S.year()-_.year())+(S.month()-_.month()),O=_.clone().add(C,l),B=S-O<0,z=_.clone().add(C+(B?-1:1),l);return+(-(C+(S-O)/(B?O-z:z-O))||0)},a:function(v){return v<0?Math.ceil(v)||0:Math.floor(v)},p:function(v){return{M:l,y:b,w:a,d:c,D:d,h:n,m:t,s:i,ms:f,Q:g}[v]||String(v||"").toLowerCase().replace(/s$/,"")},u:function(v){return v===void 0}},Y="en",W={};W[Y]=M;var q="$isDayjsObject",K=function(v){return v instanceof F||!(!v||!v[q])},ie=function v(_,S,C){var O;if(!_)return Y;if(typeof _=="string"){var B=_.toLowerCase();W[B]&&(O=B),S&&(W[B]=S,O=B);var z=_.split("-");if(!O&&z.length>1)return v(z[0])}else{var re=_.name;W[re]=_,O=re}return!C&&O&&(Y=O),O||!C&&Y},$=function(v,_){if(K(v))return v.clone();var S=typeof _=="object"?_:{};return S.date=v,S.args=arguments,new F(S)},D=X;D.l=ie,D.i=K,D.w=function(v,_){return $(v,{locale:_.$L,utc:_.$u,x:_.$x,$offset:_.$offset})};var F=function(){function v(S){this.$L=ie(S.locale,null,!0),this.parse(S),this.$x=this.$x||S.x||{},this[q]=!0}var _=v.prototype;return _.parse=function(S){this.$d=function(C){var O=C.date,B=C.utc;if(O===null)return new Date(NaN);if(D.u(O))return new Date;if(O instanceof Date)return new Date(O);if(typeof O=="string"&&!/Z$/i.test(O)){var z=O.match(y);if(z){var re=z[2]-1||0,ne=(z[7]||"0").substring(0,3);return B?new Date(Date.UTC(z[1],re,z[3]||1,z[4]||0,z[5]||0,z[6]||0,ne)):new Date(z[1],re,z[3]||1,z[4]||0,z[5]||0,z[6]||0,ne)}}return new Date(O)}(S),this.init()},_.init=function(){var S=this.$d;this.$y=S.getFullYear(),this.$M=S.getMonth(),this.$D=S.getDate(),this.$W=S.getDay(),this.$H=S.getHours(),this.$m=S.getMinutes(),this.$s=S.getSeconds(),this.$ms=S.getMilliseconds()},_.$utils=function(){return D},_.isValid=function(){return this.$d.toString()!==w},_.isSame=function(S,C){var O=$(S);return this.startOf(C)<=O&&O<=this.endOf(C)},_.isAfter=function(S,C){return $(S)<this.startOf(C)},_.isBefore=function(S,C){return this.endOf(C)<$(S)},_.$g=function(S,C,O){return D.u(S)?this[C]:this.set(O,S)},_.unix=function(){return Math.floor(this.valueOf()/1e3)},_.valueOf=function(){return this.$d.getTime()},_.startOf=function(S,C){var O=this,B=!!D.u(C)||C,z=D.p(S),re=function(ce,ve){var he=D.w(O.$u?Date.UTC(O.$y,ve,ce):new Date(O.$y,ve,ce),O);return B?he:he.endOf(c)},ne=function(ce,ve){return D.w(O.toDate()[ce].apply(O.toDate("s"),(B?[0,0,0,0]:[23,59,59,999]).slice(ve)),O)},de=this.$W,H=this.$M,ae=this.$D,U="set"+(this.$u?"UTC":"");switch(z){case b:return B?re(1,0):re(31,11);case l:return B?re(1,H):re(0,H+1);case a:var L=this.$locale().weekStart||0,ee=(de<L?de+7:de)-L;return re(B?ae-ee:ae+(6-ee),H);case c:case d:return ne(U+"Hours",0);case n:return ne(U+"Minutes",1);case t:return ne(U+"Seconds",2);case i:return ne(U+"Milliseconds",3);default:return this.clone()}},_.endOf=function(S){return this.startOf(S,!1)},_.$set=function(S,C){var O,B=D.p(S),z="set"+(this.$u?"UTC":""),re=(O={},O[c]=z+"Date",O[d]=z+"Date",O[l]=z+"Month",O[b]=z+"FullYear",O[n]=z+"Hours",O[t]=z+"Minutes",O[i]=z+"Seconds",O[f]=z+"Milliseconds",O)[B],ne=B===c?this.$D+(C-this.$W):C;if(B===l||B===b){var de=this.clone().set(d,1);de.$d[re](ne),de.init(),this.$d=de.set(d,Math.min(this.$D,de.daysInMonth())).$d}else re&&this.$d[re](ne);return this.init(),this},_.set=function(S,C){return this.clone().$set(S,C)},_.get=function(S){return this[D.p(S)]()},_.add=function(S,C){var O,B=this;S=Number(S);var z=D.p(C),re=function(H){var ae=$(B);return D.w(ae.date(ae.date()+Math.round(H*S)),B)};if(z===l)return this.set(l,this.$M+S);if(z===b)return this.set(b,this.$y+S);if(z===c)return re(1);if(z===a)return re(7);var ne=(O={},O[t]=p,O[n]=u,O[i]=1e3,O)[z]||1,de=this.$d.getTime()+S*ne;return D.w(de,this)},_.subtract=function(S,C){return this.add(-1*S,C)},_.format=function(S){var C=this,O=this.$locale();if(!this.isValid())return O.invalidDate||w;var B=S||"YYYY-MM-DDTHH:mm:ssZ",z=D.z(this),re=this.$H,ne=this.$m,de=this.$M,H=O.weekdays,ae=O.months,U=O.meridiem,L=function(ve,he,xe,_e){return ve&&(ve[he]||ve(C,B))||xe[he].slice(0,_e)},ee=function(ve){return D.s(re%12||12,ve,"0")},ce=U||function(ve,he,xe){var _e=ve<12?"AM":"PM";return xe?_e.toLowerCase():_e};return B.replace(T,function(ve,he){return he||function(xe){switch(xe){case"YY":return String(C.$y).slice(-2);case"YYYY":return D.s(C.$y,4,"0");case"M":return de+1;case"MM":return D.s(de+1,2,"0");case"MMM":return L(O.monthsShort,de,ae,3);case"MMMM":return L(ae,de);case"D":return C.$D;case"DD":return D.s(C.$D,2,"0");case"d":return String(C.$W);case"dd":return L(O.weekdaysMin,C.$W,H,2);case"ddd":return L(O.weekdaysShort,C.$W,H,3);case"dddd":return H[C.$W];case"H":return String(re);case"HH":return D.s(re,2,"0");case"h":return ee(1);case"hh":return ee(2);case"a":return ce(re,ne,!0);case"A":return ce(re,ne,!1);case"m":return String(ne);case"mm":return D.s(ne,2,"0");case"s":return String(C.$s);case"ss":return D.s(C.$s,2,"0");case"SSS":return D.s(C.$ms,3,"0");case"Z":return z}return null}(ve)||z.replace(":","")})},_.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},_.diff=function(S,C,O){var B,z=this,re=D.p(C),ne=$(S),de=(ne.utcOffset()-this.utcOffset())*p,H=this-ne,ae=function(){return D.m(z,ne)};switch(re){case b:B=ae()/12;break;case l:B=ae();break;case g:B=ae()/3;break;case a:B=(H-de)/6048e5;break;case c:B=(H-de)/864e5;break;case n:B=H/u;break;case t:B=H/p;break;case i:B=H/1e3;break;default:B=H}return O?B:D.a(B)},_.daysInMonth=function(){return this.endOf(l).$D},_.$locale=function(){return W[this.$L]},_.locale=function(S,C){if(!S)return this.$L;var O=this.clone(),B=ie(S,C,!0);return B&&(O.$L=B),O},_.clone=function(){return D.w(this.$d,this)},_.toDate=function(){return new Date(this.valueOf())},_.toJSON=function(){return this.isValid()?this.toISOString():null},_.toISOString=function(){return this.$d.toISOString()},_.toString=function(){return this.$d.toUTCString()},v}(),A=F.prototype;return $.prototype=A,[["$ms",f],["$s",i],["$m",t],["$H",n],["$W",c],["$M",l],["$y",b],["$D",d]].forEach(function(v){A[v[1]]=function(_){return this.$g(_,v[0],v[1])}}),$.extend=function(v,_){return v.$i||(v(_,F,$),v.$i=!0),$},$.locale=ie,$.isDayjs=K,$.unix=function(v){return $(1e3*v)},$.en=W[Y],$.Ls=W,$.p={},$})},{}],392:[function(r,I,k){(function(p,u){typeof k=="object"&&I!==void 0?I.exports=u():(p=typeof globalThis<"u"?globalThis:p||self).dayjs_plugin_customParseFormat=u()})(void 0,function(){var p={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},u=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,f=/\d\d/,i=/\d\d?/,t=/\d*[^-_:/,()\s\d]+/,n={},c=function(y){return(y=+y)+(y>68?1900:2e3)},a=function(y){return function(T){this[y]=+T}},l=[/[+-]\d\d:?(\d\d)?|Z/,function(y){(this.zone||(this.zone={})).offset=function(T){if(!T||T==="Z")return 0;var M=T.match(/([+-]|\d\d)/g),j=60*M[1]+(+M[2]||0);return j===0?0:M[0]==="+"?-j:j}(y)}],g=function(y){var T=n[y];return T&&(T.indexOf?T:T.s.concat(T.f))},b=function(y,T){var M,j=n.meridiem;if(j){for(var X=1;X<=24;X+=1)if(y.indexOf(j(X,0,T))>-1){M=X>12;break}}else M=y===(T?"pm":"PM");return M},d={A:[t,function(y){this.afternoon=b(y,!1)}],a:[t,function(y){this.afternoon=b(y,!0)}],S:[/\d/,function(y){this.milliseconds=100*+y}],SS:[f,function(y){this.milliseconds=10*+y}],SSS:[/\d{3}/,function(y){this.milliseconds=+y}],s:[i,a("seconds")],ss:[i,a("seconds")],m:[i,a("minutes")],mm:[i,a("minutes")],H:[i,a("hours")],h:[i,a("hours")],HH:[i,a("hours")],hh:[i,a("hours")],D:[i,a("day")],DD:[f,a("day")],Do:[t,function(y){var T=n.ordinal,M=y.match(/\d+/);if(this.day=M[0],T)for(var j=1;j<=31;j+=1)T(j).replace(/\[|\]/g,"")===y&&(this.day=j)}],M:[i,a("month")],MM:[f,a("month")],MMM:[t,function(y){var T=g("months"),M=(g("monthsShort")||T.map(function(j){return j.slice(0,3)})).indexOf(y)+1;if(M<1)throw new Error;this.month=M%12||M}],MMMM:[t,function(y){var T=g("months").indexOf(y)+1;if(T<1)throw new Error;this.month=T%12||T}],Y:[/[+-]?\d+/,a("year")],YY:[f,function(y){this.year=c(y)}],YYYY:[/\d{4}/,a("year")],Z:l,ZZ:l};function w(y){var T,M;T=y,M=n&&n.formats;for(var j=(y=T.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function($,D,F){var A=F&&F.toUpperCase();return D||M[F]||p[F]||M[A].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,_,S){return _||S.slice(1)})})).match(u),X=j.length,Y=0;Y<X;Y+=1){var W=j[Y],q=d[W],K=q&&q[0],ie=q&&q[1];j[Y]=ie?{regex:K,parser:ie}:W.replace(/^\[|\]$/g,"")}return function($){for(var D={},F=0,A=0;F<X;F+=1){var v=j[F];if(typeof v=="string")A+=v.length;else{var _=v.regex,S=v.parser,C=$.slice(A),O=_.exec(C)[0];S.call(D,O),$=$.replace(O,"")}}return function(B){var z=B.afternoon;if(z!==void 0){var re=B.hours;z?re<12&&(B.hours+=12):re===12&&(B.hours=0),delete B.afternoon}}(D),D}}return function(y,T,M){M.p.customParseFormat=!0,y&&y.parseTwoDigitYear&&(c=y.parseTwoDigitYear);var j=T.prototype,X=j.parse;j.parse=function(Y){var W=Y.date,q=Y.utc,K=Y.args;this.$u=q;var ie=K[1];if(typeof ie=="string"){var $=K[2]===!0,D=K[3]===!0,F=$||D,A=K[2];D&&(A=K[2]),n=this.$locale(),!$&&A&&(n=M.Ls[A]),this.$d=function(C,O,B){try{if(["x","X"].indexOf(O)>-1)return new Date((O==="X"?1e3:1)*C);var z=w(O)(C),re=z.year,ne=z.month,de=z.day,H=z.hours,ae=z.minutes,U=z.seconds,L=z.milliseconds,ee=z.zone,ce=new Date,ve=de||(re||ne?1:ce.getDate()),he=re||ce.getFullYear(),xe=0;re&&!ne||(xe=ne>0?ne-1:ce.getMonth());var _e=H||0,Re=ae||0,pe=U||0,Ae=L||0;return ee?new Date(Date.UTC(he,xe,ve,_e,Re,pe,Ae+60*ee.offset*1e3)):B?new Date(Date.UTC(he,xe,ve,_e,Re,pe,Ae)):new Date(he,xe,ve,_e,Re,pe,Ae)}catch{return new Date("")}}(W,ie,q),this.init(),A&&A!==!0&&(this.$L=this.locale(A).$L),F&&W!=this.format(ie)&&(this.$d=new Date("")),n={}}else if(ie instanceof Array)for(var v=ie.length,_=1;_<=v;_+=1){K[1]=ie[_-1];var S=M.apply(this,K);if(S.isValid()){this.$d=S.$d,this.$L=S.$L,this.init();break}_===v&&(this.$d=new Date(""))}else X.call(this,Y)}}})},{}],393:[function(r,I,k){(function(p,u){typeof k=="object"&&I!==void 0?I.exports=u():(p=typeof globalThis<"u"?globalThis:p||self).dayjs_plugin_utc=u()})(void 0,function(){var p="minute",u=/[+-]\d\d(?::?\d\d)?/g,f=/([+-]|\d\d)/g;return function(i,t,n){var c=t.prototype;n.utc=function(y){var T={date:y,utc:!0,args:arguments};return new t(T)},c.utc=function(y){var T=n(this.toDate(),{locale:this.$L,utc:!0});return y?T.add(this.utcOffset(),p):T},c.local=function(){return n(this.toDate(),{locale:this.$L,utc:!1})};var a=c.parse;c.parse=function(y){y.utc&&(this.$u=!0),this.$utils().u(y.$offset)||(this.$offset=y.$offset),a.call(this,y)};var l=c.init;c.init=function(){if(this.$u){var y=this.$d;this.$y=y.getUTCFullYear(),this.$M=y.getUTCMonth(),this.$D=y.getUTCDate(),this.$W=y.getUTCDay(),this.$H=y.getUTCHours(),this.$m=y.getUTCMinutes(),this.$s=y.getUTCSeconds(),this.$ms=y.getUTCMilliseconds()}else l.call(this)};var g=c.utcOffset;c.utcOffset=function(y,T){var M=this.$utils().u;if(M(y))return this.$u?0:M(this.$offset)?g.call(this):this.$offset;if(typeof y=="string"&&(y=function(W){W===void 0&&(W="");var q=W.match(u);if(!q)return null;var K=(""+q[0]).match(f)||["-",0,0],ie=K[0],$=60*+K[1]+ +K[2];return $===0?0:ie==="+"?$:-$}(y))===null)return this;var j=Math.abs(y)<=16?60*y:y,X=this;if(T)return X.$offset=j,X.$u=y===0,X;if(y!==0){var Y=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(X=this.local().add(j+Y,p)).$offset=j,X.$x.$localOffset=Y}else X=this.utc();return X};var b=c.format;c.format=function(y){var T=y||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return b.call(this,T)},c.valueOf=function(){var y=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*y},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var d=c.toDate;c.toDate=function(y){return y==="s"&&this.$offset?n(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():d.call(this)};var w=c.diff;c.diff=function(y,T,M){if(y&&this.$u===y.$u)return w.call(this,y,T,M);var j=this.local(),X=n(y).local();return w.call(j,X,T,M)}}})},{}],394:[function(r,I,k){k.utils=r("./des/utils"),k.Cipher=r("./des/cipher"),k.DES=r("./des/des"),k.CBC=r("./des/cbc"),k.EDE=r("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(r,I,k){var p=r("minimalistic-assert"),u=r("inherits"),f={};function i(t){p.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var n=0;n<this.iv.length;n++)this.iv[n]=t[n]}k.instantiate=function(t){function n(g){t.call(this,g),this._cbcInit()}u(n,t);for(var c=Object.keys(f),a=0;a<c.length;a++){var l=c[a];n.prototype[l]=f[l]}return n.create=function(g){return new n(g)},n},f._cbcInit=function(){var t=new i(this.options.iv);this._cbcState=t},f._update=function(t,n,c,a){var l=this._cbcState,g=this.constructor.super_.prototype,b=l.iv;if(this.type==="encrypt"){for(var d=0;d<this.blockSize;d++)b[d]^=t[n+d];for(g._update.call(this,b,0,c,a),d=0;d<this.blockSize;d++)b[d]=c[a+d]}else{for(g._update.call(this,t,n,c,a),d=0;d<this.blockSize;d++)c[a+d]^=b[d];for(d=0;d<this.blockSize;d++)b[d]=t[n+d]}}},{inherits:440,"minimalistic-assert":453}],396:[function(r,I,k){var p=r("minimalistic-assert");function u(f){this.options=f,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=f.padding!==!1}I.exports=u,u.prototype._init=function(){},u.prototype.update=function(f){return f.length===0?[]:this.type==="decrypt"?this._updateDecrypt(f):this._updateEncrypt(f)},u.prototype._buffer=function(f,i){for(var t=Math.min(this.buffer.length-this.bufferOff,f.length-i),n=0;n<t;n++)this.buffer[this.bufferOff+n]=f[i+n];return this.bufferOff+=t,t},u.prototype._flushBuffer=function(f,i){return this._update(this.buffer,0,f,i),this.bufferOff=0,this.blockSize},u.prototype._updateEncrypt=function(f){var i=0,t=0,n=(this.bufferOff+f.length)/this.blockSize|0,c=new Array(n*this.blockSize);this.bufferOff!==0&&(i+=this._buffer(f,i),this.bufferOff===this.buffer.length&&(t+=this._flushBuffer(c,t)));for(var a=f.length-(f.length-i)%this.blockSize;i<a;i+=this.blockSize)this._update(f,i,c,t),t+=this.blockSize;for(;i<f.length;i++,this.bufferOff++)this.buffer[this.bufferOff]=f[i];return c},u.prototype._updateDecrypt=function(f){for(var i=0,t=0,n=Math.ceil((this.bufferOff+f.length)/this.blockSize)-1,c=new Array(n*this.blockSize);n>0;n--)i+=this._buffer(f,i),t+=this._flushBuffer(c,t);return i+=this._buffer(f,i),c},u.prototype.final=function(f){var i,t;return f&&(i=this.update(f)),t=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),i?i.concat(t):t},u.prototype._pad=function(f,i){if(i===0)return!1;for(;i<f.length;)f[i++]=0;return!0},u.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var f=new Array(this.blockSize);return this._update(this.buffer,0,f,0),f},u.prototype._unpad=function(f){return f},u.prototype._finalDecrypt=function(){p.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var f=new Array(this.blockSize);return this._flushBuffer(f,0),this._unpad(f)}},{"minimalistic-assert":453}],397:[function(r,I,k){var p=r("minimalistic-assert"),u=r("inherits"),f=r("./utils"),i=r("./cipher");function t(){this.tmp=new Array(2),this.keys=null}function n(a){i.call(this,a);var l=new t;this._desState=l,this.deriveKeys(l,a.key)}u(n,i),I.exports=n,n.create=function(a){return new n(a)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];n.prototype.deriveKeys=function(a,l){a.keys=new Array(32),p.equal(l.length,this.blockSize,"Invalid key length");var g=f.readUInt32BE(l,0),b=f.readUInt32BE(l,4);f.pc1(g,b,a.tmp,0),g=a.tmp[0],b=a.tmp[1];for(var d=0;d<a.keys.length;d+=2){var w=c[d>>>1];g=f.r28shl(g,w),b=f.r28shl(b,w),f.pc2(g,b,a.keys,d)}},n.prototype._update=function(a,l,g,b){var d=this._desState,w=f.readUInt32BE(a,l),y=f.readUInt32BE(a,l+4);f.ip(w,y,d.tmp,0),w=d.tmp[0],y=d.tmp[1],this.type==="encrypt"?this._encrypt(d,w,y,d.tmp,0):this._decrypt(d,w,y,d.tmp,0),w=d.tmp[0],y=d.tmp[1],f.writeUInt32BE(g,w,b),f.writeUInt32BE(g,y,b+4)},n.prototype._pad=function(a,l){if(this.padding===!1)return!1;for(var g=a.length-l,b=l;b<a.length;b++)a[b]=g;return!0},n.prototype._unpad=function(a){if(this.padding===!1)return a;for(var l=a[a.length-1],g=a.length-l;g<a.length;g++)p.equal(a[g],l);return a.slice(0,a.length-l)},n.prototype._encrypt=function(a,l,g,b,d){for(var w=l,y=g,T=0;T<a.keys.length;T+=2){var M=a.keys[T],j=a.keys[T+1];f.expand(y,a.tmp,0),M^=a.tmp[0],j^=a.tmp[1];var X=f.substitute(M,j),Y=y;y=(w^f.permute(X))>>>0,w=Y}f.rip(y,w,b,d)},n.prototype._decrypt=function(a,l,g,b,d){for(var w=g,y=l,T=a.keys.length-2;T>=0;T-=2){var M=a.keys[T],j=a.keys[T+1];f.expand(w,a.tmp,0),M^=a.tmp[0],j^=a.tmp[1];var X=f.substitute(M,j),Y=w;w=(y^f.permute(X))>>>0,y=Y}f.rip(w,y,b,d)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(r,I,k){var p=r("minimalistic-assert"),u=r("inherits"),f=r("./cipher"),i=r("./des");function t(c,a){p.equal(a.length,24,"Invalid key length");var l=a.slice(0,8),g=a.slice(8,16),b=a.slice(16,24);this.ciphers=c==="encrypt"?[i.create({type:"encrypt",key:l}),i.create({type:"decrypt",key:g}),i.create({type:"encrypt",key:b})]:[i.create({type:"decrypt",key:b}),i.create({type:"encrypt",key:g}),i.create({type:"decrypt",key:l})]}function n(c){f.call(this,c);var a=new t(this.type,this.options.key);this._edeState=a}u(n,f),I.exports=n,n.create=function(c){return new n(c)},n.prototype._update=function(c,a,l,g){var b=this._edeState;b.ciphers[0]._update(c,a,l,g),b.ciphers[1]._update(l,g,l,g),b.ciphers[2]._update(l,g,l,g)},n.prototype._pad=i.prototype._pad,n.prototype._unpad=i.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(r,I,k){k.readUInt32BE=function(i,t){return(i[0+t]<<24|i[1+t]<<16|i[2+t]<<8|i[3+t])>>>0},k.writeUInt32BE=function(i,t,n){i[0+n]=t>>>24,i[1+n]=t>>>16&255,i[2+n]=t>>>8&255,i[3+n]=255&t},k.ip=function(i,t,n,c){for(var a=0,l=0,g=6;g>=0;g-=2){for(var b=0;b<=24;b+=8)a<<=1,a|=t>>>b+g&1;for(b=0;b<=24;b+=8)a<<=1,a|=i>>>b+g&1}for(g=6;g>=0;g-=2){for(b=1;b<=25;b+=8)l<<=1,l|=t>>>b+g&1;for(b=1;b<=25;b+=8)l<<=1,l|=i>>>b+g&1}n[c+0]=a>>>0,n[c+1]=l>>>0},k.rip=function(i,t,n,c){for(var a=0,l=0,g=0;g<4;g++)for(var b=24;b>=0;b-=8)a<<=1,a|=t>>>b+g&1,a<<=1,a|=i>>>b+g&1;for(g=4;g<8;g++)for(b=24;b>=0;b-=8)l<<=1,l|=t>>>b+g&1,l<<=1,l|=i>>>b+g&1;n[c+0]=a>>>0,n[c+1]=l>>>0},k.pc1=function(i,t,n,c){for(var a=0,l=0,g=7;g>=5;g--){for(var b=0;b<=24;b+=8)a<<=1,a|=t>>b+g&1;for(b=0;b<=24;b+=8)a<<=1,a|=i>>b+g&1}for(b=0;b<=24;b+=8)a<<=1,a|=t>>b+g&1;for(g=1;g<=3;g++){for(b=0;b<=24;b+=8)l<<=1,l|=t>>b+g&1;for(b=0;b<=24;b+=8)l<<=1,l|=i>>b+g&1}for(b=0;b<=24;b+=8)l<<=1,l|=i>>b+g&1;n[c+0]=a>>>0,n[c+1]=l>>>0},k.r28shl=function(i,t){return i<<t&268435455|i>>>28-t};var p=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];k.pc2=function(i,t,n,c){for(var a=0,l=0,g=p.length>>>1,b=0;b<g;b++)a<<=1,a|=i>>>p[b]&1;for(b=g;b<p.length;b++)l<<=1,l|=t>>>p[b]&1;n[c+0]=a>>>0,n[c+1]=l>>>0},k.expand=function(i,t,n){var c=0,a=0;c=(1&i)<<5|i>>>27;for(var l=23;l>=15;l-=4)c<<=6,c|=i>>>l&63;for(l=11;l>=3;l-=4)a|=i>>>l&63,a<<=6;a|=(31&i)<<1|i>>>31,t[n+0]=c>>>0,t[n+1]=a>>>0};var u=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];k.substitute=function(i,t){for(var n=0,c=0;c<4;c++)n<<=4,n|=u[64*c+(i>>>18-6*c&63)];for(c=0;c<4;c++)n<<=4,n|=u[256+64*c+(t>>>18-6*c&63)];return n>>>0};var f=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];k.permute=function(i){for(var t=0,n=0;n<f.length;n++)t<<=1,t|=i>>>f[n]&1;return t>>>0},k.padSplit=function(i,t,n){for(var c=i.toString(2);c.length<t;)c="0"+c;for(var a=[],l=0;l<t;l+=n)a.push(c.slice(l,l+n));return a.join(" ")}},{}],400:[function(r,I,k){(function(p){(function(){var u=r("./lib/generatePrime"),f=r("./lib/primes.json"),i=r("./lib/dh"),t={binary:!0,hex:!0,base64:!0};k.DiffieHellmanGroup=k.createDiffieHellmanGroup=k.getDiffieHellman=function(n){var c=new p(f[n].prime,"hex"),a=new p(f[n].gen,"hex");return new i(c,a)},k.createDiffieHellman=k.DiffieHellman=function n(c,a,l,g){return p.isBuffer(a)||t[a]===void 0?n(c,"binary",a,l):(a=a||"binary",g=g||"binary",l=l||new p([2]),p.isBuffer(l)||(l=new p(l,g)),typeof c=="number"?new i(u(c,l),l,!0):(p.isBuffer(c)||(c=new p(c,a)),new i(c,l,!0)))}}).call(this)}).call(this,r("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(r,I,k){(function(p){(function(){var u=r("bn.js"),f=new(r("miller-rabin")),i=new u(24),t=new u(11),n=new u(10),c=new u(3),a=new u(7),l=r("./generatePrime"),g=r("randombytes");function b(M,j){return j=j||"utf8",p.isBuffer(M)||(M=new p(M,j)),this._pub=new u(M),this}function d(M,j){return j=j||"utf8",p.isBuffer(M)||(M=new p(M,j)),this._priv=new u(M),this}I.exports=y;var w={};function y(M,j,X){this.setGenerator(j),this.__prime=new u(M),this._prime=u.mont(this.__prime),this._primeLen=M.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,X?(this.setPublicKey=b,this.setPrivateKey=d):this._primeCode=8}function T(M,j){var X=new p(M.toArray());return j?X.toString(j):X}Object.defineProperty(y.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(M,j){var X=j.toString("hex"),Y=[X,M.toString(16)].join("_");if(Y in w)return w[Y];var W,q=0;if(M.isEven()||!l.simpleSieve||!l.fermatTest(M)||!f.test(M))return q+=1,q+=X==="02"||X==="05"?8:4,w[Y]=q,q;switch(f.test(M.shrn(1))||(q+=2),X){case"02":M.mod(i).cmp(t)&&(q+=8);break;case"05":(W=M.mod(n)).cmp(c)&&W.cmp(a)&&(q+=8);break;default:q+=4}return w[Y]=q,q}(this.__prime,this.__gen)),this._primeCode}}),y.prototype.generateKeys=function(){return this._priv||(this._priv=new u(g(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},y.prototype.computeSecret=function(M){var j=(M=(M=new u(M)).toRed(this._prime)).redPow(this._priv).fromRed(),X=new p(j.toArray()),Y=this.getPrime();if(X.length<Y.length){var W=new p(Y.length-X.length);W.fill(0),X=p.concat([W,X])}return X},y.prototype.getPublicKey=function(M){return T(this._pub,M)},y.prototype.getPrivateKey=function(M){return T(this._priv,M)},y.prototype.getPrime=function(M){return T(this.__prime,M)},y.prototype.getGenerator=function(M){return T(this._gen,M)},y.prototype.setGenerator=function(M,j){return j=j||"utf8",p.isBuffer(M)||(M=new p(M,j)),this.__gen=M,this._gen=new u(M),this}}).call(this)}).call(this,r("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(r,I,k){var p=r("randombytes");I.exports=M,M.simpleSieve=y,M.fermatTest=T;var u=r("bn.js"),f=new u(24),i=new(r("miller-rabin")),t=new u(1),n=new u(2),c=new u(5),a=(new u(16),new u(8),new u(10)),l=new u(3),g=(new u(7),new u(11)),b=new u(4),d=(new u(12),null);function w(){if(d!==null)return d;var j=[];j[0]=2;for(var X=1,Y=3;Y<1048576;Y+=2){for(var W=Math.ceil(Math.sqrt(Y)),q=0;q<X&&j[q]<=W&&Y%j[q]!=0;q++);X!==q&&j[q]<=W||(j[X++]=Y)}return d=j,j}function y(j){for(var X=w(),Y=0;Y<X.length;Y++)if(j.modn(X[Y])===0)return j.cmpn(X[Y])===0;return!0}function T(j){var X=u.mont(j);return n.toRed(X).redPow(j.subn(1)).fromRed().cmpn(1)===0}function M(j,X){if(j<16)return new u(X===2||X===5?[140,123]:[140,39]);var Y,W;for(X=new u(X);;){for(Y=new u(p(Math.ceil(j/8)));Y.bitLength()>j;)Y.ishrn(1);if(Y.isEven()&&Y.iadd(t),Y.testn(1)||Y.iadd(n),X.cmp(n)){if(!X.cmp(c))for(;Y.mod(a).cmp(l);)Y.iadd(b)}else for(;Y.mod(f).cmp(g);)Y.iadd(b);if(y(W=Y.shrn(1))&&y(Y)&&T(W)&&T(Y)&&i.test(W)&&i.test(Y))return Y}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(r,I,k){I.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(r,I,k){arguments[4][184][0].apply(k,arguments)},{buffer:188,dup:184}],405:[function(r,I,k){var p=k;p.version=r("../package.json").version,p.utils=r("./elliptic/utils"),p.rand=r("brorand"),p.curve=r("./elliptic/curve"),p.curves=r("./elliptic/curves"),p.ec=r("./elliptic/ec"),p.eddsa=r("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(r,I,k){var p=r("bn.js"),u=r("../utils"),f=u.getNAF,i=u.getJSF,t=u.assert;function n(a,l){this.type=a,this.p=new p(l.p,16),this.red=l.prime?p.red(l.prime):p.mont(this.p),this.zero=new p(0).toRed(this.red),this.one=new p(1).toRed(this.red),this.two=new p(2).toRed(this.red),this.n=l.n&&new p(l.n,16),this.g=l.g&&this.pointFromJSON(l.g,l.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var g=this.n&&this.p.div(this.n);!g||g.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c(a,l){this.curve=a,this.type=l,this.precomputed=null}I.exports=n,n.prototype.point=function(){throw new Error("Not implemented")},n.prototype.validate=function(){throw new Error("Not implemented")},n.prototype._fixedNafMul=function(a,l){t(a.precomputed);var g=a._getDoubles(),b=f(l,1,this._bitLength),d=(1<<g.step+1)-(g.step%2==0?2:1);d/=3;var w,y,T=[];for(w=0;w<b.length;w+=g.step){y=0;for(var M=w+g.step-1;M>=w;M--)y=(y<<1)+b[M];T.push(y)}for(var j=this.jpoint(null,null,null),X=this.jpoint(null,null,null),Y=d;Y>0;Y--){for(w=0;w<T.length;w++)(y=T[w])===Y?X=X.mixedAdd(g.points[w]):y===-Y&&(X=X.mixedAdd(g.points[w].neg()));j=j.add(X)}return j.toP()},n.prototype._wnafMul=function(a,l){var g=4,b=a._getNAFPoints(g);g=b.wnd;for(var d=b.points,w=f(l,g,this._bitLength),y=this.jpoint(null,null,null),T=w.length-1;T>=0;T--){for(var M=0;T>=0&&w[T]===0;T--)M++;if(T>=0&&M++,y=y.dblp(M),T<0)break;var j=w[T];t(j!==0),y=a.type==="affine"?j>0?y.mixedAdd(d[j-1>>1]):y.mixedAdd(d[-j-1>>1].neg()):j>0?y.add(d[j-1>>1]):y.add(d[-j-1>>1].neg())}return a.type==="affine"?y.toP():y},n.prototype._wnafMulAdd=function(a,l,g,b,d){var w,y,T,M=this._wnafT1,j=this._wnafT2,X=this._wnafT3,Y=0;for(w=0;w<b;w++){var W=(T=l[w])._getNAFPoints(a);M[w]=W.wnd,j[w]=W.points}for(w=b-1;w>=1;w-=2){var q=w-1,K=w;if(M[q]===1&&M[K]===1){var ie=[l[q],null,null,l[K]];l[q].y.cmp(l[K].y)===0?(ie[1]=l[q].add(l[K]),ie[2]=l[q].toJ().mixedAdd(l[K].neg())):l[q].y.cmp(l[K].y.redNeg())===0?(ie[1]=l[q].toJ().mixedAdd(l[K]),ie[2]=l[q].add(l[K].neg())):(ie[1]=l[q].toJ().mixedAdd(l[K]),ie[2]=l[q].toJ().mixedAdd(l[K].neg()));var $=[-3,-1,-5,-7,0,7,5,1,3],D=i(g[q],g[K]);for(Y=Math.max(D[0].length,Y),X[q]=new Array(Y),X[K]=new Array(Y),y=0;y<Y;y++){var F=0|D[0][y],A=0|D[1][y];X[q][y]=$[3*(F+1)+(A+1)],X[K][y]=0,j[q]=ie}}else X[q]=f(g[q],M[q],this._bitLength),X[K]=f(g[K],M[K],this._bitLength),Y=Math.max(X[q].length,Y),Y=Math.max(X[K].length,Y)}var v=this.jpoint(null,null,null),_=this._wnafT4;for(w=Y;w>=0;w--){for(var S=0;w>=0;){var C=!0;for(y=0;y<b;y++)_[y]=0|X[y][w],_[y]!==0&&(C=!1);if(!C)break;S++,w--}if(w>=0&&S++,v=v.dblp(S),w<0)break;for(y=0;y<b;y++){var O=_[y];O!==0&&(O>0?T=j[y][O-1>>1]:O<0&&(T=j[y][-O-1>>1].neg()),v=T.type==="affine"?v.mixedAdd(T):v.add(T))}}for(w=0;w<b;w++)j[w]=null;return d?v:v.toP()},n.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},n.prototype.decodePoint=function(a,l){a=u.toArray(a,l);var g=this.p.byteLength();if((a[0]===4||a[0]===6||a[0]===7)&&a.length-1==2*g)return a[0]===6?t(a[a.length-1]%2==0):a[0]===7&&t(a[a.length-1]%2==1),this.point(a.slice(1,1+g),a.slice(1+g,1+2*g));if((a[0]===2||a[0]===3)&&a.length-1===g)return this.pointFromX(a.slice(1,1+g),a[0]===3);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(a){return this.encode(a,!0)},c.prototype._encode=function(a){var l=this.curve.p.byteLength(),g=this.getX().toArray("be",l);return a?[this.getY().isEven()?2:3].concat(g):[4].concat(g,this.getY().toArray("be",l))},c.prototype.encode=function(a,l){return u.encode(this._encode(l),a)},c.prototype.precompute=function(a){if(this.precomputed)return this;var l={doubles:null,naf:null,beta:null};return l.naf=this._getNAFPoints(8),l.doubles=this._getDoubles(4,a),l.beta=this._getBeta(),this.precomputed=l,this},c.prototype._hasDoubles=function(a){if(!this.precomputed)return!1;var l=this.precomputed.doubles;return!!l&&l.points.length>=Math.ceil((a.bitLength()+1)/l.step)},c.prototype._getDoubles=function(a,l){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var g=[this],b=this,d=0;d<l;d+=a){for(var w=0;w<a;w++)b=b.dbl();g.push(b)}return{step:a,points:g}},c.prototype._getNAFPoints=function(a){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var l=[this],g=(1<<a)-1,b=g===1?null:this.dbl(),d=1;d<g;d++)l[d]=l[d-1].add(b);return{wnd:a,points:l}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(a){for(var l=this,g=0;g<a;g++)l=l.dbl();return l}},{"../utils":419,"bn.js":420}],407:[function(r,I,k){var p=r("../utils"),u=r("bn.js"),f=r("inherits"),i=r("./base"),t=p.assert;function n(a){this.twisted=(0|a.a)!=1,this.mOneA=this.twisted&&(0|a.a)==-1,this.extended=this.mOneA,i.call(this,"edwards",a),this.a=new u(a.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new u(a.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new u(a.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),t(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|a.c)==1}function c(a,l,g,b,d){i.BasePoint.call(this,a,"projective"),l===null&&g===null&&b===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new u(l,16),this.y=new u(g,16),this.z=b?new u(b,16):this.curve.one,this.t=d&&new u(d,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}f(n,i),I.exports=n,n.prototype._mulA=function(a){return this.mOneA?a.redNeg():this.a.redMul(a)},n.prototype._mulC=function(a){return this.oneC?a:this.c.redMul(a)},n.prototype.jpoint=function(a,l,g,b){return this.point(a,l,g,b)},n.prototype.pointFromX=function(a,l){(a=new u(a,16)).red||(a=a.toRed(this.red));var g=a.redSqr(),b=this.c2.redSub(this.a.redMul(g)),d=this.one.redSub(this.c2.redMul(this.d).redMul(g)),w=b.redMul(d.redInvm()),y=w.redSqrt();if(y.redSqr().redSub(w).cmp(this.zero)!==0)throw new Error("invalid point");var T=y.fromRed().isOdd();return(l&&!T||!l&&T)&&(y=y.redNeg()),this.point(a,y)},n.prototype.pointFromY=function(a,l){(a=new u(a,16)).red||(a=a.toRed(this.red));var g=a.redSqr(),b=g.redSub(this.c2),d=g.redMul(this.d).redMul(this.c2).redSub(this.a),w=b.redMul(d.redInvm());if(w.cmp(this.zero)===0){if(l)throw new Error("invalid point");return this.point(this.zero,a)}var y=w.redSqrt();if(y.redSqr().redSub(w).cmp(this.zero)!==0)throw new Error("invalid point");return y.fromRed().isOdd()!==l&&(y=y.redNeg()),this.point(y,a)},n.prototype.validate=function(a){if(a.isInfinity())return!0;a.normalize();var l=a.x.redSqr(),g=a.y.redSqr(),b=l.redMul(this.a).redAdd(g),d=this.c2.redMul(this.one.redAdd(this.d.redMul(l).redMul(g)));return b.cmp(d)===0},f(c,i.BasePoint),n.prototype.pointFromJSON=function(a){return c.fromJSON(this,a)},n.prototype.point=function(a,l,g,b){return new c(this,a,l,g,b)},c.fromJSON=function(a,l){return new c(a,l[0],l[1],l[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},c.prototype._extDbl=function(){var a=this.x.redSqr(),l=this.y.redSqr(),g=this.z.redSqr();g=g.redIAdd(g);var b=this.curve._mulA(a),d=this.x.redAdd(this.y).redSqr().redISub(a).redISub(l),w=b.redAdd(l),y=w.redSub(g),T=b.redSub(l),M=d.redMul(y),j=w.redMul(T),X=d.redMul(T),Y=y.redMul(w);return this.curve.point(M,j,Y,X)},c.prototype._projDbl=function(){var a,l,g,b,d,w,y=this.x.redAdd(this.y).redSqr(),T=this.x.redSqr(),M=this.y.redSqr();if(this.curve.twisted){var j=(b=this.curve._mulA(T)).redAdd(M);this.zOne?(a=y.redSub(T).redSub(M).redMul(j.redSub(this.curve.two)),l=j.redMul(b.redSub(M)),g=j.redSqr().redSub(j).redSub(j)):(d=this.z.redSqr(),w=j.redSub(d).redISub(d),a=y.redSub(T).redISub(M).redMul(w),l=j.redMul(b.redSub(M)),g=j.redMul(w))}else b=T.redAdd(M),d=this.curve._mulC(this.z).redSqr(),w=b.redSub(d).redSub(d),a=this.curve._mulC(y.redISub(b)).redMul(w),l=this.curve._mulC(b).redMul(T.redISub(M)),g=b.redMul(w);return this.curve.point(a,l,g)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(a){var l=this.y.redSub(this.x).redMul(a.y.redSub(a.x)),g=this.y.redAdd(this.x).redMul(a.y.redAdd(a.x)),b=this.t.redMul(this.curve.dd).redMul(a.t),d=this.z.redMul(a.z.redAdd(a.z)),w=g.redSub(l),y=d.redSub(b),T=d.redAdd(b),M=g.redAdd(l),j=w.redMul(y),X=T.redMul(M),Y=w.redMul(M),W=y.redMul(T);return this.curve.point(j,X,W,Y)},c.prototype._projAdd=function(a){var l,g,b=this.z.redMul(a.z),d=b.redSqr(),w=this.x.redMul(a.x),y=this.y.redMul(a.y),T=this.curve.d.redMul(w).redMul(y),M=d.redSub(T),j=d.redAdd(T),X=this.x.redAdd(this.y).redMul(a.x.redAdd(a.y)).redISub(w).redISub(y),Y=b.redMul(M).redMul(X);return this.curve.twisted?(l=b.redMul(j).redMul(y.redSub(this.curve._mulA(w))),g=M.redMul(j)):(l=b.redMul(j).redMul(y.redSub(w)),g=this.curve._mulC(M).redMul(j)),this.curve.point(Y,l,g)},c.prototype.add=function(a){return this.isInfinity()?a:a.isInfinity()?this:this.curve.extended?this._extAdd(a):this._projAdd(a)},c.prototype.mul=function(a){return this._hasDoubles(a)?this.curve._fixedNafMul(this,a):this.curve._wnafMul(this,a)},c.prototype.mulAdd=function(a,l,g){return this.curve._wnafMulAdd(1,[this,l],[a,g],2,!1)},c.prototype.jmulAdd=function(a,l,g){return this.curve._wnafMulAdd(1,[this,l],[a,g],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var a=this.z.redInvm();return this.x=this.x.redMul(a),this.y=this.y.redMul(a),this.t&&(this.t=this.t.redMul(a)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(a){return this===a||this.getX().cmp(a.getX())===0&&this.getY().cmp(a.getY())===0},c.prototype.eqXToP=function(a){var l=a.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(l)===0)return!0;for(var g=a.clone(),b=this.curve.redN.redMul(this.z);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(l.redIAdd(b),this.x.cmp(l)===0)return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(r,I,k){var p=k;p.base=r("./base"),p.short=r("./short"),p.mont=r("./mont"),p.edwards=r("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(r,I,k){var p=r("bn.js"),u=r("inherits"),f=r("./base"),i=r("../utils");function t(c){f.call(this,"mont",c),this.a=new p(c.a,16).toRed(this.red),this.b=new p(c.b,16).toRed(this.red),this.i4=new p(4).toRed(this.red).redInvm(),this.two=new p(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function n(c,a,l){f.BasePoint.call(this,c,"projective"),a===null&&l===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new p(a,16),this.z=new p(l,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}u(t,f),I.exports=t,t.prototype.validate=function(c){var a=c.normalize().x,l=a.redSqr(),g=l.redMul(a).redAdd(l.redMul(this.a)).redAdd(a);return g.redSqrt().redSqr().cmp(g)===0},u(n,f.BasePoint),t.prototype.decodePoint=function(c,a){return this.point(i.toArray(c,a),1)},t.prototype.point=function(c,a){return new n(this,c,a)},t.prototype.pointFromJSON=function(c){return n.fromJSON(this,c)},n.prototype.precompute=function(){},n.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},n.fromJSON=function(c,a){return new n(c,a[0],a[1]||c.one)},n.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},n.prototype.isInfinity=function(){return this.z.cmpn(0)===0},n.prototype.dbl=function(){var c=this.x.redAdd(this.z).redSqr(),a=this.x.redSub(this.z).redSqr(),l=c.redSub(a),g=c.redMul(a),b=l.redMul(a.redAdd(this.curve.a24.redMul(l)));return this.curve.point(g,b)},n.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.diffAdd=function(c,a){var l=this.x.redAdd(this.z),g=this.x.redSub(this.z),b=c.x.redAdd(c.z),d=c.x.redSub(c.z).redMul(l),w=b.redMul(g),y=a.z.redMul(d.redAdd(w).redSqr()),T=a.x.redMul(d.redISub(w).redSqr());return this.curve.point(y,T)},n.prototype.mul=function(c){for(var a=c.clone(),l=this,g=this.curve.point(null,null),b=[];a.cmpn(0)!==0;a.iushrn(1))b.push(a.andln(1));for(var d=b.length-1;d>=0;d--)b[d]===0?(l=l.diffAdd(g,this),g=g.dbl()):(g=l.diffAdd(g,this),l=l.dbl());return g},n.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.eq=function(c){return this.getX().cmp(c.getX())===0},n.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},n.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(r,I,k){var p=r("../utils"),u=r("bn.js"),f=r("inherits"),i=r("./base"),t=p.assert;function n(l){i.call(this,"short",l),this.a=new u(l.a,16).toRed(this.red),this.b=new u(l.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(l),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(l,g,b,d){i.BasePoint.call(this,l,"affine"),g===null&&b===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new u(g,16),this.y=new u(b,16),d&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function a(l,g,b,d){i.BasePoint.call(this,l,"jacobian"),g===null&&b===null&&d===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new u(0)):(this.x=new u(g,16),this.y=new u(b,16),this.z=new u(d,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}f(n,i),I.exports=n,n.prototype._getEndomorphism=function(l){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var g,b;if(l.beta)g=new u(l.beta,16).toRed(this.red);else{var d=this._getEndoRoots(this.p);g=(g=d[0].cmp(d[1])<0?d[0]:d[1]).toRed(this.red)}if(l.lambda)b=new u(l.lambda,16);else{var w=this._getEndoRoots(this.n);this.g.mul(w[0]).x.cmp(this.g.x.redMul(g))===0?b=w[0]:(b=w[1],t(this.g.mul(b).x.cmp(this.g.x.redMul(g))===0))}return{beta:g,lambda:b,basis:l.basis?l.basis.map(function(y){return{a:new u(y.a,16),b:new u(y.b,16)}}):this._getEndoBasis(b)}}},n.prototype._getEndoRoots=function(l){var g=l===this.p?this.red:u.mont(l),b=new u(2).toRed(g).redInvm(),d=b.redNeg(),w=new u(3).toRed(g).redNeg().redSqrt().redMul(b);return[d.redAdd(w).fromRed(),d.redSub(w).fromRed()]},n.prototype._getEndoBasis=function(l){for(var g,b,d,w,y,T,M,j,X,Y=this.n.ushrn(Math.floor(this.n.bitLength()/2)),W=l,q=this.n.clone(),K=new u(1),ie=new u(0),$=new u(0),D=new u(1),F=0;W.cmpn(0)!==0;){var A=q.div(W);j=q.sub(A.mul(W)),X=$.sub(A.mul(K));var v=D.sub(A.mul(ie));if(!d&&j.cmp(Y)<0)g=M.neg(),b=K,d=j.neg(),w=X;else if(d&&++F==2)break;M=j,q=W,W=j,$=K,K=X,D=ie,ie=v}y=j.neg(),T=X;var _=d.sqr().add(w.sqr());return y.sqr().add(T.sqr()).cmp(_)>=0&&(y=g,T=b),d.negative&&(d=d.neg(),w=w.neg()),y.negative&&(y=y.neg(),T=T.neg()),[{a:d,b:w},{a:y,b:T}]},n.prototype._endoSplit=function(l){var g=this.endo.basis,b=g[0],d=g[1],w=d.b.mul(l).divRound(this.n),y=b.b.neg().mul(l).divRound(this.n),T=w.mul(b.a),M=y.mul(d.a),j=w.mul(b.b),X=y.mul(d.b);return{k1:l.sub(T).sub(M),k2:j.add(X).neg()}},n.prototype.pointFromX=function(l,g){(l=new u(l,16)).red||(l=l.toRed(this.red));var b=l.redSqr().redMul(l).redIAdd(l.redMul(this.a)).redIAdd(this.b),d=b.redSqrt();if(d.redSqr().redSub(b).cmp(this.zero)!==0)throw new Error("invalid point");var w=d.fromRed().isOdd();return(g&&!w||!g&&w)&&(d=d.redNeg()),this.point(l,d)},n.prototype.validate=function(l){if(l.inf)return!0;var g=l.x,b=l.y,d=this.a.redMul(g),w=g.redSqr().redMul(g).redIAdd(d).redIAdd(this.b);return b.redSqr().redISub(w).cmpn(0)===0},n.prototype._endoWnafMulAdd=function(l,g,b){for(var d=this._endoWnafT1,w=this._endoWnafT2,y=0;y<l.length;y++){var T=this._endoSplit(g[y]),M=l[y],j=M._getBeta();T.k1.negative&&(T.k1.ineg(),M=M.neg(!0)),T.k2.negative&&(T.k2.ineg(),j=j.neg(!0)),d[2*y]=M,d[2*y+1]=j,w[2*y]=T.k1,w[2*y+1]=T.k2}for(var X=this._wnafMulAdd(1,d,w,2*y,b),Y=0;Y<2*y;Y++)d[Y]=null,w[Y]=null;return X},f(c,i.BasePoint),n.prototype.point=function(l,g,b){return new c(this,l,g,b)},n.prototype.pointFromJSON=function(l,g){return c.fromJSON(this,l,g)},c.prototype._getBeta=function(){if(this.curve.endo){var l=this.precomputed;if(l&&l.beta)return l.beta;var g=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(l){var b=this.curve,d=function(w){return b.point(w.x.redMul(b.endo.beta),w.y)};l.beta=g,g.precomputed={beta:null,naf:l.naf&&{wnd:l.naf.wnd,points:l.naf.points.map(d)},doubles:l.doubles&&{step:l.doubles.step,points:l.doubles.points.map(d)}}}return g}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(l,g,b){typeof g=="string"&&(g=JSON.parse(g));var d=l.point(g[0],g[1],b);if(!g[2])return d;function w(T){return l.point(T[0],T[1],b)}var y=g[2];return d.precomputed={beta:null,doubles:y.doubles&&{step:y.doubles.step,points:[d].concat(y.doubles.points.map(w))},naf:y.naf&&{wnd:y.naf.wnd,points:[d].concat(y.naf.points.map(w))}},d},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(l){if(this.inf)return l;if(l.inf)return this;if(this.eq(l))return this.dbl();if(this.neg().eq(l))return this.curve.point(null,null);if(this.x.cmp(l.x)===0)return this.curve.point(null,null);var g=this.y.redSub(l.y);g.cmpn(0)!==0&&(g=g.redMul(this.x.redSub(l.x).redInvm()));var b=g.redSqr().redISub(this.x).redISub(l.x),d=g.redMul(this.x.redSub(b)).redISub(this.y);return this.curve.point(b,d)},c.prototype.dbl=function(){if(this.inf)return this;var l=this.y.redAdd(this.y);if(l.cmpn(0)===0)return this.curve.point(null,null);var g=this.curve.a,b=this.x.redSqr(),d=l.redInvm(),w=b.redAdd(b).redIAdd(b).redIAdd(g).redMul(d),y=w.redSqr().redISub(this.x.redAdd(this.x)),T=w.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,T)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(l){return l=new u(l,16),this.isInfinity()?this:this._hasDoubles(l)?this.curve._fixedNafMul(this,l):this.curve.endo?this.curve._endoWnafMulAdd([this],[l]):this.curve._wnafMul(this,l)},c.prototype.mulAdd=function(l,g,b){var d=[this,g],w=[l,b];return this.curve.endo?this.curve._endoWnafMulAdd(d,w):this.curve._wnafMulAdd(1,d,w,2)},c.prototype.jmulAdd=function(l,g,b){var d=[this,g],w=[l,b];return this.curve.endo?this.curve._endoWnafMulAdd(d,w,!0):this.curve._wnafMulAdd(1,d,w,2,!0)},c.prototype.eq=function(l){return this===l||this.inf===l.inf&&(this.inf||this.x.cmp(l.x)===0&&this.y.cmp(l.y)===0)},c.prototype.neg=function(l){if(this.inf)return this;var g=this.curve.point(this.x,this.y.redNeg());if(l&&this.precomputed){var b=this.precomputed,d=function(w){return w.neg()};g.precomputed={naf:b.naf&&{wnd:b.naf.wnd,points:b.naf.points.map(d)},doubles:b.doubles&&{step:b.doubles.step,points:b.doubles.points.map(d)}}}return g},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},f(a,i.BasePoint),n.prototype.jpoint=function(l,g,b){return new a(this,l,g,b)},a.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var l=this.z.redInvm(),g=l.redSqr(),b=this.x.redMul(g),d=this.y.redMul(g).redMul(l);return this.curve.point(b,d)},a.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},a.prototype.add=function(l){if(this.isInfinity())return l;if(l.isInfinity())return this;var g=l.z.redSqr(),b=this.z.redSqr(),d=this.x.redMul(g),w=l.x.redMul(b),y=this.y.redMul(g.redMul(l.z)),T=l.y.redMul(b.redMul(this.z)),M=d.redSub(w),j=y.redSub(T);if(M.cmpn(0)===0)return j.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var X=M.redSqr(),Y=X.redMul(M),W=d.redMul(X),q=j.redSqr().redIAdd(Y).redISub(W).redISub(W),K=j.redMul(W.redISub(q)).redISub(y.redMul(Y)),ie=this.z.redMul(l.z).redMul(M);return this.curve.jpoint(q,K,ie)},a.prototype.mixedAdd=function(l){if(this.isInfinity())return l.toJ();if(l.isInfinity())return this;var g=this.z.redSqr(),b=this.x,d=l.x.redMul(g),w=this.y,y=l.y.redMul(g).redMul(this.z),T=b.redSub(d),M=w.redSub(y);if(T.cmpn(0)===0)return M.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var j=T.redSqr(),X=j.redMul(T),Y=b.redMul(j),W=M.redSqr().redIAdd(X).redISub(Y).redISub(Y),q=M.redMul(Y.redISub(W)).redISub(w.redMul(X)),K=this.z.redMul(T);return this.curve.jpoint(W,q,K)},a.prototype.dblp=function(l){if(l===0)return this;if(this.isInfinity())return this;if(!l)return this.dbl();var g;if(this.curve.zeroA||this.curve.threeA){var b=this;for(g=0;g<l;g++)b=b.dbl();return b}var d=this.curve.a,w=this.curve.tinv,y=this.x,T=this.y,M=this.z,j=M.redSqr().redSqr(),X=T.redAdd(T);for(g=0;g<l;g++){var Y=y.redSqr(),W=X.redSqr(),q=W.redSqr(),K=Y.redAdd(Y).redIAdd(Y).redIAdd(d.redMul(j)),ie=y.redMul(W),$=K.redSqr().redISub(ie.redAdd(ie)),D=ie.redISub($),F=K.redMul(D);F=F.redIAdd(F).redISub(q);var A=X.redMul(M);g+1<l&&(j=j.redMul(q)),y=$,M=A,X=F}return this.curve.jpoint(y,X.redMul(w),M)},a.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},a.prototype._zeroDbl=function(){var l,g,b;if(this.zOne){var d=this.x.redSqr(),w=this.y.redSqr(),y=w.redSqr(),T=this.x.redAdd(w).redSqr().redISub(d).redISub(y);T=T.redIAdd(T);var M=d.redAdd(d).redIAdd(d),j=M.redSqr().redISub(T).redISub(T),X=y.redIAdd(y);X=(X=X.redIAdd(X)).redIAdd(X),l=j,g=M.redMul(T.redISub(j)).redISub(X),b=this.y.redAdd(this.y)}else{var Y=this.x.redSqr(),W=this.y.redSqr(),q=W.redSqr(),K=this.x.redAdd(W).redSqr().redISub(Y).redISub(q);K=K.redIAdd(K);var ie=Y.redAdd(Y).redIAdd(Y),$=ie.redSqr(),D=q.redIAdd(q);D=(D=D.redIAdd(D)).redIAdd(D),l=$.redISub(K).redISub(K),g=ie.redMul(K.redISub(l)).redISub(D),b=(b=this.y.redMul(this.z)).redIAdd(b)}return this.curve.jpoint(l,g,b)},a.prototype._threeDbl=function(){var l,g,b;if(this.zOne){var d=this.x.redSqr(),w=this.y.redSqr(),y=w.redSqr(),T=this.x.redAdd(w).redSqr().redISub(d).redISub(y);T=T.redIAdd(T);var M=d.redAdd(d).redIAdd(d).redIAdd(this.curve.a),j=M.redSqr().redISub(T).redISub(T);l=j;var X=y.redIAdd(y);X=(X=X.redIAdd(X)).redIAdd(X),g=M.redMul(T.redISub(j)).redISub(X),b=this.y.redAdd(this.y)}else{var Y=this.z.redSqr(),W=this.y.redSqr(),q=this.x.redMul(W),K=this.x.redSub(Y).redMul(this.x.redAdd(Y));K=K.redAdd(K).redIAdd(K);var ie=q.redIAdd(q),$=(ie=ie.redIAdd(ie)).redAdd(ie);l=K.redSqr().redISub($),b=this.y.redAdd(this.z).redSqr().redISub(W).redISub(Y);var D=W.redSqr();D=(D=(D=D.redIAdd(D)).redIAdd(D)).redIAdd(D),g=K.redMul(ie.redISub(l)).redISub(D)}return this.curve.jpoint(l,g,b)},a.prototype._dbl=function(){var l=this.curve.a,g=this.x,b=this.y,d=this.z,w=d.redSqr().redSqr(),y=g.redSqr(),T=b.redSqr(),M=y.redAdd(y).redIAdd(y).redIAdd(l.redMul(w)),j=g.redAdd(g),X=(j=j.redIAdd(j)).redMul(T),Y=M.redSqr().redISub(X.redAdd(X)),W=X.redISub(Y),q=T.redSqr();q=(q=(q=q.redIAdd(q)).redIAdd(q)).redIAdd(q);var K=M.redMul(W).redISub(q),ie=b.redAdd(b).redMul(d);return this.curve.jpoint(Y,K,ie)},a.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var l=this.x.redSqr(),g=this.y.redSqr(),b=this.z.redSqr(),d=g.redSqr(),w=l.redAdd(l).redIAdd(l),y=w.redSqr(),T=this.x.redAdd(g).redSqr().redISub(l).redISub(d),M=(T=(T=(T=T.redIAdd(T)).redAdd(T).redIAdd(T)).redISub(y)).redSqr(),j=d.redIAdd(d);j=(j=(j=j.redIAdd(j)).redIAdd(j)).redIAdd(j);var X=w.redIAdd(T).redSqr().redISub(y).redISub(M).redISub(j),Y=g.redMul(X);Y=(Y=Y.redIAdd(Y)).redIAdd(Y);var W=this.x.redMul(M).redISub(Y);W=(W=W.redIAdd(W)).redIAdd(W);var q=this.y.redMul(X.redMul(j.redISub(X)).redISub(T.redMul(M)));q=(q=(q=q.redIAdd(q)).redIAdd(q)).redIAdd(q);var K=this.z.redAdd(T).redSqr().redISub(b).redISub(M);return this.curve.jpoint(W,q,K)},a.prototype.mul=function(l,g){return l=new u(l,g),this.curve._wnafMul(this,l)},a.prototype.eq=function(l){if(l.type==="affine")return this.eq(l.toJ());if(this===l)return!0;var g=this.z.redSqr(),b=l.z.redSqr();if(this.x.redMul(b).redISub(l.x.redMul(g)).cmpn(0)!==0)return!1;var d=g.redMul(this.z),w=b.redMul(l.z);return this.y.redMul(w).redISub(l.y.redMul(d)).cmpn(0)===0},a.prototype.eqXToP=function(l){var g=this.z.redSqr(),b=l.toRed(this.curve.red).redMul(g);if(this.x.cmp(b)===0)return!0;for(var d=l.clone(),w=this.curve.redN.redMul(g);;){if(d.iadd(this.curve.n),d.cmp(this.curve.p)>=0)return!1;if(b.redIAdd(w),this.x.cmp(b)===0)return!0}},a.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},a.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(r,I,k){var p,u=k,f=r("hash.js"),i=r("./curve"),t=r("./utils").assert;function n(a){a.type==="short"?this.curve=new i.short(a):a.type==="edwards"?this.curve=new i.edwards(a):this.curve=new i.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,t(this.g.validate(),"Invalid curve"),t(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(a,l){Object.defineProperty(u,a,{configurable:!0,enumerable:!0,get:function(){var g=new n(l);return Object.defineProperty(u,a,{configurable:!0,enumerable:!0,value:g}),g}})}u.PresetCurve=n,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:f.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:f.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:f.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:f.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:f.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:f.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:f.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{p=r("./precomputed/secp256k1")}catch{p=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:f.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",p]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(r,I,k){var p=r("bn.js"),u=r("hmac-drbg"),f=r("../utils"),i=r("../curves"),t=r("brorand"),n=f.assert,c=r("./key"),a=r("./signature");function l(g){if(!(this instanceof l))return new l(g);typeof g=="string"&&(n(Object.prototype.hasOwnProperty.call(i,g),"Unknown curve "+g),g=i[g]),g instanceof i.PresetCurve&&(g={curve:g}),this.curve=g.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=g.curve.g,this.g.precompute(g.curve.n.bitLength()+1),this.hash=g.hash||g.curve.hash}I.exports=l,l.prototype.keyPair=function(g){return new c(this,g)},l.prototype.keyFromPrivate=function(g,b){return c.fromPrivate(this,g,b)},l.prototype.keyFromPublic=function(g,b){return c.fromPublic(this,g,b)},l.prototype.genKeyPair=function(g){g||(g={});for(var b=new u({hash:this.hash,pers:g.pers,persEnc:g.persEnc||"utf8",entropy:g.entropy||t(this.hash.hmacStrength),entropyEnc:g.entropy&&g.entropyEnc||"utf8",nonce:this.n.toArray()}),d=this.n.byteLength(),w=this.n.sub(new p(2));;){var y=new p(b.generate(d));if(!(y.cmp(w)>0))return y.iaddn(1),this.keyFromPrivate(y)}},l.prototype._truncateToN=function(g,b){var d=8*g.byteLength()-this.n.bitLength();return d>0&&(g=g.ushrn(d)),!b&&g.cmp(this.n)>=0?g.sub(this.n):g},l.prototype.sign=function(g,b,d,w){typeof d=="object"&&(w=d,d=null),w||(w={}),b=this.keyFromPrivate(b,d),g=this._truncateToN(new p(g,16));for(var y=this.n.byteLength(),T=b.getPrivate().toArray("be",y),M=g.toArray("be",y),j=new u({hash:this.hash,entropy:T,nonce:M,pers:w.pers,persEnc:w.persEnc||"utf8"}),X=this.n.sub(new p(1)),Y=0;;Y++){var W=w.k?w.k(Y):new p(j.generate(this.n.byteLength()));if(!((W=this._truncateToN(W,!0)).cmpn(1)<=0||W.cmp(X)>=0)){var q=this.g.mul(W);if(!q.isInfinity()){var K=q.getX(),ie=K.umod(this.n);if(ie.cmpn(0)!==0){var $=W.invm(this.n).mul(ie.mul(b.getPrivate()).iadd(g));if(($=$.umod(this.n)).cmpn(0)!==0){var D=(q.getY().isOdd()?1:0)|(K.cmp(ie)!==0?2:0);return w.canonical&&$.cmp(this.nh)>0&&($=this.n.sub($),D^=1),new a({r:ie,s:$,recoveryParam:D})}}}}}},l.prototype.verify=function(g,b,d,w){g=this._truncateToN(new p(g,16)),d=this.keyFromPublic(d,w);var y=(b=new a(b,"hex")).r,T=b.s;if(y.cmpn(1)<0||y.cmp(this.n)>=0||T.cmpn(1)<0||T.cmp(this.n)>=0)return!1;var M,j=T.invm(this.n),X=j.mul(g).umod(this.n),Y=j.mul(y).umod(this.n);return this.curve._maxwellTrick?!(M=this.g.jmulAdd(X,d.getPublic(),Y)).isInfinity()&&M.eqXToP(y):!(M=this.g.mulAdd(X,d.getPublic(),Y)).isInfinity()&&M.getX().umod(this.n).cmp(y)===0},l.prototype.recoverPubKey=function(g,b,d,w){n((3&d)===d,"The recovery param is more than two bits"),b=new a(b,w);var y=this.n,T=new p(g),M=b.r,j=b.s,X=1&d,Y=d>>1;if(M.cmp(this.curve.p.umod(this.curve.n))>=0&&Y)throw new Error("Unable to find sencond key candinate");M=Y?this.curve.pointFromX(M.add(this.curve.n),X):this.curve.pointFromX(M,X);var W=b.r.invm(y),q=y.sub(T).mul(W).umod(y),K=j.mul(W).umod(y);return this.g.mulAdd(q,M,K)},l.prototype.getKeyRecoveryParam=function(g,b,d,w){if((b=new a(b,w)).recoveryParam!==null)return b.recoveryParam;for(var y=0;y<4;y++){var T;try{T=this.recoverPubKey(g,b,y)}catch{continue}if(T.eq(d))return y}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(r,I,k){var p=r("bn.js"),u=r("../utils").assert;function f(i,t){this.ec=i,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}I.exports=f,f.fromPublic=function(i,t,n){return t instanceof f?t:new f(i,{pub:t,pubEnc:n})},f.fromPrivate=function(i,t,n){return t instanceof f?t:new f(i,{priv:t,privEnc:n})},f.prototype.validate=function(){var i=this.getPublic();return i.isInfinity()?{result:!1,reason:"Invalid public key"}:i.validate()?i.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},f.prototype.getPublic=function(i,t){return typeof i=="string"&&(t=i,i=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,i):this.pub},f.prototype.getPrivate=function(i){return i==="hex"?this.priv.toString(16,2):this.priv},f.prototype._importPrivate=function(i,t){this.priv=new p(i,t||16),this.priv=this.priv.umod(this.ec.curve.n)},f.prototype._importPublic=function(i,t){if(i.x||i.y)return this.ec.curve.type==="mont"?u(i.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||u(i.x&&i.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(i.x,i.y));this.pub=this.ec.curve.decodePoint(i,t)},f.prototype.derive=function(i){return i.validate()||u(i.validate(),"public point not validated"),i.mul(this.priv).getX()},f.prototype.sign=function(i,t,n){return this.ec.sign(i,this,t,n)},f.prototype.verify=function(i,t){return this.ec.verify(i,t,this)},f.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(r,I,k){var p=r("bn.js"),u=r("../utils"),f=u.assert;function i(l,g){if(l instanceof i)return l;this._importDER(l,g)||(f(l.r&&l.s,"Signature without r or s"),this.r=new p(l.r,16),this.s=new p(l.s,16),l.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=l.recoveryParam)}function t(){this.place=0}function n(l,g){var b=l[g.place++];if(!(128&b))return b;var d=15&b;if(d===0||d>4)return!1;for(var w=0,y=0,T=g.place;y<d;y++,T++)w<<=8,w|=l[T],w>>>=0;return!(w<=127)&&(g.place=T,w)}function c(l){for(var g=0,b=l.length-1;!l[g]&&!(128&l[g+1])&&g<b;)g++;return g===0?l:l.slice(g)}function a(l,g){if(g<128)l.push(g);else{var b=1+(Math.log(g)/Math.LN2>>>3);for(l.push(128|b);--b;)l.push(g>>>(b<<3)&255);l.push(g)}}I.exports=i,i.prototype._importDER=function(l,g){l=u.toArray(l,g);var b=new t;if(l[b.place++]!==48)return!1;var d=n(l,b);if(d===!1||d+b.place!==l.length||l[b.place++]!==2)return!1;var w=n(l,b);if(w===!1)return!1;var y=l.slice(b.place,w+b.place);if(b.place+=w,l[b.place++]!==2)return!1;var T=n(l,b);if(T===!1||l.length!==T+b.place)return!1;var M=l.slice(b.place,T+b.place);if(y[0]===0){if(!(128&y[1]))return!1;y=y.slice(1)}if(M[0]===0){if(!(128&M[1]))return!1;M=M.slice(1)}return this.r=new p(y),this.s=new p(M),this.recoveryParam=null,!0},i.prototype.toDER=function(l){var g=this.r.toArray(),b=this.s.toArray();for(128&g[0]&&(g=[0].concat(g)),128&b[0]&&(b=[0].concat(b)),g=c(g),b=c(b);!(b[0]||128&b[1]);)b=b.slice(1);var d=[2];a(d,g.length),(d=d.concat(g)).push(2),a(d,b.length);var w=d.concat(b),y=[48];return a(y,w.length),y=y.concat(w),u.encode(y,l)}},{"../utils":419,"bn.js":420}],415:[function(r,I,k){var p=r("hash.js"),u=r("../curves"),f=r("../utils"),i=f.assert,t=f.parseBytes,n=r("./key"),c=r("./signature");function a(l){if(i(l==="ed25519","only tested with ed25519 so far"),!(this instanceof a))return new a(l);l=u[l].curve,this.curve=l,this.g=l.g,this.g.precompute(l.n.bitLength()+1),this.pointClass=l.point().constructor,this.encodingLength=Math.ceil(l.n.bitLength()/8),this.hash=p.sha512}I.exports=a,a.prototype.sign=function(l,g){l=t(l);var b=this.keyFromSecret(g),d=this.hashInt(b.messagePrefix(),l),w=this.g.mul(d),y=this.encodePoint(w),T=this.hashInt(y,b.pubBytes(),l).mul(b.priv()),M=d.add(T).umod(this.curve.n);return this.makeSignature({R:w,S:M,Rencoded:y})},a.prototype.verify=function(l,g,b){l=t(l),g=this.makeSignature(g);var d=this.keyFromPublic(b),w=this.hashInt(g.Rencoded(),d.pubBytes(),l),y=this.g.mul(g.S());return g.R().add(d.pub().mul(w)).eq(y)},a.prototype.hashInt=function(){for(var l=this.hash(),g=0;g<arguments.length;g++)l.update(arguments[g]);return f.intFromLE(l.digest()).umod(this.curve.n)},a.prototype.keyFromPublic=function(l){return n.fromPublic(this,l)},a.prototype.keyFromSecret=function(l){return n.fromSecret(this,l)},a.prototype.makeSignature=function(l){return l instanceof c?l:new c(this,l)},a.prototype.encodePoint=function(l){var g=l.getY().toArray("le",this.encodingLength);return g[this.encodingLength-1]|=l.getX().isOdd()?128:0,g},a.prototype.decodePoint=function(l){var g=(l=f.parseBytes(l)).length-1,b=l.slice(0,g).concat(-129&l[g]),d=(128&l[g])!=0,w=f.intFromLE(b);return this.curve.pointFromY(w,d)},a.prototype.encodeInt=function(l){return l.toArray("le",this.encodingLength)},a.prototype.decodeInt=function(l){return f.intFromLE(l)},a.prototype.isPoint=function(l){return l instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(r,I,k){var p=r("../utils"),u=p.assert,f=p.parseBytes,i=p.cachedProperty;function t(n,c){this.eddsa=n,this._secret=f(c.secret),n.isPoint(c.pub)?this._pub=c.pub:this._pubBytes=f(c.pub)}t.fromPublic=function(n,c){return c instanceof t?c:new t(n,{pub:c})},t.fromSecret=function(n,c){return c instanceof t?c:new t(n,{secret:c})},t.prototype.secret=function(){return this._secret},i(t,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),i(t,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),i(t,"privBytes",function(){var n=this.eddsa,c=this.hash(),a=n.encodingLength-1,l=c.slice(0,n.encodingLength);return l[0]&=248,l[a]&=127,l[a]|=64,l}),i(t,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),i(t,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),i(t,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),t.prototype.sign=function(n){return u(this._secret,"KeyPair can only verify"),this.eddsa.sign(n,this)},t.prototype.verify=function(n,c){return this.eddsa.verify(n,c,this)},t.prototype.getSecret=function(n){return u(this._secret,"KeyPair is public only"),p.encode(this.secret(),n)},t.prototype.getPublic=function(n){return p.encode(this.pubBytes(),n)},I.exports=t},{"../utils":419}],417:[function(r,I,k){var p=r("bn.js"),u=r("../utils"),f=u.assert,i=u.cachedProperty,t=u.parseBytes;function n(c,a){this.eddsa=c,typeof a!="object"&&(a=t(a)),Array.isArray(a)&&(a={R:a.slice(0,c.encodingLength),S:a.slice(c.encodingLength)}),f(a.R&&a.S,"Signature without R or S"),c.isPoint(a.R)&&(this._R=a.R),a.S instanceof p&&(this._S=a.S),this._Rencoded=Array.isArray(a.R)?a.R:a.Rencoded,this._Sencoded=Array.isArray(a.S)?a.S:a.Sencoded}i(n,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),i(n,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),i(n,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),i(n,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),n.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},n.prototype.toHex=function(){return u.encode(this.toBytes(),"hex").toUpperCase()},I.exports=n},{"../utils":419,"bn.js":420}],418:[function(r,I,k){I.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(r,I,k){var p=k,u=r("bn.js"),f=r("minimalistic-assert"),i=r("minimalistic-crypto-utils");p.assert=f,p.toArray=i.toArray,p.zero2=i.zero2,p.toHex=i.toHex,p.encode=i.encode,p.getNAF=function(t,n,c){var a=new Array(Math.max(t.bitLength(),c)+1);a.fill(0);for(var l=1<<n+1,g=t.clone(),b=0;b<a.length;b++){var d,w=g.andln(l-1);g.isOdd()?(d=w>(l>>1)-1?(l>>1)-w:w,g.isubn(d)):d=0,a[b]=d,g.iushrn(1)}return a},p.getJSF=function(t,n){var c=[[],[]];t=t.clone(),n=n.clone();for(var a,l=0,g=0;t.cmpn(-l)>0||n.cmpn(-g)>0;){var b,d,w=t.andln(3)+l&3,y=n.andln(3)+g&3;w===3&&(w=-1),y===3&&(y=-1),b=(1&w)==0?0:(a=t.andln(7)+l&7)!==3&&a!==5||y!==2?w:-w,c[0].push(b),d=(1&y)==0?0:(a=n.andln(7)+g&7)!==3&&a!==5||w!==2?y:-y,c[1].push(d),2*l===b+1&&(l=1-l),2*g===d+1&&(g=1-g),t.iushrn(1),n.iushrn(1)}return c},p.cachedProperty=function(t,n,c){var a="_"+n;t.prototype[n]=function(){return this[a]!==void 0?this[a]:this[a]=c.call(this)}},p.parseBytes=function(t){return typeof t=="string"?p.toArray(t,"hex"):t},p.intFromLE=function(t){return new u(t,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(r,I,k){arguments[4][184][0].apply(k,arguments)},{buffer:188,dup:184}],421:[function(r,I,k){I.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(r,I,k){var p=Object.create||function(W){var q=function(){};return q.prototype=W,new q},u=Object.keys||function(W){var q=[];for(var K in W)Object.prototype.hasOwnProperty.call(W,K)&&q.push(K);return K},f=Function.prototype.bind||function(W){var q=this;return function(){return q.apply(W,arguments)}};function i(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=p(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}I.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0;var t,n=10;try{var c={};Object.defineProperty&&Object.defineProperty(c,"x",{value:0}),t=c.x===0}catch{t=!1}function a(W){return W._maxListeners===void 0?i.defaultMaxListeners:W._maxListeners}function l(W,q,K){if(q)W.call(K);else for(var ie=W.length,$=Y(W,ie),D=0;D<ie;++D)$[D].call(K)}function g(W,q,K,ie){if(q)W.call(K,ie);else for(var $=W.length,D=Y(W,$),F=0;F<$;++F)D[F].call(K,ie)}function b(W,q,K,ie,$){if(q)W.call(K,ie,$);else for(var D=W.length,F=Y(W,D),A=0;A<D;++A)F[A].call(K,ie,$)}function d(W,q,K,ie,$,D){if(q)W.call(K,ie,$,D);else for(var F=W.length,A=Y(W,F),v=0;v<F;++v)A[v].call(K,ie,$,D)}function w(W,q,K,ie){if(q)W.apply(K,ie);else for(var $=W.length,D=Y(W,$),F=0;F<$;++F)D[F].apply(K,ie)}function y(W,q,K,ie){var $,D,F;if(typeof K!="function")throw new TypeError('"listener" argument must be a function');if((D=W._events)?(D.newListener&&(W.emit("newListener",q,K.listener?K.listener:K),D=W._events),F=D[q]):(D=W._events=p(null),W._eventsCount=0),F){if(typeof F=="function"?F=D[q]=ie?[K,F]:[F,K]:ie?F.unshift(K):F.push(K),!F.warned&&($=a(W))&&$>0&&F.length>$){F.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+F.length+' "'+String(q)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');A.name="MaxListenersExceededWarning",A.emitter=W,A.type=q,A.count=F.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",A.name,A.message)}}else F=D[q]=K,++W._eventsCount;return W}function T(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var W=new Array(arguments.length),q=0;q<W.length;++q)W[q]=arguments[q];this.listener.apply(this.target,W)}}function M(W,q,K){var ie={fired:!1,wrapFn:void 0,target:W,type:q,listener:K},$=f.call(T,ie);return $.listener=K,ie.wrapFn=$,$}function j(W,q,K){var ie=W._events;if(!ie)return[];var $=ie[q];return $?typeof $=="function"?K?[$.listener||$]:[$]:K?function(D){for(var F=new Array(D.length),A=0;A<F.length;++A)F[A]=D[A].listener||D[A];return F}($):Y($,$.length):[]}function X(W){var q=this._events;if(q){var K=q[W];if(typeof K=="function")return 1;if(K)return K.length}return 0}function Y(W,q){for(var K=new Array(q),ie=0;ie<q;++ie)K[ie]=W[ie];return K}t?Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return n},set:function(W){if(typeof W!="number"||W<0||W!=W)throw new TypeError('"defaultMaxListeners" must be a positive number');n=W}}):i.defaultMaxListeners=n,i.prototype.setMaxListeners=function(W){if(typeof W!="number"||W<0||isNaN(W))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=W,this},i.prototype.getMaxListeners=function(){return a(this)},i.prototype.emit=function(W){var q,K,ie,$,D,F,A=W==="error";if(F=this._events)A=A&&F.error==null;else if(!A)return!1;if(A){if(arguments.length>1&&(q=arguments[1]),q instanceof Error)throw q;var v=new Error('Unhandled "error" event. ('+q+")");throw v.context=q,v}if(!(K=F[W]))return!1;var _=typeof K=="function";switch(ie=arguments.length){case 1:l(K,_,this);break;case 2:g(K,_,this,arguments[1]);break;case 3:b(K,_,this,arguments[1],arguments[2]);break;case 4:d(K,_,this,arguments[1],arguments[2],arguments[3]);break;default:for($=new Array(ie-1),D=1;D<ie;D++)$[D-1]=arguments[D];w(K,_,this,$)}return!0},i.prototype.addListener=function(W,q){return y(this,W,q,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(W,q){return y(this,W,q,!0)},i.prototype.once=function(W,q){if(typeof q!="function")throw new TypeError('"listener" argument must be a function');return this.on(W,M(this,W,q)),this},i.prototype.prependOnceListener=function(W,q){if(typeof q!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(W,M(this,W,q)),this},i.prototype.removeListener=function(W,q){var K,ie,$,D,F;if(typeof q!="function")throw new TypeError('"listener" argument must be a function');if(!(ie=this._events))return this;if(!(K=ie[W]))return this;if(K===q||K.listener===q)--this._eventsCount==0?this._events=p(null):(delete ie[W],ie.removeListener&&this.emit("removeListener",W,K.listener||q));else if(typeof K!="function"){for($=-1,D=K.length-1;D>=0;D--)if(K[D]===q||K[D].listener===q){F=K[D].listener,$=D;break}if($<0)return this;$===0?K.shift():function(A,v){for(var _=v,S=_+1,C=A.length;S<C;_+=1,S+=1)A[_]=A[S];A.pop()}(K,$),K.length===1&&(ie[W]=K[0]),ie.removeListener&&this.emit("removeListener",W,F||q)}return this},i.prototype.removeAllListeners=function(W){var q,K,ie;if(!(K=this._events))return this;if(!K.removeListener)return arguments.length===0?(this._events=p(null),this._eventsCount=0):K[W]&&(--this._eventsCount==0?this._events=p(null):delete K[W]),this;if(arguments.length===0){var $,D=u(K);for(ie=0;ie<D.length;++ie)($=D[ie])!=="removeListener"&&this.removeAllListeners($);return this.removeAllListeners("removeListener"),this._events=p(null),this._eventsCount=0,this}if(typeof(q=K[W])=="function")this.removeListener(W,q);else if(q)for(ie=q.length-1;ie>=0;ie--)this.removeListener(W,q[ie]);return this},i.prototype.listeners=function(W){return j(this,W,!0)},i.prototype.rawListeners=function(W){return j(this,W,!1)},i.listenerCount=function(W,q){return typeof W.listenerCount=="function"?W.listenerCount(q):X.call(W,q)},i.prototype.listenerCount=X,i.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(r,I,k){var p=r("safe-buffer").Buffer,u=r("md5.js");I.exports=function(f,i,t,n){if(p.isBuffer(f)||(f=p.from(f,"binary")),i&&(p.isBuffer(i)||(i=p.from(i,"binary")),i.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var c=t/8,a=p.alloc(c),l=p.alloc(n||0),g=p.alloc(0);c>0||n>0;){var b=new u;b.update(g),b.update(f),i&&b.update(i),g=b.digest();var d=0;if(c>0){var w=a.length-c;d=Math.min(c,g.length),g.copy(a,w,0,d),c-=d}if(d<g.length&&n>0){var y=l.length-n,T=Math.min(n,g.length-d);g.copy(l,y,d,d+T),n-=T}}return g.fill(0),{key:a,iv:l}}},{"md5.js":450,"safe-buffer":494}],424:[function(r,I,k){Object.defineProperty(k,"__esModule",{value:!0}),k.CsvParserStream=k.ParserOptions=k.parseFile=k.parseStream=k.parseString=k.parse=k.FormatterOptions=k.CsvFormatterStream=k.writeToPath=k.writeToString=k.writeToBuffer=k.writeToStream=k.write=k.format=void 0;var p=r("@fast-csv/format");Object.defineProperty(k,"format",{enumerable:!0,get:function(){return p.format}}),Object.defineProperty(k,"write",{enumerable:!0,get:function(){return p.write}}),Object.defineProperty(k,"writeToStream",{enumerable:!0,get:function(){return p.writeToStream}}),Object.defineProperty(k,"writeToBuffer",{enumerable:!0,get:function(){return p.writeToBuffer}}),Object.defineProperty(k,"writeToString",{enumerable:!0,get:function(){return p.writeToString}}),Object.defineProperty(k,"writeToPath",{enumerable:!0,get:function(){return p.writeToPath}}),Object.defineProperty(k,"CsvFormatterStream",{enumerable:!0,get:function(){return p.CsvFormatterStream}}),Object.defineProperty(k,"FormatterOptions",{enumerable:!0,get:function(){return p.FormatterOptions}});var u=r("@fast-csv/parse");Object.defineProperty(k,"parse",{enumerable:!0,get:function(){return u.parse}}),Object.defineProperty(k,"parseString",{enumerable:!0,get:function(){return u.parseString}}),Object.defineProperty(k,"parseStream",{enumerable:!0,get:function(){return u.parseStream}}),Object.defineProperty(k,"parseFile",{enumerable:!0,get:function(){return u.parseFile}}),Object.defineProperty(k,"ParserOptions",{enumerable:!0,get:function(){return u.ParserOptions}}),Object.defineProperty(k,"CsvParserStream",{enumerable:!0,get:function(){return u.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(r,I,k){var p=r("safe-buffer").Buffer,u=r("readable-stream").Transform;function f(i){u.call(this),this._block=p.allocUnsafe(i),this._blockSize=i,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r("inherits")(f,u),f.prototype._transform=function(i,t,n){var c=null;try{this.update(i,t)}catch(a){c=a}n(c)},f.prototype._flush=function(i){var t=null;try{this.push(this.digest())}catch(n){t=n}i(t)},f.prototype.update=function(i,t){if(function(b,d){if(!p.isBuffer(b)&&typeof b!="string")throw new TypeError(d+" must be a string or a buffer")}(i,"Data"),this._finalized)throw new Error("Digest already called");p.isBuffer(i)||(i=p.from(i,t));for(var n=this._block,c=0;this._blockOffset+i.length-c>=this._blockSize;){for(var a=this._blockOffset;a<this._blockSize;)n[a++]=i[c++];this._update(),this._blockOffset=0}for(;c<i.length;)n[this._blockOffset++]=i[c++];for(var l=0,g=8*i.length;g>0;++l)this._length[l]+=g,(g=this._length[l]/4294967296|0)>0&&(this._length[l]-=4294967296*g);return this},f.prototype._update=function(){throw new Error("_update is not implemented")},f.prototype.digest=function(i){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();i!==void 0&&(t=t.toString(i)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},f.prototype._digest=function(){throw new Error("_digest is not implemented")},I.exports=f},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(r,I,k){var p=k;p.utils=r("./hash/utils"),p.common=r("./hash/common"),p.sha=r("./hash/sha"),p.ripemd=r("./hash/ripemd"),p.hmac=r("./hash/hmac"),p.sha1=p.sha.sha1,p.sha256=p.sha.sha256,p.sha224=p.sha.sha224,p.sha384=p.sha.sha384,p.sha512=p.sha.sha512,p.ripemd160=p.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(r,I,k){var p=r("./utils"),u=r("minimalistic-assert");function f(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}k.BlockHash=f,f.prototype.update=function(i,t){if(i=p.toArray(i,t),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){var n=(i=this.pending).length%this._delta8;this.pending=i.slice(i.length-n,i.length),this.pending.length===0&&(this.pending=null),i=p.join32(i,0,i.length-n,this.endian);for(var c=0;c<i.length;c+=this._delta32)this._update(i,c,c+this._delta32)}return this},f.prototype.digest=function(i){return this.update(this._pad()),u(this.pending===null),this._digest(i)},f.prototype._pad=function(){var i=this.pendingTotal,t=this._delta8,n=t-(i+this.padLength)%t,c=new Array(n+this.padLength);c[0]=128;for(var a=1;a<n;a++)c[a]=0;if(i<<=3,this.endian==="big"){for(var l=8;l<this.padLength;l++)c[a++]=0;c[a++]=0,c[a++]=0,c[a++]=0,c[a++]=0,c[a++]=i>>>24&255,c[a++]=i>>>16&255,c[a++]=i>>>8&255,c[a++]=255&i}else for(c[a++]=255&i,c[a++]=i>>>8&255,c[a++]=i>>>16&255,c[a++]=i>>>24&255,c[a++]=0,c[a++]=0,c[a++]=0,c[a++]=0,l=8;l<this.padLength;l++)c[a++]=0;return c}},{"./utils":437,"minimalistic-assert":453}],428:[function(r,I,k){var p=r("./utils"),u=r("minimalistic-assert");function f(i,t,n){if(!(this instanceof f))return new f(i,t,n);this.Hash=i,this.blockSize=i.blockSize/8,this.outSize=i.outSize/8,this.inner=null,this.outer=null,this._init(p.toArray(t,n))}I.exports=f,f.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),u(i.length<=this.blockSize);for(var t=i.length;t<this.blockSize;t++)i.push(0);for(t=0;t<i.length;t++)i[t]^=54;for(this.inner=new this.Hash().update(i),t=0;t<i.length;t++)i[t]^=106;this.outer=new this.Hash().update(i)},f.prototype.update=function(i,t){return this.inner.update(i,t),this},f.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)}},{"./utils":437,"minimalistic-assert":453}],429:[function(r,I,k){var p=r("./utils"),u=r("./common"),f=p.rotl32,i=p.sum32,t=p.sum32_3,n=p.sum32_4,c=u.BlockHash;function a(){if(!(this instanceof a))return new a;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function l(M,j,X,Y){return M<=15?j^X^Y:M<=31?j&X|~j&Y:M<=47?(j|~X)^Y:M<=63?j&Y|X&~Y:j^(X|~Y)}function g(M){return M<=15?0:M<=31?1518500249:M<=47?1859775393:M<=63?2400959708:2840853838}function b(M){return M<=15?1352829926:M<=31?1548603684:M<=47?1836072691:M<=63?2053994217:0}p.inherits(a,c),k.ripemd160=a,a.blockSize=512,a.outSize=160,a.hmacStrength=192,a.padLength=64,a.prototype._update=function(M,j){for(var X=this.h[0],Y=this.h[1],W=this.h[2],q=this.h[3],K=this.h[4],ie=X,$=Y,D=W,F=q,A=K,v=0;v<80;v++){var _=i(f(n(X,l(v,Y,W,q),M[d[v]+j],g(v)),y[v]),K);X=K,K=q,q=f(W,10),W=Y,Y=_,_=i(f(n(ie,l(79-v,$,D,F),M[w[v]+j],b(v)),T[v]),A),ie=A,A=F,F=f(D,10),D=$,$=_}_=t(this.h[1],W,F),this.h[1]=t(this.h[2],q,A),this.h[2]=t(this.h[3],K,ie),this.h[3]=t(this.h[4],X,$),this.h[4]=t(this.h[0],Y,D),this.h[0]=_},a.prototype._digest=function(M){return M==="hex"?p.toHex32(this.h,"little"):p.split32(this.h,"little")};var d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],w=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],T=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(r,I,k){k.sha1=r("./sha/1"),k.sha224=r("./sha/224"),k.sha256=r("./sha/256"),k.sha384=r("./sha/384"),k.sha512=r("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(r,I,k){var p=r("../utils"),u=r("../common"),f=r("./common"),i=p.rotl32,t=p.sum32,n=p.sum32_5,c=f.ft_1,a=u.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function g(){if(!(this instanceof g))return new g;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}p.inherits(g,a),I.exports=g,g.blockSize=512,g.outSize=160,g.hmacStrength=80,g.padLength=64,g.prototype._update=function(b,d){for(var w=this.W,y=0;y<16;y++)w[y]=b[d+y];for(;y<w.length;y++)w[y]=i(w[y-3]^w[y-8]^w[y-14]^w[y-16],1);var T=this.h[0],M=this.h[1],j=this.h[2],X=this.h[3],Y=this.h[4];for(y=0;y<w.length;y++){var W=~~(y/20),q=n(i(T,5),c(W,M,j,X),Y,w[y],l[W]);Y=X,X=j,j=i(M,30),M=T,T=q}this.h[0]=t(this.h[0],T),this.h[1]=t(this.h[1],M),this.h[2]=t(this.h[2],j),this.h[3]=t(this.h[3],X),this.h[4]=t(this.h[4],Y)},g.prototype._digest=function(b){return b==="hex"?p.toHex32(this.h,"big"):p.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(r,I,k){var p=r("../utils"),u=r("./256");function f(){if(!(this instanceof f))return new f;u.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}p.inherits(f,u),I.exports=f,f.blockSize=512,f.outSize=224,f.hmacStrength=192,f.padLength=64,f.prototype._digest=function(i){return i==="hex"?p.toHex32(this.h.slice(0,7),"big"):p.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(r,I,k){var p=r("../utils"),u=r("../common"),f=r("./common"),i=r("minimalistic-assert"),t=p.sum32,n=p.sum32_4,c=p.sum32_5,a=f.ch32,l=f.maj32,g=f.s0_256,b=f.s1_256,d=f.g0_256,w=f.g1_256,y=u.BlockHash,T=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function M(){if(!(this instanceof M))return new M;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=T,this.W=new Array(64)}p.inherits(M,y),I.exports=M,M.blockSize=512,M.outSize=256,M.hmacStrength=192,M.padLength=64,M.prototype._update=function(j,X){for(var Y=this.W,W=0;W<16;W++)Y[W]=j[X+W];for(;W<Y.length;W++)Y[W]=n(w(Y[W-2]),Y[W-7],d(Y[W-15]),Y[W-16]);var q=this.h[0],K=this.h[1],ie=this.h[2],$=this.h[3],D=this.h[4],F=this.h[5],A=this.h[6],v=this.h[7];for(i(this.k.length===Y.length),W=0;W<Y.length;W++){var _=c(v,b(D),a(D,F,A),this.k[W],Y[W]),S=t(g(q),l(q,K,ie));v=A,A=F,F=D,D=t($,_),$=ie,ie=K,K=q,q=t(_,S)}this.h[0]=t(this.h[0],q),this.h[1]=t(this.h[1],K),this.h[2]=t(this.h[2],ie),this.h[3]=t(this.h[3],$),this.h[4]=t(this.h[4],D),this.h[5]=t(this.h[5],F),this.h[6]=t(this.h[6],A),this.h[7]=t(this.h[7],v)},M.prototype._digest=function(j){return j==="hex"?p.toHex32(this.h,"big"):p.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(r,I,k){var p=r("../utils"),u=r("./512");function f(){if(!(this instanceof f))return new f;u.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}p.inherits(f,u),I.exports=f,f.blockSize=1024,f.outSize=384,f.hmacStrength=192,f.padLength=128,f.prototype._digest=function(i){return i==="hex"?p.toHex32(this.h.slice(0,12),"big"):p.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(r,I,k){var p=r("../utils"),u=r("../common"),f=r("minimalistic-assert"),i=p.rotr64_hi,t=p.rotr64_lo,n=p.shr64_hi,c=p.shr64_lo,a=p.sum64,l=p.sum64_hi,g=p.sum64_lo,b=p.sum64_4_hi,d=p.sum64_4_lo,w=p.sum64_5_hi,y=p.sum64_5_lo,T=u.BlockHash,M=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function j(){if(!(this instanceof j))return new j;T.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=M,this.W=new Array(160)}function X(S,C,O,B,z){var re=S&O^~S&z;return re<0&&(re+=4294967296),re}function Y(S,C,O,B,z,re){var ne=C&B^~C&re;return ne<0&&(ne+=4294967296),ne}function W(S,C,O,B,z){var re=S&O^S&z^O&z;return re<0&&(re+=4294967296),re}function q(S,C,O,B,z,re){var ne=C&B^C&re^B&re;return ne<0&&(ne+=4294967296),ne}function K(S,C){var O=i(S,C,28)^i(C,S,2)^i(C,S,7);return O<0&&(O+=4294967296),O}function ie(S,C){var O=t(S,C,28)^t(C,S,2)^t(C,S,7);return O<0&&(O+=4294967296),O}function $(S,C){var O=i(S,C,14)^i(S,C,18)^i(C,S,9);return O<0&&(O+=4294967296),O}function D(S,C){var O=t(S,C,14)^t(S,C,18)^t(C,S,9);return O<0&&(O+=4294967296),O}function F(S,C){var O=i(S,C,1)^i(S,C,8)^n(S,C,7);return O<0&&(O+=4294967296),O}function A(S,C){var O=t(S,C,1)^t(S,C,8)^c(S,C,7);return O<0&&(O+=4294967296),O}function v(S,C){var O=i(S,C,19)^i(C,S,29)^n(S,C,6);return O<0&&(O+=4294967296),O}function _(S,C){var O=t(S,C,19)^t(C,S,29)^c(S,C,6);return O<0&&(O+=4294967296),O}p.inherits(j,T),I.exports=j,j.blockSize=1024,j.outSize=512,j.hmacStrength=192,j.padLength=128,j.prototype._prepareBlock=function(S,C){for(var O=this.W,B=0;B<32;B++)O[B]=S[C+B];for(;B<O.length;B+=2){var z=v(O[B-4],O[B-3]),re=_(O[B-4],O[B-3]),ne=O[B-14],de=O[B-13],H=F(O[B-30],O[B-29]),ae=A(O[B-30],O[B-29]),U=O[B-32],L=O[B-31];O[B]=b(z,re,ne,de,H,ae,U,L),O[B+1]=d(z,re,ne,de,H,ae,U,L)}},j.prototype._update=function(S,C){this._prepareBlock(S,C);var O=this.W,B=this.h[0],z=this.h[1],re=this.h[2],ne=this.h[3],de=this.h[4],H=this.h[5],ae=this.h[6],U=this.h[7],L=this.h[8],ee=this.h[9],ce=this.h[10],ve=this.h[11],he=this.h[12],xe=this.h[13],_e=this.h[14],Re=this.h[15];f(this.k.length===O.length);for(var pe=0;pe<O.length;pe+=2){var Ae=_e,Se=Re,Ue=$(L,ee),ke=D(L,ee),We=X(L,ee,ce,ve,he),$e=Y(L,ee,ce,ve,he,xe),Ze=this.k[pe],lt=this.k[pe+1],xt=O[pe],Tt=O[pe+1],gt=w(Ae,Se,Ue,ke,We,$e,Ze,lt,xt,Tt),Mt=y(Ae,Se,Ue,ke,We,$e,Ze,lt,xt,Tt);Ae=K(B,z),Se=ie(B,z),Ue=W(B,z,re,ne,de),ke=q(B,z,re,ne,de,H);var Ft=l(Ae,Se,Ue,ke),Bt=g(Ae,Se,Ue,ke);_e=he,Re=xe,he=ce,xe=ve,ce=L,ve=ee,L=l(ae,U,gt,Mt),ee=g(U,U,gt,Mt),ae=de,U=H,de=re,H=ne,re=B,ne=z,B=l(gt,Mt,Ft,Bt),z=g(gt,Mt,Ft,Bt)}a(this.h,0,B,z),a(this.h,2,re,ne),a(this.h,4,de,H),a(this.h,6,ae,U),a(this.h,8,L,ee),a(this.h,10,ce,ve),a(this.h,12,he,xe),a(this.h,14,_e,Re)},j.prototype._digest=function(S){return S==="hex"?p.toHex32(this.h,"big"):p.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(r,I,k){var p=r("../utils").rotr32;function u(t,n,c){return t&n^~t&c}function f(t,n,c){return t&n^t&c^n&c}function i(t,n,c){return t^n^c}k.ft_1=function(t,n,c,a){return t===0?u(n,c,a):t===1||t===3?i(n,c,a):t===2?f(n,c,a):void 0},k.ch32=u,k.maj32=f,k.p32=i,k.s0_256=function(t){return p(t,2)^p(t,13)^p(t,22)},k.s1_256=function(t){return p(t,6)^p(t,11)^p(t,25)},k.g0_256=function(t){return p(t,7)^p(t,18)^t>>>3},k.g1_256=function(t){return p(t,17)^p(t,19)^t>>>10}},{"../utils":437}],437:[function(r,I,k){var p=r("minimalistic-assert"),u=r("inherits");function f(c,a){return(64512&c.charCodeAt(a))==55296&&!(a<0||a+1>=c.length)&&(64512&c.charCodeAt(a+1))==56320}function i(c){return(c>>>24|c>>>8&65280|c<<8&16711680|(255&c)<<24)>>>0}function t(c){return c.length===1?"0"+c:c}function n(c){return c.length===7?"0"+c:c.length===6?"00"+c:c.length===5?"000"+c:c.length===4?"0000"+c:c.length===3?"00000"+c:c.length===2?"000000"+c:c.length===1?"0000000"+c:c}k.inherits=u,k.toArray=function(c,a){if(Array.isArray(c))return c.slice();if(!c)return[];var l=[];if(typeof c=="string")if(a){if(a==="hex")for((c=c.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(c="0"+c),b=0;b<c.length;b+=2)l.push(parseInt(c[b]+c[b+1],16))}else for(var g=0,b=0;b<c.length;b++){var d=c.charCodeAt(b);d<128?l[g++]=d:d<2048?(l[g++]=d>>6|192,l[g++]=63&d|128):f(c,b)?(d=65536+((1023&d)<<10)+(1023&c.charCodeAt(++b)),l[g++]=d>>18|240,l[g++]=d>>12&63|128,l[g++]=d>>6&63|128,l[g++]=63&d|128):(l[g++]=d>>12|224,l[g++]=d>>6&63|128,l[g++]=63&d|128)}else for(b=0;b<c.length;b++)l[b]=0|c[b];return l},k.toHex=function(c){for(var a="",l=0;l<c.length;l++)a+=t(c[l].toString(16));return a},k.htonl=i,k.toHex32=function(c,a){for(var l="",g=0;g<c.length;g++){var b=c[g];a==="little"&&(b=i(b)),l+=n(b.toString(16))}return l},k.zero2=t,k.zero8=n,k.join32=function(c,a,l,g){var b=l-a;p(b%4==0);for(var d=new Array(b/4),w=0,y=a;w<d.length;w++,y+=4){var T;T=g==="big"?c[y]<<24|c[y+1]<<16|c[y+2]<<8|c[y+3]:c[y+3]<<24|c[y+2]<<16|c[y+1]<<8|c[y],d[w]=T>>>0}return d},k.split32=function(c,a){for(var l=new Array(4*c.length),g=0,b=0;g<c.length;g++,b+=4){var d=c[g];a==="big"?(l[b]=d>>>24,l[b+1]=d>>>16&255,l[b+2]=d>>>8&255,l[b+3]=255&d):(l[b+3]=d>>>24,l[b+2]=d>>>16&255,l[b+1]=d>>>8&255,l[b]=255&d)}return l},k.rotr32=function(c,a){return c>>>a|c<<32-a},k.rotl32=function(c,a){return c<<a|c>>>32-a},k.sum32=function(c,a){return c+a>>>0},k.sum32_3=function(c,a,l){return c+a+l>>>0},k.sum32_4=function(c,a,l,g){return c+a+l+g>>>0},k.sum32_5=function(c,a,l,g,b){return c+a+l+g+b>>>0},k.sum64=function(c,a,l,g){var b=c[a],d=g+c[a+1]>>>0,w=(d<g?1:0)+l+b;c[a]=w>>>0,c[a+1]=d},k.sum64_hi=function(c,a,l,g){return(a+g>>>0<a?1:0)+c+l>>>0},k.sum64_lo=function(c,a,l,g){return a+g>>>0},k.sum64_4_hi=function(c,a,l,g,b,d,w,y){var T=0,M=a;return T+=(M=M+g>>>0)<a?1:0,T+=(M=M+d>>>0)<d?1:0,c+l+b+w+(T+=(M=M+y>>>0)<y?1:0)>>>0},k.sum64_4_lo=function(c,a,l,g,b,d,w,y){return a+g+d+y>>>0},k.sum64_5_hi=function(c,a,l,g,b,d,w,y,T,M){var j=0,X=a;return j+=(X=X+g>>>0)<a?1:0,j+=(X=X+d>>>0)<d?1:0,j+=(X=X+y>>>0)<y?1:0,c+l+b+w+T+(j+=(X=X+M>>>0)<M?1:0)>>>0},k.sum64_5_lo=function(c,a,l,g,b,d,w,y,T,M){return a+g+d+y+M>>>0},k.rotr64_hi=function(c,a,l){return(a<<32-l|c>>>l)>>>0},k.rotr64_lo=function(c,a,l){return(c<<32-l|a>>>l)>>>0},k.shr64_hi=function(c,a,l){return c>>>l},k.shr64_lo=function(c,a,l){return(c<<32-l|a>>>l)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(r,I,k){var p=r("hash.js"),u=r("minimalistic-crypto-utils"),f=r("minimalistic-assert");function i(t){if(!(this instanceof i))return new i(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var n=u.toArray(t.entropy,t.entropyEnc||"hex"),c=u.toArray(t.nonce,t.nonceEnc||"hex"),a=u.toArray(t.pers,t.persEnc||"hex");f(n.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(n,c,a)}I.exports=i,i.prototype._init=function(t,n,c){var a=t.concat(n).concat(c);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var l=0;l<this.V.length;l++)this.K[l]=0,this.V[l]=1;this._update(a),this._reseed=1,this.reseedInterval=281474976710656},i.prototype._hmac=function(){return new p.hmac(this.hash,this.K)},i.prototype._update=function(t){var n=this._hmac().update(this.V).update([0]);t&&(n=n.update(t)),this.K=n.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},i.prototype.reseed=function(t,n,c,a){typeof n!="string"&&(a=c,c=n,n=null),t=u.toArray(t,n),c=u.toArray(c,a),f(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(c||[])),this._reseed=1},i.prototype.generate=function(t,n,c,a){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof n!="string"&&(a=c,c=n,n=null),c&&(c=u.toArray(c,a||"hex"),this._update(c));for(var l=[];l.length<t;)this.V=this._hmac().update(this.V).digest(),l=l.concat(this.V);var g=l.slice(0,t);return this._update(c),this._reseed++,u.encode(g,n)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(r,I,k){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */k.read=function(p,u,f,i,t){var n,c,a=8*t-i-1,l=(1<<a)-1,g=l>>1,b=-7,d=f?t-1:0,w=f?-1:1,y=p[u+d];for(d+=w,n=y&(1<<-b)-1,y>>=-b,b+=a;b>0;n=256*n+p[u+d],d+=w,b-=8);for(c=n&(1<<-b)-1,n>>=-b,b+=i;b>0;c=256*c+p[u+d],d+=w,b-=8);if(n===0)n=1-g;else{if(n===l)return c?NaN:1/0*(y?-1:1);c+=Math.pow(2,i),n-=g}return(y?-1:1)*c*Math.pow(2,n-i)},k.write=function(p,u,f,i,t,n){var c,a,l,g=8*n-t-1,b=(1<<g)-1,d=b>>1,w=t===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=i?0:n-1,T=i?1:-1,M=u<0||u===0&&1/u<0?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(a=isNaN(u)?1:0,c=b):(c=Math.floor(Math.log(u)/Math.LN2),u*(l=Math.pow(2,-c))<1&&(c--,l*=2),(u+=c+d>=1?w/l:w*Math.pow(2,1-d))*l>=2&&(c++,l/=2),c+d>=b?(a=0,c=b):c+d>=1?(a=(u*l-1)*Math.pow(2,t),c+=d):(a=u*Math.pow(2,d-1)*Math.pow(2,t),c=0));t>=8;p[f+y]=255&a,y+=T,a/=256,t-=8);for(c=c<<t|a,g+=t;g>0;p[f+y]=255&c,y+=T,c/=256,g-=8);p[f+y-T]|=128*M}},{}],440:[function(r,I,k){typeof Object.create=="function"?I.exports=function(p,u){u&&(p.super_=u,p.prototype=Object.create(u.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}))}:I.exports=function(p,u){if(u){p.super_=u;var f=function(){};f.prototype=u.prototype,p.prototype=new f,p.prototype.constructor=p}}},{}],441:[function(r,I,k){(function(p,u,f,i,t,n,c,a){(function(){/*!

		JSZip v3.10.1 - A JavaScript class for generating and reading zip files
		<http://stuartk.com/jszip>

		(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
		Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

		JSZip uses the library pako released under the MIT license :
		https://github.com/nodeca/pako/blob/main/LICENSE
		*/(function(l){typeof k=="object"&&I!==void 0?I.exports=l():(typeof window<"u"?window:u!==void 0?u:typeof self<"u"?self:this).JSZip=l()})(function(){return function l(g,b,d){function w(M,j){if(!b[M]){if(!g[M]){var X=typeof r=="function"&&r;if(!j&&X)return X(M,!0);if(y)return y(M,!0);var Y=new Error("Cannot find module '"+M+"'");throw Y.code="MODULE_NOT_FOUND",Y}var W=b[M]={exports:{}};g[M][0].call(W.exports,function(q){return w(g[M][1][q]||q)},W,W.exports,l,g,b,d)}return b[M].exports}for(var y=typeof r=="function"&&r,T=0;T<d.length;T++)w(d[T]);return w}({1:[function(l,g,b){var d=l("./utils"),w=l("./support"),y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";b.encode=function(T){for(var M,j,X,Y,W,q,K,ie=[],$=0,D=T.length,F=D,A=d.getTypeOf(T)!=="string";$<T.length;)F=D-$,X=A?(M=T[$++],j=$<D?T[$++]:0,$<D?T[$++]:0):(M=T.charCodeAt($++),j=$<D?T.charCodeAt($++):0,$<D?T.charCodeAt($++):0),Y=M>>2,W=(3&M)<<4|j>>4,q=1<F?(15&j)<<2|X>>6:64,K=2<F?63&X:64,ie.push(y.charAt(Y)+y.charAt(W)+y.charAt(q)+y.charAt(K));return ie.join("")},b.decode=function(T){var M,j,X,Y,W,q,K=0,ie=0,$="data:";if(T.substr(0,$.length)===$)throw new Error("Invalid base64 input, it looks like a data url.");var D,F=3*(T=T.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(T.charAt(T.length-1)===y.charAt(64)&&F--,T.charAt(T.length-2)===y.charAt(64)&&F--,F%1!=0)throw new Error("Invalid base64 input, bad content length.");for(D=w.uint8array?new Uint8Array(0|F):new Array(0|F);K<T.length;)M=y.indexOf(T.charAt(K++))<<2|(Y=y.indexOf(T.charAt(K++)))>>4,j=(15&Y)<<4|(W=y.indexOf(T.charAt(K++)))>>2,X=(3&W)<<6|(q=y.indexOf(T.charAt(K++))),D[ie++]=M,W!==64&&(D[ie++]=j),q!==64&&(D[ie++]=X);return D}},{"./support":30,"./utils":32}],2:[function(l,g,b){var d=l("./external"),w=l("./stream/DataWorker"),y=l("./stream/Crc32Probe"),T=l("./stream/DataLengthProbe");function M(j,X,Y,W,q){this.compressedSize=j,this.uncompressedSize=X,this.crc32=Y,this.compression=W,this.compressedContent=q}M.prototype={getContentWorker:function(){var j=new w(d.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new T("data_length")),X=this;return j.on("end",function(){if(this.streamInfo.data_length!==X.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),j},getCompressedWorker:function(){return new w(d.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},M.createWorkerFrom=function(j,X,Y){return j.pipe(new y).pipe(new T("uncompressedSize")).pipe(X.compressWorker(Y)).pipe(new T("compressedSize")).withStreamInfo("compression",X)},g.exports=M},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(l,g,b){var d=l("./stream/GenericWorker");b.STORE={magic:"\0\0",compressWorker:function(){return new d("STORE compression")},uncompressWorker:function(){return new d("STORE decompression")}},b.DEFLATE=l("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(l,g,b){var d=l("./utils"),w=function(){for(var y,T=[],M=0;M<256;M++){y=M;for(var j=0;j<8;j++)y=1&y?3988292384^y>>>1:y>>>1;T[M]=y}return T}();g.exports=function(y,T){return y!==void 0&&y.length?d.getTypeOf(y)!=="string"?function(M,j,X,Y){var W=w,q=0+X;M^=-1;for(var K=0;K<q;K++)M=M>>>8^W[255&(M^j[K])];return-1^M}(0|T,y,y.length):function(M,j,X,Y){var W=w,q=0+X;M^=-1;for(var K=0;K<q;K++)M=M>>>8^W[255&(M^j.charCodeAt(K))];return-1^M}(0|T,y,y.length):0}},{"./utils":32}],5:[function(l,g,b){b.base64=!1,b.binary=!1,b.dir=!1,b.createFolders=!0,b.date=null,b.compression=null,b.compressionOptions=null,b.comment=null,b.unixPermissions=null,b.dosPermissions=null},{}],6:[function(l,g,b){var d;d=typeof Promise<"u"?Promise:l("lie"),g.exports={Promise:d}},{lie:37}],7:[function(l,g,b){var d=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",w=l("pako"),y=l("./utils"),T=l("./stream/GenericWorker"),M=d?"uint8array":"array";function j(X,Y){T.call(this,"FlateWorker/"+X),this._pako=null,this._pakoAction=X,this._pakoOptions=Y,this.meta={}}b.magic="\b\0",y.inherits(j,T),j.prototype.processChunk=function(X){this.meta=X.meta,this._pako===null&&this._createPako(),this._pako.push(y.transformTo(M,X.data),!1)},j.prototype.flush=function(){T.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},j.prototype.cleanUp=function(){T.prototype.cleanUp.call(this),this._pako=null},j.prototype._createPako=function(){this._pako=new w[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var X=this;this._pako.onData=function(Y){X.push({data:Y,meta:X.meta})}},b.compressWorker=function(X){return new j("Deflate",X)},b.uncompressWorker=function(){return new j("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(l,g,b){function d(W,q){var K,ie="";for(K=0;K<q;K++)ie+=String.fromCharCode(255&W),W>>>=8;return ie}function w(W,q,K,ie,$,D){var F,A,v=W.file,_=W.compression,S=D!==M.utf8encode,C=y.transformTo("string",D(v.name)),O=y.transformTo("string",M.utf8encode(v.name)),B=v.comment,z=y.transformTo("string",D(B)),re=y.transformTo("string",M.utf8encode(B)),ne=O.length!==v.name.length,de=re.length!==B.length,H="",ae="",U="",L=v.dir,ee=v.date,ce={crc32:0,compressedSize:0,uncompressedSize:0};q&&!K||(ce.crc32=W.crc32,ce.compressedSize=W.compressedSize,ce.uncompressedSize=W.uncompressedSize);var ve=0;q&&(ve|=8),S||!ne&&!de||(ve|=2048);var he=0,xe=0;L&&(he|=16),$==="UNIX"?(xe=798,he|=function(Re,pe){var Ae=Re;return Re||(Ae=pe?16893:33204),(65535&Ae)<<16}(v.unixPermissions,L)):(xe=20,he|=function(Re){return 63&(Re||0)}(v.dosPermissions)),F=ee.getUTCHours(),F<<=6,F|=ee.getUTCMinutes(),F<<=5,F|=ee.getUTCSeconds()/2,A=ee.getUTCFullYear()-1980,A<<=4,A|=ee.getUTCMonth()+1,A<<=5,A|=ee.getUTCDate(),ne&&(ae=d(1,1)+d(j(C),4)+O,H+="up"+d(ae.length,2)+ae),de&&(U=d(1,1)+d(j(z),4)+re,H+="uc"+d(U.length,2)+U);var _e="";return _e+=`
\0`,_e+=d(ve,2),_e+=_.magic,_e+=d(F,2),_e+=d(A,2),_e+=d(ce.crc32,4),_e+=d(ce.compressedSize,4),_e+=d(ce.uncompressedSize,4),_e+=d(C.length,2),_e+=d(H.length,2),{fileRecord:X.LOCAL_FILE_HEADER+_e+C+H,dirRecord:X.CENTRAL_FILE_HEADER+d(xe,2)+_e+d(z.length,2)+"\0\0\0\0"+d(he,4)+d(ie,4)+C+H+z}}var y=l("../utils"),T=l("../stream/GenericWorker"),M=l("../utf8"),j=l("../crc32"),X=l("../signature");function Y(W,q,K,ie){T.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=q,this.zipPlatform=K,this.encodeFileName=ie,this.streamFiles=W,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}y.inherits(Y,T),Y.prototype.push=function(W){var q=W.meta.percent||0,K=this.entriesCount,ie=this._sources.length;this.accumulate?this.contentBuffer.push(W):(this.bytesWritten+=W.data.length,T.prototype.push.call(this,{data:W.data,meta:{currentFile:this.currentFile,percent:K?(q+100*(K-ie-1))/K:100}}))},Y.prototype.openedSource=function(W){this.currentSourceOffset=this.bytesWritten,this.currentFile=W.file.name;var q=this.streamFiles&&!W.file.dir;if(q){var K=w(W,q,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:K.fileRecord,meta:{percent:0}})}else this.accumulate=!0},Y.prototype.closedSource=function(W){this.accumulate=!1;var q=this.streamFiles&&!W.file.dir,K=w(W,q,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(K.dirRecord),q)this.push({data:function(ie){return X.DATA_DESCRIPTOR+d(ie.crc32,4)+d(ie.compressedSize,4)+d(ie.uncompressedSize,4)}(W),meta:{percent:100}});else for(this.push({data:K.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},Y.prototype.flush=function(){for(var W=this.bytesWritten,q=0;q<this.dirRecords.length;q++)this.push({data:this.dirRecords[q],meta:{percent:100}});var K=this.bytesWritten-W,ie=function($,D,F,A,v){var _=y.transformTo("string",v(A));return X.CENTRAL_DIRECTORY_END+"\0\0\0\0"+d($,2)+d($,2)+d(D,4)+d(F,4)+d(_.length,2)+_}(this.dirRecords.length,K,W,this.zipComment,this.encodeFileName);this.push({data:ie,meta:{percent:100}})},Y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},Y.prototype.registerPrevious=function(W){this._sources.push(W);var q=this;return W.on("data",function(K){q.processChunk(K)}),W.on("end",function(){q.closedSource(q.previous.streamInfo),q._sources.length?q.prepareNextSource():q.end()}),W.on("error",function(K){q.error(K)}),this},Y.prototype.resume=function(){return!!T.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},Y.prototype.error=function(W){var q=this._sources;if(!T.prototype.error.call(this,W))return!1;for(var K=0;K<q.length;K++)try{q[K].error(W)}catch{}return!0},Y.prototype.lock=function(){T.prototype.lock.call(this);for(var W=this._sources,q=0;q<W.length;q++)W[q].lock()},g.exports=Y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(l,g,b){var d=l("../compressions"),w=l("./ZipFileWorker");b.generateWorker=function(y,T,M){var j=new w(T.streamFiles,M,T.platform,T.encodeFileName),X=0;try{y.forEach(function(Y,W){X++;var q=function(D,F){var A=D||F,v=d[A];if(!v)throw new Error(A+" is not a valid compression method !");return v}(W.options.compression,T.compression),K=W.options.compressionOptions||T.compressionOptions||{},ie=W.dir,$=W.date;W._compressWorker(q,K).withStreamInfo("file",{name:Y,dir:ie,date:$,comment:W.comment||"",unixPermissions:W.unixPermissions,dosPermissions:W.dosPermissions}).pipe(j)}),j.entriesCount=X}catch(Y){j.error(Y)}return j}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(l,g,b){function d(){if(!(this instanceof d))return new d;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var w=new d;for(var y in this)typeof this[y]!="function"&&(w[y]=this[y]);return w}}(d.prototype=l("./object")).loadAsync=l("./load"),d.support=l("./support"),d.defaults=l("./defaults"),d.version="3.10.1",d.loadAsync=function(w,y){return new d().loadAsync(w,y)},d.external=l("./external"),g.exports=d},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(l,g,b){var d=l("./utils"),w=l("./external"),y=l("./utf8"),T=l("./zipEntries"),M=l("./stream/Crc32Probe"),j=l("./nodejsUtils");function X(Y){return new w.Promise(function(W,q){var K=Y.decompressed.getContentWorker().pipe(new M);K.on("error",function(ie){q(ie)}).on("end",function(){K.streamInfo.crc32!==Y.decompressed.crc32?q(new Error("Corrupted zip : CRC32 mismatch")):W()}).resume()})}g.exports=function(Y,W){var q=this;return W=d.extend(W||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:y.utf8decode}),j.isNode&&j.isStream(Y)?w.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):d.prepareContent("the loaded zip file",Y,!0,W.optimizedBinaryString,W.base64).then(function(K){var ie=new T(W);return ie.load(K),ie}).then(function(K){var ie=[w.Promise.resolve(K)],$=K.files;if(W.checkCRC32)for(var D=0;D<$.length;D++)ie.push(X($[D]));return w.Promise.all(ie)}).then(function(K){for(var ie=K.shift(),$=ie.files,D=0;D<$.length;D++){var F=$[D],A=F.fileNameStr,v=d.resolve(F.fileNameStr);q.file(v,F.decompressed,{binary:!0,optimizedBinaryString:!0,date:F.date,dir:F.dir,comment:F.fileCommentStr.length?F.fileCommentStr:null,unixPermissions:F.unixPermissions,dosPermissions:F.dosPermissions,createFolders:W.createFolders}),F.dir||(q.file(v).unsafeOriginalName=A)}return ie.zipComment.length&&(q.comment=ie.zipComment),q})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(l,g,b){var d=l("../utils"),w=l("../stream/GenericWorker");function y(T,M){w.call(this,"Nodejs stream input adapter for "+T),this._upstreamEnded=!1,this._bindStream(M)}d.inherits(y,w),y.prototype._bindStream=function(T){var M=this;(this._stream=T).pause(),T.on("data",function(j){M.push({data:j,meta:{percent:0}})}).on("error",function(j){M.isPaused?this.generatedError=j:M.error(j)}).on("end",function(){M.isPaused?M._upstreamEnded=!0:M.end()})},y.prototype.pause=function(){return!!w.prototype.pause.call(this)&&(this._stream.pause(),!0)},y.prototype.resume=function(){return!!w.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},g.exports=y},{"../stream/GenericWorker":28,"../utils":32}],13:[function(l,g,b){var d=l("readable-stream").Readable;function w(y,T,M){d.call(this,T),this._helper=y;var j=this;y.on("data",function(X,Y){j.push(X)||j._helper.pause(),M&&M(Y)}).on("error",function(X){j.emit("error",X)}).on("end",function(){j.push(null)})}l("../utils").inherits(w,d),w.prototype._read=function(){this._helper.resume()},g.exports=w},{"../utils":32,"readable-stream":16}],14:[function(l,g,b){g.exports={isNode:f!==void 0,newBufferFrom:function(d,w){if(f.from&&f.from!==Uint8Array.from)return f.from(d,w);if(typeof d=="number")throw new Error('The "data" argument must not be a number');return new f(d,w)},allocBuffer:function(d){if(f.alloc)return f.alloc(d);var w=new f(d);return w.fill(0),w},isBuffer:function(d){return f.isBuffer(d)},isStream:function(d){return d&&typeof d.on=="function"&&typeof d.pause=="function"&&typeof d.resume=="function"}}},{}],15:[function(l,g,b){function d(v,_,S){var C,O=y.getTypeOf(_),B=y.extend(S||{},j);B.date=B.date||new Date,B.compression!==null&&(B.compression=B.compression.toUpperCase()),typeof B.unixPermissions=="string"&&(B.unixPermissions=parseInt(B.unixPermissions,8)),B.unixPermissions&&16384&B.unixPermissions&&(B.dir=!0),B.dosPermissions&&16&B.dosPermissions&&(B.dir=!0),B.dir&&(v=$(v)),B.createFolders&&(C=ie(v))&&D.call(this,C,!0);var z=O==="string"&&B.binary===!1&&B.base64===!1;S&&S.binary!==void 0||(B.binary=!z),(_ instanceof X&&_.uncompressedSize===0||B.dir||!_||_.length===0)&&(B.base64=!1,B.binary=!0,_="",B.compression="STORE",O="string");var re;re=_ instanceof X||_ instanceof T?_:q.isNode&&q.isStream(_)?new K(v,_):y.prepareContent(v,_,B.binary,B.optimizedBinaryString,B.base64);var ne=new Y(v,re,B);this.files[v]=ne}var w=l("./utf8"),y=l("./utils"),T=l("./stream/GenericWorker"),M=l("./stream/StreamHelper"),j=l("./defaults"),X=l("./compressedObject"),Y=l("./zipObject"),W=l("./generate"),q=l("./nodejsUtils"),K=l("./nodejs/NodejsStreamInputAdapter"),ie=function(v){v.slice(-1)==="/"&&(v=v.substring(0,v.length-1));var _=v.lastIndexOf("/");return 0<_?v.substring(0,_):""},$=function(v){return v.slice(-1)!=="/"&&(v+="/"),v},D=function(v,_){return _=_!==void 0?_:j.createFolders,v=$(v),this.files[v]||d.call(this,v,null,{dir:!0,createFolders:_}),this.files[v]};function F(v){return Object.prototype.toString.call(v)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(v){var _,S,C;for(_ in this.files)C=this.files[_],(S=_.slice(this.root.length,_.length))&&_.slice(0,this.root.length)===this.root&&v(S,C)},filter:function(v){var _=[];return this.forEach(function(S,C){v(S,C)&&_.push(C)}),_},file:function(v,_,S){if(arguments.length!==1)return v=this.root+v,d.call(this,v,_,S),this;if(F(v)){var C=v;return this.filter(function(B,z){return!z.dir&&C.test(B)})}var O=this.files[this.root+v];return O&&!O.dir?O:null},folder:function(v){if(!v)return this;if(F(v))return this.filter(function(O,B){return B.dir&&v.test(O)});var _=this.root+v,S=D.call(this,_),C=this.clone();return C.root=S.name,C},remove:function(v){v=this.root+v;var _=this.files[v];if(_||(v.slice(-1)!=="/"&&(v+="/"),_=this.files[v]),_&&!_.dir)delete this.files[v];else for(var S=this.filter(function(O,B){return B.name.slice(0,v.length)===v}),C=0;C<S.length;C++)delete this.files[S[C].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(v){var _,S={};try{if((S=y.extend(v||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:w.utf8encode})).type=S.type.toLowerCase(),S.compression=S.compression.toUpperCase(),S.type==="binarystring"&&(S.type="string"),!S.type)throw new Error("No output type specified.");y.checkSupport(S.type),S.platform!=="darwin"&&S.platform!=="freebsd"&&S.platform!=="linux"&&S.platform!=="sunos"||(S.platform="UNIX"),S.platform==="win32"&&(S.platform="DOS");var C=S.comment||this.comment||"";_=W.generateWorker(this,S,C)}catch(O){(_=new T("error")).error(O)}return new M(_,S.type||"string",S.mimeType)},generateAsync:function(v,_){return this.generateInternalStream(v).accumulate(_)},generateNodeStream:function(v,_){return(v=v||{}).type||(v.type="nodebuffer"),this.generateInternalStream(v).toNodejsStream(_)}};g.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(l,g,b){g.exports=l("stream")},{stream:void 0}],17:[function(l,g,b){var d=l("./DataReader");function w(y){d.call(this,y);for(var T=0;T<this.data.length;T++)y[T]=255&y[T]}l("../utils").inherits(w,d),w.prototype.byteAt=function(y){return this.data[this.zero+y]},w.prototype.lastIndexOfSignature=function(y){for(var T=y.charCodeAt(0),M=y.charCodeAt(1),j=y.charCodeAt(2),X=y.charCodeAt(3),Y=this.length-4;0<=Y;--Y)if(this.data[Y]===T&&this.data[Y+1]===M&&this.data[Y+2]===j&&this.data[Y+3]===X)return Y-this.zero;return-1},w.prototype.readAndCheckSignature=function(y){var T=y.charCodeAt(0),M=y.charCodeAt(1),j=y.charCodeAt(2),X=y.charCodeAt(3),Y=this.readData(4);return T===Y[0]&&M===Y[1]&&j===Y[2]&&X===Y[3]},w.prototype.readData=function(y){if(this.checkOffset(y),y===0)return[];var T=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,T},g.exports=w},{"../utils":32,"./DataReader":18}],18:[function(l,g,b){var d=l("../utils");function w(y){this.data=y,this.length=y.length,this.index=0,this.zero=0}w.prototype={checkOffset:function(y){this.checkIndex(this.index+y)},checkIndex:function(y){if(this.length<this.zero+y||y<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+y+"). Corrupted zip ?")},setIndex:function(y){this.checkIndex(y),this.index=y},skip:function(y){this.setIndex(this.index+y)},byteAt:function(){},readInt:function(y){var T,M=0;for(this.checkOffset(y),T=this.index+y-1;T>=this.index;T--)M=(M<<8)+this.byteAt(T);return this.index+=y,M},readString:function(y){return d.transformTo("string",this.readData(y))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var y=this.readInt(4);return new Date(Date.UTC(1980+(y>>25&127),(y>>21&15)-1,y>>16&31,y>>11&31,y>>5&63,(31&y)<<1))}},g.exports=w},{"../utils":32}],19:[function(l,g,b){var d=l("./Uint8ArrayReader");function w(y){d.call(this,y)}l("../utils").inherits(w,d),w.prototype.readData=function(y){this.checkOffset(y);var T=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,T},g.exports=w},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(l,g,b){var d=l("./DataReader");function w(y){d.call(this,y)}l("../utils").inherits(w,d),w.prototype.byteAt=function(y){return this.data.charCodeAt(this.zero+y)},w.prototype.lastIndexOfSignature=function(y){return this.data.lastIndexOf(y)-this.zero},w.prototype.readAndCheckSignature=function(y){return y===this.readData(4)},w.prototype.readData=function(y){this.checkOffset(y);var T=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,T},g.exports=w},{"../utils":32,"./DataReader":18}],21:[function(l,g,b){var d=l("./ArrayReader");function w(y){d.call(this,y)}l("../utils").inherits(w,d),w.prototype.readData=function(y){if(this.checkOffset(y),y===0)return new Uint8Array(0);var T=this.data.subarray(this.zero+this.index,this.zero+this.index+y);return this.index+=y,T},g.exports=w},{"../utils":32,"./ArrayReader":17}],22:[function(l,g,b){var d=l("../utils"),w=l("../support"),y=l("./ArrayReader"),T=l("./StringReader"),M=l("./NodeBufferReader"),j=l("./Uint8ArrayReader");g.exports=function(X){var Y=d.getTypeOf(X);return d.checkSupport(Y),Y!=="string"||w.uint8array?Y==="nodebuffer"?new M(X):w.uint8array?new j(d.transformTo("uint8array",X)):new y(d.transformTo("array",X)):new T(X)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(l,g,b){b.LOCAL_FILE_HEADER="PK",b.CENTRAL_FILE_HEADER="PK",b.CENTRAL_DIRECTORY_END="PK",b.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",b.ZIP64_CENTRAL_DIRECTORY_END="PK",b.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(l,g,b){var d=l("./GenericWorker"),w=l("../utils");function y(T){d.call(this,"ConvertWorker to "+T),this.destType=T}w.inherits(y,d),y.prototype.processChunk=function(T){this.push({data:w.transformTo(this.destType,T.data),meta:T.meta})},g.exports=y},{"../utils":32,"./GenericWorker":28}],25:[function(l,g,b){var d=l("./GenericWorker"),w=l("../crc32");function y(){d.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}l("../utils").inherits(y,d),y.prototype.processChunk=function(T){this.streamInfo.crc32=w(T.data,this.streamInfo.crc32||0),this.push(T)},g.exports=y},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(l,g,b){var d=l("../utils"),w=l("./GenericWorker");function y(T){w.call(this,"DataLengthProbe for "+T),this.propName=T,this.withStreamInfo(T,0)}d.inherits(y,w),y.prototype.processChunk=function(T){if(T){var M=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=M+T.data.length}w.prototype.processChunk.call(this,T)},g.exports=y},{"../utils":32,"./GenericWorker":28}],27:[function(l,g,b){var d=l("../utils"),w=l("./GenericWorker");function y(T){w.call(this,"DataWorker");var M=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,T.then(function(j){M.dataIsReady=!0,M.data=j,M.max=j&&j.length||0,M.type=d.getTypeOf(j),M.isPaused||M._tickAndRepeat()},function(j){M.error(j)})}d.inherits(y,w),y.prototype.cleanUp=function(){w.prototype.cleanUp.call(this),this.data=null},y.prototype.resume=function(){return!!w.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,d.delay(this._tickAndRepeat,[],this)),!0)},y.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(d.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},y.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var T=null,M=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":T=this.data.substring(this.index,M);break;case"uint8array":T=this.data.subarray(this.index,M);break;case"array":case"nodebuffer":T=this.data.slice(this.index,M)}return this.index=M,this.push({data:T,meta:{percent:this.max?this.index/this.max*100:0}})},g.exports=y},{"../utils":32,"./GenericWorker":28}],28:[function(l,g,b){function d(w){this.name=w||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}d.prototype={push:function(w){this.emit("data",w)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(w){this.emit("error",w)}return!0},error:function(w){return!this.isFinished&&(this.isPaused?this.generatedError=w:(this.isFinished=!0,this.emit("error",w),this.previous&&this.previous.error(w),this.cleanUp()),!0)},on:function(w,y){return this._listeners[w].push(y),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(w,y){if(this._listeners[w])for(var T=0;T<this._listeners[w].length;T++)this._listeners[w][T].call(this,y)},pipe:function(w){return w.registerPrevious(this)},registerPrevious:function(w){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=w.streamInfo,this.mergeStreamInfo(),this.previous=w;var y=this;return w.on("data",function(T){y.processChunk(T)}),w.on("end",function(){y.end()}),w.on("error",function(T){y.error(T)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var w=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),w=!0),this.previous&&this.previous.resume(),!w},flush:function(){},processChunk:function(w){this.push(w)},withStreamInfo:function(w,y){return this.extraStreamInfo[w]=y,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var w in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,w)&&(this.streamInfo[w]=this.extraStreamInfo[w])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var w="Worker "+this.name;return this.previous?this.previous+" -> "+w:w}},g.exports=d},{}],29:[function(l,g,b){var d=l("../utils"),w=l("./ConvertWorker"),y=l("./GenericWorker"),T=l("../base64"),M=l("../support"),j=l("../external"),X=null;if(M.nodestream)try{X=l("../nodejs/NodejsStreamOutputAdapter")}catch{}function Y(W,q,K){var ie=q;switch(q){case"blob":case"arraybuffer":ie="uint8array";break;case"base64":ie="string"}try{this._internalType=ie,this._outputType=q,this._mimeType=K,d.checkSupport(ie),this._worker=W.pipe(new w(ie)),W.lock()}catch($){this._worker=new y("error"),this._worker.error($)}}Y.prototype={accumulate:function(W){return function(q,K){return new j.Promise(function(ie,$){var D=[],F=q._internalType,A=q._outputType,v=q._mimeType;q.on("data",function(_,S){D.push(_),K&&K(S)}).on("error",function(_){D=[],$(_)}).on("end",function(){try{var _=function(S,C,O){switch(S){case"blob":return d.newBlob(d.transformTo("arraybuffer",C),O);case"base64":return T.encode(C);default:return d.transformTo(S,C)}}(A,function(S,C){var O,B=0,z=null,re=0;for(O=0;O<C.length;O++)re+=C[O].length;switch(S){case"string":return C.join("");case"array":return Array.prototype.concat.apply([],C);case"uint8array":for(z=new Uint8Array(re),O=0;O<C.length;O++)z.set(C[O],B),B+=C[O].length;return z;case"nodebuffer":return f.concat(C);default:throw new Error("concat : unsupported type '"+S+"'")}}(F,D),v);ie(_)}catch(S){$(S)}D=[]}).resume()})}(this,W)},on:function(W,q){var K=this;return W==="data"?this._worker.on(W,function(ie){q.call(K,ie.data,ie.meta)}):this._worker.on(W,function(){d.delay(q,arguments,K)}),this},resume:function(){return d.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(W){if(d.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new X(this,{objectMode:this._outputType!=="nodebuffer"},W)}},g.exports=Y},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(l,g,b){if(b.base64=!0,b.array=!0,b.string=!0,b.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",b.nodebuffer=f!==void 0,b.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")b.blob=!1;else{var d=new ArrayBuffer(0);try{b.blob=new Blob([d],{type:"application/zip"}).size===0}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);w.append(d),b.blob=w.getBlob("application/zip").size===0}catch{b.blob=!1}}}try{b.nodestream=!!l("readable-stream").Readable}catch{b.nodestream=!1}},{"readable-stream":16}],31:[function(l,g,b){for(var d=l("./utils"),w=l("./support"),y=l("./nodejsUtils"),T=l("./stream/GenericWorker"),M=new Array(256),j=0;j<256;j++)M[j]=252<=j?6:248<=j?5:240<=j?4:224<=j?3:192<=j?2:1;function X(){T.call(this,"utf-8 decode"),this.leftOver=null}function Y(){T.call(this,"utf-8 encode")}M[254]=M[254]=1,b.utf8encode=function(W){return w.nodebuffer?y.newBufferFrom(W,"utf-8"):function(q){var K,ie,$,D,F,A=q.length,v=0;for(D=0;D<A;D++)(64512&(ie=q.charCodeAt(D)))==55296&&D+1<A&&(64512&($=q.charCodeAt(D+1)))==56320&&(ie=65536+(ie-55296<<10)+($-56320),D++),v+=ie<128?1:ie<2048?2:ie<65536?3:4;for(K=w.uint8array?new Uint8Array(v):new Array(v),D=F=0;F<v;D++)(64512&(ie=q.charCodeAt(D)))==55296&&D+1<A&&(64512&($=q.charCodeAt(D+1)))==56320&&(ie=65536+(ie-55296<<10)+($-56320),D++),ie<128?K[F++]=ie:(ie<2048?K[F++]=192|ie>>>6:(ie<65536?K[F++]=224|ie>>>12:(K[F++]=240|ie>>>18,K[F++]=128|ie>>>12&63),K[F++]=128|ie>>>6&63),K[F++]=128|63&ie);return K}(W)},b.utf8decode=function(W){return w.nodebuffer?d.transformTo("nodebuffer",W).toString("utf-8"):function(q){var K,ie,$,D,F=q.length,A=new Array(2*F);for(K=ie=0;K<F;)if(($=q[K++])<128)A[ie++]=$;else if(4<(D=M[$]))A[ie++]=65533,K+=D-1;else{for($&=D===2?31:D===3?15:7;1<D&&K<F;)$=$<<6|63&q[K++],D--;1<D?A[ie++]=65533:$<65536?A[ie++]=$:($-=65536,A[ie++]=55296|$>>10&1023,A[ie++]=56320|1023&$)}return A.length!==ie&&(A.subarray?A=A.subarray(0,ie):A.length=ie),d.applyFromCharCode(A)}(W=d.transformTo(w.uint8array?"uint8array":"array",W))},d.inherits(X,T),X.prototype.processChunk=function(W){var q=d.transformTo(w.uint8array?"uint8array":"array",W.data);if(this.leftOver&&this.leftOver.length){if(w.uint8array){var K=q;(q=new Uint8Array(K.length+this.leftOver.length)).set(this.leftOver,0),q.set(K,this.leftOver.length)}else q=this.leftOver.concat(q);this.leftOver=null}var ie=function(D,F){var A;for((F=F||D.length)>D.length&&(F=D.length),A=F-1;0<=A&&(192&D[A])==128;)A--;return A<0||A===0?F:A+M[D[A]]>F?A:F}(q),$=q;ie!==q.length&&(w.uint8array?($=q.subarray(0,ie),this.leftOver=q.subarray(ie,q.length)):($=q.slice(0,ie),this.leftOver=q.slice(ie,q.length))),this.push({data:b.utf8decode($),meta:W.meta})},X.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:b.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},b.Utf8DecodeWorker=X,d.inherits(Y,T),Y.prototype.processChunk=function(W){this.push({data:b.utf8encode(W.data),meta:W.meta})},b.Utf8EncodeWorker=Y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(l,g,b){var d=l("./support"),w=l("./base64"),y=l("./nodejsUtils"),T=l("./external");function M(K){return K}function j(K,ie){for(var $=0;$<K.length;++$)ie[$]=255&K.charCodeAt($);return ie}l("setimmediate"),b.newBlob=function(K,ie){b.checkSupport("blob");try{return new Blob([K],{type:ie})}catch{try{var $=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return $.append(K),$.getBlob(ie)}catch{throw new Error("Bug : can't construct the Blob.")}}};var X={stringifyByChunk:function(K,ie,$){var D=[],F=0,A=K.length;if(A<=$)return String.fromCharCode.apply(null,K);for(;F<A;)ie==="array"||ie==="nodebuffer"?D.push(String.fromCharCode.apply(null,K.slice(F,Math.min(F+$,A)))):D.push(String.fromCharCode.apply(null,K.subarray(F,Math.min(F+$,A)))),F+=$;return D.join("")},stringifyByChar:function(K){for(var ie="",$=0;$<K.length;$++)ie+=String.fromCharCode(K[$]);return ie},applyCanBeUsed:{uint8array:function(){try{return d.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return d.nodebuffer&&String.fromCharCode.apply(null,y.allocBuffer(1)).length===1}catch{return!1}}()}};function Y(K){var ie=65536,$=b.getTypeOf(K),D=!0;if($==="uint8array"?D=X.applyCanBeUsed.uint8array:$==="nodebuffer"&&(D=X.applyCanBeUsed.nodebuffer),D)for(;1<ie;)try{return X.stringifyByChunk(K,$,ie)}catch{ie=Math.floor(ie/2)}return X.stringifyByChar(K)}function W(K,ie){for(var $=0;$<K.length;$++)ie[$]=K[$];return ie}b.applyFromCharCode=Y;var q={};q.string={string:M,array:function(K){return j(K,new Array(K.length))},arraybuffer:function(K){return q.string.uint8array(K).buffer},uint8array:function(K){return j(K,new Uint8Array(K.length))},nodebuffer:function(K){return j(K,y.allocBuffer(K.length))}},q.array={string:Y,array:M,arraybuffer:function(K){return new Uint8Array(K).buffer},uint8array:function(K){return new Uint8Array(K)},nodebuffer:function(K){return y.newBufferFrom(K)}},q.arraybuffer={string:function(K){return Y(new Uint8Array(K))},array:function(K){return W(new Uint8Array(K),new Array(K.byteLength))},arraybuffer:M,uint8array:function(K){return new Uint8Array(K)},nodebuffer:function(K){return y.newBufferFrom(new Uint8Array(K))}},q.uint8array={string:Y,array:function(K){return W(K,new Array(K.length))},arraybuffer:function(K){return K.buffer},uint8array:M,nodebuffer:function(K){return y.newBufferFrom(K)}},q.nodebuffer={string:Y,array:function(K){return W(K,new Array(K.length))},arraybuffer:function(K){return q.nodebuffer.uint8array(K).buffer},uint8array:function(K){return W(K,new Uint8Array(K.length))},nodebuffer:M},b.transformTo=function(K,ie){if(ie=ie||"",!K)return ie;b.checkSupport(K);var $=b.getTypeOf(ie);return q[$][K](ie)},b.resolve=function(K){for(var ie=K.split("/"),$=[],D=0;D<ie.length;D++){var F=ie[D];F==="."||F===""&&D!==0&&D!==ie.length-1||(F===".."?$.pop():$.push(F))}return $.join("/")},b.getTypeOf=function(K){return typeof K=="string"?"string":Object.prototype.toString.call(K)==="[object Array]"?"array":d.nodebuffer&&y.isBuffer(K)?"nodebuffer":d.uint8array&&K instanceof Uint8Array?"uint8array":d.arraybuffer&&K instanceof ArrayBuffer?"arraybuffer":void 0},b.checkSupport=function(K){if(!d[K.toLowerCase()])throw new Error(K+" is not supported by this platform")},b.MAX_VALUE_16BITS=65535,b.MAX_VALUE_32BITS=-1,b.pretty=function(K){var ie,$,D="";for($=0;$<(K||"").length;$++)D+="\\x"+((ie=K.charCodeAt($))<16?"0":"")+ie.toString(16).toUpperCase();return D},b.delay=function(K,ie,$){a(function(){K.apply($||null,ie||[])})},b.inherits=function(K,ie){function $(){}$.prototype=ie.prototype,K.prototype=new $},b.extend=function(){var K,ie,$={};for(K=0;K<arguments.length;K++)for(ie in arguments[K])Object.prototype.hasOwnProperty.call(arguments[K],ie)&&$[ie]===void 0&&($[ie]=arguments[K][ie]);return $},b.prepareContent=function(K,ie,$,D,F){return T.Promise.resolve(ie).then(function(A){return d.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new T.Promise(function(v,_){var S=new FileReader;S.onload=function(C){v(C.target.result)},S.onerror=function(C){_(C.target.error)},S.readAsArrayBuffer(A)}):A}).then(function(A){var v=b.getTypeOf(A);return v?(v==="arraybuffer"?A=b.transformTo("uint8array",A):v==="string"&&(F?A=w.decode(A):$&&D!==!0&&(A=function(_){return j(_,d.uint8array?new Uint8Array(_.length):new Array(_.length))}(A))),A):T.Promise.reject(new Error("Can't read the data of '"+K+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(l,g,b){var d=l("./reader/readerFor"),w=l("./utils"),y=l("./signature"),T=l("./zipEntry"),M=l("./support");function j(X){this.files=[],this.loadOptions=X}j.prototype={checkSignature:function(X){if(!this.reader.readAndCheckSignature(X)){this.reader.index-=4;var Y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+w.pretty(Y)+", expected "+w.pretty(X)+")")}},isSignature:function(X,Y){var W=this.reader.index;this.reader.setIndex(X);var q=this.reader.readString(4)===Y;return this.reader.setIndex(W),q},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var X=this.reader.readData(this.zipCommentLength),Y=M.uint8array?"uint8array":"array",W=w.transformTo(Y,X);this.zipComment=this.loadOptions.decodeFileName(W)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var X,Y,W,q=this.zip64EndOfCentralSize-44;0<q;)X=this.reader.readInt(2),Y=this.reader.readInt(4),W=this.reader.readData(Y),this.zip64ExtensibleData[X]={id:X,length:Y,value:W}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var X,Y;for(X=0;X<this.files.length;X++)Y=this.files[X],this.reader.setIndex(Y.localHeaderOffset),this.checkSignature(y.LOCAL_FILE_HEADER),Y.readLocalPart(this.reader),Y.handleUTF8(),Y.processAttributes()},readCentralDir:function(){var X;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(y.CENTRAL_FILE_HEADER);)(X=new T({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(X);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var X=this.reader.lastIndexOfSignature(y.CENTRAL_DIRECTORY_END);if(X<0)throw this.isSignature(0,y.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(X);var Y=X;if(this.checkSignature(y.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===w.MAX_VALUE_16BITS||this.diskWithCentralDirStart===w.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===w.MAX_VALUE_16BITS||this.centralDirRecords===w.MAX_VALUE_16BITS||this.centralDirSize===w.MAX_VALUE_32BITS||this.centralDirOffset===w.MAX_VALUE_32BITS){if(this.zip64=!0,(X=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(X),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,y.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var W=this.centralDirOffset+this.centralDirSize;this.zip64&&(W+=20,W+=12+this.zip64EndOfCentralSize);var q=Y-W;if(0<q)this.isSignature(Y,y.CENTRAL_FILE_HEADER)||(this.reader.zero=q);else if(q<0)throw new Error("Corrupted zip: missing "+Math.abs(q)+" bytes.")},prepareReader:function(X){this.reader=d(X)},load:function(X){this.prepareReader(X),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},g.exports=j},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(l,g,b){var d=l("./reader/readerFor"),w=l("./utils"),y=l("./compressedObject"),T=l("./crc32"),M=l("./utf8"),j=l("./compressions"),X=l("./support");function Y(W,q){this.options=W,this.loadOptions=q}Y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(W){var q,K;if(W.skip(22),this.fileNameLength=W.readInt(2),K=W.readInt(2),this.fileName=W.readData(this.fileNameLength),W.skip(K),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((q=function(ie){for(var $ in j)if(Object.prototype.hasOwnProperty.call(j,$)&&j[$].magic===ie)return j[$];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+w.pretty(this.compressionMethod)+" unknown (inner file : "+w.transformTo("string",this.fileName)+")");this.decompressed=new y(this.compressedSize,this.uncompressedSize,this.crc32,q,W.readData(this.compressedSize))},readCentralPart:function(W){this.versionMadeBy=W.readInt(2),W.skip(2),this.bitFlag=W.readInt(2),this.compressionMethod=W.readString(2),this.date=W.readDate(),this.crc32=W.readInt(4),this.compressedSize=W.readInt(4),this.uncompressedSize=W.readInt(4);var q=W.readInt(2);if(this.extraFieldsLength=W.readInt(2),this.fileCommentLength=W.readInt(2),this.diskNumberStart=W.readInt(2),this.internalFileAttributes=W.readInt(2),this.externalFileAttributes=W.readInt(4),this.localHeaderOffset=W.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");W.skip(q),this.readExtraFields(W),this.parseZIP64ExtraField(W),this.fileComment=W.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var W=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),W==0&&(this.dosPermissions=63&this.externalFileAttributes),W==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var W=d(this.extraFields[1].value);this.uncompressedSize===w.MAX_VALUE_32BITS&&(this.uncompressedSize=W.readInt(8)),this.compressedSize===w.MAX_VALUE_32BITS&&(this.compressedSize=W.readInt(8)),this.localHeaderOffset===w.MAX_VALUE_32BITS&&(this.localHeaderOffset=W.readInt(8)),this.diskNumberStart===w.MAX_VALUE_32BITS&&(this.diskNumberStart=W.readInt(4))}},readExtraFields:function(W){var q,K,ie,$=W.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});W.index+4<$;)q=W.readInt(2),K=W.readInt(2),ie=W.readData(K),this.extraFields[q]={id:q,length:K,value:ie};W.setIndex($)},handleUTF8:function(){var W=X.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=M.utf8decode(this.fileName),this.fileCommentStr=M.utf8decode(this.fileComment);else{var q=this.findExtraFieldUnicodePath();if(q!==null)this.fileNameStr=q;else{var K=w.transformTo(W,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(K)}var ie=this.findExtraFieldUnicodeComment();if(ie!==null)this.fileCommentStr=ie;else{var $=w.transformTo(W,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName($)}}},findExtraFieldUnicodePath:function(){var W=this.extraFields[28789];if(W){var q=d(W.value);return q.readInt(1)!==1||T(this.fileName)!==q.readInt(4)?null:M.utf8decode(q.readData(W.length-5))}return null},findExtraFieldUnicodeComment:function(){var W=this.extraFields[25461];if(W){var q=d(W.value);return q.readInt(1)!==1||T(this.fileComment)!==q.readInt(4)?null:M.utf8decode(q.readData(W.length-5))}return null}},g.exports=Y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(l,g,b){function d(q,K,ie){this.name=q,this.dir=ie.dir,this.date=ie.date,this.comment=ie.comment,this.unixPermissions=ie.unixPermissions,this.dosPermissions=ie.dosPermissions,this._data=K,this._dataBinary=ie.binary,this.options={compression:ie.compression,compressionOptions:ie.compressionOptions}}var w=l("./stream/StreamHelper"),y=l("./stream/DataWorker"),T=l("./utf8"),M=l("./compressedObject"),j=l("./stream/GenericWorker");d.prototype={internalStream:function(q){var K=null,ie="string";try{if(!q)throw new Error("No output type specified.");var $=(ie=q.toLowerCase())==="string"||ie==="text";ie!=="binarystring"&&ie!=="text"||(ie="string"),K=this._decompressWorker();var D=!this._dataBinary;D&&!$&&(K=K.pipe(new T.Utf8EncodeWorker)),!D&&$&&(K=K.pipe(new T.Utf8DecodeWorker))}catch(F){(K=new j("error")).error(F)}return new w(K,ie,"")},async:function(q,K){return this.internalStream(q).accumulate(K)},nodeStream:function(q,K){return this.internalStream(q||"nodebuffer").toNodejsStream(K)},_compressWorker:function(q,K){if(this._data instanceof M&&this._data.compression.magic===q.magic)return this._data.getCompressedWorker();var ie=this._decompressWorker();return this._dataBinary||(ie=ie.pipe(new T.Utf8EncodeWorker)),M.createWorkerFrom(ie,q,K)},_decompressWorker:function(){return this._data instanceof M?this._data.getContentWorker():this._data instanceof j?this._data:new y(this._data)}};for(var X=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],Y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},W=0;W<X.length;W++)d.prototype[X[W]]=Y;g.exports=d},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(l,g,b){(function(d){var w,y,T=d.MutationObserver||d.WebKitMutationObserver;if(T){var M=0,j=new T(q),X=d.document.createTextNode("");j.observe(X,{characterData:!0}),w=function(){X.data=M=++M%2}}else if(d.setImmediate||d.MessageChannel===void 0)w="document"in d&&"onreadystatechange"in d.document.createElement("script")?function(){var K=d.document.createElement("script");K.onreadystatechange=function(){q(),K.onreadystatechange=null,K.parentNode.removeChild(K),K=null},d.document.documentElement.appendChild(K)}:function(){setTimeout(q,0)};else{var Y=new d.MessageChannel;Y.port1.onmessage=q,w=function(){Y.port2.postMessage(0)}}var W=[];function q(){var K,ie;y=!0;for(var $=W.length;$;){for(ie=W,W=[],K=-1;++K<$;)ie[K]();$=W.length}y=!1}g.exports=function(K){W.push(K)!==1||y||w()}}).call(this,u!==void 0?u:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(l,g,b){var d=l("immediate");function w(){}var y={},T=["REJECTED"],M=["FULFILLED"],j=["PENDING"];function X($){if(typeof $!="function")throw new TypeError("resolver must be a function");this.state=j,this.queue=[],this.outcome=void 0,$!==w&&K(this,$)}function Y($,D,F){this.promise=$,typeof D=="function"&&(this.onFulfilled=D,this.callFulfilled=this.otherCallFulfilled),typeof F=="function"&&(this.onRejected=F,this.callRejected=this.otherCallRejected)}function W($,D,F){d(function(){var A;try{A=D(F)}catch(v){return y.reject($,v)}A===$?y.reject($,new TypeError("Cannot resolve promise with itself")):y.resolve($,A)})}function q($){var D=$&&$.then;if($&&(typeof $=="object"||typeof $=="function")&&typeof D=="function")return function(){D.apply($,arguments)}}function K($,D){var F=!1;function A(S){F||(F=!0,y.reject($,S))}function v(S){F||(F=!0,y.resolve($,S))}var _=ie(function(){D(v,A)});_.status==="error"&&A(_.value)}function ie($,D){var F={};try{F.value=$(D),F.status="success"}catch(A){F.status="error",F.value=A}return F}(g.exports=X).prototype.finally=function($){if(typeof $!="function")return this;var D=this.constructor;return this.then(function(F){return D.resolve($()).then(function(){return F})},function(F){return D.resolve($()).then(function(){throw F})})},X.prototype.catch=function($){return this.then(null,$)},X.prototype.then=function($,D){if(typeof $!="function"&&this.state===M||typeof D!="function"&&this.state===T)return this;var F=new this.constructor(w);return this.state!==j?W(F,this.state===M?$:D,this.outcome):this.queue.push(new Y(F,$,D)),F},Y.prototype.callFulfilled=function($){y.resolve(this.promise,$)},Y.prototype.otherCallFulfilled=function($){W(this.promise,this.onFulfilled,$)},Y.prototype.callRejected=function($){y.reject(this.promise,$)},Y.prototype.otherCallRejected=function($){W(this.promise,this.onRejected,$)},y.resolve=function($,D){var F=ie(q,D);if(F.status==="error")return y.reject($,F.value);var A=F.value;if(A)K($,A);else{$.state=M,$.outcome=D;for(var v=-1,_=$.queue.length;++v<_;)$.queue[v].callFulfilled(D)}return $},y.reject=function($,D){$.state=T,$.outcome=D;for(var F=-1,A=$.queue.length;++F<A;)$.queue[F].callRejected(D);return $},X.resolve=function($){return $ instanceof this?$:y.resolve(new this(w),$)},X.reject=function($){var D=new this(w);return y.reject(D,$)},X.all=function($){var D=this;if(Object.prototype.toString.call($)!=="[object Array]")return this.reject(new TypeError("must be an array"));var F=$.length,A=!1;if(!F)return this.resolve([]);for(var v=new Array(F),_=0,S=-1,C=new this(w);++S<F;)O($[S],S);return C;function O(B,z){D.resolve(B).then(function(re){v[z]=re,++_!==F||A||(A=!0,y.resolve(C,v))},function(re){A||(A=!0,y.reject(C,re))})}},X.race=function($){if(Object.prototype.toString.call($)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=$.length,F=!1;if(!D)return this.resolve([]);for(var A,v=-1,_=new this(w);++v<D;)A=$[v],this.resolve(A).then(function(S){F||(F=!0,y.resolve(_,S))},function(S){F||(F=!0,y.reject(_,S))});return _}},{immediate:36}],38:[function(l,g,b){var d={};(0,l("./lib/utils/common").assign)(d,l("./lib/deflate"),l("./lib/inflate"),l("./lib/zlib/constants")),g.exports=d},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(l,g,b){var d=l("./zlib/deflate"),w=l("./utils/common"),y=l("./utils/strings"),T=l("./zlib/messages"),M=l("./zlib/zstream"),j=Object.prototype.toString;function X(W){if(!(this instanceof X))return new X(W);this.options=w.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},W||{});var q=this.options;q.raw&&0<q.windowBits?q.windowBits=-q.windowBits:q.gzip&&0<q.windowBits&&q.windowBits<16&&(q.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new M,this.strm.avail_out=0;var K=d.deflateInit2(this.strm,q.level,q.method,q.windowBits,q.memLevel,q.strategy);if(K!==0)throw new Error(T[K]);if(q.header&&d.deflateSetHeader(this.strm,q.header),q.dictionary){var ie;if(ie=typeof q.dictionary=="string"?y.string2buf(q.dictionary):j.call(q.dictionary)==="[object ArrayBuffer]"?new Uint8Array(q.dictionary):q.dictionary,(K=d.deflateSetDictionary(this.strm,ie))!==0)throw new Error(T[K]);this._dict_set=!0}}function Y(W,q){var K=new X(q);if(K.push(W,!0),K.err)throw K.msg||T[K.err];return K.result}X.prototype.push=function(W,q){var K,ie,$=this.strm,D=this.options.chunkSize;if(this.ended)return!1;ie=q===~~q?q:q===!0?4:0,typeof W=="string"?$.input=y.string2buf(W):j.call(W)==="[object ArrayBuffer]"?$.input=new Uint8Array(W):$.input=W,$.next_in=0,$.avail_in=$.input.length;do{if($.avail_out===0&&($.output=new w.Buf8(D),$.next_out=0,$.avail_out=D),(K=d.deflate($,ie))!==1&&K!==0)return this.onEnd(K),!(this.ended=!0);$.avail_out!==0&&($.avail_in!==0||ie!==4&&ie!==2)||(this.options.to==="string"?this.onData(y.buf2binstring(w.shrinkBuf($.output,$.next_out))):this.onData(w.shrinkBuf($.output,$.next_out)))}while((0<$.avail_in||$.avail_out===0)&&K!==1);return ie===4?(K=d.deflateEnd(this.strm),this.onEnd(K),this.ended=!0,K===0):ie!==2||(this.onEnd(0),!($.avail_out=0))},X.prototype.onData=function(W){this.chunks.push(W)},X.prototype.onEnd=function(W){W===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=w.flattenChunks(this.chunks)),this.chunks=[],this.err=W,this.msg=this.strm.msg},b.Deflate=X,b.deflate=Y,b.deflateRaw=function(W,q){return(q=q||{}).raw=!0,Y(W,q)},b.gzip=function(W,q){return(q=q||{}).gzip=!0,Y(W,q)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(l,g,b){var d=l("./zlib/inflate"),w=l("./utils/common"),y=l("./utils/strings"),T=l("./zlib/constants"),M=l("./zlib/messages"),j=l("./zlib/zstream"),X=l("./zlib/gzheader"),Y=Object.prototype.toString;function W(K){if(!(this instanceof W))return new W(K);this.options=w.assign({chunkSize:16384,windowBits:0,to:""},K||{});var ie=this.options;ie.raw&&0<=ie.windowBits&&ie.windowBits<16&&(ie.windowBits=-ie.windowBits,ie.windowBits===0&&(ie.windowBits=-15)),!(0<=ie.windowBits&&ie.windowBits<16)||K&&K.windowBits||(ie.windowBits+=32),15<ie.windowBits&&ie.windowBits<48&&(15&ie.windowBits)==0&&(ie.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new j,this.strm.avail_out=0;var $=d.inflateInit2(this.strm,ie.windowBits);if($!==T.Z_OK)throw new Error(M[$]);this.header=new X,d.inflateGetHeader(this.strm,this.header)}function q(K,ie){var $=new W(ie);if($.push(K,!0),$.err)throw $.msg||M[$.err];return $.result}W.prototype.push=function(K,ie){var $,D,F,A,v,_,S=this.strm,C=this.options.chunkSize,O=this.options.dictionary,B=!1;if(this.ended)return!1;D=ie===~~ie?ie:ie===!0?T.Z_FINISH:T.Z_NO_FLUSH,typeof K=="string"?S.input=y.binstring2buf(K):Y.call(K)==="[object ArrayBuffer]"?S.input=new Uint8Array(K):S.input=K,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new w.Buf8(C),S.next_out=0,S.avail_out=C),($=d.inflate(S,T.Z_NO_FLUSH))===T.Z_NEED_DICT&&O&&(_=typeof O=="string"?y.string2buf(O):Y.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,$=d.inflateSetDictionary(this.strm,_)),$===T.Z_BUF_ERROR&&B===!0&&($=T.Z_OK,B=!1),$!==T.Z_STREAM_END&&$!==T.Z_OK)return this.onEnd($),!(this.ended=!0);S.next_out&&(S.avail_out!==0&&$!==T.Z_STREAM_END&&(S.avail_in!==0||D!==T.Z_FINISH&&D!==T.Z_SYNC_FLUSH)||(this.options.to==="string"?(F=y.utf8border(S.output,S.next_out),A=S.next_out-F,v=y.buf2string(S.output,F),S.next_out=A,S.avail_out=C-A,A&&w.arraySet(S.output,S.output,F,A,0),this.onData(v)):this.onData(w.shrinkBuf(S.output,S.next_out)))),S.avail_in===0&&S.avail_out===0&&(B=!0)}while((0<S.avail_in||S.avail_out===0)&&$!==T.Z_STREAM_END);return $===T.Z_STREAM_END&&(D=T.Z_FINISH),D===T.Z_FINISH?($=d.inflateEnd(this.strm),this.onEnd($),this.ended=!0,$===T.Z_OK):D!==T.Z_SYNC_FLUSH||(this.onEnd(T.Z_OK),!(S.avail_out=0))},W.prototype.onData=function(K){this.chunks.push(K)},W.prototype.onEnd=function(K){K===T.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=w.flattenChunks(this.chunks)),this.chunks=[],this.err=K,this.msg=this.strm.msg},b.Inflate=W,b.inflate=q,b.inflateRaw=function(K,ie){return(ie=ie||{}).raw=!0,q(K,ie)},b.ungzip=q},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(l,g,b){var d=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";b.assign=function(T){for(var M=Array.prototype.slice.call(arguments,1);M.length;){var j=M.shift();if(j){if(typeof j!="object")throw new TypeError(j+"must be non-object");for(var X in j)j.hasOwnProperty(X)&&(T[X]=j[X])}}return T},b.shrinkBuf=function(T,M){return T.length===M?T:T.subarray?T.subarray(0,M):(T.length=M,T)};var w={arraySet:function(T,M,j,X,Y){if(M.subarray&&T.subarray)T.set(M.subarray(j,j+X),Y);else for(var W=0;W<X;W++)T[Y+W]=M[j+W]},flattenChunks:function(T){var M,j,X,Y,W,q;for(M=X=0,j=T.length;M<j;M++)X+=T[M].length;for(q=new Uint8Array(X),M=Y=0,j=T.length;M<j;M++)W=T[M],q.set(W,Y),Y+=W.length;return q}},y={arraySet:function(T,M,j,X,Y){for(var W=0;W<X;W++)T[Y+W]=M[j+W]},flattenChunks:function(T){return[].concat.apply([],T)}};b.setTyped=function(T){T?(b.Buf8=Uint8Array,b.Buf16=Uint16Array,b.Buf32=Int32Array,b.assign(b,w)):(b.Buf8=Array,b.Buf16=Array,b.Buf32=Array,b.assign(b,y))},b.setTyped(d)},{}],42:[function(l,g,b){var d=l("./common"),w=!0,y=!0;try{String.fromCharCode.apply(null,[0])}catch{w=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{y=!1}for(var T=new d.Buf8(256),M=0;M<256;M++)T[M]=252<=M?6:248<=M?5:240<=M?4:224<=M?3:192<=M?2:1;function j(X,Y){if(Y<65537&&(X.subarray&&y||!X.subarray&&w))return String.fromCharCode.apply(null,d.shrinkBuf(X,Y));for(var W="",q=0;q<Y;q++)W+=String.fromCharCode(X[q]);return W}T[254]=T[254]=1,b.string2buf=function(X){var Y,W,q,K,ie,$=X.length,D=0;for(K=0;K<$;K++)(64512&(W=X.charCodeAt(K)))==55296&&K+1<$&&(64512&(q=X.charCodeAt(K+1)))==56320&&(W=65536+(W-55296<<10)+(q-56320),K++),D+=W<128?1:W<2048?2:W<65536?3:4;for(Y=new d.Buf8(D),K=ie=0;ie<D;K++)(64512&(W=X.charCodeAt(K)))==55296&&K+1<$&&(64512&(q=X.charCodeAt(K+1)))==56320&&(W=65536+(W-55296<<10)+(q-56320),K++),W<128?Y[ie++]=W:(W<2048?Y[ie++]=192|W>>>6:(W<65536?Y[ie++]=224|W>>>12:(Y[ie++]=240|W>>>18,Y[ie++]=128|W>>>12&63),Y[ie++]=128|W>>>6&63),Y[ie++]=128|63&W);return Y},b.buf2binstring=function(X){return j(X,X.length)},b.binstring2buf=function(X){for(var Y=new d.Buf8(X.length),W=0,q=Y.length;W<q;W++)Y[W]=X.charCodeAt(W);return Y},b.buf2string=function(X,Y){var W,q,K,ie,$=Y||X.length,D=new Array(2*$);for(W=q=0;W<$;)if((K=X[W++])<128)D[q++]=K;else if(4<(ie=T[K]))D[q++]=65533,W+=ie-1;else{for(K&=ie===2?31:ie===3?15:7;1<ie&&W<$;)K=K<<6|63&X[W++],ie--;1<ie?D[q++]=65533:K<65536?D[q++]=K:(K-=65536,D[q++]=55296|K>>10&1023,D[q++]=56320|1023&K)}return j(D,q)},b.utf8border=function(X,Y){var W;for((Y=Y||X.length)>X.length&&(Y=X.length),W=Y-1;0<=W&&(192&X[W])==128;)W--;return W<0||W===0?Y:W+T[X[W]]>Y?W:Y}},{"./common":41}],43:[function(l,g,b){g.exports=function(d,w,y,T){for(var M=65535&d|0,j=d>>>16&65535|0,X=0;y!==0;){for(y-=X=2e3<y?2e3:y;j=j+(M=M+w[T++]|0)|0,--X;);M%=65521,j%=65521}return M|j<<16|0}},{}],44:[function(l,g,b){g.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(l,g,b){var d=function(){for(var w,y=[],T=0;T<256;T++){w=T;for(var M=0;M<8;M++)w=1&w?3988292384^w>>>1:w>>>1;y[T]=w}return y}();g.exports=function(w,y,T,M){var j=d,X=M+T;w^=-1;for(var Y=M;Y<X;Y++)w=w>>>8^j[255&(w^y[Y])];return-1^w}},{}],46:[function(l,g,b){var d,w=l("../utils/common"),y=l("./trees"),T=l("./adler32"),M=l("./crc32"),j=l("./messages"),X=-2,Y=258,W=262,q=113;function K(H,ae){return H.msg=j[ae],ae}function ie(H){return(H<<1)-(4<H?9:0)}function $(H){for(var ae=H.length;0<=--ae;)H[ae]=0}function D(H){var ae=H.state,U=ae.pending;U>H.avail_out&&(U=H.avail_out),U!==0&&(w.arraySet(H.output,ae.pending_buf,ae.pending_out,U,H.next_out),H.next_out+=U,ae.pending_out+=U,H.total_out+=U,H.avail_out-=U,ae.pending-=U,ae.pending===0&&(ae.pending_out=0))}function F(H,ae){y._tr_flush_block(H,0<=H.block_start?H.block_start:-1,H.strstart-H.block_start,ae),H.block_start=H.strstart,D(H.strm)}function A(H,ae){H.pending_buf[H.pending++]=ae}function v(H,ae){H.pending_buf[H.pending++]=ae>>>8&255,H.pending_buf[H.pending++]=255&ae}function _(H,ae){var U,L,ee=H.max_chain_length,ce=H.strstart,ve=H.prev_length,he=H.nice_match,xe=H.strstart>H.w_size-W?H.strstart-(H.w_size-W):0,_e=H.window,Re=H.w_mask,pe=H.prev,Ae=H.strstart+Y,Se=_e[ce+ve-1],Ue=_e[ce+ve];H.prev_length>=H.good_match&&(ee>>=2),he>H.lookahead&&(he=H.lookahead);do if(_e[(U=ae)+ve]===Ue&&_e[U+ve-1]===Se&&_e[U]===_e[ce]&&_e[++U]===_e[ce+1]){ce+=2,U++;do;while(_e[++ce]===_e[++U]&&_e[++ce]===_e[++U]&&_e[++ce]===_e[++U]&&_e[++ce]===_e[++U]&&_e[++ce]===_e[++U]&&_e[++ce]===_e[++U]&&_e[++ce]===_e[++U]&&_e[++ce]===_e[++U]&&ce<Ae);if(L=Y-(Ae-ce),ce=Ae-Y,ve<L){if(H.match_start=ae,he<=(ve=L))break;Se=_e[ce+ve-1],Ue=_e[ce+ve]}}while((ae=pe[ae&Re])>xe&&--ee!=0);return ve<=H.lookahead?ve:H.lookahead}function S(H){var ae,U,L,ee,ce,ve,he,xe,_e,Re,pe=H.w_size;do{if(ee=H.window_size-H.lookahead-H.strstart,H.strstart>=pe+(pe-W)){for(w.arraySet(H.window,H.window,pe,pe,0),H.match_start-=pe,H.strstart-=pe,H.block_start-=pe,ae=U=H.hash_size;L=H.head[--ae],H.head[ae]=pe<=L?L-pe:0,--U;);for(ae=U=pe;L=H.prev[--ae],H.prev[ae]=pe<=L?L-pe:0,--U;);ee+=pe}if(H.strm.avail_in===0)break;if(ve=H.strm,he=H.window,xe=H.strstart+H.lookahead,Re=void 0,(_e=ee)<(Re=ve.avail_in)&&(Re=_e),U=Re===0?0:(ve.avail_in-=Re,w.arraySet(he,ve.input,ve.next_in,Re,xe),ve.state.wrap===1?ve.adler=T(ve.adler,he,Re,xe):ve.state.wrap===2&&(ve.adler=M(ve.adler,he,Re,xe)),ve.next_in+=Re,ve.total_in+=Re,Re),H.lookahead+=U,H.lookahead+H.insert>=3)for(ce=H.strstart-H.insert,H.ins_h=H.window[ce],H.ins_h=(H.ins_h<<H.hash_shift^H.window[ce+1])&H.hash_mask;H.insert&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[ce+3-1])&H.hash_mask,H.prev[ce&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=ce,ce++,H.insert--,!(H.lookahead+H.insert<3)););}while(H.lookahead<W&&H.strm.avail_in!==0)}function C(H,ae){for(var U,L;;){if(H.lookahead<W){if(S(H),H.lookahead<W&&ae===0)return 1;if(H.lookahead===0)break}if(U=0,H.lookahead>=3&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+3-1])&H.hash_mask,U=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),U!==0&&H.strstart-U<=H.w_size-W&&(H.match_length=_(H,U)),H.match_length>=3)if(L=y._tr_tally(H,H.strstart-H.match_start,H.match_length-3),H.lookahead-=H.match_length,H.match_length<=H.max_lazy_match&&H.lookahead>=3){for(H.match_length--;H.strstart++,H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+3-1])&H.hash_mask,U=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart,--H.match_length!=0;);H.strstart++}else H.strstart+=H.match_length,H.match_length=0,H.ins_h=H.window[H.strstart],H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+1])&H.hash_mask;else L=y._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++;if(L&&(F(H,!1),H.strm.avail_out===0))return 1}return H.insert=H.strstart<2?H.strstart:2,ae===4?(F(H,!0),H.strm.avail_out===0?3:4):H.last_lit&&(F(H,!1),H.strm.avail_out===0)?1:2}function O(H,ae){for(var U,L,ee;;){if(H.lookahead<W){if(S(H),H.lookahead<W&&ae===0)return 1;if(H.lookahead===0)break}if(U=0,H.lookahead>=3&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+3-1])&H.hash_mask,U=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),H.prev_length=H.match_length,H.prev_match=H.match_start,H.match_length=2,U!==0&&H.prev_length<H.max_lazy_match&&H.strstart-U<=H.w_size-W&&(H.match_length=_(H,U),H.match_length<=5&&(H.strategy===1||H.match_length===3&&4096<H.strstart-H.match_start)&&(H.match_length=2)),H.prev_length>=3&&H.match_length<=H.prev_length){for(ee=H.strstart+H.lookahead-3,L=y._tr_tally(H,H.strstart-1-H.prev_match,H.prev_length-3),H.lookahead-=H.prev_length-1,H.prev_length-=2;++H.strstart<=ee&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+3-1])&H.hash_mask,U=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),--H.prev_length!=0;);if(H.match_available=0,H.match_length=2,H.strstart++,L&&(F(H,!1),H.strm.avail_out===0))return 1}else if(H.match_available){if((L=y._tr_tally(H,0,H.window[H.strstart-1]))&&F(H,!1),H.strstart++,H.lookahead--,H.strm.avail_out===0)return 1}else H.match_available=1,H.strstart++,H.lookahead--}return H.match_available&&(L=y._tr_tally(H,0,H.window[H.strstart-1]),H.match_available=0),H.insert=H.strstart<2?H.strstart:2,ae===4?(F(H,!0),H.strm.avail_out===0?3:4):H.last_lit&&(F(H,!1),H.strm.avail_out===0)?1:2}function B(H,ae,U,L,ee){this.good_length=H,this.max_lazy=ae,this.nice_length=U,this.max_chain=L,this.func=ee}function z(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new w.Buf16(1146),this.dyn_dtree=new w.Buf16(122),this.bl_tree=new w.Buf16(78),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new w.Buf16(16),this.heap=new w.Buf16(573),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new w.Buf16(573),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function re(H){var ae;return H&&H.state?(H.total_in=H.total_out=0,H.data_type=2,(ae=H.state).pending=0,ae.pending_out=0,ae.wrap<0&&(ae.wrap=-ae.wrap),ae.status=ae.wrap?42:q,H.adler=ae.wrap===2?0:1,ae.last_flush=0,y._tr_init(ae),0):K(H,X)}function ne(H){var ae=re(H);return ae===0&&function(U){U.window_size=2*U.w_size,$(U.head),U.max_lazy_match=d[U.level].max_lazy,U.good_match=d[U.level].good_length,U.nice_match=d[U.level].nice_length,U.max_chain_length=d[U.level].max_chain,U.strstart=0,U.block_start=0,U.lookahead=0,U.insert=0,U.match_length=U.prev_length=2,U.match_available=0,U.ins_h=0}(H.state),ae}function de(H,ae,U,L,ee,ce){if(!H)return X;var ve=1;if(ae===-1&&(ae=6),L<0?(ve=0,L=-L):15<L&&(ve=2,L-=16),ee<1||9<ee||U!==8||L<8||15<L||ae<0||9<ae||ce<0||4<ce)return K(H,X);L===8&&(L=9);var he=new z;return(H.state=he).strm=H,he.wrap=ve,he.gzhead=null,he.w_bits=L,he.w_size=1<<he.w_bits,he.w_mask=he.w_size-1,he.hash_bits=ee+7,he.hash_size=1<<he.hash_bits,he.hash_mask=he.hash_size-1,he.hash_shift=~~((he.hash_bits+3-1)/3),he.window=new w.Buf8(2*he.w_size),he.head=new w.Buf16(he.hash_size),he.prev=new w.Buf16(he.w_size),he.lit_bufsize=1<<ee+6,he.pending_buf_size=4*he.lit_bufsize,he.pending_buf=new w.Buf8(he.pending_buf_size),he.d_buf=1*he.lit_bufsize,he.l_buf=3*he.lit_bufsize,he.level=ae,he.strategy=ce,he.method=U,ne(H)}d=[new B(0,0,0,0,function(H,ae){var U=65535;for(U>H.pending_buf_size-5&&(U=H.pending_buf_size-5);;){if(H.lookahead<=1){if(S(H),H.lookahead===0&&ae===0)return 1;if(H.lookahead===0)break}H.strstart+=H.lookahead,H.lookahead=0;var L=H.block_start+U;if((H.strstart===0||H.strstart>=L)&&(H.lookahead=H.strstart-L,H.strstart=L,F(H,!1),H.strm.avail_out===0)||H.strstart-H.block_start>=H.w_size-W&&(F(H,!1),H.strm.avail_out===0))return 1}return H.insert=0,ae===4?(F(H,!0),H.strm.avail_out===0?3:4):(H.strstart>H.block_start&&(F(H,!1),H.strm.avail_out),1)}),new B(4,4,8,4,C),new B(4,5,16,8,C),new B(4,6,32,32,C),new B(4,4,16,16,O),new B(8,16,32,32,O),new B(8,16,128,128,O),new B(8,32,128,256,O),new B(32,128,258,1024,O),new B(32,258,258,4096,O)],b.deflateInit=function(H,ae){return de(H,ae,8,15,8,0)},b.deflateInit2=de,b.deflateReset=ne,b.deflateResetKeep=re,b.deflateSetHeader=function(H,ae){return H&&H.state?H.state.wrap!==2?X:(H.state.gzhead=ae,0):X},b.deflate=function(H,ae){var U,L,ee,ce;if(!H||!H.state||5<ae||ae<0)return H?K(H,X):X;if(L=H.state,!H.output||!H.input&&H.avail_in!==0||L.status===666&&ae!==4)return K(H,H.avail_out===0?-5:X);if(L.strm=H,U=L.last_flush,L.last_flush=ae,L.status===42)if(L.wrap===2)H.adler=0,A(L,31),A(L,139),A(L,8),L.gzhead?(A(L,(L.gzhead.text?1:0)+(L.gzhead.hcrc?2:0)+(L.gzhead.extra?4:0)+(L.gzhead.name?8:0)+(L.gzhead.comment?16:0)),A(L,255&L.gzhead.time),A(L,L.gzhead.time>>8&255),A(L,L.gzhead.time>>16&255),A(L,L.gzhead.time>>24&255),A(L,L.level===9?2:2<=L.strategy||L.level<2?4:0),A(L,255&L.gzhead.os),L.gzhead.extra&&L.gzhead.extra.length&&(A(L,255&L.gzhead.extra.length),A(L,L.gzhead.extra.length>>8&255)),L.gzhead.hcrc&&(H.adler=M(H.adler,L.pending_buf,L.pending,0)),L.gzindex=0,L.status=69):(A(L,0),A(L,0),A(L,0),A(L,0),A(L,0),A(L,L.level===9?2:2<=L.strategy||L.level<2?4:0),A(L,3),L.status=q);else{var ve=8+(L.w_bits-8<<4)<<8;ve|=(2<=L.strategy||L.level<2?0:L.level<6?1:L.level===6?2:3)<<6,L.strstart!==0&&(ve|=32),ve+=31-ve%31,L.status=q,v(L,ve),L.strstart!==0&&(v(L,H.adler>>>16),v(L,65535&H.adler)),H.adler=1}if(L.status===69)if(L.gzhead.extra){for(ee=L.pending;L.gzindex<(65535&L.gzhead.extra.length)&&(L.pending!==L.pending_buf_size||(L.gzhead.hcrc&&L.pending>ee&&(H.adler=M(H.adler,L.pending_buf,L.pending-ee,ee)),D(H),ee=L.pending,L.pending!==L.pending_buf_size));)A(L,255&L.gzhead.extra[L.gzindex]),L.gzindex++;L.gzhead.hcrc&&L.pending>ee&&(H.adler=M(H.adler,L.pending_buf,L.pending-ee,ee)),L.gzindex===L.gzhead.extra.length&&(L.gzindex=0,L.status=73)}else L.status=73;if(L.status===73)if(L.gzhead.name){ee=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>ee&&(H.adler=M(H.adler,L.pending_buf,L.pending-ee,ee)),D(H),ee=L.pending,L.pending===L.pending_buf_size)){ce=1;break}ce=L.gzindex<L.gzhead.name.length?255&L.gzhead.name.charCodeAt(L.gzindex++):0,A(L,ce)}while(ce!==0);L.gzhead.hcrc&&L.pending>ee&&(H.adler=M(H.adler,L.pending_buf,L.pending-ee,ee)),ce===0&&(L.gzindex=0,L.status=91)}else L.status=91;if(L.status===91)if(L.gzhead.comment){ee=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>ee&&(H.adler=M(H.adler,L.pending_buf,L.pending-ee,ee)),D(H),ee=L.pending,L.pending===L.pending_buf_size)){ce=1;break}ce=L.gzindex<L.gzhead.comment.length?255&L.gzhead.comment.charCodeAt(L.gzindex++):0,A(L,ce)}while(ce!==0);L.gzhead.hcrc&&L.pending>ee&&(H.adler=M(H.adler,L.pending_buf,L.pending-ee,ee)),ce===0&&(L.status=103)}else L.status=103;if(L.status===103&&(L.gzhead.hcrc?(L.pending+2>L.pending_buf_size&&D(H),L.pending+2<=L.pending_buf_size&&(A(L,255&H.adler),A(L,H.adler>>8&255),H.adler=0,L.status=q)):L.status=q),L.pending!==0){if(D(H),H.avail_out===0)return L.last_flush=-1,0}else if(H.avail_in===0&&ie(ae)<=ie(U)&&ae!==4)return K(H,-5);if(L.status===666&&H.avail_in!==0)return K(H,-5);if(H.avail_in!==0||L.lookahead!==0||ae!==0&&L.status!==666){var he=L.strategy===2?function(xe,_e){for(var Re;;){if(xe.lookahead===0&&(S(xe),xe.lookahead===0)){if(_e===0)return 1;break}if(xe.match_length=0,Re=y._tr_tally(xe,0,xe.window[xe.strstart]),xe.lookahead--,xe.strstart++,Re&&(F(xe,!1),xe.strm.avail_out===0))return 1}return xe.insert=0,_e===4?(F(xe,!0),xe.strm.avail_out===0?3:4):xe.last_lit&&(F(xe,!1),xe.strm.avail_out===0)?1:2}(L,ae):L.strategy===3?function(xe,_e){for(var Re,pe,Ae,Se,Ue=xe.window;;){if(xe.lookahead<=Y){if(S(xe),xe.lookahead<=Y&&_e===0)return 1;if(xe.lookahead===0)break}if(xe.match_length=0,xe.lookahead>=3&&0<xe.strstart&&(pe=Ue[Ae=xe.strstart-1])===Ue[++Ae]&&pe===Ue[++Ae]&&pe===Ue[++Ae]){Se=xe.strstart+Y;do;while(pe===Ue[++Ae]&&pe===Ue[++Ae]&&pe===Ue[++Ae]&&pe===Ue[++Ae]&&pe===Ue[++Ae]&&pe===Ue[++Ae]&&pe===Ue[++Ae]&&pe===Ue[++Ae]&&Ae<Se);xe.match_length=Y-(Se-Ae),xe.match_length>xe.lookahead&&(xe.match_length=xe.lookahead)}if(xe.match_length>=3?(Re=y._tr_tally(xe,1,xe.match_length-3),xe.lookahead-=xe.match_length,xe.strstart+=xe.match_length,xe.match_length=0):(Re=y._tr_tally(xe,0,xe.window[xe.strstart]),xe.lookahead--,xe.strstart++),Re&&(F(xe,!1),xe.strm.avail_out===0))return 1}return xe.insert=0,_e===4?(F(xe,!0),xe.strm.avail_out===0?3:4):xe.last_lit&&(F(xe,!1),xe.strm.avail_out===0)?1:2}(L,ae):d[L.level].func(L,ae);if(he!==3&&he!==4||(L.status=666),he===1||he===3)return H.avail_out===0&&(L.last_flush=-1),0;if(he===2&&(ae===1?y._tr_align(L):ae!==5&&(y._tr_stored_block(L,0,0,!1),ae===3&&($(L.head),L.lookahead===0&&(L.strstart=0,L.block_start=0,L.insert=0))),D(H),H.avail_out===0))return L.last_flush=-1,0}return ae!==4?0:L.wrap<=0?1:(L.wrap===2?(A(L,255&H.adler),A(L,H.adler>>8&255),A(L,H.adler>>16&255),A(L,H.adler>>24&255),A(L,255&H.total_in),A(L,H.total_in>>8&255),A(L,H.total_in>>16&255),A(L,H.total_in>>24&255)):(v(L,H.adler>>>16),v(L,65535&H.adler)),D(H),0<L.wrap&&(L.wrap=-L.wrap),L.pending!==0?0:1)},b.deflateEnd=function(H){var ae;return H&&H.state?(ae=H.state.status)!==42&&ae!==69&&ae!==73&&ae!==91&&ae!==103&&ae!==q&&ae!==666?K(H,X):(H.state=null,ae===q?K(H,-3):0):X},b.deflateSetDictionary=function(H,ae){var U,L,ee,ce,ve,he,xe,_e,Re=ae.length;if(!H||!H.state||(ce=(U=H.state).wrap)===2||ce===1&&U.status!==42||U.lookahead)return X;for(ce===1&&(H.adler=T(H.adler,ae,Re,0)),U.wrap=0,Re>=U.w_size&&(ce===0&&($(U.head),U.strstart=0,U.block_start=0,U.insert=0),_e=new w.Buf8(U.w_size),w.arraySet(_e,ae,Re-U.w_size,U.w_size,0),ae=_e,Re=U.w_size),ve=H.avail_in,he=H.next_in,xe=H.input,H.avail_in=Re,H.next_in=0,H.input=ae,S(U);U.lookahead>=3;){for(L=U.strstart,ee=U.lookahead-2;U.ins_h=(U.ins_h<<U.hash_shift^U.window[L+3-1])&U.hash_mask,U.prev[L&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=L,L++,--ee;);U.strstart=L,U.lookahead=2,S(U)}return U.strstart+=U.lookahead,U.block_start=U.strstart,U.insert=U.lookahead,U.lookahead=0,U.match_length=U.prev_length=2,U.match_available=0,H.next_in=he,H.input=xe,H.avail_in=ve,U.wrap=ce,0},b.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(l,g,b){g.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(l,g,b){g.exports=function(d,w){var y,T,M,j,X,Y,W,q,K,ie,$,D,F,A,v,_,S,C,O,B,z,re,ne,de,H;y=d.state,T=d.next_in,de=d.input,M=T+(d.avail_in-5),j=d.next_out,H=d.output,X=j-(w-d.avail_out),Y=j+(d.avail_out-257),W=y.dmax,q=y.wsize,K=y.whave,ie=y.wnext,$=y.window,D=y.hold,F=y.bits,A=y.lencode,v=y.distcode,_=(1<<y.lenbits)-1,S=(1<<y.distbits)-1;e:do{F<15&&(D+=de[T++]<<F,F+=8,D+=de[T++]<<F,F+=8),C=A[D&_];t:for(;;){if(D>>>=O=C>>>24,F-=O,(O=C>>>16&255)==0)H[j++]=65535&C;else{if(!(16&O)){if((64&O)==0){C=A[(65535&C)+(D&(1<<O)-1)];continue t}if(32&O){y.mode=12;break e}d.msg="invalid literal/length code",y.mode=30;break e}B=65535&C,(O&=15)&&(F<O&&(D+=de[T++]<<F,F+=8),B+=D&(1<<O)-1,D>>>=O,F-=O),F<15&&(D+=de[T++]<<F,F+=8,D+=de[T++]<<F,F+=8),C=v[D&S];r:for(;;){if(D>>>=O=C>>>24,F-=O,!(16&(O=C>>>16&255))){if((64&O)==0){C=v[(65535&C)+(D&(1<<O)-1)];continue r}d.msg="invalid distance code",y.mode=30;break e}if(z=65535&C,F<(O&=15)&&(D+=de[T++]<<F,(F+=8)<O&&(D+=de[T++]<<F,F+=8)),W<(z+=D&(1<<O)-1)){d.msg="invalid distance too far back",y.mode=30;break e}if(D>>>=O,F-=O,(O=j-X)<z){if(K<(O=z-O)&&y.sane){d.msg="invalid distance too far back",y.mode=30;break e}if(ne=$,(re=0)===ie){if(re+=q-O,O<B){for(B-=O;H[j++]=$[re++],--O;);re=j-z,ne=H}}else if(ie<O){if(re+=q+ie-O,(O-=ie)<B){for(B-=O;H[j++]=$[re++],--O;);if(re=0,ie<B){for(B-=O=ie;H[j++]=$[re++],--O;);re=j-z,ne=H}}}else if(re+=ie-O,O<B){for(B-=O;H[j++]=$[re++],--O;);re=j-z,ne=H}for(;2<B;)H[j++]=ne[re++],H[j++]=ne[re++],H[j++]=ne[re++],B-=3;B&&(H[j++]=ne[re++],1<B&&(H[j++]=ne[re++]))}else{for(re=j-z;H[j++]=H[re++],H[j++]=H[re++],H[j++]=H[re++],2<(B-=3););B&&(H[j++]=H[re++],1<B&&(H[j++]=H[re++]))}break}}break}}while(T<M&&j<Y);T-=B=F>>3,D&=(1<<(F-=B<<3))-1,d.next_in=T,d.next_out=j,d.avail_in=T<M?M-T+5:5-(T-M),d.avail_out=j<Y?Y-j+257:257-(j-Y),y.hold=D,y.bits=F}},{}],49:[function(l,g,b){var d=l("../utils/common"),w=l("./adler32"),y=l("./crc32"),T=l("./inffast"),M=l("./inftrees"),j=-2;function X(_){return(_>>>24&255)+(_>>>8&65280)+((65280&_)<<8)+((255&_)<<24)}function Y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new d.Buf16(320),this.work=new d.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function W(_){var S;return _&&_.state?(S=_.state,_.total_in=_.total_out=S.total=0,_.msg="",S.wrap&&(_.adler=1&S.wrap),S.mode=1,S.last=0,S.havedict=0,S.dmax=32768,S.head=null,S.hold=0,S.bits=0,S.lencode=S.lendyn=new d.Buf32(852),S.distcode=S.distdyn=new d.Buf32(592),S.sane=1,S.back=-1,0):j}function q(_){var S;return _&&_.state?((S=_.state).wsize=0,S.whave=0,S.wnext=0,W(_)):j}function K(_,S){var C,O;return _&&_.state?(O=_.state,S<0?(C=0,S=-S):(C=1+(S>>4),S<48&&(S&=15)),S&&(S<8||15<S)?j:(O.window!==null&&O.wbits!==S&&(O.window=null),O.wrap=C,O.wbits=S,q(_))):j}function ie(_,S){var C,O;return _?(O=new Y,(_.state=O).window=null,(C=K(_,S))!==0&&(_.state=null),C):j}var $,D,F=!0;function A(_){if(F){var S;for($=new d.Buf32(512),D=new d.Buf32(32),S=0;S<144;)_.lens[S++]=8;for(;S<256;)_.lens[S++]=9;for(;S<280;)_.lens[S++]=7;for(;S<288;)_.lens[S++]=8;for(M(1,_.lens,0,288,$,0,_.work,{bits:9}),S=0;S<32;)_.lens[S++]=5;M(2,_.lens,0,32,D,0,_.work,{bits:5}),F=!1}_.lencode=$,_.lenbits=9,_.distcode=D,_.distbits=5}function v(_,S,C,O){var B,z=_.state;return z.window===null&&(z.wsize=1<<z.wbits,z.wnext=0,z.whave=0,z.window=new d.Buf8(z.wsize)),O>=z.wsize?(d.arraySet(z.window,S,C-z.wsize,z.wsize,0),z.wnext=0,z.whave=z.wsize):(O<(B=z.wsize-z.wnext)&&(B=O),d.arraySet(z.window,S,C-O,B,z.wnext),(O-=B)?(d.arraySet(z.window,S,C-O,O,0),z.wnext=O,z.whave=z.wsize):(z.wnext+=B,z.wnext===z.wsize&&(z.wnext=0),z.whave<z.wsize&&(z.whave+=B))),0}b.inflateReset=q,b.inflateReset2=K,b.inflateResetKeep=W,b.inflateInit=function(_){return ie(_,15)},b.inflateInit2=ie,b.inflate=function(_,S){var C,O,B,z,re,ne,de,H,ae,U,L,ee,ce,ve,he,xe,_e,Re,pe,Ae,Se,Ue,ke,We,$e=0,Ze=new d.Buf8(4),lt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!_||!_.state||!_.output||!_.input&&_.avail_in!==0)return j;(C=_.state).mode===12&&(C.mode=13),re=_.next_out,B=_.output,de=_.avail_out,z=_.next_in,O=_.input,ne=_.avail_in,H=C.hold,ae=C.bits,U=ne,L=de,Ue=0;e:for(;;)switch(C.mode){case 1:if(C.wrap===0){C.mode=13;break}for(;ae<16;){if(ne===0)break e;ne--,H+=O[z++]<<ae,ae+=8}if(2&C.wrap&&H===35615){Ze[C.check=0]=255&H,Ze[1]=H>>>8&255,C.check=y(C.check,Ze,2,0),ae=H=0,C.mode=2;break}if(C.flags=0,C.head&&(C.head.done=!1),!(1&C.wrap)||(((255&H)<<8)+(H>>8))%31){_.msg="incorrect header check",C.mode=30;break}if((15&H)!=8){_.msg="unknown compression method",C.mode=30;break}if(ae-=4,Se=8+(15&(H>>>=4)),C.wbits===0)C.wbits=Se;else if(Se>C.wbits){_.msg="invalid window size",C.mode=30;break}C.dmax=1<<Se,_.adler=C.check=1,C.mode=512&H?10:12,ae=H=0;break;case 2:for(;ae<16;){if(ne===0)break e;ne--,H+=O[z++]<<ae,ae+=8}if(C.flags=H,(255&C.flags)!=8){_.msg="unknown compression method",C.mode=30;break}if(57344&C.flags){_.msg="unknown header flags set",C.mode=30;break}C.head&&(C.head.text=H>>8&1),512&C.flags&&(Ze[0]=255&H,Ze[1]=H>>>8&255,C.check=y(C.check,Ze,2,0)),ae=H=0,C.mode=3;case 3:for(;ae<32;){if(ne===0)break e;ne--,H+=O[z++]<<ae,ae+=8}C.head&&(C.head.time=H),512&C.flags&&(Ze[0]=255&H,Ze[1]=H>>>8&255,Ze[2]=H>>>16&255,Ze[3]=H>>>24&255,C.check=y(C.check,Ze,4,0)),ae=H=0,C.mode=4;case 4:for(;ae<16;){if(ne===0)break e;ne--,H+=O[z++]<<ae,ae+=8}C.head&&(C.head.xflags=255&H,C.head.os=H>>8),512&C.flags&&(Ze[0]=255&H,Ze[1]=H>>>8&255,C.check=y(C.check,Ze,2,0)),ae=H=0,C.mode=5;case 5:if(1024&C.flags){for(;ae<16;){if(ne===0)break e;ne--,H+=O[z++]<<ae,ae+=8}C.length=H,C.head&&(C.head.extra_len=H),512&C.flags&&(Ze[0]=255&H,Ze[1]=H>>>8&255,C.check=y(C.check,Ze,2,0)),ae=H=0}else C.head&&(C.head.extra=null);C.mode=6;case 6:if(1024&C.flags&&(ne<(ee=C.length)&&(ee=ne),ee&&(C.head&&(Se=C.head.extra_len-C.length,C.head.extra||(C.head.extra=new Array(C.head.extra_len)),d.arraySet(C.head.extra,O,z,ee,Se)),512&C.flags&&(C.check=y(C.check,O,ee,z)),ne-=ee,z+=ee,C.length-=ee),C.length))break e;C.length=0,C.mode=7;case 7:if(2048&C.flags){if(ne===0)break e;for(ee=0;Se=O[z+ee++],C.head&&Se&&C.length<65536&&(C.head.name+=String.fromCharCode(Se)),Se&&ee<ne;);if(512&C.flags&&(C.check=y(C.check,O,ee,z)),ne-=ee,z+=ee,Se)break e}else C.head&&(C.head.name=null);C.length=0,C.mode=8;case 8:if(4096&C.flags){if(ne===0)break e;for(ee=0;Se=O[z+ee++],C.head&&Se&&C.length<65536&&(C.head.comment+=String.fromCharCode(Se)),Se&&ee<ne;);if(512&C.flags&&(C.check=y(C.check,O,ee,z)),ne-=ee,z+=ee,Se)break e}else C.head&&(C.head.comment=null);C.mode=9;case 9:if(512&C.flags){for(;ae<16;){if(ne===0)break e;ne--,H+=O[z++]<<ae,ae+=8}if(H!==(65535&C.check)){_.msg="header crc mismatch",C.mode=30;break}ae=H=0}C.head&&(C.head.hcrc=C.flags>>9&1,C.head.done=!0),_.adler=C.check=0,C.mode=12;break;case 10:for(;ae<32;){if(ne===0)break e;ne--,H+=O[z++]<<ae,ae+=8}_.adler=C.check=X(H),ae=H=0,C.mode=11;case 11:if(C.havedict===0)return _.next_out=re,_.avail_out=de,_.next_in=z,_.avail_in=ne,C.hold=H,C.bits=ae,2;_.adler=C.check=1,C.mode=12;case 12:if(S===5||S===6)break e;case 13:if(C.last){H>>>=7&ae,ae-=7&ae,C.mode=27;break}for(;ae<3;){if(ne===0)break e;ne--,H+=O[z++]<<ae,ae+=8}switch(C.last=1&H,ae-=1,3&(H>>>=1)){case 0:C.mode=14;break;case 1:if(A(C),C.mode=20,S!==6)break;H>>>=2,ae-=2;break e;case 2:C.mode=17;break;case 3:_.msg="invalid block type",C.mode=30}H>>>=2,ae-=2;break;case 14:for(H>>>=7&ae,ae-=7&ae;ae<32;){if(ne===0)break e;ne--,H+=O[z++]<<ae,ae+=8}if((65535&H)!=(H>>>16^65535)){_.msg="invalid stored block lengths",C.mode=30;break}if(C.length=65535&H,ae=H=0,C.mode=15,S===6)break e;case 15:C.mode=16;case 16:if(ee=C.length){if(ne<ee&&(ee=ne),de<ee&&(ee=de),ee===0)break e;d.arraySet(B,O,z,ee,re),ne-=ee,z+=ee,de-=ee,re+=ee,C.length-=ee;break}C.mode=12;break;case 17:for(;ae<14;){if(ne===0)break e;ne--,H+=O[z++]<<ae,ae+=8}if(C.nlen=257+(31&H),H>>>=5,ae-=5,C.ndist=1+(31&H),H>>>=5,ae-=5,C.ncode=4+(15&H),H>>>=4,ae-=4,286<C.nlen||30<C.ndist){_.msg="too many length or distance symbols",C.mode=30;break}C.have=0,C.mode=18;case 18:for(;C.have<C.ncode;){for(;ae<3;){if(ne===0)break e;ne--,H+=O[z++]<<ae,ae+=8}C.lens[lt[C.have++]]=7&H,H>>>=3,ae-=3}for(;C.have<19;)C.lens[lt[C.have++]]=0;if(C.lencode=C.lendyn,C.lenbits=7,ke={bits:C.lenbits},Ue=M(0,C.lens,0,19,C.lencode,0,C.work,ke),C.lenbits=ke.bits,Ue){_.msg="invalid code lengths set",C.mode=30;break}C.have=0,C.mode=19;case 19:for(;C.have<C.nlen+C.ndist;){for(;xe=($e=C.lencode[H&(1<<C.lenbits)-1])>>>16&255,_e=65535&$e,!((he=$e>>>24)<=ae);){if(ne===0)break e;ne--,H+=O[z++]<<ae,ae+=8}if(_e<16)H>>>=he,ae-=he,C.lens[C.have++]=_e;else{if(_e===16){for(We=he+2;ae<We;){if(ne===0)break e;ne--,H+=O[z++]<<ae,ae+=8}if(H>>>=he,ae-=he,C.have===0){_.msg="invalid bit length repeat",C.mode=30;break}Se=C.lens[C.have-1],ee=3+(3&H),H>>>=2,ae-=2}else if(_e===17){for(We=he+3;ae<We;){if(ne===0)break e;ne--,H+=O[z++]<<ae,ae+=8}ae-=he,Se=0,ee=3+(7&(H>>>=he)),H>>>=3,ae-=3}else{for(We=he+7;ae<We;){if(ne===0)break e;ne--,H+=O[z++]<<ae,ae+=8}ae-=he,Se=0,ee=11+(127&(H>>>=he)),H>>>=7,ae-=7}if(C.have+ee>C.nlen+C.ndist){_.msg="invalid bit length repeat",C.mode=30;break}for(;ee--;)C.lens[C.have++]=Se}}if(C.mode===30)break;if(C.lens[256]===0){_.msg="invalid code -- missing end-of-block",C.mode=30;break}if(C.lenbits=9,ke={bits:C.lenbits},Ue=M(1,C.lens,0,C.nlen,C.lencode,0,C.work,ke),C.lenbits=ke.bits,Ue){_.msg="invalid literal/lengths set",C.mode=30;break}if(C.distbits=6,C.distcode=C.distdyn,ke={bits:C.distbits},Ue=M(2,C.lens,C.nlen,C.ndist,C.distcode,0,C.work,ke),C.distbits=ke.bits,Ue){_.msg="invalid distances set",C.mode=30;break}if(C.mode=20,S===6)break e;case 20:C.mode=21;case 21:if(6<=ne&&258<=de){_.next_out=re,_.avail_out=de,_.next_in=z,_.avail_in=ne,C.hold=H,C.bits=ae,T(_,L),re=_.next_out,B=_.output,de=_.avail_out,z=_.next_in,O=_.input,ne=_.avail_in,H=C.hold,ae=C.bits,C.mode===12&&(C.back=-1);break}for(C.back=0;xe=($e=C.lencode[H&(1<<C.lenbits)-1])>>>16&255,_e=65535&$e,!((he=$e>>>24)<=ae);){if(ne===0)break e;ne--,H+=O[z++]<<ae,ae+=8}if(xe&&(240&xe)==0){for(Re=he,pe=xe,Ae=_e;xe=($e=C.lencode[Ae+((H&(1<<Re+pe)-1)>>Re)])>>>16&255,_e=65535&$e,!(Re+(he=$e>>>24)<=ae);){if(ne===0)break e;ne--,H+=O[z++]<<ae,ae+=8}H>>>=Re,ae-=Re,C.back+=Re}if(H>>>=he,ae-=he,C.back+=he,C.length=_e,xe===0){C.mode=26;break}if(32&xe){C.back=-1,C.mode=12;break}if(64&xe){_.msg="invalid literal/length code",C.mode=30;break}C.extra=15&xe,C.mode=22;case 22:if(C.extra){for(We=C.extra;ae<We;){if(ne===0)break e;ne--,H+=O[z++]<<ae,ae+=8}C.length+=H&(1<<C.extra)-1,H>>>=C.extra,ae-=C.extra,C.back+=C.extra}C.was=C.length,C.mode=23;case 23:for(;xe=($e=C.distcode[H&(1<<C.distbits)-1])>>>16&255,_e=65535&$e,!((he=$e>>>24)<=ae);){if(ne===0)break e;ne--,H+=O[z++]<<ae,ae+=8}if((240&xe)==0){for(Re=he,pe=xe,Ae=_e;xe=($e=C.distcode[Ae+((H&(1<<Re+pe)-1)>>Re)])>>>16&255,_e=65535&$e,!(Re+(he=$e>>>24)<=ae);){if(ne===0)break e;ne--,H+=O[z++]<<ae,ae+=8}H>>>=Re,ae-=Re,C.back+=Re}if(H>>>=he,ae-=he,C.back+=he,64&xe){_.msg="invalid distance code",C.mode=30;break}C.offset=_e,C.extra=15&xe,C.mode=24;case 24:if(C.extra){for(We=C.extra;ae<We;){if(ne===0)break e;ne--,H+=O[z++]<<ae,ae+=8}C.offset+=H&(1<<C.extra)-1,H>>>=C.extra,ae-=C.extra,C.back+=C.extra}if(C.offset>C.dmax){_.msg="invalid distance too far back",C.mode=30;break}C.mode=25;case 25:if(de===0)break e;if(ee=L-de,C.offset>ee){if((ee=C.offset-ee)>C.whave&&C.sane){_.msg="invalid distance too far back",C.mode=30;break}ce=ee>C.wnext?(ee-=C.wnext,C.wsize-ee):C.wnext-ee,ee>C.length&&(ee=C.length),ve=C.window}else ve=B,ce=re-C.offset,ee=C.length;for(de<ee&&(ee=de),de-=ee,C.length-=ee;B[re++]=ve[ce++],--ee;);C.length===0&&(C.mode=21);break;case 26:if(de===0)break e;B[re++]=C.length,de--,C.mode=21;break;case 27:if(C.wrap){for(;ae<32;){if(ne===0)break e;ne--,H|=O[z++]<<ae,ae+=8}if(L-=de,_.total_out+=L,C.total+=L,L&&(_.adler=C.check=C.flags?y(C.check,B,L,re-L):w(C.check,B,L,re-L)),L=de,(C.flags?H:X(H))!==C.check){_.msg="incorrect data check",C.mode=30;break}ae=H=0}C.mode=28;case 28:if(C.wrap&&C.flags){for(;ae<32;){if(ne===0)break e;ne--,H+=O[z++]<<ae,ae+=8}if(H!==(4294967295&C.total)){_.msg="incorrect length check",C.mode=30;break}ae=H=0}C.mode=29;case 29:Ue=1;break e;case 30:Ue=-3;break e;case 31:return-4;case 32:default:return j}return _.next_out=re,_.avail_out=de,_.next_in=z,_.avail_in=ne,C.hold=H,C.bits=ae,(C.wsize||L!==_.avail_out&&C.mode<30&&(C.mode<27||S!==4))&&v(_,_.output,_.next_out,L-_.avail_out)?(C.mode=31,-4):(U-=_.avail_in,L-=_.avail_out,_.total_in+=U,_.total_out+=L,C.total+=L,C.wrap&&L&&(_.adler=C.check=C.flags?y(C.check,B,L,_.next_out-L):w(C.check,B,L,_.next_out-L)),_.data_type=C.bits+(C.last?64:0)+(C.mode===12?128:0)+(C.mode===20||C.mode===15?256:0),(U==0&&L===0||S===4)&&Ue===0&&(Ue=-5),Ue)},b.inflateEnd=function(_){if(!_||!_.state)return j;var S=_.state;return S.window&&(S.window=null),_.state=null,0},b.inflateGetHeader=function(_,S){var C;return _&&_.state?(2&(C=_.state).wrap)==0?j:((C.head=S).done=!1,0):j},b.inflateSetDictionary=function(_,S){var C,O=S.length;return _&&_.state?(C=_.state).wrap!==0&&C.mode!==11?j:C.mode===11&&w(1,S,O,0)!==C.check?-3:v(_,S,O,O)?(C.mode=31,-4):(C.havedict=1,0):j},b.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(l,g,b){var d=l("../utils/common"),w=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],y=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],T=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],M=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];g.exports=function(j,X,Y,W,q,K,ie,$){var D,F,A,v,_,S,C,O,B,z=$.bits,re=0,ne=0,de=0,H=0,ae=0,U=0,L=0,ee=0,ce=0,ve=0,he=null,xe=0,_e=new d.Buf16(16),Re=new d.Buf16(16),pe=null,Ae=0;for(re=0;re<=15;re++)_e[re]=0;for(ne=0;ne<W;ne++)_e[X[Y+ne]]++;for(ae=z,H=15;1<=H&&_e[H]===0;H--);if(H<ae&&(ae=H),H===0)return q[K++]=20971520,q[K++]=20971520,$.bits=1,0;for(de=1;de<H&&_e[de]===0;de++);for(ae<de&&(ae=de),re=ee=1;re<=15;re++)if(ee<<=1,(ee-=_e[re])<0)return-1;if(0<ee&&(j===0||H!==1))return-1;for(Re[1]=0,re=1;re<15;re++)Re[re+1]=Re[re]+_e[re];for(ne=0;ne<W;ne++)X[Y+ne]!==0&&(ie[Re[X[Y+ne]]++]=ne);if(S=j===0?(he=pe=ie,19):j===1?(he=w,xe-=257,pe=y,Ae-=257,256):(he=T,pe=M,-1),re=de,_=K,L=ne=ve=0,A=-1,v=(ce=1<<(U=ae))-1,j===1&&852<ce||j===2&&592<ce)return 1;for(;;){for(C=re-L,B=ie[ne]<S?(O=0,ie[ne]):ie[ne]>S?(O=pe[Ae+ie[ne]],he[xe+ie[ne]]):(O=96,0),D=1<<re-L,de=F=1<<U;q[_+(ve>>L)+(F-=D)]=C<<24|O<<16|B|0,F!==0;);for(D=1<<re-1;ve&D;)D>>=1;if(D!==0?(ve&=D-1,ve+=D):ve=0,ne++,--_e[re]==0){if(re===H)break;re=X[Y+ie[ne]]}if(ae<re&&(ve&v)!==A){for(L===0&&(L=ae),_+=de,ee=1<<(U=re-L);U+L<H&&!((ee-=_e[U+L])<=0);)U++,ee<<=1;if(ce+=1<<U,j===1&&852<ce||j===2&&592<ce)return 1;q[A=ve&v]=ae<<24|U<<16|_-K|0}}return ve!==0&&(q[_+ve]=re-L<<24|64<<16|0),$.bits=ae,0}},{"../utils/common":41}],51:[function(l,g,b){g.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(l,g,b){var d=l("../utils/common");function w(pe){for(var Ae=pe.length;0<=--Ae;)pe[Ae]=0}var y=256,T=286,M=30,j=15,X=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Y=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],W=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K=new Array(576);w(K);var ie=new Array(60);w(ie);var $=new Array(512);w($);var D=new Array(256);w(D);var F=new Array(29);w(F);var A,v,_,S=new Array(M);function C(pe,Ae,Se,Ue,ke){this.static_tree=pe,this.extra_bits=Ae,this.extra_base=Se,this.elems=Ue,this.max_length=ke,this.has_stree=pe&&pe.length}function O(pe,Ae){this.dyn_tree=pe,this.max_code=0,this.stat_desc=Ae}function B(pe){return pe<256?$[pe]:$[256+(pe>>>7)]}function z(pe,Ae){pe.pending_buf[pe.pending++]=255&Ae,pe.pending_buf[pe.pending++]=Ae>>>8&255}function re(pe,Ae,Se){pe.bi_valid>16-Se?(pe.bi_buf|=Ae<<pe.bi_valid&65535,z(pe,pe.bi_buf),pe.bi_buf=Ae>>16-pe.bi_valid,pe.bi_valid+=Se-16):(pe.bi_buf|=Ae<<pe.bi_valid&65535,pe.bi_valid+=Se)}function ne(pe,Ae,Se){re(pe,Se[2*Ae],Se[2*Ae+1])}function de(pe,Ae){for(var Se=0;Se|=1&pe,pe>>>=1,Se<<=1,0<--Ae;);return Se>>>1}function H(pe,Ae,Se){var Ue,ke,We=new Array(16),$e=0;for(Ue=1;Ue<=j;Ue++)We[Ue]=$e=$e+Se[Ue-1]<<1;for(ke=0;ke<=Ae;ke++){var Ze=pe[2*ke+1];Ze!==0&&(pe[2*ke]=de(We[Ze]++,Ze))}}function ae(pe){var Ae;for(Ae=0;Ae<T;Ae++)pe.dyn_ltree[2*Ae]=0;for(Ae=0;Ae<M;Ae++)pe.dyn_dtree[2*Ae]=0;for(Ae=0;Ae<19;Ae++)pe.bl_tree[2*Ae]=0;pe.dyn_ltree[512]=1,pe.opt_len=pe.static_len=0,pe.last_lit=pe.matches=0}function U(pe){8<pe.bi_valid?z(pe,pe.bi_buf):0<pe.bi_valid&&(pe.pending_buf[pe.pending++]=pe.bi_buf),pe.bi_buf=0,pe.bi_valid=0}function L(pe,Ae,Se,Ue){var ke=2*Ae,We=2*Se;return pe[ke]<pe[We]||pe[ke]===pe[We]&&Ue[Ae]<=Ue[Se]}function ee(pe,Ae,Se){for(var Ue=pe.heap[Se],ke=Se<<1;ke<=pe.heap_len&&(ke<pe.heap_len&&L(Ae,pe.heap[ke+1],pe.heap[ke],pe.depth)&&ke++,!L(Ae,Ue,pe.heap[ke],pe.depth));)pe.heap[Se]=pe.heap[ke],Se=ke,ke<<=1;pe.heap[Se]=Ue}function ce(pe,Ae,Se){var Ue,ke,We,$e,Ze=0;if(pe.last_lit!==0)for(;Ue=pe.pending_buf[pe.d_buf+2*Ze]<<8|pe.pending_buf[pe.d_buf+2*Ze+1],ke=pe.pending_buf[pe.l_buf+Ze],Ze++,Ue===0?ne(pe,ke,Ae):(ne(pe,(We=D[ke])+y+1,Ae),($e=X[We])!==0&&re(pe,ke-=F[We],$e),ne(pe,We=B(--Ue),Se),($e=Y[We])!==0&&re(pe,Ue-=S[We],$e)),Ze<pe.last_lit;);ne(pe,256,Ae)}function ve(pe,Ae){var Se,Ue,ke,We=Ae.dyn_tree,$e=Ae.stat_desc.static_tree,Ze=Ae.stat_desc.has_stree,lt=Ae.stat_desc.elems,xt=-1;for(pe.heap_len=0,pe.heap_max=573,Se=0;Se<lt;Se++)We[2*Se]!==0?(pe.heap[++pe.heap_len]=xt=Se,pe.depth[Se]=0):We[2*Se+1]=0;for(;pe.heap_len<2;)We[2*(ke=pe.heap[++pe.heap_len]=xt<2?++xt:0)]=1,pe.depth[ke]=0,pe.opt_len--,Ze&&(pe.static_len-=$e[2*ke+1]);for(Ae.max_code=xt,Se=pe.heap_len>>1;1<=Se;Se--)ee(pe,We,Se);for(ke=lt;Se=pe.heap[1],pe.heap[1]=pe.heap[pe.heap_len--],ee(pe,We,1),Ue=pe.heap[1],pe.heap[--pe.heap_max]=Se,pe.heap[--pe.heap_max]=Ue,We[2*ke]=We[2*Se]+We[2*Ue],pe.depth[ke]=(pe.depth[Se]>=pe.depth[Ue]?pe.depth[Se]:pe.depth[Ue])+1,We[2*Se+1]=We[2*Ue+1]=ke,pe.heap[1]=ke++,ee(pe,We,1),2<=pe.heap_len;);pe.heap[--pe.heap_max]=pe.heap[1],function(Tt,gt){var Mt,Ft,Bt,Gt,ft,Ge,bt=gt.dyn_tree,Et=gt.max_code,yt=gt.stat_desc.static_tree,fr=gt.stat_desc.has_stree,_r=gt.stat_desc.extra_bits,Lt=gt.stat_desc.extra_base,Dt=gt.stat_desc.max_length,ir=0;for(Gt=0;Gt<=j;Gt++)Tt.bl_count[Gt]=0;for(bt[2*Tt.heap[Tt.heap_max]+1]=0,Mt=Tt.heap_max+1;Mt<573;Mt++)Dt<(Gt=bt[2*bt[2*(Ft=Tt.heap[Mt])+1]+1]+1)&&(Gt=Dt,ir++),bt[2*Ft+1]=Gt,Et<Ft||(Tt.bl_count[Gt]++,ft=0,Lt<=Ft&&(ft=_r[Ft-Lt]),Ge=bt[2*Ft],Tt.opt_len+=Ge*(Gt+ft),fr&&(Tt.static_len+=Ge*(yt[2*Ft+1]+ft)));if(ir!==0){do{for(Gt=Dt-1;Tt.bl_count[Gt]===0;)Gt--;Tt.bl_count[Gt]--,Tt.bl_count[Gt+1]+=2,Tt.bl_count[Dt]--,ir-=2}while(0<ir);for(Gt=Dt;Gt!==0;Gt--)for(Ft=Tt.bl_count[Gt];Ft!==0;)Et<(Bt=Tt.heap[--Mt])||(bt[2*Bt+1]!==Gt&&(Tt.opt_len+=(Gt-bt[2*Bt+1])*bt[2*Bt],bt[2*Bt+1]=Gt),Ft--)}}(pe,Ae),H(We,xt,pe.bl_count)}function he(pe,Ae,Se){var Ue,ke,We=-1,$e=Ae[1],Ze=0,lt=7,xt=4;for($e===0&&(lt=138,xt=3),Ae[2*(Se+1)+1]=65535,Ue=0;Ue<=Se;Ue++)ke=$e,$e=Ae[2*(Ue+1)+1],++Ze<lt&&ke===$e||(Ze<xt?pe.bl_tree[2*ke]+=Ze:ke!==0?(ke!==We&&pe.bl_tree[2*ke]++,pe.bl_tree[32]++):Ze<=10?pe.bl_tree[34]++:pe.bl_tree[36]++,We=ke,xt=(Ze=0)===$e?(lt=138,3):ke===$e?(lt=6,3):(lt=7,4))}function xe(pe,Ae,Se){var Ue,ke,We=-1,$e=Ae[1],Ze=0,lt=7,xt=4;for($e===0&&(lt=138,xt=3),Ue=0;Ue<=Se;Ue++)if(ke=$e,$e=Ae[2*(Ue+1)+1],!(++Ze<lt&&ke===$e)){if(Ze<xt)for(;ne(pe,ke,pe.bl_tree),--Ze!=0;);else ke!==0?(ke!==We&&(ne(pe,ke,pe.bl_tree),Ze--),ne(pe,16,pe.bl_tree),re(pe,Ze-3,2)):Ze<=10?(ne(pe,17,pe.bl_tree),re(pe,Ze-3,3)):(ne(pe,18,pe.bl_tree),re(pe,Ze-11,7));We=ke,xt=(Ze=0)===$e?(lt=138,3):ke===$e?(lt=6,3):(lt=7,4)}}w(S);var _e=!1;function Re(pe,Ae,Se,Ue){re(pe,0+(Ue?1:0),3),function(ke,We,$e,Ze){U(ke),z(ke,$e),z(ke,~$e),d.arraySet(ke.pending_buf,ke.window,We,$e,ke.pending),ke.pending+=$e}(pe,Ae,Se)}b._tr_init=function(pe){_e||(function(){var Ae,Se,Ue,ke,We,$e=new Array(16);for(ke=Ue=0;ke<28;ke++)for(F[ke]=Ue,Ae=0;Ae<1<<X[ke];Ae++)D[Ue++]=ke;for(D[Ue-1]=ke,ke=We=0;ke<16;ke++)for(S[ke]=We,Ae=0;Ae<1<<Y[ke];Ae++)$[We++]=ke;for(We>>=7;ke<M;ke++)for(S[ke]=We<<7,Ae=0;Ae<1<<Y[ke]-7;Ae++)$[256+We++]=ke;for(Se=0;Se<=j;Se++)$e[Se]=0;for(Ae=0;Ae<=143;)K[2*Ae+1]=8,Ae++,$e[8]++;for(;Ae<=255;)K[2*Ae+1]=9,Ae++,$e[9]++;for(;Ae<=279;)K[2*Ae+1]=7,Ae++,$e[7]++;for(;Ae<=287;)K[2*Ae+1]=8,Ae++,$e[8]++;for(H(K,287,$e),Ae=0;Ae<M;Ae++)ie[2*Ae+1]=5,ie[2*Ae]=de(Ae,5);A=new C(K,X,257,T,j),v=new C(ie,Y,0,M,j),_=new C(new Array(0),W,0,19,7)}(),_e=!0),pe.l_desc=new O(pe.dyn_ltree,A),pe.d_desc=new O(pe.dyn_dtree,v),pe.bl_desc=new O(pe.bl_tree,_),pe.bi_buf=0,pe.bi_valid=0,ae(pe)},b._tr_stored_block=Re,b._tr_flush_block=function(pe,Ae,Se,Ue){var ke,We,$e=0;0<pe.level?(pe.strm.data_type===2&&(pe.strm.data_type=function(Ze){var lt,xt=4093624447;for(lt=0;lt<=31;lt++,xt>>>=1)if(1&xt&&Ze.dyn_ltree[2*lt]!==0)return 0;if(Ze.dyn_ltree[18]!==0||Ze.dyn_ltree[20]!==0||Ze.dyn_ltree[26]!==0)return 1;for(lt=32;lt<y;lt++)if(Ze.dyn_ltree[2*lt]!==0)return 1;return 0}(pe)),ve(pe,pe.l_desc),ve(pe,pe.d_desc),$e=function(Ze){var lt;for(he(Ze,Ze.dyn_ltree,Ze.l_desc.max_code),he(Ze,Ze.dyn_dtree,Ze.d_desc.max_code),ve(Ze,Ze.bl_desc),lt=18;3<=lt&&Ze.bl_tree[2*q[lt]+1]===0;lt--);return Ze.opt_len+=3*(lt+1)+5+5+4,lt}(pe),ke=pe.opt_len+3+7>>>3,(We=pe.static_len+3+7>>>3)<=ke&&(ke=We)):ke=We=Se+5,Se+4<=ke&&Ae!==-1?Re(pe,Ae,Se,Ue):pe.strategy===4||We===ke?(re(pe,2+(Ue?1:0),3),ce(pe,K,ie)):(re(pe,4+(Ue?1:0),3),function(Ze,lt,xt,Tt){var gt;for(re(Ze,lt-257,5),re(Ze,xt-1,5),re(Ze,Tt-4,4),gt=0;gt<Tt;gt++)re(Ze,Ze.bl_tree[2*q[gt]+1],3);xe(Ze,Ze.dyn_ltree,lt-1),xe(Ze,Ze.dyn_dtree,xt-1)}(pe,pe.l_desc.max_code+1,pe.d_desc.max_code+1,$e+1),ce(pe,pe.dyn_ltree,pe.dyn_dtree)),ae(pe),Ue&&U(pe)},b._tr_tally=function(pe,Ae,Se){return pe.pending_buf[pe.d_buf+2*pe.last_lit]=Ae>>>8&255,pe.pending_buf[pe.d_buf+2*pe.last_lit+1]=255&Ae,pe.pending_buf[pe.l_buf+pe.last_lit]=255&Se,pe.last_lit++,Ae===0?pe.dyn_ltree[2*Se]++:(pe.matches++,Ae--,pe.dyn_ltree[2*(D[Se]+y+1)]++,pe.dyn_dtree[2*B(Ae)]++),pe.last_lit===pe.lit_bufsize-1},b._tr_align=function(pe){re(pe,2,3),ne(pe,256,K),function(Ae){Ae.bi_valid===16?(z(Ae,Ae.bi_buf),Ae.bi_buf=0,Ae.bi_valid=0):8<=Ae.bi_valid&&(Ae.pending_buf[Ae.pending++]=255&Ae.bi_buf,Ae.bi_buf>>=8,Ae.bi_valid-=8)}(pe)}},{"../utils/common":41}],53:[function(l,g,b){g.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(l,g,b){(function(d){(function(w,y){if(!w.setImmediate){var T,M,j,X,Y=1,W={},q=!1,K=w.document,ie=Object.getPrototypeOf&&Object.getPrototypeOf(w);ie=ie&&ie.setTimeout?ie:w,T={}.toString.call(w.process)==="[object process]"?function(A){p.nextTick(function(){D(A)})}:function(){if(w.postMessage&&!w.importScripts){var A=!0,v=w.onmessage;return w.onmessage=function(){A=!1},w.postMessage("","*"),w.onmessage=v,A}}()?(X="setImmediate$"+Math.random()+"$",w.addEventListener?w.addEventListener("message",F,!1):w.attachEvent("onmessage",F),function(A){w.postMessage(X+A,"*")}):w.MessageChannel?((j=new MessageChannel).port1.onmessage=function(A){D(A.data)},function(A){j.port2.postMessage(A)}):K&&"onreadystatechange"in K.createElement("script")?(M=K.documentElement,function(A){var v=K.createElement("script");v.onreadystatechange=function(){D(A),v.onreadystatechange=null,M.removeChild(v),v=null},M.appendChild(v)}):function(A){setTimeout(D,0,A)},ie.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var v=new Array(arguments.length-1),_=0;_<v.length;_++)v[_]=arguments[_+1];var S={callback:A,args:v};return W[Y]=S,T(Y),Y++},ie.clearImmediate=$}function $(A){delete W[A]}function D(A){if(q)setTimeout(D,0,A);else{var v=W[A];if(v){q=!0;try{(function(_){var S=_.callback,C=_.args;switch(C.length){case 0:S();break;case 1:S(C[0]);break;case 2:S(C[0],C[1]);break;case 3:S(C[0],C[1],C[2]);break;default:S.apply(void 0,C)}})(v)}finally{$(A),q=!1}}}}function F(A){A.source===w&&typeof A.data=="string"&&A.data.indexOf(X)===0&&D(+A.data.slice(X.length))}})(typeof self>"u"?d===void 0?this:d:self)}).call(this,u!==void 0?u:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,r("_process"),typeof yr<"u"?yr:typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],r("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(r,I,k){(function(p){(function(){var u=/[\\^$.*+?()[\]{}|]/g,f=RegExp(u.source),i=typeof p=="object"&&p&&p.Object===Object&&p,t=typeof self=="object"&&self&&self.Object===Object&&self,n=i||t||Function("return this")(),c=Object.prototype.toString,a=n.Symbol,l=a?a.prototype:void 0,g=l?l.toString:void 0;function b(d){if(typeof d=="string")return d;if(function(y){return typeof y=="symbol"||function(T){return!!T&&typeof T=="object"}(y)&&c.call(y)=="[object Symbol]"}(d))return g?g.call(d):"";var w=d+"";return w=="0"&&1/d==-1/0?"-0":w}I.exports=function(d){var w;return(d=(w=d)==null?"":b(w))&&f.test(d)?d.replace(u,"\\$&"):d}}).call(this)}).call(this,typeof yr<"u"?yr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(r,I,k){(function(p){(function(){var u="[object Arguments]",f="[object Map]",i="[object Object]",t="[object Set]",n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,a=/^\./,l=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g,b=/^\[object .+?Constructor\]$/,d=/^(?:0|[1-9]\d*)$/,w={};w["[object Float32Array]"]=w["[object Float64Array]"]=w["[object Int8Array]"]=w["[object Int16Array]"]=w["[object Int32Array]"]=w["[object Uint8Array]"]=w["[object Uint8ClampedArray]"]=w["[object Uint16Array]"]=w["[object Uint32Array]"]=!0,w[u]=w["[object Array]"]=w["[object ArrayBuffer]"]=w["[object Boolean]"]=w["[object DataView]"]=w["[object Date]"]=w["[object Error]"]=w["[object Function]"]=w[f]=w["[object Number]"]=w[i]=w["[object RegExp]"]=w[t]=w["[object String]"]=w["[object WeakMap]"]=!1;var y=typeof p=="object"&&p&&p.Object===Object&&p,T=typeof self=="object"&&self&&self.Object===Object&&self,M=y||T||Function("return this")(),j=typeof k=="object"&&k&&!k.nodeType&&k,X=j&&typeof I=="object"&&I&&!I.nodeType&&I,Y=X&&X.exports===j&&y.process,W=function(){try{return Y&&Y.binding("util")}catch{}}(),q=W&&W.isTypedArray;function K(Ee,Fe,ot,De){for(var zt=-1,at=Ee?Ee.length:0;++zt<at;){var vt=Ee[zt];Fe(De,vt,ot(vt),Ee)}return De}function ie(Ee,Fe){for(var ot=-1,De=Ee?Ee.length:0;++ot<De;)if(Fe(Ee[ot],ot,Ee))return!0;return!1}function $(Ee){var Fe=!1;if(Ee!=null&&typeof Ee.toString!="function")try{Fe=!!(Ee+"")}catch{}return Fe}function D(Ee){var Fe=-1,ot=Array(Ee.size);return Ee.forEach(function(De,zt){ot[++Fe]=[zt,De]}),ot}function F(Ee){var Fe=-1,ot=Array(Ee.size);return Ee.forEach(function(De){ot[++Fe]=De}),ot}var A,v,_,S=Array.prototype,C=Function.prototype,O=Object.prototype,B=M["__core-js_shared__"],z=(A=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",re=C.toString,ne=O.hasOwnProperty,de=O.toString,H=RegExp("^"+re.call(ne).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ae=M.Symbol,U=M.Uint8Array,L=O.propertyIsEnumerable,ee=S.splice,ce=(v=Object.keys,_=Object,function(Ee){return v(_(Ee))}),ve=Yt(M,"DataView"),he=Yt(M,"Map"),xe=Yt(M,"Promise"),_e=Yt(M,"Set"),Re=Yt(M,"WeakMap"),pe=Yt(Object,"create"),Ae=He(ve),Se=He(he),Ue=He(xe),ke=He(_e),We=He(Re),$e=ae?ae.prototype:void 0,Ze=$e?$e.valueOf:void 0,lt=$e?$e.toString:void 0;function xt(Ee){var Fe=-1,ot=Ee?Ee.length:0;for(this.clear();++Fe<ot;){var De=Ee[Fe];this.set(De[0],De[1])}}function Tt(Ee){var Fe=-1,ot=Ee?Ee.length:0;for(this.clear();++Fe<ot;){var De=Ee[Fe];this.set(De[0],De[1])}}function gt(Ee){var Fe=-1,ot=Ee?Ee.length:0;for(this.clear();++Fe<ot;){var De=Ee[Fe];this.set(De[0],De[1])}}function Mt(Ee){var Fe=-1,ot=Ee?Ee.length:0;for(this.__data__=new gt;++Fe<ot;)this.add(Ee[Fe])}function Ft(Ee){this.__data__=new Tt(Ee)}function Bt(Ee,Fe){var ot=jt(Ee)||er(Ee)?function(vt,xr){for(var Rt=-1,Nt=Array(vt);++Rt<vt;)Nt[Rt]=xr(Rt);return Nt}(Ee.length,String):[],De=ot.length,zt=!!De;for(var at in Ee)!ne.call(Ee,at)||zt&&(at=="length"||vr(at,De))||ot.push(at);return ot}function Gt(Ee,Fe){for(var ot=Ee.length;ot--;)if(kt(Ee[ot][0],Fe))return ot;return-1}function ft(Ee,Fe,ot,De){return bt(Ee,function(zt,at,vt){Fe(De,zt,ot(zt),vt)}),De}xt.prototype.clear=function(){this.__data__=pe?pe(null):{}},xt.prototype.delete=function(Ee){return this.has(Ee)&&delete this.__data__[Ee]},xt.prototype.get=function(Ee){var Fe=this.__data__;if(pe){var ot=Fe[Ee];return ot==="__lodash_hash_undefined__"?void 0:ot}return ne.call(Fe,Ee)?Fe[Ee]:void 0},xt.prototype.has=function(Ee){var Fe=this.__data__;return pe?Fe[Ee]!==void 0:ne.call(Fe,Ee)},xt.prototype.set=function(Ee,Fe){return this.__data__[Ee]=pe&&Fe===void 0?"__lodash_hash_undefined__":Fe,this},Tt.prototype.clear=function(){this.__data__=[]},Tt.prototype.delete=function(Ee){var Fe=this.__data__,ot=Gt(Fe,Ee);return!(ot<0)&&(ot==Fe.length-1?Fe.pop():ee.call(Fe,ot,1),!0)},Tt.prototype.get=function(Ee){var Fe=this.__data__,ot=Gt(Fe,Ee);return ot<0?void 0:Fe[ot][1]},Tt.prototype.has=function(Ee){return Gt(this.__data__,Ee)>-1},Tt.prototype.set=function(Ee,Fe){var ot=this.__data__,De=Gt(ot,Ee);return De<0?ot.push([Ee,Fe]):ot[De][1]=Fe,this},gt.prototype.clear=function(){this.__data__={hash:new xt,map:new(he||Tt),string:new xt}},gt.prototype.delete=function(Ee){return hr(this,Ee).delete(Ee)},gt.prototype.get=function(Ee){return hr(this,Ee).get(Ee)},gt.prototype.has=function(Ee){return hr(this,Ee).has(Ee)},gt.prototype.set=function(Ee,Fe){return hr(this,Ee).set(Ee,Fe),this},Mt.prototype.add=Mt.prototype.push=function(Ee){return this.__data__.set(Ee,"__lodash_hash_undefined__"),this},Mt.prototype.has=function(Ee){return this.__data__.has(Ee)},Ft.prototype.clear=function(){this.__data__=new Tt},Ft.prototype.delete=function(Ee){return this.__data__.delete(Ee)},Ft.prototype.get=function(Ee){return this.__data__.get(Ee)},Ft.prototype.has=function(Ee){return this.__data__.has(Ee)},Ft.prototype.set=function(Ee,Fe){var ot=this.__data__;if(ot instanceof Tt){var De=ot.__data__;if(!he||De.length<199)return De.push([Ee,Fe]),this;ot=this.__data__=new gt(De)}return ot.set(Ee,Fe),this};var Ge,bt=(Ge=function(Ee,Fe){return Ee&&Et(Ee,Fe,Sr)},function(Ee,Fe){if(Ee==null)return Ee;if(!Pt(Ee))return Ge(Ee,Fe);for(var ot=Ee.length,De=-1,zt=Object(Ee);++De<ot&&Fe(zt[De],De,zt)!==!1;);return Ee}),Et=function(Ee){return function(Fe,ot,De){for(var zt=-1,at=Object(Fe),vt=De(Fe),xr=vt.length;xr--;){var Rt=vt[++zt];if(ot(at[Rt],Rt,at)===!1)break}return Fe}}();function yt(Ee,Fe){for(var ot=0,De=(Fe=Kt(Fe,Ee)?[Fe]:rr(Fe)).length;Ee!=null&&ot<De;)Ee=Ee[Oe(Fe[ot++])];return ot&&ot==De?Ee:void 0}function fr(Ee,Fe){return Ee!=null&&Fe in Object(Ee)}function _r(Ee,Fe,ot,De,zt){return Ee===Fe||(Ee==null||Fe==null||!sr(Ee)&&!jr(Fe)?Ee!=Ee&&Fe!=Fe:function(at,vt,xr,Rt,Nt,Ct){var dr=jt(at),be=jt(vt),Ie="[object Array]",we="[object Array]";dr||(Ie=(Ie=Jt(at))==u?i:Ie),be||(we=(we=Jt(vt))==u?i:we);var Pe=Ie==i&&!$(at),ze=we==i&&!$(vt),Me=Ie==we;if(Me&&!Pe)return Ct||(Ct=new Ft),dr||Nr(at)?kr(at,vt,xr,Rt,Nt,Ct):function(nt,Te,ye,wt,tr,Ot,Tr){switch(ye){case"[object DataView]":if(nt.byteLength!=Te.byteLength||nt.byteOffset!=Te.byteOffset)return!1;nt=nt.buffer,Te=Te.buffer;case"[object ArrayBuffer]":return!(nt.byteLength!=Te.byteLength||!wt(new U(nt),new U(Te)));case"[object Boolean]":case"[object Date]":case"[object Number]":return kt(+nt,+Te);case"[object Error]":return nt.name==Te.name&&nt.message==Te.message;case"[object RegExp]":case"[object String]":return nt==Te+"";case f:var Ur=D;case t:var zr=2&Ot;if(Ur||(Ur=F),nt.size!=Te.size&&!zr)return!1;var Wt=Tr.get(nt);if(Wt)return Wt==Te;Ot|=1,Tr.set(nt,Te);var Rr=kr(Ur(nt),Ur(Te),wt,tr,Ot,Tr);return Tr.delete(nt),Rr;case"[object Symbol]":if(Ze)return Ze.call(nt)==Ze.call(Te)}return!1}(at,vt,Ie,xr,Rt,Nt,Ct);if(!(2&Nt)){var rt=Pe&&ne.call(at,"__wrapped__"),ut=ze&&ne.call(vt,"__wrapped__");if(rt||ut){var ct=rt?at.value():at,st=ut?vt.value():vt;return Ct||(Ct=new Ft),xr(ct,st,Rt,Nt,Ct)}}return Me?(Ct||(Ct=new Ft),function(nt,Te,ye,wt,tr,Ot){var Tr=2&tr,Ur=Sr(nt),zr=Ur.length,Wt=Sr(Te).length;if(zr!=Wt&&!Tr)return!1;for(var Rr=zr;Rr--;){var bn=Ur[Rr];if(!(Tr?bn in Te:ne.call(Te,bn)))return!1}var xi=Ot.get(nt);if(xi&&Ot.get(Te))return xi==Te;var Pn=!0;Ot.set(nt,Te),Ot.set(Te,nt);for(var fn=Tr;++Rr<zr;){bn=Ur[Rr];var un=nt[bn],Bn=Te[bn];if(wt)var Wr=Tr?wt(Bn,un,bn,Te,nt,Ot):wt(un,Bn,bn,nt,Te,Ot);if(!(Wr===void 0?un===Bn||ye(un,Bn,wt,tr,Ot):Wr)){Pn=!1;break}fn||(fn=bn=="constructor")}if(Pn&&!fn){var Tn=nt.constructor,en=Te.constructor;Tn==en||!("constructor"in nt)||!("constructor"in Te)||typeof Tn=="function"&&Tn instanceof Tn&&typeof en=="function"&&en instanceof en||(Pn=!1)}return Ot.delete(nt),Ot.delete(Te),Pn}(at,vt,xr,Rt,Nt,Ct)):!1}(Ee,Fe,_r,ot,De,zt))}function Lt(Ee){return!(!sr(Ee)||function(Fe){return!!z&&z in Fe}(Ee))&&(nr(Ee)||$(Ee)?H:b).test(He(Ee))}function Dt(Ee){return typeof Ee=="function"?Ee:Ee==null?wr:typeof Ee=="object"?jt(Ee)?function(De,zt){return Kt(De)&&ur(zt)?Ar(Oe(De),zt):function(at){var vt=function(xr,Rt,Nt){var Ct=xr==null?void 0:yt(xr,Rt);return Ct===void 0?Nt:Ct}(at,De);return vt===void 0&&vt===zt?function(xr,Rt){return xr!=null&&function(Nt,Ct,dr){Ct=Kt(Ct,Nt)?[Ct]:rr(Ct);for(var be,Ie=-1,we=Ct.length;++Ie<we;){var Pe=Oe(Ct[Ie]);if(!(be=Nt!=null&&dr(Nt,Pe)))break;Nt=Nt[Pe]}return be||!!(we=Nt?Nt.length:0)&&Qt(we)&&vr(Pe,we)&&(jt(Nt)||er(Nt))}(xr,Rt,fr)}(at,De):_r(zt,vt,void 0,3)}}(Ee[0],Ee[1]):function(De){var zt=function(at){for(var vt=Sr(at),xr=vt.length;xr--;){var Rt=vt[xr],Nt=at[Rt];vt[xr]=[Rt,Nt,ur(Nt)]}return vt}(De);return zt.length==1&&zt[0][2]?Ar(zt[0][0],zt[0][1]):function(at){return at===De||function(vt,xr,Rt,Nt){var Ct=Rt.length,dr=Ct;if(vt==null)return!dr;for(vt=Object(vt);Ct--;){var be=Rt[Ct];if(be[2]?be[1]!==vt[be[0]]:!(be[0]in vt))return!1}for(;++Ct<dr;){var Ie=(be=Rt[Ct])[0],we=vt[Ie],Pe=be[1];if(be[2]){if(we===void 0&&!(Ie in vt))return!1}else{var ze=new Ft,Me;if(!(Me===void 0?_r(Pe,we,Nt,3,ze):Me))return!1}}return!0}(at,De,zt)}}(Ee):Kt(Fe=Ee)?(ot=Oe(Fe),function(De){return De==null?void 0:De[ot]}):function(De){return function(zt){return yt(zt,De)}}(Fe);var Fe,ot}function ir(Ee){if(ot=(Fe=Ee)&&Fe.constructor,De=typeof ot=="function"&&ot.prototype||O,Fe!==De)return ce(Ee);var Fe,ot,De,zt=[];for(var at in Object(Ee))ne.call(Ee,at)&&at!="constructor"&&zt.push(at);return zt}function rr(Ee){return jt(Ee)?Ee:$t(Ee)}function kr(Ee,Fe,ot,De,zt,at){var vt=2&zt,xr=Ee.length,Rt=Fe.length;if(xr!=Rt&&!(vt&&Rt>xr))return!1;var Nt=at.get(Ee);if(Nt&&at.get(Fe))return Nt==Fe;var Ct=-1,dr=!0,be=1&zt?new Mt:void 0;for(at.set(Ee,Fe),at.set(Fe,Ee);++Ct<xr;){var Ie=Ee[Ct],we=Fe[Ct];if(De)var Pe=vt?De(we,Ie,Ct,Fe,Ee,at):De(Ie,we,Ct,Ee,Fe,at);if(Pe!==void 0){if(Pe)continue;dr=!1;break}if(be){if(!ie(Fe,function(ze,Me){if(!be.has(Me)&&(Ie===ze||ot(Ie,ze,De,zt,at)))return be.add(Me)})){dr=!1;break}}else if(Ie!==we&&!ot(Ie,we,De,zt,at)){dr=!1;break}}return at.delete(Ee),at.delete(Fe),dr}function hr(Ee,Fe){var ot,De,zt=Ee.__data__;return((De=typeof(ot=Fe))=="string"||De=="number"||De=="symbol"||De=="boolean"?ot!=="__proto__":ot===null)?zt[typeof Fe=="string"?"string":"hash"]:zt.map}function Yt(Ee,Fe){var ot=function(De,zt){return De==null?void 0:De[zt]}(Ee,Fe);return Lt(ot)?ot:void 0}var Jt=function(Ee){return de.call(Ee)};function vr(Ee,Fe){return!!(Fe=Fe??9007199254740991)&&(typeof Ee=="number"||d.test(Ee))&&Ee>-1&&Ee%1==0&&Ee<Fe}function Kt(Ee,Fe){if(jt(Ee))return!1;var ot=typeof Ee;return!(ot!="number"&&ot!="symbol"&&ot!="boolean"&&Ee!=null&&!Mr(Ee))||c.test(Ee)||!n.test(Ee)||Fe!=null&&Ee in Object(Fe)}function ur(Ee){return Ee==Ee&&!sr(Ee)}function Ar(Ee,Fe){return function(ot){return ot!=null&&ot[Ee]===Fe&&(Fe!==void 0||Ee in Object(ot))}}(ve&&Jt(new ve(new ArrayBuffer(1)))!="[object DataView]"||he&&Jt(new he)!=f||xe&&Jt(xe.resolve())!="[object Promise]"||_e&&Jt(new _e)!=t||Re&&Jt(new Re)!="[object WeakMap]")&&(Jt=function(Ee){var Fe=de.call(Ee),ot=Fe==i?Ee.constructor:void 0,De=ot?He(ot):void 0;if(De)switch(De){case Ae:return"[object DataView]";case Se:return f;case Ue:return"[object Promise]";case ke:return t;case We:return"[object WeakMap]"}return Fe});var $t=it(function(Ee){var Fe;Ee=(Fe=Ee)==null?"":function(De){if(typeof De=="string")return De;if(Mr(De))return lt?lt.call(De):"";var zt=De+"";return zt=="0"&&1/De==-1/0?"-0":zt}(Fe);var ot=[];return a.test(Ee)&&ot.push(""),Ee.replace(l,function(De,zt,at,vt){ot.push(at?vt.replace(g,"$1"):zt||De)}),ot});function Oe(Ee){if(typeof Ee=="string"||Mr(Ee))return Ee;var Fe=Ee+"";return Fe=="0"&&1/Ee==-1/0?"-0":Fe}function He(Ee){if(Ee!=null){try{return re.call(Ee)}catch{}try{return Ee+""}catch{}}return""}var et,ht=(et=function(Ee,Fe,ot){ne.call(Ee,ot)?Ee[ot].push(Fe):Ee[ot]=[Fe]},function(Ee,Fe){var ot=jt(Ee)?K:ft,De={};return ot(Ee,et,Dt(Fe),De)});function it(Ee,Fe){if(typeof Ee!="function"||Fe&&typeof Fe!="function")throw new TypeError("Expected a function");var ot=function(){var De=arguments,zt=Fe?Fe.apply(this,De):De[0],at=ot.cache;if(at.has(zt))return at.get(zt);var vt=Ee.apply(this,De);return ot.cache=at.set(zt,vt),vt};return ot.cache=new(it.Cache||gt),ot}function kt(Ee,Fe){return Ee===Fe||Ee!=Ee&&Fe!=Fe}function er(Ee){return function(Fe){return jr(Fe)&&Pt(Fe)}(Ee)&&ne.call(Ee,"callee")&&(!L.call(Ee,"callee")||de.call(Ee)==u)}it.Cache=gt;var jt=Array.isArray;function Pt(Ee){return Ee!=null&&Qt(Ee.length)&&!nr(Ee)}function nr(Ee){var Fe=sr(Ee)?de.call(Ee):"";return Fe=="[object Function]"||Fe=="[object GeneratorFunction]"}function Qt(Ee){return typeof Ee=="number"&&Ee>-1&&Ee%1==0&&Ee<=9007199254740991}function sr(Ee){var Fe=typeof Ee;return!!Ee&&(Fe=="object"||Fe=="function")}function jr(Ee){return!!Ee&&typeof Ee=="object"}function Mr(Ee){return typeof Ee=="symbol"||jr(Ee)&&de.call(Ee)=="[object Symbol]"}var Nr=q?function(Ee){return function(Fe){return Ee(Fe)}}(q):function(Ee){return jr(Ee)&&Qt(Ee.length)&&!!w[de.call(Ee)]};function Sr(Ee){return Pt(Ee)?Bt(Ee):ir(Ee)}function wr(Ee){return Ee}I.exports=ht}).call(this)}).call(this,typeof yr<"u"?yr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(r,I,k){var p=Object.prototype.toString;I.exports=function(u){return u===!0||u===!1||function(f){return!!f&&typeof f=="object"}(u)&&p.call(u)=="[object Boolean]"}},{}],445:[function(r,I,k){(function(p){(function(){var u="[object Arguments]",f="[object Map]",i="[object Object]",t="[object Set]",n=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a[u]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a[f]=a["[object Number]"]=a[i]=a["[object RegExp]"]=a[t]=a["[object String]"]=a["[object WeakMap]"]=!1;var l=typeof p=="object"&&p&&p.Object===Object&&p,g=typeof self=="object"&&self&&self.Object===Object&&self,b=l||g||Function("return this")(),d=typeof k=="object"&&k&&!k.nodeType&&k,w=d&&typeof I=="object"&&I&&!I.nodeType&&I,y=w&&w.exports===d,T=y&&l.process,M=function(){try{return T&&T.binding&&T.binding("util")}catch{}}(),j=M&&M.isTypedArray;function X(Oe,He){for(var et=-1,ht=Oe==null?0:Oe.length;++et<ht;)if(He(Oe[et],et,Oe))return!0;return!1}function Y(Oe){var He=-1,et=Array(Oe.size);return Oe.forEach(function(ht,it){et[++He]=[it,ht]}),et}function W(Oe){var He=-1,et=Array(Oe.size);return Oe.forEach(function(ht){et[++He]=ht}),et}var q,K,ie,$=Array.prototype,D=Function.prototype,F=Object.prototype,A=b["__core-js_shared__"],v=D.toString,_=F.hasOwnProperty,S=(q=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+q:"",C=F.toString,O=RegExp("^"+v.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B=y?b.Buffer:void 0,z=b.Symbol,re=b.Uint8Array,ne=F.propertyIsEnumerable,de=$.splice,H=z?z.toStringTag:void 0,ae=Object.getOwnPropertySymbols,U=B?B.isBuffer:void 0,L=(K=Object.keys,ie=Object,function(Oe){return K(ie(Oe))}),ee=fr(b,"DataView"),ce=fr(b,"Map"),ve=fr(b,"Promise"),he=fr(b,"Set"),xe=fr(b,"WeakMap"),_e=fr(Object,"create"),Re=ir(ee),pe=ir(ce),Ae=ir(ve),Se=ir(he),Ue=ir(xe),ke=z?z.prototype:void 0,We=ke?ke.valueOf:void 0;function $e(Oe){var He=-1,et=Oe==null?0:Oe.length;for(this.clear();++He<et;){var ht=Oe[He];this.set(ht[0],ht[1])}}function Ze(Oe){var He=-1,et=Oe==null?0:Oe.length;for(this.clear();++He<et;){var ht=Oe[He];this.set(ht[0],ht[1])}}function lt(Oe){var He=-1,et=Oe==null?0:Oe.length;for(this.clear();++He<et;){var ht=Oe[He];this.set(ht[0],ht[1])}}function xt(Oe){var He=-1,et=Oe==null?0:Oe.length;for(this.__data__=new lt;++He<et;)this.add(Oe[He])}function Tt(Oe){var He=this.__data__=new Ze(Oe);this.size=He.size}function gt(Oe,He){var et=hr(Oe),ht=!et&&kr(Oe),it=!et&&!ht&&Yt(Oe),kt=!et&&!ht&&!it&&Ar(Oe),er=et||ht||it||kt,jt=er?function(Qt,sr){for(var jr=-1,Mr=Array(Qt);++jr<Qt;)Mr[jr]=sr(jr);return Mr}(Oe.length,String):[],Pt=jt.length;for(var nr in Oe)!_.call(Oe,nr)||er&&(nr=="length"||it&&(nr=="offset"||nr=="parent")||kt&&(nr=="buffer"||nr=="byteLength"||nr=="byteOffset")||Dt(nr,Pt))||jt.push(nr);return jt}function Mt(Oe,He){for(var et=Oe.length;et--;)if(rr(Oe[et][0],He))return et;return-1}function Ft(Oe){return Oe==null?Oe===void 0?"[object Undefined]":"[object Null]":H&&H in Object(Oe)?function(He){var et=_.call(He,H),ht=He[H];try{He[H]=void 0;var it=!0}catch{}var kt=C.call(He);return it&&(et?He[H]=ht:delete He[H]),kt}(Oe):function(He){return C.call(He)}(Oe)}function Bt(Oe){return ur(Oe)&&Ft(Oe)==u}function Gt(Oe,He,et,ht,it){return Oe===He||(Oe==null||He==null||!ur(Oe)&&!ur(He)?Oe!=Oe&&He!=He:function(kt,er,jt,Pt,nr,Qt){var sr=hr(kt),jr=hr(er),Mr=sr?"[object Array]":Lt(kt),Nr=jr?"[object Array]":Lt(er),Sr=(Mr=Mr==u?i:Mr)==i,wr=(Nr=Nr==u?i:Nr)==i,Ee=Mr==Nr;if(Ee&&Yt(kt)){if(!Yt(er))return!1;sr=!0,Sr=!1}if(Ee&&!Sr)return Qt||(Qt=new Tt),sr||Ar(kt)?bt(kt,er,jt,Pt,nr,Qt):function(at,vt,xr,Rt,Nt,Ct,dr){switch(xr){case"[object DataView]":if(at.byteLength!=vt.byteLength||at.byteOffset!=vt.byteOffset)return!1;at=at.buffer,vt=vt.buffer;case"[object ArrayBuffer]":return!(at.byteLength!=vt.byteLength||!Ct(new re(at),new re(vt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return rr(+at,+vt);case"[object Error]":return at.name==vt.name&&at.message==vt.message;case"[object RegExp]":case"[object String]":return at==vt+"";case f:var be=Y;case t:var Ie=1&Rt;if(be||(be=W),at.size!=vt.size&&!Ie)return!1;var we=dr.get(at);if(we)return we==vt;Rt|=2,dr.set(at,vt);var Pe=bt(be(at),be(vt),Rt,Nt,Ct,dr);return dr.delete(at),Pe;case"[object Symbol]":if(We)return We.call(at)==We.call(vt)}return!1}(kt,er,Mr,jt,Pt,nr,Qt);if(!(1&jt)){var Fe=Sr&&_.call(kt,"__wrapped__"),ot=wr&&_.call(er,"__wrapped__");if(Fe||ot){var De=Fe?kt.value():kt,zt=ot?er.value():er;return Qt||(Qt=new Tt),nr(De,zt,jt,Pt,Qt)}}return Ee?(Qt||(Qt=new Tt),function(at,vt,xr,Rt,Nt,Ct){var dr=1&xr,be=Et(at),Ie=be.length,we=Et(vt).length;if(Ie!=we&&!dr)return!1;for(var Pe=Ie;Pe--;){var ze=be[Pe];if(!(dr?ze in vt:_.call(vt,ze)))return!1}var Me=Ct.get(at);if(Me&&Ct.get(vt))return Me==vt;var rt=!0;Ct.set(at,vt),Ct.set(vt,at);for(var ut=dr;++Pe<Ie;){ze=be[Pe];var ct=at[ze],st=vt[ze];if(Rt)var nt=dr?Rt(st,ct,ze,vt,at,Ct):Rt(ct,st,ze,at,vt,Ct);if(!(nt===void 0?ct===st||Nt(ct,st,xr,Rt,Ct):nt)){rt=!1;break}ut||(ut=ze=="constructor")}if(rt&&!ut){var Te=at.constructor,ye=vt.constructor;Te==ye||!("constructor"in at)||!("constructor"in vt)||typeof Te=="function"&&Te instanceof Te&&typeof ye=="function"&&ye instanceof ye||(rt=!1)}return Ct.delete(at),Ct.delete(vt),rt}(kt,er,jt,Pt,nr,Qt)):!1}(Oe,He,et,ht,Gt,it))}function ft(Oe){return!(!Kt(Oe)||function(He){return!!S&&S in He}(Oe))&&(Jt(Oe)?O:n).test(ir(Oe))}function Ge(Oe){if(et=(He=Oe)&&He.constructor,ht=typeof et=="function"&&et.prototype||F,He!==ht)return L(Oe);var He,et,ht,it=[];for(var kt in Object(Oe))_.call(Oe,kt)&&kt!="constructor"&&it.push(kt);return it}function bt(Oe,He,et,ht,it,kt){var er=1&et,jt=Oe.length,Pt=He.length;if(jt!=Pt&&!(er&&Pt>jt))return!1;var nr=kt.get(Oe);if(nr&&kt.get(He))return nr==He;var Qt=-1,sr=!0,jr=2&et?new xt:void 0;for(kt.set(Oe,He),kt.set(He,Oe);++Qt<jt;){var Mr=Oe[Qt],Nr=He[Qt];if(ht)var Sr=er?ht(Nr,Mr,Qt,He,Oe,kt):ht(Mr,Nr,Qt,Oe,He,kt);if(Sr!==void 0){if(Sr)continue;sr=!1;break}if(jr){if(!X(He,function(wr,Ee){if(Fe=Ee,!jr.has(Fe)&&(Mr===wr||it(Mr,wr,et,ht,kt)))return jr.push(Ee);var Fe})){sr=!1;break}}else if(Mr!==Nr&&!it(Mr,Nr,et,ht,kt)){sr=!1;break}}return kt.delete(Oe),kt.delete(He),sr}function Et(Oe){return function(He,et,ht){var it=et(He);return hr(He)?it:function(kt,er){for(var jt=-1,Pt=er.length,nr=kt.length;++jt<Pt;)kt[nr+jt]=er[jt];return kt}(it,ht(He))}(Oe,$t,_r)}function yt(Oe,He){var et,ht,it=Oe.__data__;return((ht=typeof(et=He))=="string"||ht=="number"||ht=="symbol"||ht=="boolean"?et!=="__proto__":et===null)?it[typeof He=="string"?"string":"hash"]:it.map}function fr(Oe,He){var et=function(ht,it){return ht==null?void 0:ht[it]}(Oe,He);return ft(et)?et:void 0}$e.prototype.clear=function(){this.__data__=_e?_e(null):{},this.size=0},$e.prototype.delete=function(Oe){var He=this.has(Oe)&&delete this.__data__[Oe];return this.size-=He?1:0,He},$e.prototype.get=function(Oe){var He=this.__data__;if(_e){var et=He[Oe];return et==="__lodash_hash_undefined__"?void 0:et}return _.call(He,Oe)?He[Oe]:void 0},$e.prototype.has=function(Oe){var He=this.__data__;return _e?He[Oe]!==void 0:_.call(He,Oe)},$e.prototype.set=function(Oe,He){var et=this.__data__;return this.size+=this.has(Oe)?0:1,et[Oe]=_e&&He===void 0?"__lodash_hash_undefined__":He,this},Ze.prototype.clear=function(){this.__data__=[],this.size=0},Ze.prototype.delete=function(Oe){var He=this.__data__,et=Mt(He,Oe);return!(et<0)&&(et==He.length-1?He.pop():de.call(He,et,1),--this.size,!0)},Ze.prototype.get=function(Oe){var He=this.__data__,et=Mt(He,Oe);return et<0?void 0:He[et][1]},Ze.prototype.has=function(Oe){return Mt(this.__data__,Oe)>-1},Ze.prototype.set=function(Oe,He){var et=this.__data__,ht=Mt(et,Oe);return ht<0?(++this.size,et.push([Oe,He])):et[ht][1]=He,this},lt.prototype.clear=function(){this.size=0,this.__data__={hash:new $e,map:new(ce||Ze),string:new $e}},lt.prototype.delete=function(Oe){var He=yt(this,Oe).delete(Oe);return this.size-=He?1:0,He},lt.prototype.get=function(Oe){return yt(this,Oe).get(Oe)},lt.prototype.has=function(Oe){return yt(this,Oe).has(Oe)},lt.prototype.set=function(Oe,He){var et=yt(this,Oe),ht=et.size;return et.set(Oe,He),this.size+=et.size==ht?0:1,this},xt.prototype.add=xt.prototype.push=function(Oe){return this.__data__.set(Oe,"__lodash_hash_undefined__"),this},xt.prototype.has=function(Oe){return this.__data__.has(Oe)},Tt.prototype.clear=function(){this.__data__=new Ze,this.size=0},Tt.prototype.delete=function(Oe){var He=this.__data__,et=He.delete(Oe);return this.size=He.size,et},Tt.prototype.get=function(Oe){return this.__data__.get(Oe)},Tt.prototype.has=function(Oe){return this.__data__.has(Oe)},Tt.prototype.set=function(Oe,He){var et=this.__data__;if(et instanceof Ze){var ht=et.__data__;if(!ce||ht.length<199)return ht.push([Oe,He]),this.size=++et.size,this;et=this.__data__=new lt(ht)}return et.set(Oe,He),this.size=et.size,this};var _r=ae?function(Oe){return Oe==null?[]:(Oe=Object(Oe),function(He,et){for(var ht=-1,it=He==null?0:He.length,kt=0,er=[];++ht<it;){var jt=He[ht];et(jt,ht,He)&&(er[kt++]=jt)}return er}(ae(Oe),function(He){return ne.call(Oe,He)}))}:function(){return[]},Lt=Ft;function Dt(Oe,He){return!!(He=He??9007199254740991)&&(typeof Oe=="number"||c.test(Oe))&&Oe>-1&&Oe%1==0&&Oe<He}function ir(Oe){if(Oe!=null){try{return v.call(Oe)}catch{}try{return Oe+""}catch{}}return""}function rr(Oe,He){return Oe===He||Oe!=Oe&&He!=He}(ee&&Lt(new ee(new ArrayBuffer(1)))!="[object DataView]"||ce&&Lt(new ce)!=f||ve&&Lt(ve.resolve())!="[object Promise]"||he&&Lt(new he)!=t||xe&&Lt(new xe)!="[object WeakMap]")&&(Lt=function(Oe){var He=Ft(Oe),et=He==i?Oe.constructor:void 0,ht=et?ir(et):"";if(ht)switch(ht){case Re:return"[object DataView]";case pe:return f;case Ae:return"[object Promise]";case Se:return t;case Ue:return"[object WeakMap]"}return He});var kr=Bt(function(){return arguments}())?Bt:function(Oe){return ur(Oe)&&_.call(Oe,"callee")&&!ne.call(Oe,"callee")},hr=Array.isArray,Yt=U||function(){return!1};function Jt(Oe){if(!Kt(Oe))return!1;var He=Ft(Oe);return He=="[object Function]"||He=="[object GeneratorFunction]"||He=="[object AsyncFunction]"||He=="[object Proxy]"}function vr(Oe){return typeof Oe=="number"&&Oe>-1&&Oe%1==0&&Oe<=9007199254740991}function Kt(Oe){var He=typeof Oe;return Oe!=null&&(He=="object"||He=="function")}function ur(Oe){return Oe!=null&&typeof Oe=="object"}var Ar=j?function(Oe){return function(He){return Oe(He)}}(j):function(Oe){return ur(Oe)&&vr(Oe.length)&&!!a[Ft(Oe)]};function $t(Oe){return(He=Oe)!=null&&vr(He.length)&&!Jt(He)?gt(Oe):Ge(Oe);var He}I.exports=function(Oe,He){return Gt(Oe,He)}}).call(this)}).call(this,typeof yr<"u"?yr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(r,I,k){(function(p){(function(){var u=typeof p=="object"&&p&&p.Object===Object&&p,f=typeof self=="object"&&self&&self.Object===Object&&self,i=u||f||Function("return this")(),t=Object.prototype,n=t.hasOwnProperty,c=t.toString,a=i.Symbol,l=a?a.toStringTag:void 0;function g(b){return b==null?b===void 0?"[object Undefined]":"[object Null]":l&&l in Object(b)?function(d){var w=n.call(d,l),y=d[l];try{d[l]=void 0;var T=!0}catch{}var M=c.call(d);return T&&(w?d[l]=y:delete d[l]),M}(b):function(d){return c.call(d)}(b)}I.exports=function(b){if(!function(w){var y=typeof w;return w!=null&&(y=="object"||y=="function")}(b))return!1;var d=g(b);return d=="[object Function]"||d=="[object GeneratorFunction]"||d=="[object AsyncFunction]"||d=="[object Proxy]"}}).call(this)}).call(this,typeof yr<"u"?yr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(r,I,k){I.exports=function(p){return p==null}},{}],448:[function(r,I,k){I.exports=function(p){return p===void 0}},{}],449:[function(r,I,k){(function(p){(function(){var u=/^\[object .+?Constructor\]$/,f=typeof p=="object"&&p&&p.Object===Object&&p,i=typeof self=="object"&&self&&self.Object===Object&&self,t=f||i||Function("return this")();function n(z,re){return!!(z&&z.length)&&function(ne,de,H){if(de!=de)return function(L,ee,ce,ve){for(var he=L.length,xe=ce+-1;++xe<he;)if(ee(L[xe],xe,L))return xe;return-1}(ne,c,H);for(var ae=H-1,U=ne.length;++ae<U;)if(ne[ae]===de)return ae;return-1}(z,re,0)>-1}function c(z){return z!=z}function a(z,re){return z.has(re)}function l(z){var re=-1,ne=Array(z.size);return z.forEach(function(de){ne[++re]=de}),ne}var g,b=Array.prototype,d=Function.prototype,w=Object.prototype,y=t["__core-js_shared__"],T=(g=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",M=d.toString,j=w.hasOwnProperty,X=w.toString,Y=RegExp("^"+M.call(j).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=b.splice,q=O(t,"Map"),K=O(t,"Set"),ie=O(Object,"create");function $(z){var re=-1,ne=z?z.length:0;for(this.clear();++re<ne;){var de=z[re];this.set(de[0],de[1])}}function D(z){var re=-1,ne=z?z.length:0;for(this.clear();++re<ne;){var de=z[re];this.set(de[0],de[1])}}function F(z){var re=-1,ne=z?z.length:0;for(this.clear();++re<ne;){var de=z[re];this.set(de[0],de[1])}}function A(z){var re=-1,ne=z?z.length:0;for(this.__data__=new F;++re<ne;)this.add(z[re])}function v(z,re){for(var ne,de,H=z.length;H--;)if((ne=z[H][0])===(de=re)||ne!=ne&&de!=de)return H;return-1}function _(z){return!(!B(z)||(re=z,T&&T in re))&&(function(ne){var de=B(ne)?X.call(ne):"";return de=="[object Function]"||de=="[object GeneratorFunction]"}(z)||function(ne){var de=!1;if(ne!=null&&typeof ne.toString!="function")try{de=!!(ne+"")}catch{}return de}(z)?Y:u).test(function(ne){if(ne!=null){try{return M.call(ne)}catch{}try{return ne+""}catch{}}return""}(z));var re}$.prototype.clear=function(){this.__data__=ie?ie(null):{}},$.prototype.delete=function(z){return this.has(z)&&delete this.__data__[z]},$.prototype.get=function(z){var re=this.__data__;if(ie){var ne=re[z];return ne==="__lodash_hash_undefined__"?void 0:ne}return j.call(re,z)?re[z]:void 0},$.prototype.has=function(z){var re=this.__data__;return ie?re[z]!==void 0:j.call(re,z)},$.prototype.set=function(z,re){return this.__data__[z]=ie&&re===void 0?"__lodash_hash_undefined__":re,this},D.prototype.clear=function(){this.__data__=[]},D.prototype.delete=function(z){var re=this.__data__,ne=v(re,z);return!(ne<0)&&(ne==re.length-1?re.pop():W.call(re,ne,1),!0)},D.prototype.get=function(z){var re=this.__data__,ne=v(re,z);return ne<0?void 0:re[ne][1]},D.prototype.has=function(z){return v(this.__data__,z)>-1},D.prototype.set=function(z,re){var ne=this.__data__,de=v(ne,z);return de<0?ne.push([z,re]):ne[de][1]=re,this},F.prototype.clear=function(){this.__data__={hash:new $,map:new(q||D),string:new $}},F.prototype.delete=function(z){return C(this,z).delete(z)},F.prototype.get=function(z){return C(this,z).get(z)},F.prototype.has=function(z){return C(this,z).has(z)},F.prototype.set=function(z,re){return C(this,z).set(z,re),this},A.prototype.add=A.prototype.push=function(z){return this.__data__.set(z,"__lodash_hash_undefined__"),this},A.prototype.has=function(z){return this.__data__.has(z)};var S=K&&1/l(new K([,-0]))[1]==1/0?function(z){return new K(z)}:function(){};function C(z,re){var ne,de,H=z.__data__;return((de=typeof(ne=re))=="string"||de=="number"||de=="symbol"||de=="boolean"?ne!=="__proto__":ne===null)?H[typeof re=="string"?"string":"hash"]:H.map}function O(z,re){var ne=function(de,H){return de==null?void 0:de[H]}(z,re);return _(ne)?ne:void 0}function B(z){var re=typeof z;return!!z&&(re=="object"||re=="function")}I.exports=function(z){return z&&z.length?function(re,ne,de){var H=-1,ae=n,U=re.length,L=!0,ee=[],ce=ee;if(U>=200){var ve=S(re);if(ve)return l(ve);L=!1,ae=a,ce=new A}else ce=ee;e:for(;++H<U;){var he=re[H],xe=he;if(he=he!==0?he:0,L&&xe==xe){for(var _e=ce.length;_e--;)if(ce[_e]===xe)continue e;ee.push(he)}else ae(ce,xe,de)||(ce!==ee&&ce.push(xe),ee.push(he))}return ee}(z):[]}}).call(this)}).call(this,typeof yr<"u"?yr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(r,I,k){var p=r("inherits"),u=r("hash-base"),f=r("safe-buffer").Buffer,i=new Array(16);function t(){u.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function n(b,d){return b<<d|b>>>32-d}function c(b,d,w,y,T,M,j){return n(b+(d&w|~d&y)+T+M|0,j)+d|0}function a(b,d,w,y,T,M,j){return n(b+(d&y|w&~y)+T+M|0,j)+d|0}function l(b,d,w,y,T,M,j){return n(b+(d^w^y)+T+M|0,j)+d|0}function g(b,d,w,y,T,M,j){return n(b+(w^(d|~y))+T+M|0,j)+d|0}p(t,u),t.prototype._update=function(){for(var b=i,d=0;d<16;++d)b[d]=this._block.readInt32LE(4*d);var w=this._a,y=this._b,T=this._c,M=this._d;w=c(w,y,T,M,b[0],3614090360,7),M=c(M,w,y,T,b[1],3905402710,12),T=c(T,M,w,y,b[2],606105819,17),y=c(y,T,M,w,b[3],3250441966,22),w=c(w,y,T,M,b[4],4118548399,7),M=c(M,w,y,T,b[5],1200080426,12),T=c(T,M,w,y,b[6],2821735955,17),y=c(y,T,M,w,b[7],4249261313,22),w=c(w,y,T,M,b[8],1770035416,7),M=c(M,w,y,T,b[9],2336552879,12),T=c(T,M,w,y,b[10],4294925233,17),y=c(y,T,M,w,b[11],2304563134,22),w=c(w,y,T,M,b[12],1804603682,7),M=c(M,w,y,T,b[13],4254626195,12),T=c(T,M,w,y,b[14],2792965006,17),w=a(w,y=c(y,T,M,w,b[15],1236535329,22),T,M,b[1],4129170786,5),M=a(M,w,y,T,b[6],3225465664,9),T=a(T,M,w,y,b[11],643717713,14),y=a(y,T,M,w,b[0],3921069994,20),w=a(w,y,T,M,b[5],3593408605,5),M=a(M,w,y,T,b[10],38016083,9),T=a(T,M,w,y,b[15],3634488961,14),y=a(y,T,M,w,b[4],3889429448,20),w=a(w,y,T,M,b[9],568446438,5),M=a(M,w,y,T,b[14],3275163606,9),T=a(T,M,w,y,b[3],4107603335,14),y=a(y,T,M,w,b[8],1163531501,20),w=a(w,y,T,M,b[13],2850285829,5),M=a(M,w,y,T,b[2],4243563512,9),T=a(T,M,w,y,b[7],1735328473,14),w=l(w,y=a(y,T,M,w,b[12],2368359562,20),T,M,b[5],4294588738,4),M=l(M,w,y,T,b[8],2272392833,11),T=l(T,M,w,y,b[11],1839030562,16),y=l(y,T,M,w,b[14],4259657740,23),w=l(w,y,T,M,b[1],2763975236,4),M=l(M,w,y,T,b[4],1272893353,11),T=l(T,M,w,y,b[7],4139469664,16),y=l(y,T,M,w,b[10],3200236656,23),w=l(w,y,T,M,b[13],681279174,4),M=l(M,w,y,T,b[0],3936430074,11),T=l(T,M,w,y,b[3],3572445317,16),y=l(y,T,M,w,b[6],76029189,23),w=l(w,y,T,M,b[9],3654602809,4),M=l(M,w,y,T,b[12],3873151461,11),T=l(T,M,w,y,b[15],530742520,16),w=g(w,y=l(y,T,M,w,b[2],3299628645,23),T,M,b[0],4096336452,6),M=g(M,w,y,T,b[7],1126891415,10),T=g(T,M,w,y,b[14],2878612391,15),y=g(y,T,M,w,b[5],4237533241,21),w=g(w,y,T,M,b[12],1700485571,6),M=g(M,w,y,T,b[3],2399980690,10),T=g(T,M,w,y,b[10],4293915773,15),y=g(y,T,M,w,b[1],2240044497,21),w=g(w,y,T,M,b[8],1873313359,6),M=g(M,w,y,T,b[15],4264355552,10),T=g(T,M,w,y,b[6],2734768916,15),y=g(y,T,M,w,b[13],1309151649,21),w=g(w,y,T,M,b[4],4149444226,6),M=g(M,w,y,T,b[11],3174756917,10),T=g(T,M,w,y,b[2],718787259,15),y=g(y,T,M,w,b[9],3951481745,21),this._a=this._a+w|0,this._b=this._b+y|0,this._c=this._c+T|0,this._d=this._d+M|0},t.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var b=f.allocUnsafe(16);return b.writeInt32LE(this._a,0),b.writeInt32LE(this._b,4),b.writeInt32LE(this._c,8),b.writeInt32LE(this._d,12),b},I.exports=t},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(r,I,k){var p=r("bn.js"),u=r("brorand");function f(i){this.rand=i||new u.Rand}I.exports=f,f.create=function(i){return new f(i)},f.prototype._randbelow=function(i){var t=i.bitLength(),n=Math.ceil(t/8);do var c=new p(this.rand.generate(n));while(c.cmp(i)>=0);return c},f.prototype._randrange=function(i,t){var n=t.sub(i);return i.add(this._randbelow(n))},f.prototype.test=function(i,t,n){var c=i.bitLength(),a=p.mont(i),l=new p(1).toRed(a);t||(t=Math.max(1,c/48|0));for(var g=i.subn(1),b=0;!g.testn(b);b++);for(var d=i.shrn(b),w=g.toRed(a);t>0;t--){var y=this._randrange(new p(2),g);n&&n(y);var T=y.toRed(a).redPow(d);if(T.cmp(l)!==0&&T.cmp(w)!==0){for(var M=1;M<b;M++){if((T=T.redSqr()).cmp(l)===0)return!1;if(T.cmp(w)===0)break}if(M===b)return!1}}return!0},f.prototype.getDivisor=function(i,t){var n=i.bitLength(),c=p.mont(i),a=new p(1).toRed(c);t||(t=Math.max(1,n/48|0));for(var l=i.subn(1),g=0;!l.testn(g);g++);for(var b=i.shrn(g),d=l.toRed(c);t>0;t--){var w=this._randrange(new p(2),l),y=i.gcd(w);if(y.cmpn(1)!==0)return y;var T=w.toRed(c).redPow(b);if(T.cmp(a)!==0&&T.cmp(d)!==0){for(var M=1;M<g;M++){if((T=T.redSqr()).cmp(a)===0)return T.fromRed().subn(1).gcd(i);if(T.cmp(d)===0)break}if(M===g)return(T=T.redSqr()).fromRed().subn(1).gcd(i)}}return!1}},{"bn.js":452,brorand:187}],452:[function(r,I,k){arguments[4][184][0].apply(k,arguments)},{buffer:188,dup:184}],453:[function(r,I,k){function p(u,f){if(!u)throw new Error(f||"Assertion failed")}I.exports=p,p.equal=function(u,f,i){if(u!=f)throw new Error(i||"Assertion failed: "+u+" != "+f)}},{}],454:[function(r,I,k){var p=k;function u(i){return i.length===1?"0"+i:i}function f(i){for(var t="",n=0;n<i.length;n++)t+=u(i[n].toString(16));return t}p.toArray=function(i,t){if(Array.isArray(i))return i.slice();if(!i)return[];var n=[];if(typeof i!="string"){for(var c=0;c<i.length;c++)n[c]=0|i[c];return n}if(t==="hex")for((i=i.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(i="0"+i),c=0;c<i.length;c+=2)n.push(parseInt(i[c]+i[c+1],16));else for(c=0;c<i.length;c++){var a=i.charCodeAt(c),l=a>>8,g=255&a;l?n.push(l,g):n.push(g)}return n},p.zero2=u,p.toHex=f,p.encode=function(i,t){return t==="hex"?f(i):i}},{}],455:[function(r,I,k){I.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(r,I,k){var p=r("asn1.js");k.certificate=r("./certificate");var u=p.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});k.RSAPrivateKey=u;var f=p.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});k.RSAPublicKey=f;var i=p.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(t),this.key("subjectPublicKey").bitstr())});k.PublicKey=i;var t=p.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),n=p.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(t),this.key("subjectPrivateKey").octstr())});k.PrivateKey=n;var c=p.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});k.EncryptedPrivateKey=c;var a=p.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});k.DSAPrivateKey=a,k.DSAparam=p.define("DSAparam",function(){this.int()});var l=p.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(g),this.key("publicKey").optional().explicit(1).bitstr())});k.ECPrivateKey=l;var g=p.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});k.signature=p.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(r,I,k){var p=r("asn1.js"),u=p.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),f=p.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),i=p.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),t=p.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(i),this.key("subjectPublicKey").bitstr())}),n=p.define("RelativeDistinguishedName",function(){this.setof(f)}),c=p.define("RDNSequence",function(){this.seqof(n)}),a=p.define("Name",function(){this.choice({rdnSequence:this.use(c)})}),l=p.define("Validity",function(){this.seq().obj(this.key("notBefore").use(u),this.key("notAfter").use(u))}),g=p.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),b=p.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(i),this.key("issuer").use(a),this.key("validity").use(l),this.key("subject").use(a),this.key("subjectPublicKeyInfo").use(t),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(g).optional())}),d=p.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(b),this.key("signatureAlgorithm").use(i),this.key("signatureValue").bitstr())});I.exports=d},{"asn1.js":170}],458:[function(r,I,k){var p=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,u=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,f=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,i=r("evp_bytestokey"),t=r("browserify-aes"),n=r("safe-buffer").Buffer;I.exports=function(c,a){var l,g=c.toString(),b=g.match(p);if(b){var d="aes"+b[1],w=n.from(b[2],"hex"),y=n.from(b[3].replace(/[\r\n]/g,""),"base64"),T=i(a,w.slice(0,8),parseInt(b[1],10)).key,M=[],j=t.createDecipheriv(d,T,w);M.push(j.update(y)),M.push(j.final()),l=n.concat(M)}else{var X=g.match(f);l=n.from(X[2].replace(/[\r\n]/g,""),"base64")}return{tag:g.match(u)[1],data:l}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(r,I,k){var p=r("./asn1"),u=r("./aesid.json"),f=r("./fixProc"),i=r("browserify-aes"),t=r("pbkdf2"),n=r("safe-buffer").Buffer;function c(a){var l;typeof a!="object"||n.isBuffer(a)||(l=a.passphrase,a=a.key),typeof a=="string"&&(a=n.from(a));var g,b,d=f(a,l),w=d.tag,y=d.data;switch(w){case"CERTIFICATE":b=p.certificate.decode(y,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(b||(b=p.PublicKey.decode(y,"der")),g=b.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return p.RSAPublicKey.decode(b.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return b.subjectPrivateKey=b.subjectPublicKey,{type:"ec",data:b};case"1.2.840.10040.4.1":return b.algorithm.params.pub_key=p.DSAparam.decode(b.subjectPublicKey.data,"der"),{type:"dsa",data:b.algorithm.params};default:throw new Error("unknown key id "+g)}case"ENCRYPTED PRIVATE KEY":y=function(T,M){var j=T.algorithm.decrypt.kde.kdeparams.salt,X=parseInt(T.algorithm.decrypt.kde.kdeparams.iters.toString(),10),Y=u[T.algorithm.decrypt.cipher.algo.join(".")],W=T.algorithm.decrypt.cipher.iv,q=T.subjectPrivateKey,K=parseInt(Y.split("-")[1],10)/8,ie=t.pbkdf2Sync(M,j,X,K,"sha1"),$=i.createDecipheriv(Y,ie,W),D=[];return D.push($.update(q)),D.push($.final()),n.concat(D)}(y=p.EncryptedPrivateKey.decode(y,"der"),l);case"PRIVATE KEY":switch(g=(b=p.PrivateKey.decode(y,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return p.RSAPrivateKey.decode(b.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:b.algorithm.curve,privateKey:p.ECPrivateKey.decode(b.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return b.algorithm.params.priv_key=p.DSAparam.decode(b.subjectPrivateKey,"der"),{type:"dsa",params:b.algorithm.params};default:throw new Error("unknown key id "+g)}case"RSA PUBLIC KEY":return p.RSAPublicKey.decode(y,"der");case"RSA PRIVATE KEY":return p.RSAPrivateKey.decode(y,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:p.DSAPrivateKey.decode(y,"der")};case"EC PRIVATE KEY":return{curve:(y=p.ECPrivateKey.decode(y,"der")).parameters.value,privateKey:y.privateKey};default:throw new Error("unknown key type "+w)}}I.exports=c,c.signature=p.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(r,I,k){k.pbkdf2=r("./lib/async"),k.pbkdf2Sync=r("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(r,I,k){(function(p){(function(){var u,f,i=r("safe-buffer").Buffer,t=r("./precondition"),n=r("./default-encoding"),c=r("./sync"),a=r("./to-buffer"),l=p.crypto&&p.crypto.subtle,g={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},b=[];function d(){return f||(f=p.process&&p.process.nextTick?p.process.nextTick:p.queueMicrotask?p.queueMicrotask:p.setImmediate?p.setImmediate:p.setTimeout)}function w(y,T,M,j,X){return l.importKey("raw",y,{name:"PBKDF2"},!1,["deriveBits"]).then(function(Y){return l.deriveBits({name:"PBKDF2",salt:T,iterations:M,hash:{name:X}},Y,j<<3)}).then(function(Y){return i.from(Y)})}I.exports=function(y,T,M,j,X,Y){typeof X=="function"&&(Y=X,X=void 0);var W=g[(X=X||"sha1").toLowerCase()];if(W&&typeof p.Promise=="function"){if(t(M,j),y=a(y,n,"Password"),T=a(T,n,"Salt"),typeof Y!="function")throw new Error("No callback provided to pbkdf2");(function(q,K){q.then(function(ie){d()(function(){K(null,ie)})},function(ie){d()(function(){K(ie)})})})(function(q){if(p.process&&!p.process.browser||!l||!l.importKey||!l.deriveBits)return Promise.resolve(!1);if(b[q]!==void 0)return b[q];var K=w(u=u||i.alloc(8),u,10,128,q).then(function(){return!0}).catch(function(){return!1});return b[q]=K,K}(W).then(function(q){return q?w(y,T,M,j,W):c(y,T,M,j,X)}),Y)}else d()(function(){var q;try{q=c(y,T,M,j,X)}catch(K){return Y(K)}Y(null,q)})}}).call(this)}).call(this,typeof yr<"u"?yr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(r,I,k){(function(p,u){(function(){var f;u.process&&u.process.browser?f="utf-8":u.process&&u.process.version?f=parseInt(p.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":f="utf-8",I.exports=f}).call(this)}).call(this,r("_process"),typeof yr<"u"?yr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(r,I,k){var p=Math.pow(2,30)-1;I.exports=function(u,f){if(typeof u!="number")throw new TypeError("Iterations not a number");if(u<0)throw new TypeError("Bad iterations");if(typeof f!="number")throw new TypeError("Key length not a number");if(f<0||f>p||f!=f)throw new TypeError("Bad key length")}},{}],464:[function(r,I,k){var p=r("create-hash/md5"),u=r("ripemd160"),f=r("sha.js"),i=r("safe-buffer").Buffer,t=r("./precondition"),n=r("./default-encoding"),c=r("./to-buffer"),a=i.alloc(128),l={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function g(b,d,w){var y=function(W){function q(K){return f(W).update(K).digest()}return W==="rmd160"||W==="ripemd160"?function(K){return new u().update(K).digest()}:W==="md5"?p:q}(b),T=b==="sha512"||b==="sha384"?128:64;d.length>T?d=y(d):d.length<T&&(d=i.concat([d,a],T));for(var M=i.allocUnsafe(T+l[b]),j=i.allocUnsafe(T+l[b]),X=0;X<T;X++)M[X]=54^d[X],j[X]=92^d[X];var Y=i.allocUnsafe(T+w+4);M.copy(Y,0,0,T),this.ipad1=Y,this.ipad2=M,this.opad=j,this.alg=b,this.blocksize=T,this.hash=y,this.size=l[b]}g.prototype.run=function(b,d){return b.copy(d,this.blocksize),this.hash(d).copy(this.opad,this.blocksize),this.hash(this.opad)},I.exports=function(b,d,w,y,T){t(w,y);var M=new g(T=T||"sha1",b=c(b,n,"Password"),(d=c(d,n,"Salt")).length),j=i.allocUnsafe(y),X=i.allocUnsafe(d.length+4);d.copy(X,0,0,d.length);for(var Y=0,W=l[T],q=Math.ceil(y/W),K=1;K<=q;K++){X.writeUInt32BE(K,d.length);for(var ie=M.run(X,M.ipad1),$=ie,D=1;D<w;D++){$=M.run($,M.ipad2);for(var F=0;F<W;F++)ie[F]^=$[F]}ie.copy(j,Y),Y+=W}return j}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(r,I,k){var p=r("safe-buffer").Buffer;I.exports=function(u,f,i){if(p.isBuffer(u))return u;if(typeof u=="string")return p.from(u,f);if(ArrayBuffer.isView(u))return p.from(u.buffer);throw new TypeError(i+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(r,I,k){(function(p){(function(){p===void 0||!p.version||p.version.indexOf("v0.")===0||p.version.indexOf("v1.")===0&&p.version.indexOf("v1.8.")!==0?I.exports={nextTick:function(u,f,i,t){if(typeof u!="function")throw new TypeError('"callback" argument must be a function');var n,c,a=arguments.length;switch(a){case 0:case 1:return p.nextTick(u);case 2:return p.nextTick(function(){u.call(null,f)});case 3:return p.nextTick(function(){u.call(null,f,i)});case 4:return p.nextTick(function(){u.call(null,f,i,t)});default:for(n=new Array(a-1),c=0;c<n.length;)n[c++]=arguments[c];return p.nextTick(function(){u.apply(null,n)})}}}:I.exports=p}).call(this)}).call(this,r("_process"))},{_process:467}],467:[function(r,I,k){var p,u,f=I.exports={};function i(){throw new Error("setTimeout has not been defined")}function t(){throw new Error("clearTimeout has not been defined")}function n(T){if(p===setTimeout)return setTimeout(T,0);if((p===i||!p)&&setTimeout)return p=setTimeout,setTimeout(T,0);try{return p(T,0)}catch{try{return p.call(null,T,0)}catch{return p.call(this,T,0)}}}(function(){try{p=typeof setTimeout=="function"?setTimeout:i}catch{p=i}try{u=typeof clearTimeout=="function"?clearTimeout:t}catch{u=t}})();var c,a=[],l=!1,g=-1;function b(){l&&c&&(l=!1,c.length?a=c.concat(a):g=-1,a.length&&d())}function d(){if(!l){var T=n(b);l=!0;for(var M=a.length;M;){for(c=a,a=[];++g<M;)c&&c[g].run();g=-1,M=a.length}c=null,l=!1,function(j){if(u===clearTimeout)return clearTimeout(j);if((u===t||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(j);try{u(j)}catch{try{return u.call(null,j)}catch{return u.call(this,j)}}}(T)}}function w(T,M){this.fun=T,this.array=M}function y(){}f.nextTick=function(T){var M=new Array(arguments.length-1);if(arguments.length>1)for(var j=1;j<arguments.length;j++)M[j-1]=arguments[j];a.push(new w(T,M)),a.length!==1||l||n(d)},w.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=y,f.addListener=y,f.once=y,f.off=y,f.removeListener=y,f.removeAllListeners=y,f.emit=y,f.prependListener=y,f.prependOnceListener=y,f.listeners=function(T){return[]},f.binding=function(T){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(T){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],468:[function(r,I,k){k.publicEncrypt=r("./publicEncrypt"),k.privateDecrypt=r("./privateDecrypt"),k.privateEncrypt=function(p,u){return k.publicEncrypt(p,u,!0)},k.publicDecrypt=function(p,u){return k.privateDecrypt(p,u,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(r,I,k){var p=r("create-hash"),u=r("safe-buffer").Buffer;function f(i){var t=u.allocUnsafe(4);return t.writeUInt32BE(i,0),t}I.exports=function(i,t){for(var n,c=u.alloc(0),a=0;c.length<t;)n=f(a++),c=u.concat([c,p("sha1").update(i).update(n).digest()]);return c.slice(0,t)}},{"create-hash":386,"safe-buffer":494}],470:[function(r,I,k){arguments[4][184][0].apply(k,arguments)},{buffer:188,dup:184}],471:[function(r,I,k){var p=r("parse-asn1"),u=r("./mgf"),f=r("./xor"),i=r("bn.js"),t=r("browserify-rsa"),n=r("create-hash"),c=r("./withPublic"),a=r("safe-buffer").Buffer;I.exports=function(l,g,b){var d;d=l.padding?l.padding:b?1:4;var w,y=p(l),T=y.modulus.byteLength();if(g.length>T||new i(g).cmp(y.modulus)>=0)throw new Error("decryption error");w=b?c(new i(g),y):t(g,y);var M=a.alloc(T-w.length);if(w=a.concat([M,w],T),d===4)return function(j,X){var Y=j.modulus.byteLength(),W=n("sha1").update(a.alloc(0)).digest(),q=W.length;if(X[0]!==0)throw new Error("decryption error");var K=X.slice(1,q+1),ie=X.slice(q+1),$=f(K,u(ie,q)),D=f(ie,u($,Y-q-1));if(function(A,v){A=a.from(A),v=a.from(v);var _=0,S=A.length;A.length!==v.length&&(_++,S=Math.min(A.length,v.length));for(var C=-1;++C<S;)_+=A[C]^v[C];return _}(W,D.slice(0,q)))throw new Error("decryption error");for(var F=q;D[F]===0;)F++;if(D[F++]!==1)throw new Error("decryption error");return D.slice(F)}(y,w);if(d===1)return function(j,X,Y){for(var W=X.slice(0,2),q=2,K=0;X[q++]!==0;)if(q>=X.length){K++;break}var ie=X.slice(2,q-1);if((W.toString("hex")!=="0002"&&!Y||W.toString("hex")!=="0001"&&Y)&&K++,ie.length<8&&K++,K)throw new Error("decryption error");return X.slice(q)}(0,w,b);if(d===3)return w;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(r,I,k){var p=r("parse-asn1"),u=r("randombytes"),f=r("create-hash"),i=r("./mgf"),t=r("./xor"),n=r("bn.js"),c=r("./withPublic"),a=r("browserify-rsa"),l=r("safe-buffer").Buffer;I.exports=function(g,b,d){var w;w=g.padding?g.padding:d?1:4;var y,T=p(g);if(w===4)y=function(M,j){var X=M.modulus.byteLength(),Y=j.length,W=f("sha1").update(l.alloc(0)).digest(),q=W.length,K=2*q;if(Y>X-K-2)throw new Error("message too long");var ie=l.alloc(X-Y-K-2),$=X-q-1,D=u(q),F=t(l.concat([W,ie,l.alloc(1,1),j],$),i(D,$)),A=t(D,i(F,q));return new n(l.concat([l.alloc(1),A,F],X))}(T,b);else if(w===1)y=function(M,j,X){var Y,W=j.length,q=M.modulus.byteLength();if(W>q-11)throw new Error("message too long");return Y=X?l.alloc(q-W-3,255):function(K){for(var ie,$=l.allocUnsafe(K),D=0,F=u(2*K),A=0;D<K;)A===F.length&&(F=u(2*K),A=0),(ie=F[A++])&&($[D++]=ie);return $}(q-W-3),new n(l.concat([l.from([0,X?1:2]),Y,l.alloc(1),j],q))}(T,b,d);else{if(w!==3)throw new Error("unknown padding");if((y=new n(b)).cmp(T.modulus)>=0)throw new Error("data too long for modulus")}return d?a(y,T):c(y,T)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(r,I,k){var p=r("bn.js"),u=r("safe-buffer").Buffer;I.exports=function(f,i){return u.from(f.toRed(p.mont(i.modulus)).redPow(new p(i.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(r,I,k){I.exports=function(p,u){for(var f=p.length,i=-1;++i<f;)p[i]^=u[i];return p}},{}],475:[function(r,I,k){(function(p,u){(function(){var f=r("safe-buffer").Buffer,i=u.crypto||u.msCrypto;i&&i.getRandomValues?I.exports=function(t,n){if(t>4294967295)throw new RangeError("requested too many random bytes");var c=f.allocUnsafe(t);if(t>0)if(t>65536)for(var a=0;a<t;a+=65536)i.getRandomValues(c.slice(a,a+65536));else i.getRandomValues(c);return typeof n=="function"?p.nextTick(function(){n(null,c)}):c}:I.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,r("_process"),typeof yr<"u"?yr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(r,I,k){(function(p,u){(function(){function f(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var i=r("safe-buffer"),t=r("randombytes"),n=i.Buffer,c=i.kMaxLength,a=u.crypto||u.msCrypto,l=Math.pow(2,32)-1;function g(w,y){if(typeof w!="number"||w!=w)throw new TypeError("offset must be a number");if(w>l||w<0)throw new TypeError("offset must be a uint32");if(w>c||w>y)throw new RangeError("offset out of range")}function b(w,y,T){if(typeof w!="number"||w!=w)throw new TypeError("size must be a number");if(w>l||w<0)throw new TypeError("size must be a uint32");if(w+y>T||w>c)throw new RangeError("buffer too small")}function d(w,y,T,M){if(p.browser){var j=w.buffer,X=new Uint8Array(j,y,T);return a.getRandomValues(X),M?void p.nextTick(function(){M(null,w)}):w}if(!M)return t(T).copy(w,y),w;t(T,function(Y,W){if(Y)return M(Y);W.copy(w,y),M(null,w)})}a&&a.getRandomValues||!p.browser?(k.randomFill=function(w,y,T,M){if(!(n.isBuffer(w)||w instanceof u.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof y=="function")M=y,y=0,T=w.length;else if(typeof T=="function")M=T,T=w.length-y;else if(typeof M!="function")throw new TypeError('"cb" argument must be a function');return g(y,w.length),b(T,y,w.length),d(w,y,T,M)},k.randomFillSync=function(w,y,T){if(y===void 0&&(y=0),!(n.isBuffer(w)||w instanceof u.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return g(y,w.length),T===void 0&&(T=w.length-y),b(T,y,w.length),d(w,y,T)}):(k.randomFill=f,k.randomFillSync=f)}).call(this)}).call(this,r("_process"),typeof yr<"u"?yr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(r,I,k){var p={};function u(i,t,n){n||(n=Error);var c=function(a){var l,g;function b(d,w,y){return a.call(this,function(T,M,j){return typeof t=="string"?t:t(T,M,j)}(d,w,y))||this}return g=a,(l=b).prototype=Object.create(g.prototype),l.prototype.constructor=l,l.__proto__=g,b}(n);c.prototype.name=n.name,c.prototype.code=i,p[i]=c}function f(i,t){if(Array.isArray(i)){var n=i.length;return i=i.map(function(c){return String(c)}),n>2?"one of ".concat(t," ").concat(i.slice(0,n-1).join(", "),", or ")+i[n-1]:n===2?"one of ".concat(t," ").concat(i[0]," or ").concat(i[1]):"of ".concat(t," ").concat(i[0])}return"of ".concat(t," ").concat(String(i))}u("ERR_INVALID_OPT_VALUE",function(i,t){return'The value "'+t+'" is invalid for option "'+i+'"'},TypeError),u("ERR_INVALID_ARG_TYPE",function(i,t,n){var c,a,l;if(typeof t=="string"&&(a="not ",t.substr(0,a.length)===a)?(c="must not be",t=t.replace(/^not /,"")):c="must be",function(b,d,w){return(w===void 0||w>b.length)&&(w=b.length),b.substring(w-d.length,w)===d}(i," argument"))l="The ".concat(i," ").concat(c," ").concat(f(t,"type"));else{var g=function(b,d,w){return typeof w!="number"&&(w=0),!(w+d.length>b.length)&&b.indexOf(d,w)!==-1}(i,".")?"property":"argument";l='The "'.concat(i,'" ').concat(g," ").concat(c," ").concat(f(t,"type"))}return l+=". Received type ".concat(typeof n)},TypeError),u("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),u("ERR_METHOD_NOT_IMPLEMENTED",function(i){return"The "+i+" method is not implemented"}),u("ERR_STREAM_PREMATURE_CLOSE","Premature close"),u("ERR_STREAM_DESTROYED",function(i){return"Cannot call "+i+" after a stream was destroyed"}),u("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),u("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),u("ERR_STREAM_WRITE_AFTER_END","write after end"),u("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),u("ERR_UNKNOWN_ENCODING",function(i){return"Unknown encoding: "+i},TypeError),u("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),I.exports.codes=p},{}],478:[function(r,I,k){(function(p){(function(){var u=Object.keys||function(b){var d=[];for(var w in b)d.push(w);return d};I.exports=a;var f=r("./_stream_readable"),i=r("./_stream_writable");r("inherits")(a,f);for(var t=u(i.prototype),n=0;n<t.length;n++){var c=t[n];a.prototype[c]||(a.prototype[c]=i.prototype[c])}function a(b){if(!(this instanceof a))return new a(b);f.call(this,b),i.call(this,b),this.allowHalfOpen=!0,b&&(b.readable===!1&&(this.readable=!1),b.writable===!1&&(this.writable=!1),b.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||p.nextTick(g,this)}function g(b){b.end()}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(b){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=b,this._writableState.destroyed=b)}})}).call(this)}).call(this,r("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(r,I,k){I.exports=u;var p=r("./_stream_transform");function u(f){if(!(this instanceof u))return new u(f);p.call(this,f)}r("inherits")(u,p),u.prototype._transform=function(f,i,t){t(null,f)}},{"./_stream_transform":481,inherits:440}],480:[function(r,I,k){(function(p,u){(function(){var f;I.exports=$,$.ReadableState=ie,r("events").EventEmitter;var i=function(U,L){return U.listeners(L).length},t=r("./internal/streams/stream"),n=r("buffer").Buffer,c=(u!==void 0?u:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},a,l=r("util");a=l&&l.debuglog?l.debuglog("stream"):function(){};var g,b,d,w=r("./internal/streams/buffer_list"),y=r("./internal/streams/destroy"),T=r("./internal/streams/state").getHighWaterMark,M=r("../errors").codes,j=M.ERR_INVALID_ARG_TYPE,X=M.ERR_STREAM_PUSH_AFTER_EOF,Y=M.ERR_METHOD_NOT_IMPLEMENTED,W=M.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r("inherits")($,t);var q=y.errorOrDestroy,K=["error","close","destroy","pause","resume"];function ie(U,L,ee){f=f||r("./_stream_duplex"),U=U||{},typeof ee!="boolean"&&(ee=L instanceof f),this.objectMode=!!U.objectMode,ee&&(this.objectMode=this.objectMode||!!U.readableObjectMode),this.highWaterMark=T(this,U,"readableHighWaterMark",ee),this.buffer=new w,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=U.emitClose!==!1,this.autoDestroy=!!U.autoDestroy,this.destroyed=!1,this.defaultEncoding=U.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,U.encoding&&(g||(g=r("string_decoder/").StringDecoder),this.decoder=new g(U.encoding),this.encoding=U.encoding)}function $(U){if(f=f||r("./_stream_duplex"),!(this instanceof $))return new $(U);var L=this instanceof f;this._readableState=new ie(U,this,L),this.readable=!0,U&&(typeof U.read=="function"&&(this._read=U.read),typeof U.destroy=="function"&&(this._destroy=U.destroy)),t.call(this)}function D(U,L,ee,ce,ve){a("readableAddChunk",L);var he,xe=U._readableState;if(L===null)xe.reading=!1,function(_e,Re){if(a("onEofChunk"),!Re.ended){if(Re.decoder){var pe=Re.decoder.end();pe&&pe.length&&(Re.buffer.push(pe),Re.length+=Re.objectMode?1:pe.length)}Re.ended=!0,Re.sync?v(_e):(Re.needReadable=!1,Re.emittedReadable||(Re.emittedReadable=!0,_(_e)))}}(U,xe);else if(ve||(he=function(_e,Re){var pe;Ae=Re,n.isBuffer(Ae)||Ae instanceof c||typeof Re=="string"||Re===void 0||_e.objectMode||(pe=new j("chunk",["string","Buffer","Uint8Array"],Re));var Ae;return pe}(xe,L)),he)q(U,he);else if(xe.objectMode||L&&L.length>0)if(typeof L=="string"||xe.objectMode||Object.getPrototypeOf(L)===n.prototype||(L=function(_e){return n.from(_e)}(L)),ce)xe.endEmitted?q(U,new W):F(U,xe,L,!0);else if(xe.ended)q(U,new X);else{if(xe.destroyed)return!1;xe.reading=!1,xe.decoder&&!ee?(L=xe.decoder.write(L),xe.objectMode||L.length!==0?F(U,xe,L,!1):S(U,xe)):F(U,xe,L,!1)}else ce||(xe.reading=!1,S(U,xe));return!xe.ended&&(xe.length<xe.highWaterMark||xe.length===0)}function F(U,L,ee,ce){L.flowing&&L.length===0&&!L.sync?(L.awaitDrain=0,U.emit("data",ee)):(L.length+=L.objectMode?1:ee.length,ce?L.buffer.unshift(ee):L.buffer.push(ee),L.needReadable&&v(U)),S(U,L)}Object.defineProperty($.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(U){this._readableState&&(this._readableState.destroyed=U)}}),$.prototype.destroy=y.destroy,$.prototype._undestroy=y.undestroy,$.prototype._destroy=function(U,L){L(U)},$.prototype.push=function(U,L){var ee,ce=this._readableState;return ce.objectMode?ee=!0:typeof U=="string"&&((L=L||ce.defaultEncoding)!==ce.encoding&&(U=n.from(U,L),L=""),ee=!0),D(this,U,L,!1,ee)},$.prototype.unshift=function(U){return D(this,U,null,!0,!1)},$.prototype.isPaused=function(){return this._readableState.flowing===!1},$.prototype.setEncoding=function(U){g||(g=r("string_decoder/").StringDecoder);var L=new g(U);this._readableState.decoder=L,this._readableState.encoding=this._readableState.decoder.encoding;for(var ee=this._readableState.buffer.head,ce="";ee!==null;)ce+=L.write(ee.data),ee=ee.next;return this._readableState.buffer.clear(),ce!==""&&this._readableState.buffer.push(ce),this._readableState.length=ce.length,this};function A(U,L){return U<=0||L.length===0&&L.ended?0:L.objectMode?1:U!=U?L.flowing&&L.length?L.buffer.head.data.length:L.length:(U>L.highWaterMark&&(L.highWaterMark=function(ee){return ee>=1073741824?ee=1073741824:(ee--,ee|=ee>>>1,ee|=ee>>>2,ee|=ee>>>4,ee|=ee>>>8,ee|=ee>>>16,ee++),ee}(U)),U<=L.length?U:L.ended?L.length:(L.needReadable=!0,0))}function v(U){var L=U._readableState;a("emitReadable",L.needReadable,L.emittedReadable),L.needReadable=!1,L.emittedReadable||(a("emitReadable",L.flowing),L.emittedReadable=!0,p.nextTick(_,U))}function _(U){var L=U._readableState;a("emitReadable_",L.destroyed,L.length,L.ended),L.destroyed||!L.length&&!L.ended||(U.emit("readable"),L.emittedReadable=!1),L.needReadable=!L.flowing&&!L.ended&&L.length<=L.highWaterMark,re(U)}function S(U,L){L.readingMore||(L.readingMore=!0,p.nextTick(C,U,L))}function C(U,L){for(;!L.reading&&!L.ended&&(L.length<L.highWaterMark||L.flowing&&L.length===0);){var ee=L.length;if(a("maybeReadMore read 0"),U.read(0),ee===L.length)break}L.readingMore=!1}function O(U){var L=U._readableState;L.readableListening=U.listenerCount("readable")>0,L.resumeScheduled&&!L.paused?L.flowing=!0:U.listenerCount("data")>0&&U.resume()}function B(U){a("readable nexttick read 0"),U.read(0)}function z(U,L){a("resume",L.reading),L.reading||U.read(0),L.resumeScheduled=!1,U.emit("resume"),re(U),L.flowing&&!L.reading&&U.read(0)}function re(U){var L=U._readableState;for(a("flow",L.flowing);L.flowing&&U.read()!==null;);}function ne(U,L){return L.length===0?null:(L.objectMode?ee=L.buffer.shift():!U||U>=L.length?(ee=L.decoder?L.buffer.join(""):L.buffer.length===1?L.buffer.first():L.buffer.concat(L.length),L.buffer.clear()):ee=L.buffer.consume(U,L.decoder),ee);var ee}function de(U){var L=U._readableState;a("endReadable",L.endEmitted),L.endEmitted||(L.ended=!0,p.nextTick(H,L,U))}function H(U,L){if(a("endReadableNT",U.endEmitted,U.length),!U.endEmitted&&U.length===0&&(U.endEmitted=!0,L.readable=!1,L.emit("end"),U.autoDestroy)){var ee=L._writableState;(!ee||ee.autoDestroy&&ee.finished)&&L.destroy()}}function ae(U,L){for(var ee=0,ce=U.length;ee<ce;ee++)if(U[ee]===L)return ee;return-1}$.prototype.read=function(U){a("read",U),U=parseInt(U,10);var L=this._readableState,ee=U;if(U!==0&&(L.emittedReadable=!1),U===0&&L.needReadable&&((L.highWaterMark!==0?L.length>=L.highWaterMark:L.length>0)||L.ended))return a("read: emitReadable",L.length,L.ended),L.length===0&&L.ended?de(this):v(this),null;if((U=A(U,L))===0&&L.ended)return L.length===0&&de(this),null;var ce,ve=L.needReadable;return a("need readable",ve),(L.length===0||L.length-U<L.highWaterMark)&&a("length less than watermark",ve=!0),L.ended||L.reading?a("reading or ended",ve=!1):ve&&(a("do read"),L.reading=!0,L.sync=!0,L.length===0&&(L.needReadable=!0),this._read(L.highWaterMark),L.sync=!1,L.reading||(U=A(ee,L))),(ce=U>0?ne(U,L):null)===null?(L.needReadable=L.length<=L.highWaterMark,U=0):(L.length-=U,L.awaitDrain=0),L.length===0&&(L.ended||(L.needReadable=!0),ee!==U&&L.ended&&de(this)),ce!==null&&this.emit("data",ce),ce},$.prototype._read=function(U){q(this,new Y("_read()"))},$.prototype.pipe=function(U,L){var ee=this,ce=this._readableState;switch(ce.pipesCount){case 0:ce.pipes=U;break;case 1:ce.pipes=[ce.pipes,U];break;default:ce.pipes.push(U)}ce.pipesCount+=1,a("pipe count=%d opts=%j",ce.pipesCount,L);var ve=(!L||L.end!==!1)&&U!==p.stdout&&U!==p.stderr?xe:ke;function he(We,$e){a("onunpipe"),We===ee&&$e&&$e.hasUnpiped===!1&&($e.hasUnpiped=!0,a("cleanup"),U.removeListener("close",Se),U.removeListener("finish",Ue),U.removeListener("drain",_e),U.removeListener("error",Ae),U.removeListener("unpipe",he),ee.removeListener("end",xe),ee.removeListener("end",ke),ee.removeListener("data",pe),Re=!0,!ce.awaitDrain||U._writableState&&!U._writableState.needDrain||_e())}function xe(){a("onend"),U.end()}ce.endEmitted?p.nextTick(ve):ee.once("end",ve),U.on("unpipe",he);var _e=function(We){return function(){var $e=We._readableState;a("pipeOnDrain",$e.awaitDrain),$e.awaitDrain&&$e.awaitDrain--,$e.awaitDrain===0&&i(We,"data")&&($e.flowing=!0,re(We))}}(ee);U.on("drain",_e);var Re=!1;function pe(We){a("ondata");var $e=U.write(We);a("dest.write",$e),$e===!1&&((ce.pipesCount===1&&ce.pipes===U||ce.pipesCount>1&&ae(ce.pipes,U)!==-1)&&!Re&&(a("false write response, pause",ce.awaitDrain),ce.awaitDrain++),ee.pause())}function Ae(We){a("onerror",We),ke(),U.removeListener("error",Ae),i(U,"error")===0&&q(U,We)}function Se(){U.removeListener("finish",Ue),ke()}function Ue(){a("onfinish"),U.removeListener("close",Se),ke()}function ke(){a("unpipe"),ee.unpipe(U)}return ee.on("data",pe),function(We,$e,Ze){if(typeof We.prependListener=="function")return We.prependListener($e,Ze);We._events&&We._events[$e]?Array.isArray(We._events[$e])?We._events[$e].unshift(Ze):We._events[$e]=[Ze,We._events[$e]]:We.on($e,Ze)}(U,"error",Ae),U.once("close",Se),U.once("finish",Ue),U.emit("pipe",ee),ce.flowing||(a("pipe resume"),ee.resume()),U},$.prototype.unpipe=function(U){var L=this._readableState,ee={hasUnpiped:!1};if(L.pipesCount===0)return this;if(L.pipesCount===1)return U&&U!==L.pipes||(U||(U=L.pipes),L.pipes=null,L.pipesCount=0,L.flowing=!1,U&&U.emit("unpipe",this,ee)),this;if(!U){var ce=L.pipes,ve=L.pipesCount;L.pipes=null,L.pipesCount=0,L.flowing=!1;for(var he=0;he<ve;he++)ce[he].emit("unpipe",this,{hasUnpiped:!1});return this}var xe=ae(L.pipes,U);return xe===-1||(L.pipes.splice(xe,1),L.pipesCount-=1,L.pipesCount===1&&(L.pipes=L.pipes[0]),U.emit("unpipe",this,ee)),this},$.prototype.on=function(U,L){var ee=t.prototype.on.call(this,U,L),ce=this._readableState;return U==="data"?(ce.readableListening=this.listenerCount("readable")>0,ce.flowing!==!1&&this.resume()):U==="readable"&&(ce.endEmitted||ce.readableListening||(ce.readableListening=ce.needReadable=!0,ce.flowing=!1,ce.emittedReadable=!1,a("on readable",ce.length,ce.reading),ce.length?v(this):ce.reading||p.nextTick(B,this))),ee},$.prototype.addListener=$.prototype.on,$.prototype.removeListener=function(U,L){var ee=t.prototype.removeListener.call(this,U,L);return U==="readable"&&p.nextTick(O,this),ee},$.prototype.removeAllListeners=function(U){var L=t.prototype.removeAllListeners.apply(this,arguments);return U!=="readable"&&U!==void 0||p.nextTick(O,this),L},$.prototype.resume=function(){var U=this._readableState;return U.flowing||(a("resume"),U.flowing=!U.readableListening,function(L,ee){ee.resumeScheduled||(ee.resumeScheduled=!0,p.nextTick(z,L,ee))}(this,U)),U.paused=!1,this},$.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},$.prototype.wrap=function(U){var L=this,ee=this._readableState,ce=!1;for(var ve in U.on("end",function(){if(a("wrapped end"),ee.decoder&&!ee.ended){var xe=ee.decoder.end();xe&&xe.length&&L.push(xe)}L.push(null)}),U.on("data",function(xe){a("wrapped data"),ee.decoder&&(xe=ee.decoder.write(xe)),ee.objectMode&&xe==null||(ee.objectMode||xe&&xe.length)&&(L.push(xe)||(ce=!0,U.pause()))}),U)this[ve]===void 0&&typeof U[ve]=="function"&&(this[ve]=function(xe){return function(){return U[xe].apply(U,arguments)}}(ve));for(var he=0;he<K.length;he++)U.on(K[he],this.emit.bind(this,K[he]));return this._read=function(xe){a("wrapped _read",xe),ce&&(ce=!1,U.resume())},this},typeof Symbol=="function"&&($.prototype[Symbol.asyncIterator]=function(){return b===void 0&&(b=r("./internal/streams/async_iterator")),b(this)}),Object.defineProperty($.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty($.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty($.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(U){this._readableState&&(this._readableState.flowing=U)}}),$._fromList=ne,Object.defineProperty($.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&($.from=function(U,L){return d===void 0&&(d=r("./internal/streams/from")),d($,U,L)})}).call(this)}).call(this,r("_process"),typeof yr<"u"?yr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(r,I,k){I.exports=a;var p=r("../errors").codes,u=p.ERR_METHOD_NOT_IMPLEMENTED,f=p.ERR_MULTIPLE_CALLBACK,i=p.ERR_TRANSFORM_ALREADY_TRANSFORMING,t=p.ERR_TRANSFORM_WITH_LENGTH_0,n=r("./_stream_duplex");function c(b,d){var w=this._transformState;w.transforming=!1;var y=w.writecb;if(y===null)return this.emit("error",new f);w.writechunk=null,w.writecb=null,d!=null&&this.push(d),y(b);var T=this._readableState;T.reading=!1,(T.needReadable||T.length<T.highWaterMark)&&this._read(T.highWaterMark)}function a(b){if(!(this instanceof a))return new a(b);n.call(this,b),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,b&&(typeof b.transform=="function"&&(this._transform=b.transform),typeof b.flush=="function"&&(this._flush=b.flush)),this.on("prefinish",l)}function l(){var b=this;typeof this._flush!="function"||this._readableState.destroyed?g(this,null,null):this._flush(function(d,w){g(b,d,w)})}function g(b,d,w){if(d)return b.emit("error",d);if(w!=null&&b.push(w),b._writableState.length)throw new t;if(b._transformState.transforming)throw new i;return b.push(null)}r("inherits")(a,n),a.prototype.push=function(b,d){return this._transformState.needTransform=!1,n.prototype.push.call(this,b,d)},a.prototype._transform=function(b,d,w){w(new u("_transform()"))},a.prototype._write=function(b,d,w){var y=this._transformState;if(y.writecb=w,y.writechunk=b,y.writeencoding=d,!y.transforming){var T=this._readableState;(y.needTransform||T.needReadable||T.length<T.highWaterMark)&&this._read(T.highWaterMark)}},a.prototype._read=function(b){var d=this._transformState;d.writechunk===null||d.transforming?d.needTransform=!0:(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform))},a.prototype._destroy=function(b,d){n.prototype._destroy.call(this,b,function(w){d(w)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(r,I,k){(function(p,u){(function(){function f(C){var O=this;this.next=null,this.entry=null,this.finish=function(){(function(B,z,re){var ne=B.entry;for(B.entry=null;ne;){var de=ne.callback;z.pendingcb--,de(re),ne=ne.next}z.corkedRequestsFree.next=B})(O,C)}}var i;I.exports=$,$.WritableState=ie;var t={deprecate:r("util-deprecate")},n=r("./internal/streams/stream"),c=r("buffer").Buffer,a=(u!==void 0?u:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},l,g=r("./internal/streams/destroy"),b=r("./internal/streams/state").getHighWaterMark,d=r("../errors").codes,w=d.ERR_INVALID_ARG_TYPE,y=d.ERR_METHOD_NOT_IMPLEMENTED,T=d.ERR_MULTIPLE_CALLBACK,M=d.ERR_STREAM_CANNOT_PIPE,j=d.ERR_STREAM_DESTROYED,X=d.ERR_STREAM_NULL_VALUES,Y=d.ERR_STREAM_WRITE_AFTER_END,W=d.ERR_UNKNOWN_ENCODING,q=g.errorOrDestroy;function K(){}function ie(C,O,B){i=i||r("./_stream_duplex"),C=C||{},typeof B!="boolean"&&(B=O instanceof i),this.objectMode=!!C.objectMode,B&&(this.objectMode=this.objectMode||!!C.writableObjectMode),this.highWaterMark=b(this,C,"writableHighWaterMark",B),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var z=C.decodeStrings===!1;this.decodeStrings=!z,this.defaultEncoding=C.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(re){(function(ne,de){var H=ne._writableState,ae=H.sync,U=H.writecb;if(typeof U!="function")throw new T;if(function(ee){ee.writing=!1,ee.writecb=null,ee.length-=ee.writelen,ee.writelen=0}(H),de)(function(ee,ce,ve,he,xe){--ce.pendingcb,ve?(p.nextTick(xe,he),p.nextTick(S,ee,ce),ee._writableState.errorEmitted=!0,q(ee,he)):(xe(he),ee._writableState.errorEmitted=!0,q(ee,he),S(ee,ce))})(ne,H,ae,de,U);else{var L=v(H)||ne.destroyed;L||H.corked||H.bufferProcessing||!H.bufferedRequest||A(ne,H),ae?p.nextTick(F,ne,H,L,U):F(ne,H,L,U)}})(O,re)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=C.emitClose!==!1,this.autoDestroy=!!C.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new f(this)}function $(C){var O=this instanceof(i=i||r("./_stream_duplex"));if(!O&&!l.call($,this))return new $(C);this._writableState=new ie(C,this,O),this.writable=!0,C&&(typeof C.write=="function"&&(this._write=C.write),typeof C.writev=="function"&&(this._writev=C.writev),typeof C.destroy=="function"&&(this._destroy=C.destroy),typeof C.final=="function"&&(this._final=C.final)),n.call(this)}function D(C,O,B,z,re,ne,de){O.writelen=z,O.writecb=de,O.writing=!0,O.sync=!0,O.destroyed?O.onwrite(new j("write")):B?C._writev(re,O.onwrite):C._write(re,ne,O.onwrite),O.sync=!1}function F(C,O,B,z){B||function(re,ne){ne.length===0&&ne.needDrain&&(ne.needDrain=!1,re.emit("drain"))}(C,O),O.pendingcb--,z(),S(C,O)}function A(C,O){O.bufferProcessing=!0;var B=O.bufferedRequest;if(C._writev&&B&&B.next){var z=O.bufferedRequestCount,re=new Array(z),ne=O.corkedRequestsFree;ne.entry=B;for(var de=0,H=!0;B;)re[de]=B,B.isBuf||(H=!1),B=B.next,de+=1;re.allBuffers=H,D(C,O,!0,O.length,re,"",ne.finish),O.pendingcb++,O.lastBufferedRequest=null,ne.next?(O.corkedRequestsFree=ne.next,ne.next=null):O.corkedRequestsFree=new f(O),O.bufferedRequestCount=0}else{for(;B;){var ae=B.chunk,U=B.encoding,L=B.callback;if(D(C,O,!1,O.objectMode?1:ae.length,ae,U,L),B=B.next,O.bufferedRequestCount--,O.writing)break}B===null&&(O.lastBufferedRequest=null)}O.bufferedRequest=B,O.bufferProcessing=!1}function v(C){return C.ending&&C.length===0&&C.bufferedRequest===null&&!C.finished&&!C.writing}function _(C,O){C._final(function(B){O.pendingcb--,B&&q(C,B),O.prefinished=!0,C.emit("prefinish"),S(C,O)})}function S(C,O){var B=v(O);if(B&&(function(re,ne){ne.prefinished||ne.finalCalled||(typeof re._final!="function"||ne.destroyed?(ne.prefinished=!0,re.emit("prefinish")):(ne.pendingcb++,ne.finalCalled=!0,p.nextTick(_,re,ne)))}(C,O),O.pendingcb===0&&(O.finished=!0,C.emit("finish"),O.autoDestroy))){var z=C._readableState;(!z||z.autoDestroy&&z.endEmitted)&&C.destroy()}return B}r("inherits")($,n),ie.prototype.getBuffer=function(){for(var C=this.bufferedRequest,O=[];C;)O.push(C),C=C.next;return O},function(){try{Object.defineProperty(ie.prototype,"buffer",{get:t.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty($,Symbol.hasInstance,{value:function(C){return!!l.call(this,C)||this===$&&C&&C._writableState instanceof ie}})):l=function(C){return C instanceof this},$.prototype.pipe=function(){q(this,new M)},$.prototype.write=function(C,O,B){var z,re=this._writableState,ne=!1,de=!re.objectMode&&(z=C,c.isBuffer(z)||z instanceof a);return de&&!c.isBuffer(C)&&(C=function(H){return c.from(H)}(C)),typeof O=="function"&&(B=O,O=null),de?O="buffer":O||(O=re.defaultEncoding),typeof B!="function"&&(B=K),re.ending?function(H,ae){var U=new Y;q(H,U),p.nextTick(ae,U)}(this,B):(de||function(H,ae,U,L){var ee;return U===null?ee=new X:typeof U=="string"||ae.objectMode||(ee=new w("chunk",["string","Buffer"],U)),!ee||(q(H,ee),p.nextTick(L,ee),!1)}(this,re,C,B))&&(re.pendingcb++,ne=function(H,ae,U,L,ee,ce){if(!U){var ve=function(Re,pe,Ae){return Re.objectMode||Re.decodeStrings===!1||typeof pe!="string"||(pe=c.from(pe,Ae)),pe}(ae,L,ee);L!==ve&&(U=!0,ee="buffer",L=ve)}var he=ae.objectMode?1:L.length;ae.length+=he;var xe=ae.length<ae.highWaterMark;if(xe||(ae.needDrain=!0),ae.writing||ae.corked){var _e=ae.lastBufferedRequest;ae.lastBufferedRequest={chunk:L,encoding:ee,isBuf:U,callback:ce,next:null},_e?_e.next=ae.lastBufferedRequest:ae.bufferedRequest=ae.lastBufferedRequest,ae.bufferedRequestCount+=1}else D(H,ae,!1,he,L,ee,ce);return xe}(this,re,de,C,O,B)),ne},$.prototype.cork=function(){this._writableState.corked++},$.prototype.uncork=function(){var C=this._writableState;C.corked&&(C.corked--,C.writing||C.corked||C.bufferProcessing||!C.bufferedRequest||A(this,C))},$.prototype.setDefaultEncoding=function(C){if(typeof C=="string"&&(C=C.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((C+"").toLowerCase())>-1))throw new W(C);return this._writableState.defaultEncoding=C,this},Object.defineProperty($.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty($.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),$.prototype._write=function(C,O,B){B(new y("_write()"))},$.prototype._writev=null,$.prototype.end=function(C,O,B){var z=this._writableState;return typeof C=="function"?(B=C,C=null,O=null):typeof O=="function"&&(B=O,O=null),C!=null&&this.write(C,O),z.corked&&(z.corked=1,this.uncork()),z.ending||function(re,ne,de){ne.ending=!0,S(re,ne),de&&(ne.finished?p.nextTick(de):re.once("finish",de)),ne.ended=!0,re.writable=!1}(this,z,B),this},Object.defineProperty($.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty($.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(C){this._writableState&&(this._writableState.destroyed=C)}}),$.prototype.destroy=g.destroy,$.prototype._undestroy=g.undestroy,$.prototype._destroy=function(C,O){O(C)}}).call(this)}).call(this,r("_process"),typeof yr<"u"?yr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(r,I,k){(function(p){(function(){var u;function f(j,X,Y){return(X=function(W){var q=function(K,ie){if(typeof K!="object"||K===null)return K;var $=K[Symbol.toPrimitive];if($!==void 0){var D=$.call(K,ie);if(typeof D!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ie==="string"?String:Number)(K)}(W,"string");return typeof q=="symbol"?q:String(q)}(X))in j?Object.defineProperty(j,X,{value:Y,enumerable:!0,configurable:!0,writable:!0}):j[X]=Y,j}var i=r("./end-of-stream"),t=Symbol("lastResolve"),n=Symbol("lastReject"),c=Symbol("error"),a=Symbol("ended"),l=Symbol("lastPromise"),g=Symbol("handlePromise"),b=Symbol("stream");function d(j,X){return{value:j,done:X}}function w(j){var X=j[t];if(X!==null){var Y=j[b].read();Y!==null&&(j[l]=null,j[t]=null,j[n]=null,X(d(Y,!1)))}}function y(j){p.nextTick(w,j)}var T=Object.getPrototypeOf(function(){}),M=Object.setPrototypeOf((f(u={get stream(){return this[b]},next:function(){var j=this,X=this[c];if(X!==null)return Promise.reject(X);if(this[a])return Promise.resolve(d(void 0,!0));if(this[b].destroyed)return new Promise(function(K,ie){p.nextTick(function(){j[c]?ie(j[c]):K(d(void 0,!0))})});var Y,W=this[l];if(W)Y=new Promise(function(K,ie){return function($,D){K.then(function(){ie[a]?$(d(void 0,!0)):ie[g]($,D)},D)}}(W,this));else{var q=this[b].read();if(q!==null)return Promise.resolve(d(q,!1));Y=new Promise(this[g])}return this[l]=Y,Y}},Symbol.asyncIterator,function(){return this}),f(u,"return",function(){var j=this;return new Promise(function(X,Y){j[b].destroy(null,function(W){W?Y(W):X(d(void 0,!0))})})}),u),T);I.exports=function(j){var X,Y=Object.create(M,(f(X={},b,{value:j,writable:!0}),f(X,t,{value:null,writable:!0}),f(X,n,{value:null,writable:!0}),f(X,c,{value:null,writable:!0}),f(X,a,{value:j._readableState.endEmitted,writable:!0}),f(X,g,{value:function(W,q){var K=Y[b].read();K?(Y[l]=null,Y[t]=null,Y[n]=null,W(d(K,!1))):(Y[t]=W,Y[n]=q)},writable:!0}),X));return Y[l]=null,i(j,function(W){if(W&&W.code!=="ERR_STREAM_PREMATURE_CLOSE"){var q=Y[n];return q!==null&&(Y[l]=null,Y[t]=null,Y[n]=null,q(W)),void(Y[c]=W)}var K=Y[t];K!==null&&(Y[l]=null,Y[t]=null,Y[n]=null,K(d(void 0,!0))),Y[a]=!0}),j.on("readable",y.bind(null,Y)),Y}}).call(this)}).call(this,r("_process"))},{"./end-of-stream":486,_process:467}],484:[function(r,I,k){function p(l,g){var b=Object.keys(l);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(l);g&&(d=d.filter(function(w){return Object.getOwnPropertyDescriptor(l,w).enumerable})),b.push.apply(b,d)}return b}function u(l){for(var g=1;g<arguments.length;g++){var b=arguments[g]!=null?arguments[g]:{};g%2?p(Object(b),!0).forEach(function(d){f(l,d,b[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(b)):p(Object(b)).forEach(function(d){Object.defineProperty(l,d,Object.getOwnPropertyDescriptor(b,d))})}return l}function f(l,g,b){return(g=t(g))in l?Object.defineProperty(l,g,{value:b,enumerable:!0,configurable:!0,writable:!0}):l[g]=b,l}function i(l,g){for(var b=0;b<g.length;b++){var d=g[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,t(d.key),d)}}function t(l){var g=function(b,d){if(typeof b!="object"||b===null)return b;var w=b[Symbol.toPrimitive];if(w!==void 0){var y=w.call(b,d);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(b)}(l,"string");return typeof g=="symbol"?g:String(g)}var n=r("buffer").Buffer,c=r("util").inspect,a=c&&c.custom||"inspect";I.exports=function(){function l(){(function(d,w){if(!(d instanceof w))throw new TypeError("Cannot call a class as a function")})(this,l),this.head=null,this.tail=null,this.length=0}var g,b;return g=l,(b=[{key:"push",value:function(d){var w={data:d,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(d){var w={data:d,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var d=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,d}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(d){if(this.length===0)return"";for(var w=this.head,y=""+w.data;w=w.next;)y+=d+w.data;return y}},{key:"concat",value:function(d){if(this.length===0)return n.alloc(0);for(var w,y,T,M=n.allocUnsafe(d>>>0),j=this.head,X=0;j;)w=j.data,y=M,T=X,n.prototype.copy.call(w,y,T),X+=j.data.length,j=j.next;return M}},{key:"consume",value:function(d,w){var y;return d<this.head.data.length?(y=this.head.data.slice(0,d),this.head.data=this.head.data.slice(d)):y=d===this.head.data.length?this.shift():w?this._getString(d):this._getBuffer(d),y}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(d){var w=this.head,y=1,T=w.data;for(d-=T.length;w=w.next;){var M=w.data,j=d>M.length?M.length:d;if(j===M.length?T+=M:T+=M.slice(0,d),(d-=j)==0){j===M.length?(++y,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=M.slice(j));break}++y}return this.length-=y,T}},{key:"_getBuffer",value:function(d){var w=n.allocUnsafe(d),y=this.head,T=1;for(y.data.copy(w),d-=y.data.length;y=y.next;){var M=y.data,j=d>M.length?M.length:d;if(M.copy(w,w.length-d,0,j),(d-=j)==0){j===M.length?(++T,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=M.slice(j));break}++T}return this.length-=T,w}},{key:a,value:function(d,w){return c(this,u(u({},w),{},{depth:0,customInspect:!1}))}}])&&i(g.prototype,b),Object.defineProperty(g,"prototype",{writable:!1}),l}()},{buffer:220,util:188}],485:[function(r,I,k){(function(p){(function(){function u(t,n){i(t,n),f(t)}function f(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function i(t,n){t.emit("error",n)}I.exports={destroy:function(t,n){var c=this,a=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return a||l?(n?n(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,p.nextTick(i,this,t)):p.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(g){!n&&g?c._writableState?c._writableState.errorEmitted?p.nextTick(f,c):(c._writableState.errorEmitted=!0,p.nextTick(u,c,g)):p.nextTick(u,c,g):n?(p.nextTick(f,c),n(g)):p.nextTick(f,c)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,n){var c=t._readableState,a=t._writableState;c&&c.autoDestroy||a&&a.autoDestroy?t.destroy(n):t.emit("error",n)}}}).call(this)}).call(this,r("_process"))},{_process:467}],486:[function(r,I,k){var p=r("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function u(){}I.exports=function f(i,t,n){if(typeof t=="function")return f(i,null,t);t||(t={}),n=function(j){var X=!1;return function(){if(!X){X=!0;for(var Y=arguments.length,W=new Array(Y),q=0;q<Y;q++)W[q]=arguments[q];j.apply(this,W)}}}(n||u);var c=t.readable||t.readable!==!1&&i.readable,a=t.writable||t.writable!==!1&&i.writable,l=function(){i.writable||b()},g=i._writableState&&i._writableState.finished,b=function(){a=!1,g=!0,c||n.call(i)},d=i._readableState&&i._readableState.endEmitted,w=function(){c=!1,d=!0,a||n.call(i)},y=function(j){n.call(i,j)},T=function(){var j;return c&&!d?(i._readableState&&i._readableState.ended||(j=new p),n.call(i,j)):a&&!g?(i._writableState&&i._writableState.ended||(j=new p),n.call(i,j)):void 0},M=function(){i.req.on("finish",b)};return function(j){return j.setHeader&&typeof j.abort=="function"}(i)?(i.on("complete",b),i.on("abort",T),i.req?M():i.on("request",M)):a&&!i._writableState&&(i.on("end",l),i.on("close",l)),i.on("end",w),i.on("finish",b),t.error!==!1&&i.on("error",y),i.on("close",T),function(){i.removeListener("complete",b),i.removeListener("abort",T),i.removeListener("request",M),i.req&&i.req.removeListener("finish",b),i.removeListener("end",l),i.removeListener("close",l),i.removeListener("finish",b),i.removeListener("end",w),i.removeListener("error",y),i.removeListener("close",T)}}},{"../../../errors":477}],487:[function(r,I,k){I.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(r,I,k){var p,u=r("../../../errors").codes,f=u.ERR_MISSING_ARGS,i=u.ERR_STREAM_DESTROYED;function t(g){if(g)throw g}function n(g,b,d,w){w=function(M){var j=!1;return function(){j||(j=!0,M.apply(void 0,arguments))}}(w);var y=!1;g.on("close",function(){y=!0}),p===void 0&&(p=r("./end-of-stream")),p(g,{readable:b,writable:d},function(M){if(M)return w(M);y=!0,w()});var T=!1;return function(M){if(!y&&!T)return T=!0,function(j){return j.setHeader&&typeof j.abort=="function"}(g)?g.abort():typeof g.destroy=="function"?g.destroy():void w(M||new i("pipe"))}}function c(g){g()}function a(g,b){return g.pipe(b)}function l(g){return g.length?typeof g[g.length-1]!="function"?t:g.pop():t}I.exports=function(){for(var g=arguments.length,b=new Array(g),d=0;d<g;d++)b[d]=arguments[d];var w,y=l(b);if(Array.isArray(b[0])&&(b=b[0]),b.length<2)throw new f("streams");var T=b.map(function(M,j){var X=j<b.length-1;return n(M,X,j>0,function(Y){w||(w=Y),Y&&T.forEach(c),X||(T.forEach(c),y(w))})});return b.reduce(a)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(r,I,k){var p=r("../../../errors").codes.ERR_INVALID_OPT_VALUE;I.exports={getHighWaterMark:function(u,f,i,t){var n=function(c,a,l){return c.highWaterMark!=null?c.highWaterMark:a?c[l]:null}(f,t,i);if(n!=null){if(!isFinite(n)||Math.floor(n)!==n||n<0)throw new p(t?i:"highWaterMark",n);return Math.floor(n)}return u.objectMode?16:16384}}},{"../../../errors":477}],490:[function(r,I,k){I.exports=r("events").EventEmitter},{events:422}],491:[function(r,I,k){(k=I.exports=r("./lib/_stream_readable.js")).Stream=k,k.Readable=k,k.Writable=r("./lib/_stream_writable.js"),k.Duplex=r("./lib/_stream_duplex.js"),k.Transform=r("./lib/_stream_transform.js"),k.PassThrough=r("./lib/_stream_passthrough.js"),k.finished=r("./lib/internal/streams/end-of-stream.js"),k.pipeline=r("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(r,I,k){var p=function(u){var f=Object.prototype,i=f.hasOwnProperty,t=Object.defineProperty||function(S,C,O){S[C]=O.value},n=typeof Symbol=="function"?Symbol:{},c=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag";function g(S,C,O){return Object.defineProperty(S,C,{value:O,enumerable:!0,configurable:!0,writable:!0}),S[C]}try{g({},"")}catch{g=function(C,O,B){return C[O]=B}}function b(S,C,O,B){var z=C&&C.prototype instanceof y?C:y,re=Object.create(z.prototype),ne=new A(B||[]);return t(re,"_invoke",{value:ie(S,O,ne)}),re}function d(S,C,O){try{return{type:"normal",arg:S.call(C,O)}}catch(B){return{type:"throw",arg:B}}}u.wrap=b;var w={};function y(){}function T(){}function M(){}var j={};g(j,c,function(){return this});var X=Object.getPrototypeOf,Y=X&&X(X(v([])));Y&&Y!==f&&i.call(Y,c)&&(j=Y);var W=M.prototype=y.prototype=Object.create(j);function q(S){["next","throw","return"].forEach(function(C){g(S,C,function(O){return this._invoke(C,O)})})}function K(S,C){var O;t(this,"_invoke",{value:function(B,z){function re(){return new C(function(ne,de){(function H(ae,U,L,ee){var ce=d(S[ae],S,U);if(ce.type!=="throw"){var ve=ce.arg,he=ve.value;return he&&typeof he=="object"&&i.call(he,"__await")?C.resolve(he.__await).then(function(xe){H("next",xe,L,ee)},function(xe){H("throw",xe,L,ee)}):C.resolve(he).then(function(xe){ve.value=xe,L(ve)},function(xe){return H("throw",xe,L,ee)})}ee(ce.arg)})(B,z,ne,de)})}return O=O?O.then(re,re):re()}})}function ie(S,C,O){var B="suspendedStart";return function(z,re){if(B==="executing")throw new Error("Generator is already running");if(B==="completed"){if(z==="throw")throw re;return _()}for(O.method=z,O.arg=re;;){var ne=O.delegate;if(ne){var de=$(ne,O);if(de){if(de===w)continue;return de}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(B==="suspendedStart")throw B="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);B="executing";var H=d(S,C,O);if(H.type==="normal"){if(B=O.done?"completed":"suspendedYield",H.arg===w)continue;return{value:H.arg,done:O.done}}H.type==="throw"&&(B="completed",O.method="throw",O.arg=H.arg)}}}function $(S,C){var O=C.method,B=S.iterator[O];if(B===void 0)return C.delegate=null,O==="throw"&&S.iterator.return&&(C.method="return",C.arg=void 0,$(S,C),C.method==="throw")||O!=="return"&&(C.method="throw",C.arg=new TypeError("The iterator does not provide a '"+O+"' method")),w;var z=d(B,S.iterator,C.arg);if(z.type==="throw")return C.method="throw",C.arg=z.arg,C.delegate=null,w;var re=z.arg;return re?re.done?(C[S.resultName]=re.value,C.next=S.nextLoc,C.method!=="return"&&(C.method="next",C.arg=void 0),C.delegate=null,w):re:(C.method="throw",C.arg=new TypeError("iterator result is not an object"),C.delegate=null,w)}function D(S){var C={tryLoc:S[0]};1 in S&&(C.catchLoc=S[1]),2 in S&&(C.finallyLoc=S[2],C.afterLoc=S[3]),this.tryEntries.push(C)}function F(S){var C=S.completion||{};C.type="normal",delete C.arg,S.completion=C}function A(S){this.tryEntries=[{tryLoc:"root"}],S.forEach(D,this),this.reset(!0)}function v(S){if(S){var C=S[c];if(C)return C.call(S);if(typeof S.next=="function")return S;if(!isNaN(S.length)){var O=-1,B=function z(){for(;++O<S.length;)if(i.call(S,O))return z.value=S[O],z.done=!1,z;return z.value=void 0,z.done=!0,z};return B.next=B}}return{next:_}}function _(){return{value:void 0,done:!0}}return T.prototype=M,t(W,"constructor",{value:M,configurable:!0}),t(M,"constructor",{value:T,configurable:!0}),T.displayName=g(M,l,"GeneratorFunction"),u.isGeneratorFunction=function(S){var C=typeof S=="function"&&S.constructor;return!!C&&(C===T||(C.displayName||C.name)==="GeneratorFunction")},u.mark=function(S){return Object.setPrototypeOf?Object.setPrototypeOf(S,M):(S.__proto__=M,g(S,l,"GeneratorFunction")),S.prototype=Object.create(W),S},u.awrap=function(S){return{__await:S}},q(K.prototype),g(K.prototype,a,function(){return this}),u.AsyncIterator=K,u.async=function(S,C,O,B,z){z===void 0&&(z=Promise);var re=new K(b(S,C,O,B),z);return u.isGeneratorFunction(C)?re:re.next().then(function(ne){return ne.done?ne.value:re.next()})},q(W),g(W,l,"Generator"),g(W,c,function(){return this}),g(W,"toString",function(){return"[object Generator]"}),u.keys=function(S){var C=Object(S),O=[];for(var B in C)O.push(B);return O.reverse(),function z(){for(;O.length;){var re=O.pop();if(re in C)return z.value=re,z.done=!1,z}return z.done=!0,z}},u.values=v,A.prototype={constructor:A,reset:function(S){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(F),!S)for(var C in this)C.charAt(0)==="t"&&i.call(this,C)&&!isNaN(+C.slice(1))&&(this[C]=void 0)},stop:function(){this.done=!0;var S=this.tryEntries[0].completion;if(S.type==="throw")throw S.arg;return this.rval},dispatchException:function(S){if(this.done)throw S;var C=this;function O(H,ae){return re.type="throw",re.arg=S,C.next=H,ae&&(C.method="next",C.arg=void 0),!!ae}for(var B=this.tryEntries.length-1;B>=0;--B){var z=this.tryEntries[B],re=z.completion;if(z.tryLoc==="root")return O("end");if(z.tryLoc<=this.prev){var ne=i.call(z,"catchLoc"),de=i.call(z,"finallyLoc");if(ne&&de){if(this.prev<z.catchLoc)return O(z.catchLoc,!0);if(this.prev<z.finallyLoc)return O(z.finallyLoc)}else if(ne){if(this.prev<z.catchLoc)return O(z.catchLoc,!0)}else{if(!de)throw new Error("try statement without catch or finally");if(this.prev<z.finallyLoc)return O(z.finallyLoc)}}}},abrupt:function(S,C){for(var O=this.tryEntries.length-1;O>=0;--O){var B=this.tryEntries[O];if(B.tryLoc<=this.prev&&i.call(B,"finallyLoc")&&this.prev<B.finallyLoc){var z=B;break}}z&&(S==="break"||S==="continue")&&z.tryLoc<=C&&C<=z.finallyLoc&&(z=null);var re=z?z.completion:{};return re.type=S,re.arg=C,z?(this.method="next",this.next=z.finallyLoc,w):this.complete(re)},complete:function(S,C){if(S.type==="throw")throw S.arg;return S.type==="break"||S.type==="continue"?this.next=S.arg:S.type==="return"?(this.rval=this.arg=S.arg,this.method="return",this.next="end"):S.type==="normal"&&C&&(this.next=C),w},finish:function(S){for(var C=this.tryEntries.length-1;C>=0;--C){var O=this.tryEntries[C];if(O.finallyLoc===S)return this.complete(O.completion,O.afterLoc),F(O),w}},catch:function(S){for(var C=this.tryEntries.length-1;C>=0;--C){var O=this.tryEntries[C];if(O.tryLoc===S){var B=O.completion;if(B.type==="throw"){var z=B.arg;F(O)}return z}}throw new Error("illegal catch attempt")},delegateYield:function(S,C,O){return this.delegate={iterator:v(S),resultName:C,nextLoc:O},this.method==="next"&&(this.arg=void 0),w}},u}(typeof I=="object"?I.exports:{});try{regeneratorRuntime=p}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=p:Function("r","regeneratorRuntime = r")(p)}},{}],493:[function(r,I,k){var p=r("buffer").Buffer,u=r("inherits"),f=r("hash-base"),i=new Array(16),t=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],n=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],a=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],l=[0,1518500249,1859775393,2400959708,2840853838],g=[1352829926,1548603684,1836072691,2053994217,0];function b(){f.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function d(X,Y){return X<<Y|X>>>32-Y}function w(X,Y,W,q,K,ie,$,D){return d(X+(Y^W^q)+ie+$|0,D)+K|0}function y(X,Y,W,q,K,ie,$,D){return d(X+(Y&W|~Y&q)+ie+$|0,D)+K|0}function T(X,Y,W,q,K,ie,$,D){return d(X+((Y|~W)^q)+ie+$|0,D)+K|0}function M(X,Y,W,q,K,ie,$,D){return d(X+(Y&q|W&~q)+ie+$|0,D)+K|0}function j(X,Y,W,q,K,ie,$,D){return d(X+(Y^(W|~q))+ie+$|0,D)+K|0}u(b,f),b.prototype._update=function(){for(var X=i,Y=0;Y<16;++Y)X[Y]=this._block.readInt32LE(4*Y);for(var W=0|this._a,q=0|this._b,K=0|this._c,ie=0|this._d,$=0|this._e,D=0|this._a,F=0|this._b,A=0|this._c,v=0|this._d,_=0|this._e,S=0;S<80;S+=1){var C,O;S<16?(C=w(W,q,K,ie,$,X[t[S]],l[0],c[S]),O=j(D,F,A,v,_,X[n[S]],g[0],a[S])):S<32?(C=y(W,q,K,ie,$,X[t[S]],l[1],c[S]),O=M(D,F,A,v,_,X[n[S]],g[1],a[S])):S<48?(C=T(W,q,K,ie,$,X[t[S]],l[2],c[S]),O=T(D,F,A,v,_,X[n[S]],g[2],a[S])):S<64?(C=M(W,q,K,ie,$,X[t[S]],l[3],c[S]),O=y(D,F,A,v,_,X[n[S]],g[3],a[S])):(C=j(W,q,K,ie,$,X[t[S]],l[4],c[S]),O=w(D,F,A,v,_,X[n[S]],g[4],a[S])),W=$,$=ie,ie=d(K,10),K=q,q=C,D=_,_=v,v=d(A,10),A=F,F=O}var B=this._b+K+v|0;this._b=this._c+ie+_|0,this._c=this._d+$+D|0,this._d=this._e+W+F|0,this._e=this._a+q+A|0,this._a=B},b.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var X=p.alloc?p.alloc(20):new p(20);return X.writeInt32LE(this._a,0),X.writeInt32LE(this._b,4),X.writeInt32LE(this._c,8),X.writeInt32LE(this._d,12),X.writeInt32LE(this._e,16),X},I.exports=b},{buffer:220,"hash-base":425,inherits:440}],494:[function(r,I,k){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var p=r("buffer"),u=p.Buffer;function f(t,n){for(var c in t)n[c]=t[c]}function i(t,n,c){return u(t,n,c)}u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?I.exports=p:(f(p,k),k.Buffer=i),i.prototype=Object.create(u.prototype),f(u,i),i.from=function(t,n,c){if(typeof t=="number")throw new TypeError("Argument must not be a number");return u(t,n,c)},i.alloc=function(t,n,c){if(typeof t!="number")throw new TypeError("Argument must be a number");var a=u(t);return n!==void 0?typeof c=="string"?a.fill(n,c):a.fill(n):a.fill(0),a},i.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return u(t)},i.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return p.SlowBuffer(t)}},{buffer:220}],495:[function(r,I,k){(function(p){(function(){var u,f=r("buffer"),i=f.Buffer,t={};for(u in f)f.hasOwnProperty(u)&&u!=="SlowBuffer"&&u!=="Buffer"&&(t[u]=f[u]);var n=t.Buffer={};for(u in i)i.hasOwnProperty(u)&&u!=="allocUnsafe"&&u!=="allocUnsafeSlow"&&(n[u]=i[u]);if(t.Buffer.prototype=i.prototype,n.from&&n.from!==Uint8Array.from||(n.from=function(c,a,l){if(typeof c=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof c);if(c&&c.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c);return i(c,a,l)}),n.alloc||(n.alloc=function(c,a,l){if(typeof c!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof c);if(c<0||c>=2*(1<<30))throw new RangeError('The value "'+c+'" is invalid for option "size"');var g=i(c);return a&&a.length!==0?typeof l=="string"?g.fill(a,l):g.fill(a):g.fill(0),g}),!t.kStringMaxLength)try{t.kStringMaxLength=p.binding("buffer").kStringMaxLength}catch{}t.constants||(t.constants={MAX_LENGTH:t.kMaxLength},t.kStringMaxLength&&(t.constants.MAX_STRING_LENGTH=t.kStringMaxLength)),I.exports=t}).call(this)}).call(this,r("_process"))},{_process:467,buffer:220}],496:[function(r,I,k){Object.defineProperty(k,"__esModule",{value:!0});const p=r("xmlchars/xml/1.0/ed5"),u=r("xmlchars/xml/1.1/ed2"),f=r("xmlchars/xmlns/1.0/ed3");var i=p.isS,t=p.isChar,n=p.isNameStartChar,c=p.isNameChar,a=p.S_LIST,l=p.NAME_RE,g=u.isChar,b=f.isNCNameStartChar,d=f.isNCNameChar,w=f.NC_NAME_RE;const y="http://www.w3.org/XML/1998/namespace",T="http://www.w3.org/2000/xmlns/",M={__proto__:null,xml:y,xmlns:T},j={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},X=v=>v===34||v===39,Y=[34,39],W=[...Y,91,62],q=[...Y,60,93],K=[61,63,...a],ie=[...a,62,38,60];function $(v,_,S){switch(_){case"xml":S!==y&&v.fail(`xml prefix must be bound to ${y}.`);break;case"xmlns":S!==T&&v.fail(`xmlns prefix must be bound to ${T}.`)}switch(S){case T:v.fail(_===""?`the default namespace may not be set to ${S}.`:`may not assign a prefix (even "xmlns") to the URI ${T}.`);break;case y:switch(_){case"xml":break;case"":v.fail(`the default namespace may not be set to ${S}.`);break;default:v.fail("may not assign the xml namespace to another prefix.")}}}const D=v=>w.test(v),F=v=>l.test(v);k.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const A={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};k.SaxesParser=class{constructor(v){this.opt=v??{},this.fragmentOpt=!!this.opt.fragment;const _=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,_){this.nameStartCheck=b,this.nameCheck=d,this.isName=D,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},M);const S=this.opt.additionalNamespaces;S!=null&&(function(C,O){for(const B of Object.keys(O))$(C,B,O[B])}(this,S),Object.assign(this.ns,S))}else this.nameStartCheck=n,this.nameCheck=c,this.isName=F,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var v;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:_}=this;this.state=_?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=_,this.xmlDeclPossible=!_,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:S}=this.opt;if(S===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");S="1.0"}this.setXMLVersion(S),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(j),(v=this.readyHandler)===null||v===void 0||v.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(v,_){this[A[v]]=_}off(v){this[A[v]]=void 0}makeError(v){var _;let S=(_=this.fileName)!==null&&_!==void 0?_:"";return this.trackPosition&&(S.length>0&&(S+=":"),S+=`${this.line}:${this.column}`),S.length>0&&(S+=": "),new Error(S+v)}fail(v){const _=this.makeError(v),S=this.errorHandler;if(S===void 0)throw _;return S(_),this}write(v){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let _=!1;v===null?(_=!0,v=""):typeof v=="object"&&(v=v.toString()),this.carriedFromPrevious!==void 0&&(v=`${this.carriedFromPrevious}${v}`,this.carriedFromPrevious=void 0);let S=v.length;const C=v.charCodeAt(S-1);!_&&(C===13||C>=55296&&C<=56319)&&(this.carriedFromPrevious=v[S-1],S--,v=v.slice(0,S));const{stateTable:O}=this;for(this.chunk=v,this.i=0;this.i<S;)O[this.state].call(this);return this.chunkPosition+=S,_?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:v,i:_}=this;if(this.prevI=_,this.i=_+1,_>=v.length)return-1;const S=v.charCodeAt(_);if(this.column++,S<55296){if(S>=32||S===9)return S;switch(S){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return v.charCodeAt(_+1)===10&&(this.i=_+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),S}}if(S>56319)return S>=57344&&S<=65533||this.fail("disallowed character."),S;const C=65536+1024*(S-55296)+(v.charCodeAt(_+1)-56320);return this.i=_+2,C>1114111&&this.fail("disallowed character."),C}getCode11(){const{chunk:v,i:_}=this;if(this.prevI=_,this.i=_+1,_>=v.length)return-1;const S=v.charCodeAt(_);if(this.column++,S<55296){if(S>31&&S<127||S>159&&S!==8232||S===9)return S;switch(S){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const O=v.charCodeAt(_+1);O!==10&&O!==133||(this.i=_+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),S}}if(S>56319)return S>=57344&&S<=65533||this.fail("disallowed character."),S;const C=65536+1024*(S-55296)+(v.charCodeAt(_+1)-56320);return this.i=_+2,C>1114111&&this.fail("disallowed character."),C}getCodeNorm(){const v=this.getCode();return v===-2?10:v}unget(){this.i=this.prevI,this.column--}captureTo(v){let{i:_}=this;const{chunk:S}=this;for(;;){const C=this.getCode(),O=C===-2,B=O?10:C;if(B===-1||v.includes(B))return this.text+=S.slice(_,this.prevI),B;O&&(this.text+=S.slice(_,this.prevI)+`
`,_=this.i)}}captureToChar(v){let{i:_}=this;const{chunk:S}=this;for(;;){let C=this.getCode();switch(C){case-2:this.text+=S.slice(_,this.prevI)+`
`,_=this.i,C=10;break;case-1:return this.text+=S.slice(_),!1}if(C===v)return this.text+=S.slice(_,this.prevI),!0}}captureNameChars(){const{chunk:v,i:_}=this;for(;;){const S=this.getCode();if(S===-1)return this.name+=v.slice(_),-1;if(!c(S))return this.name+=v.slice(_,this.prevI),S===-2?10:S}}skipSpaces(){for(;;){const v=this.getCodeNorm();if(v===-1||!i(v))return v}}setXMLVersion(v){this.currentXMLVersion=v,v==="1.0"?(this.isChar=t,this.getCode=this.getCode10):(this.isChar=g,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const v=this.i,_=this.skipSpaces();switch(this.prevI!==v&&(this.xmlDeclPossible=!1),_){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var v;const _=this.captureTo(W);switch(_){case 62:(v=this.doctypeHandler)===null||v===void 0||v.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(_),_===91?this.state=4:X(_)&&(this.state=3,this.q=_)}}sDoctypeQuote(){const v=this.q;this.captureToChar(v)&&(this.text+=String.fromCodePoint(v),this.q=null,this.state=2)}sDTD(){const v=this.captureTo(q);v!==-1&&(this.text+=String.fromCodePoint(v),v===93?this.state=2:v===60?this.state=6:X(v)&&(this.state=5,this.q=v))}sDTDQuoted(){const v=this.q;this.captureToChar(v)&&(this.text+=String.fromCodePoint(v),this.state=4,this.q=null)}sDTDOpenWaka(){const v=this.getCodeNorm();switch(this.text+=String.fromCodePoint(v),v){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const v=String.fromCodePoint(this.getCodeNorm()),_=this.openWakaBang+=v;this.text+=v,_!=="-"&&(this.state=_==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const v=this.getCodeNorm();this.text+=String.fromCodePoint(v),this.state=v===45?10:8}sDTDCommentEnded(){const v=this.getCodeNorm();this.text+=String.fromCodePoint(v),v===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const v=this.getCodeNorm();this.text+=String.fromCodePoint(v),v===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:v}=this;const{chunk:_}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=_.slice(v,this.prevI)+`
`,v=this.i;break;case 59:{const{entityReturnState:S}=this,C=this.entity+_.slice(v,this.prevI);let O;this.state=S,C===""?(this.fail("empty entity name."),O="&;"):(O=this.parseEntity(C),this.entity=""),S===13&&this.textHandler===void 0||(this.text+=O);break e}case-1:this.entity+=_.slice(v);break e}}sOpenWaka(){const v=this.getCode();if(n(v))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(v){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var v;const _=this.getCodeNorm();_===45?(this.state=19,(v=this.commentHandler)===null||v===void 0||v.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(_),this.state=17)}sCommentEnded(){const v=this.getCodeNorm();v!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(v),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const v=this.getCodeNorm();v===93?this.state=22:(this.text+="]"+String.fromCodePoint(v),this.state=20)}sCDataEnding2(){var v;const _=this.getCodeNorm();switch(_){case 62:(v=this.cdataHandler)===null||v===void 0||v.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(_),this.state=20}}sPIFirstChar(){const v=this.getCodeNorm();this.nameStartCheck(v)?(this.piTarget+=String.fromCodePoint(v),this.state=24):v===63||i(v)?(this.fail("processing instruction without a target."),this.state=v===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(v),this.state=24)}sPIRest(){const{chunk:v,i:_}=this;for(;;){const S=this.getCodeNorm();if(S===-1)return void(this.piTarget+=v.slice(_));if(!this.nameCheck(S)){this.piTarget+=v.slice(_,this.prevI);const C=S===63;C||i(S)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=C?33:27):this.state=C?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(S));break}}}sPIBody(){if(this.text.length===0){const v=this.getCodeNorm();v===63?this.state=26:i(v)||(this.text=String.fromCodePoint(v))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var v;const _=this.getCodeNorm();if(_===62){const{piTarget:S}=this;S.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(v=this.piHandler)===null||v===void 0||v.call(this,{target:S,body:this.text}),this.piTarget=this.text="",this.state=13}else _===63?this.text+="?":(this.text+="?"+String.fromCodePoint(_),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const v=this.skipSpaces();v!==63?v!==-1&&(this.state=28,this.name=String.fromCodePoint(v)):this.state=33}sXMLDeclName(){const v=this.captureTo(K);if(v===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(i(v)||v===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=v===61?30:29}}sXMLDeclEq(){const v=this.getCodeNorm();if(v===63)return this.state=33,void this.fail("XML declaration is incomplete.");i(v)||(v!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const v=this.getCodeNorm();if(v===63)return this.state=33,void this.fail("XML declaration is incomplete.");i(v)||(X(v)?this.q=v:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const v=this.captureTo([this.q,63]);if(v===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(v===-1)return;const _=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const S=_;this.xmlDecl.version=S,/^1\.[0-9]+$/.test(S)?this.opt.forceXMLVersion||this.setXMLVersion(S):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(_)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=_;break;case"standalone":_!=="yes"&&_!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=_}this.name="",this.state=32}sXMLDeclSeparator(){const v=this.getCodeNorm();v!==63?(i(v)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var v;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(v=this.xmldeclHandler)===null||v===void 0||v.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var v;const _=this.captureNameChars();if(_===-1)return;const S=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=S.ns=Object.create(null)),(v=this.openTagStartHandler)===null||v===void 0||v.call(this,S),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),_){case 62:this.openTag();break;case 47:this.state=35;break;default:i(_)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const v=this.skipSpaces();v!==-1&&(n(v)?(this.unget(),this.state=37):v===62?this.openTag():v===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const v=this.captureNameChars();v===61?this.state=39:i(v)?this.state=38:v===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):v!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const v=this.skipSpaces();switch(v){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",v===62?this.openTag():n(v)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const v=this.getCodeNorm();X(v)?(this.q=v,this.state=40):i(v)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:v,chunk:_}=this;let{i:S}=this;for(;;)switch(this.getCode()){case v:return this.pushAttrib(this.name,this.text+_.slice(S,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=_.slice(S,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=_.slice(S,this.prevI)+" ",S=this.i;break;case 60:return this.text+=_.slice(S,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=_.slice(S))}}sAttribValueClosed(){const v=this.getCodeNorm();i(v)?this.state=36:v===62?this.openTag():v===47?this.state=35:n(v)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const v=this.captureTo(ie);switch(v){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",v===62?this.openTag():this.state=36}}sCloseTag(){const v=this.captureNameChars();v===62?this.closeTag():i(v)?this.state=44:v!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:v,forbiddenState:_}=this;const{chunk:S,textHandler:C}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,C!==void 0){const{text:O}=this,B=S.slice(v,this.prevI);O.length!==0?(C(O+B),this.text=""):B.length!==0&&C(B)}_=0;break e;case 38:this.state=14,this.entityReturnState=13,C!==void 0&&(this.text+=S.slice(v,this.prevI)),_=0;break e;case 93:switch(_){case 0:_=1;break;case 1:_=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:_===2&&this.fail('the string "]]>" is disallowed in char data.'),_=0;break;case-2:C!==void 0&&(this.text+=S.slice(v,this.prevI)+`
`),v=this.i,_=0;break;case-1:C!==void 0&&(this.text+=S.slice(v));break e;default:_=0}this.forbiddenState=_}handleTextOutsideRoot(){let{i:v}=this;const{chunk:_,textHandler:S}=this;let C=!1;e:for(;;){const O=this.getCode();switch(O){case 60:if(this.state=15,S!==void 0){const{text:B}=this,z=_.slice(v,this.prevI);B.length!==0?(S(B+z),this.text=""):z.length!==0&&S(z)}break e;case 38:this.state=14,this.entityReturnState=13,S!==void 0&&(this.text+=_.slice(v,this.prevI)),C=!0;break e;case-2:S!==void 0&&(this.text+=_.slice(v,this.prevI)+`
`),v=this.i;break;case-1:S!==void 0&&(this.text+=_.slice(v));break e;default:i(O)||(C=!0)}}C&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(v,_){var S;const{prefix:C,local:O}=this.qname(v),B={name:v,prefix:C,local:O,value:_};if(this.attribList.push(B),(S=this.attributeHandler)===null||S===void 0||S.call(this,B),C==="xmlns"){const z=_.trim();this.currentXMLVersion==="1.0"&&z===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[O]=z,$(this,O,z)}else if(v==="xmlns"){const z=_.trim();this.topNS[""]=z,$(this,"",z)}}pushAttribPlain(v,_){var S;const C={name:v,value:_};this.attribList.push(C),(S=this.attributeHandler)===null||S===void 0||S.call(this,C)}end(){var v,_;this.sawRoot||this.fail("document must contain a root element.");const{tags:S}=this;for(;S.length>0;){const O=S.pop();this.fail("unclosed tag: "+O.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:C}=this;return C.length!==0&&((v=this.textHandler)===null||v===void 0||v.call(this,C),this.text=""),this._closed=!0,(_=this.endHandler)===null||_===void 0||_.call(this),this._init(),this}resolve(v){var _,S;let C=this.topNS[v];if(C!==void 0)return C;const{tags:O}=this;for(let B=O.length-1;B>=0;B--)if(C=O[B].ns[v],C!==void 0)return C;return C=this.ns[v],C!==void 0?C:(S=(_=this.opt).resolvePrefix)===null||S===void 0?void 0:S.call(_,v)}qname(v){const _=v.indexOf(":");if(_===-1)return{prefix:"",local:v};const S=v.slice(_+1),C=v.slice(0,_);return(C===""||S===""||S.includes(":"))&&this.fail(`malformed name: ${v}.`),{prefix:C,local:S}}processAttribsNS(){var v;const{attribList:_}=this,S=this.tag;{const{prefix:B,local:z}=this.qname(S.name);S.prefix=B,S.local=z;const re=S.uri=(v=this.resolve(B))!==null&&v!==void 0?v:"";B!==""&&(B==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),re===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(B)}.`),S.uri=B))}if(_.length===0)return;const{attributes:C}=S,O=new Set;for(const B of _){const{name:z,prefix:re,local:ne}=B;let de,H;re===""?(de=z==="xmlns"?T:"",H=z):(de=this.resolve(re),de===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(re)}.`),de=re),H=`{${de}}${ne}`),O.has(H)&&this.fail(`duplicate attribute: ${H}.`),O.add(H),B.uri=de,C[z]=B}this.attribList=[]}processAttribsPlain(){const{attribList:v}=this,_=this.tag.attributes;for(const{name:S,value:C}of v)_[S]!==void 0&&this.fail(`duplicate attribute: ${S}.`),_[S]=C;this.attribList=[]}openTag(){var v;this.processAttribs();const{tags:_}=this,S=this.tag;S.isSelfClosing=!1,(v=this.openTagHandler)===null||v===void 0||v.call(this,S),_.push(S),this.state=13,this.name=""}openSelfClosingTag(){var v,_,S;this.processAttribs();const{tags:C}=this,O=this.tag;O.isSelfClosing=!0,(v=this.openTagHandler)===null||v===void 0||v.call(this,O),(_=this.closeTagHandler)===null||_===void 0||_.call(this,O),(this.tag=(S=C[C.length-1])!==null&&S!==void 0?S:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:v,name:_}=this;if(this.state=13,this.name="",_==="")return this.fail("weird empty close tag."),void(this.text+="</>");const S=this.closeTagHandler;let C=v.length;for(;C-- >0;){const O=this.tag=v.pop();if(this.topNS=O.ns,S==null||S(O),O.name===_)break;this.fail("unexpected close tag.")}C===0?this.closedRoot=!0:C<0&&(this.fail(`unmatched closing tag: ${_}.`),this.text+=`</${_}>`)}parseEntity(v){if(v[0]!=="#"){const S=this.ENTITIES[v];return S!==void 0?S:(this.fail(this.isName(v)?"undefined entity.":"disallowed character in entity name."),`&${v};`)}let _=NaN;return v[1]==="x"&&/^#x[0-9a-f]+$/i.test(v)?_=parseInt(v.slice(2),16):/^#[0-9]+$/.test(v)&&(_=parseInt(v.slice(1),10)),this.isChar(_)?String.fromCodePoint(_):(this.fail("malformed character entity."),`&${v};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(r,I,k){var p=r("safe-buffer").Buffer;function u(f,i){this._block=p.alloc(f),this._finalSize=i,this._blockSize=f,this._len=0}u.prototype.update=function(f,i){typeof f=="string"&&(i=i||"utf8",f=p.from(f,i));for(var t=this._block,n=this._blockSize,c=f.length,a=this._len,l=0;l<c;){for(var g=a%n,b=Math.min(c-l,n-g),d=0;d<b;d++)t[g+d]=f[l+d];l+=b,(a+=b)%n==0&&this._update(t)}return this._len+=c,this},u.prototype.digest=function(f){var i=this._len%this._blockSize;this._block[i]=128,this._block.fill(0,i+1),i>=this._finalSize&&(this._update(this._block),this._block.fill(0));var t=8*this._len;if(t<=4294967295)this._block.writeUInt32BE(t,this._blockSize-4);else{var n=(4294967295&t)>>>0,c=(t-n)/4294967296;this._block.writeUInt32BE(c,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var a=this._hash();return f?a.toString(f):a},u.prototype._update=function(){throw new Error("_update must be implemented by subclass")},I.exports=u},{"safe-buffer":494}],498:[function(r,I,k){var p=I.exports=function(u){u=u.toLowerCase();var f=p[u];if(!f)throw new Error(u+" is not supported (we accept pull requests)");return new f};p.sha=r("./sha"),p.sha1=r("./sha1"),p.sha224=r("./sha224"),p.sha256=r("./sha256"),p.sha384=r("./sha384"),p.sha512=r("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(r,I,k){var p=r("inherits"),u=r("./hash"),f=r("safe-buffer").Buffer,i=[1518500249,1859775393,-1894007588,-899497514],t=new Array(80);function n(){this.init(),this._w=t,u.call(this,64,56)}function c(l){return l<<30|l>>>2}function a(l,g,b,d){return l===0?g&b|~g&d:l===2?g&b|g&d|b&d:g^b^d}p(n,u),n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},n.prototype._update=function(l){for(var g,b=this._w,d=0|this._a,w=0|this._b,y=0|this._c,T=0|this._d,M=0|this._e,j=0;j<16;++j)b[j]=l.readInt32BE(4*j);for(;j<80;++j)b[j]=b[j-3]^b[j-8]^b[j-14]^b[j-16];for(var X=0;X<80;++X){var Y=~~(X/20),W=0|((g=d)<<5|g>>>27)+a(Y,w,y,T)+M+b[X]+i[Y];M=T,T=y,y=c(w),w=d,d=W}this._a=d+this._a|0,this._b=w+this._b|0,this._c=y+this._c|0,this._d=T+this._d|0,this._e=M+this._e|0},n.prototype._hash=function(){var l=f.allocUnsafe(20);return l.writeInt32BE(0|this._a,0),l.writeInt32BE(0|this._b,4),l.writeInt32BE(0|this._c,8),l.writeInt32BE(0|this._d,12),l.writeInt32BE(0|this._e,16),l},I.exports=n},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(r,I,k){var p=r("inherits"),u=r("./hash"),f=r("safe-buffer").Buffer,i=[1518500249,1859775393,-1894007588,-899497514],t=new Array(80);function n(){this.init(),this._w=t,u.call(this,64,56)}function c(g){return g<<5|g>>>27}function a(g){return g<<30|g>>>2}function l(g,b,d,w){return g===0?b&d|~b&w:g===2?b&d|b&w|d&w:b^d^w}p(n,u),n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},n.prototype._update=function(g){for(var b,d=this._w,w=0|this._a,y=0|this._b,T=0|this._c,M=0|this._d,j=0|this._e,X=0;X<16;++X)d[X]=g.readInt32BE(4*X);for(;X<80;++X)d[X]=(b=d[X-3]^d[X-8]^d[X-14]^d[X-16])<<1|b>>>31;for(var Y=0;Y<80;++Y){var W=~~(Y/20),q=c(w)+l(W,y,T,M)+j+d[Y]+i[W]|0;j=M,M=T,T=a(y),y=w,w=q}this._a=w+this._a|0,this._b=y+this._b|0,this._c=T+this._c|0,this._d=M+this._d|0,this._e=j+this._e|0},n.prototype._hash=function(){var g=f.allocUnsafe(20);return g.writeInt32BE(0|this._a,0),g.writeInt32BE(0|this._b,4),g.writeInt32BE(0|this._c,8),g.writeInt32BE(0|this._d,12),g.writeInt32BE(0|this._e,16),g},I.exports=n},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(r,I,k){var p=r("inherits"),u=r("./sha256"),f=r("./hash"),i=r("safe-buffer").Buffer,t=new Array(64);function n(){this.init(),this._w=t,f.call(this,64,56)}p(n,u),n.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},n.prototype._hash=function(){var c=i.allocUnsafe(28);return c.writeInt32BE(this._a,0),c.writeInt32BE(this._b,4),c.writeInt32BE(this._c,8),c.writeInt32BE(this._d,12),c.writeInt32BE(this._e,16),c.writeInt32BE(this._f,20),c.writeInt32BE(this._g,24),c},I.exports=n},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(r,I,k){var p=r("inherits"),u=r("./hash"),f=r("safe-buffer").Buffer,i=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],t=new Array(64);function n(){this.init(),this._w=t,u.call(this,64,56)}function c(d,w,y){return y^d&(w^y)}function a(d,w,y){return d&w|y&(d|w)}function l(d){return(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10)}function g(d){return(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7)}function b(d){return(d>>>7|d<<25)^(d>>>18|d<<14)^d>>>3}p(n,u),n.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},n.prototype._update=function(d){for(var w,y=this._w,T=0|this._a,M=0|this._b,j=0|this._c,X=0|this._d,Y=0|this._e,W=0|this._f,q=0|this._g,K=0|this._h,ie=0;ie<16;++ie)y[ie]=d.readInt32BE(4*ie);for(;ie<64;++ie)y[ie]=0|(((w=y[ie-2])>>>17|w<<15)^(w>>>19|w<<13)^w>>>10)+y[ie-7]+b(y[ie-15])+y[ie-16];for(var $=0;$<64;++$){var D=K+g(Y)+c(Y,W,q)+i[$]+y[$]|0,F=l(T)+a(T,M,j)|0;K=q,q=W,W=Y,Y=X+D|0,X=j,j=M,M=T,T=D+F|0}this._a=T+this._a|0,this._b=M+this._b|0,this._c=j+this._c|0,this._d=X+this._d|0,this._e=Y+this._e|0,this._f=W+this._f|0,this._g=q+this._g|0,this._h=K+this._h|0},n.prototype._hash=function(){var d=f.allocUnsafe(32);return d.writeInt32BE(this._a,0),d.writeInt32BE(this._b,4),d.writeInt32BE(this._c,8),d.writeInt32BE(this._d,12),d.writeInt32BE(this._e,16),d.writeInt32BE(this._f,20),d.writeInt32BE(this._g,24),d.writeInt32BE(this._h,28),d},I.exports=n},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(r,I,k){var p=r("inherits"),u=r("./sha512"),f=r("./hash"),i=r("safe-buffer").Buffer,t=new Array(160);function n(){this.init(),this._w=t,f.call(this,128,112)}p(n,u),n.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},n.prototype._hash=function(){var c=i.allocUnsafe(48);function a(l,g,b){c.writeInt32BE(l,b),c.writeInt32BE(g,b+4)}return a(this._ah,this._al,0),a(this._bh,this._bl,8),a(this._ch,this._cl,16),a(this._dh,this._dl,24),a(this._eh,this._el,32),a(this._fh,this._fl,40),c},I.exports=n},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(r,I,k){var p=r("inherits"),u=r("./hash"),f=r("safe-buffer").Buffer,i=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],t=new Array(160);function n(){this.init(),this._w=t,u.call(this,128,112)}function c(M,j,X){return X^M&(j^X)}function a(M,j,X){return M&j|X&(M|j)}function l(M,j){return(M>>>28|j<<4)^(j>>>2|M<<30)^(j>>>7|M<<25)}function g(M,j){return(M>>>14|j<<18)^(M>>>18|j<<14)^(j>>>9|M<<23)}function b(M,j){return(M>>>1|j<<31)^(M>>>8|j<<24)^M>>>7}function d(M,j){return(M>>>1|j<<31)^(M>>>8|j<<24)^(M>>>7|j<<25)}function w(M,j){return(M>>>19|j<<13)^(j>>>29|M<<3)^M>>>6}function y(M,j){return(M>>>19|j<<13)^(j>>>29|M<<3)^(M>>>6|j<<26)}function T(M,j){return M>>>0<j>>>0?1:0}p(n,u),n.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},n.prototype._update=function(M){for(var j=this._w,X=0|this._ah,Y=0|this._bh,W=0|this._ch,q=0|this._dh,K=0|this._eh,ie=0|this._fh,$=0|this._gh,D=0|this._hh,F=0|this._al,A=0|this._bl,v=0|this._cl,_=0|this._dl,S=0|this._el,C=0|this._fl,O=0|this._gl,B=0|this._hl,z=0;z<32;z+=2)j[z]=M.readInt32BE(4*z),j[z+1]=M.readInt32BE(4*z+4);for(;z<160;z+=2){var re=j[z-30],ne=j[z-30+1],de=b(re,ne),H=d(ne,re),ae=w(re=j[z-4],ne=j[z-4+1]),U=y(ne,re),L=j[z-14],ee=j[z-14+1],ce=j[z-32],ve=j[z-32+1],he=H+ee|0,xe=de+L+T(he,H)|0;xe=(xe=xe+ae+T(he=he+U|0,U)|0)+ce+T(he=he+ve|0,ve)|0,j[z]=xe,j[z+1]=he}for(var _e=0;_e<160;_e+=2){xe=j[_e],he=j[_e+1];var Re=a(X,Y,W),pe=a(F,A,v),Ae=l(X,F),Se=l(F,X),Ue=g(K,S),ke=g(S,K),We=i[_e],$e=i[_e+1],Ze=c(K,ie,$),lt=c(S,C,O),xt=B+ke|0,Tt=D+Ue+T(xt,B)|0;Tt=(Tt=(Tt=Tt+Ze+T(xt=xt+lt|0,lt)|0)+We+T(xt=xt+$e|0,$e)|0)+xe+T(xt=xt+he|0,he)|0;var gt=Se+pe|0,Mt=Ae+Re+T(gt,Se)|0;D=$,B=O,$=ie,O=C,ie=K,C=S,K=q+Tt+T(S=_+xt|0,_)|0,q=W,_=v,W=Y,v=A,Y=X,A=F,X=Tt+Mt+T(F=xt+gt|0,xt)|0}this._al=this._al+F|0,this._bl=this._bl+A|0,this._cl=this._cl+v|0,this._dl=this._dl+_|0,this._el=this._el+S|0,this._fl=this._fl+C|0,this._gl=this._gl+O|0,this._hl=this._hl+B|0,this._ah=this._ah+X+T(this._al,F)|0,this._bh=this._bh+Y+T(this._bl,A)|0,this._ch=this._ch+W+T(this._cl,v)|0,this._dh=this._dh+q+T(this._dl,_)|0,this._eh=this._eh+K+T(this._el,S)|0,this._fh=this._fh+ie+T(this._fl,C)|0,this._gh=this._gh+$+T(this._gl,O)|0,this._hh=this._hh+D+T(this._hl,B)|0},n.prototype._hash=function(){var M=f.allocUnsafe(64);function j(X,Y,W){M.writeInt32BE(X,W),M.writeInt32BE(Y,W+4)}return j(this._ah,this._al,0),j(this._bh,this._bl,8),j(this._ch,this._cl,16),j(this._dh,this._dl,24),j(this._eh,this._el,32),j(this._fh,this._fl,40),j(this._gh,this._gl,48),j(this._hh,this._hl,56),M},I.exports=n},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(r,I,k){I.exports=u;var p=r("events").EventEmitter;function u(){p.call(this)}r("inherits")(u,p),u.Readable=r("readable-stream/readable.js"),u.Writable=r("readable-stream/writable.js"),u.Duplex=r("readable-stream/duplex.js"),u.Transform=r("readable-stream/transform.js"),u.PassThrough=r("readable-stream/passthrough.js"),u.Stream=u,u.prototype.pipe=function(f,i){var t=this;function n(w){f.writable&&f.write(w)===!1&&t.pause&&t.pause()}function c(){t.readable&&t.resume&&t.resume()}t.on("data",n),f.on("drain",c),f._isStdio||i&&i.end===!1||(t.on("end",l),t.on("close",g));var a=!1;function l(){a||(a=!0,f.end())}function g(){a||(a=!0,typeof f.destroy=="function"&&f.destroy())}function b(w){if(d(),p.listenerCount(this,"error")===0)throw w}function d(){t.removeListener("data",n),f.removeListener("drain",c),t.removeListener("end",l),t.removeListener("close",g),t.removeListener("error",b),f.removeListener("error",b),t.removeListener("end",d),t.removeListener("close",d),f.removeListener("close",d)}return t.on("error",b),f.on("error",b),t.on("end",d),t.on("close",d),f.on("close",d),f.emit("pipe",t),f}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(r,I,k){var p={}.toString;I.exports=Array.isArray||function(u){return p.call(u)=="[object Array]"}},{}],507:[function(r,I,k){I.exports=r("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(r,I,k){var p=r("process-nextick-args"),u=Object.keys||function(d){var w=[];for(var y in d)w.push(y);return w};I.exports=l;var f=Object.create(r("core-util-is"));f.inherits=r("inherits");var i=r("./_stream_readable"),t=r("./_stream_writable");f.inherits(l,i);for(var n=u(t.prototype),c=0;c<n.length;c++){var a=n[c];l.prototype[a]||(l.prototype[a]=t.prototype[a])}function l(d){if(!(this instanceof l))return new l(d);i.call(this,d),t.call(this,d),d&&d.readable===!1&&(this.readable=!1),d&&d.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,d&&d.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",g)}function g(){this.allowHalfOpen||this._writableState.ended||p.nextTick(b,this)}function b(d){d.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),l.prototype._destroy=function(d,w){this.push(null),this.end(),p.nextTick(w,d)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(r,I,k){I.exports=f;var p=r("./_stream_transform"),u=Object.create(r("core-util-is"));function f(i){if(!(this instanceof f))return new f(i);p.call(this,i)}u.inherits=r("inherits"),u.inherits(f,p),f.prototype._transform=function(i,t,n){n(null,i)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(r,I,k){(function(p,u){(function(){var f=r("process-nextick-args");I.exports=X;var i,t=r("isarray");X.ReadableState=j,r("events").EventEmitter;var n=function(B,z){return B.listeners(z).length},c=r("./internal/streams/stream"),a=r("safe-buffer").Buffer,l=(u!==void 0?u:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},g=Object.create(r("core-util-is"));g.inherits=r("inherits");var b=r("util"),d=void 0;d=b&&b.debuglog?b.debuglog("stream"):function(){};var w,y=r("./internal/streams/BufferList"),T=r("./internal/streams/destroy");g.inherits(X,c);var M=["error","close","destroy","pause","resume"];function j(B,z){B=B||{};var re=z instanceof(i=i||r("./_stream_duplex"));this.objectMode=!!B.objectMode,re&&(this.objectMode=this.objectMode||!!B.readableObjectMode);var ne=B.highWaterMark,de=B.readableHighWaterMark,H=this.objectMode?16:16384;this.highWaterMark=ne||ne===0?ne:re&&(de||de===0)?de:H,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=B.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,B.encoding&&(w||(w=r("string_decoder/").StringDecoder),this.decoder=new w(B.encoding),this.encoding=B.encoding)}function X(B){if(i=i||r("./_stream_duplex"),!(this instanceof X))return new X(B);this._readableState=new j(B,this),this.readable=!0,B&&(typeof B.read=="function"&&(this._read=B.read),typeof B.destroy=="function"&&(this._destroy=B.destroy)),c.call(this)}function Y(B,z,re,ne,de){var H,ae=B._readableState;return z===null?(ae.reading=!1,function(U,L){if(!L.ended){if(L.decoder){var ee=L.decoder.end();ee&&ee.length&&(L.buffer.push(ee),L.length+=L.objectMode?1:ee.length)}L.ended=!0,K(U)}}(B,ae)):(de||(H=function(U,L){var ee;ce=L,a.isBuffer(ce)||ce instanceof l||typeof L=="string"||L===void 0||U.objectMode||(ee=new TypeError("Invalid non-string/buffer chunk"));var ce;return ee}(ae,z)),H?B.emit("error",H):ae.objectMode||z&&z.length>0?(typeof z=="string"||ae.objectMode||Object.getPrototypeOf(z)===a.prototype||(z=function(U){return a.from(U)}(z)),ne?ae.endEmitted?B.emit("error",new Error("stream.unshift() after end event")):W(B,ae,z,!0):ae.ended?B.emit("error",new Error("stream.push() after EOF")):(ae.reading=!1,ae.decoder&&!re?(z=ae.decoder.write(z),ae.objectMode||z.length!==0?W(B,ae,z,!1):$(B,ae)):W(B,ae,z,!1))):ne||(ae.reading=!1)),function(U){return!U.ended&&(U.needReadable||U.length<U.highWaterMark||U.length===0)}(ae)}function W(B,z,re,ne){z.flowing&&z.length===0&&!z.sync?(B.emit("data",re),B.read(0)):(z.length+=z.objectMode?1:re.length,ne?z.buffer.unshift(re):z.buffer.push(re),z.needReadable&&K(B)),$(B,z)}Object.defineProperty(X.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(B){this._readableState&&(this._readableState.destroyed=B)}}),X.prototype.destroy=T.destroy,X.prototype._undestroy=T.undestroy,X.prototype._destroy=function(B,z){this.push(null),z(B)},X.prototype.push=function(B,z){var re,ne=this._readableState;return ne.objectMode?re=!0:typeof B=="string"&&((z=z||ne.defaultEncoding)!==ne.encoding&&(B=a.from(B,z),z=""),re=!0),Y(this,B,z,!1,re)},X.prototype.unshift=function(B){return Y(this,B,null,!0,!1)},X.prototype.isPaused=function(){return this._readableState.flowing===!1},X.prototype.setEncoding=function(B){return w||(w=r("string_decoder/").StringDecoder),this._readableState.decoder=new w(B),this._readableState.encoding=B,this};function q(B,z){return B<=0||z.length===0&&z.ended?0:z.objectMode?1:B!=B?z.flowing&&z.length?z.buffer.head.data.length:z.length:(B>z.highWaterMark&&(z.highWaterMark=function(re){return re>=8388608?re=8388608:(re--,re|=re>>>1,re|=re>>>2,re|=re>>>4,re|=re>>>8,re|=re>>>16,re++),re}(B)),B<=z.length?B:z.ended?z.length:(z.needReadable=!0,0))}function K(B){var z=B._readableState;z.needReadable=!1,z.emittedReadable||(d("emitReadable",z.flowing),z.emittedReadable=!0,z.sync?f.nextTick(ie,B):ie(B))}function ie(B){d("emit readable"),B.emit("readable"),v(B)}function $(B,z){z.readingMore||(z.readingMore=!0,f.nextTick(D,B,z))}function D(B,z){for(var re=z.length;!z.reading&&!z.flowing&&!z.ended&&z.length<z.highWaterMark&&(d("maybeReadMore read 0"),B.read(0),re!==z.length);)re=z.length;z.readingMore=!1}function F(B){d("readable nexttick read 0"),B.read(0)}function A(B,z){z.reading||(d("resume read 0"),B.read(0)),z.resumeScheduled=!1,z.awaitDrain=0,B.emit("resume"),v(B),z.flowing&&!z.reading&&B.read(0)}function v(B){var z=B._readableState;for(d("flow",z.flowing);z.flowing&&B.read()!==null;);}function _(B,z){return z.length===0?null:(z.objectMode?re=z.buffer.shift():!B||B>=z.length?(re=z.decoder?z.buffer.join(""):z.buffer.length===1?z.buffer.head.data:z.buffer.concat(z.length),z.buffer.clear()):re=function(ne,de,H){var ae;return ne<de.head.data.length?(ae=de.head.data.slice(0,ne),de.head.data=de.head.data.slice(ne)):ae=ne===de.head.data.length?de.shift():H?function(U,L){var ee=L.head,ce=1,ve=ee.data;for(U-=ve.length;ee=ee.next;){var he=ee.data,xe=U>he.length?he.length:U;if(xe===he.length?ve+=he:ve+=he.slice(0,U),(U-=xe)===0){xe===he.length?(++ce,ee.next?L.head=ee.next:L.head=L.tail=null):(L.head=ee,ee.data=he.slice(xe));break}++ce}return L.length-=ce,ve}(ne,de):function(U,L){var ee=a.allocUnsafe(U),ce=L.head,ve=1;for(ce.data.copy(ee),U-=ce.data.length;ce=ce.next;){var he=ce.data,xe=U>he.length?he.length:U;if(he.copy(ee,ee.length-U,0,xe),(U-=xe)===0){xe===he.length?(++ve,ce.next?L.head=ce.next:L.head=L.tail=null):(L.head=ce,ce.data=he.slice(xe));break}++ve}return L.length-=ve,ee}(ne,de),ae}(B,z.buffer,z.decoder),re);var re}function S(B){var z=B._readableState;if(z.length>0)throw new Error('"endReadable()" called on non-empty stream');z.endEmitted||(z.ended=!0,f.nextTick(C,z,B))}function C(B,z){B.endEmitted||B.length!==0||(B.endEmitted=!0,z.readable=!1,z.emit("end"))}function O(B,z){for(var re=0,ne=B.length;re<ne;re++)if(B[re]===z)return re;return-1}X.prototype.read=function(B){d("read",B),B=parseInt(B,10);var z=this._readableState,re=B;if(B!==0&&(z.emittedReadable=!1),B===0&&z.needReadable&&(z.length>=z.highWaterMark||z.ended))return d("read: emitReadable",z.length,z.ended),z.length===0&&z.ended?S(this):K(this),null;if((B=q(B,z))===0&&z.ended)return z.length===0&&S(this),null;var ne,de=z.needReadable;return d("need readable",de),(z.length===0||z.length-B<z.highWaterMark)&&d("length less than watermark",de=!0),z.ended||z.reading?d("reading or ended",de=!1):de&&(d("do read"),z.reading=!0,z.sync=!0,z.length===0&&(z.needReadable=!0),this._read(z.highWaterMark),z.sync=!1,z.reading||(B=q(re,z))),(ne=B>0?_(B,z):null)===null?(z.needReadable=!0,B=0):z.length-=B,z.length===0&&(z.ended||(z.needReadable=!0),re!==B&&z.ended&&S(this)),ne!==null&&this.emit("data",ne),ne},X.prototype._read=function(B){this.emit("error",new Error("_read() is not implemented"))},X.prototype.pipe=function(B,z){var re=this,ne=this._readableState;switch(ne.pipesCount){case 0:ne.pipes=B;break;case 1:ne.pipes=[ne.pipes,B];break;default:ne.pipes.push(B)}ne.pipesCount+=1,d("pipe count=%d opts=%j",ne.pipesCount,z);var de=(!z||z.end!==!1)&&B!==p.stdout&&B!==p.stderr?ae:_e;function H(Re,pe){d("onunpipe"),Re===re&&pe&&pe.hasUnpiped===!1&&(pe.hasUnpiped=!0,d("cleanup"),B.removeListener("close",he),B.removeListener("finish",xe),B.removeListener("drain",U),B.removeListener("error",ve),B.removeListener("unpipe",H),re.removeListener("end",ae),re.removeListener("end",_e),re.removeListener("data",ce),L=!0,!ne.awaitDrain||B._writableState&&!B._writableState.needDrain||U())}function ae(){d("onend"),B.end()}ne.endEmitted?f.nextTick(de):re.once("end",de),B.on("unpipe",H);var U=function(Re){return function(){var pe=Re._readableState;d("pipeOnDrain",pe.awaitDrain),pe.awaitDrain&&pe.awaitDrain--,pe.awaitDrain===0&&n(Re,"data")&&(pe.flowing=!0,v(Re))}}(re);B.on("drain",U);var L=!1,ee=!1;function ce(Re){d("ondata"),ee=!1,B.write(Re)!==!1||ee||((ne.pipesCount===1&&ne.pipes===B||ne.pipesCount>1&&O(ne.pipes,B)!==-1)&&!L&&(d("false write response, pause",ne.awaitDrain),ne.awaitDrain++,ee=!0),re.pause())}function ve(Re){d("onerror",Re),_e(),B.removeListener("error",ve),n(B,"error")===0&&B.emit("error",Re)}function he(){B.removeListener("finish",xe),_e()}function xe(){d("onfinish"),B.removeListener("close",he),_e()}function _e(){d("unpipe"),re.unpipe(B)}return re.on("data",ce),function(Re,pe,Ae){if(typeof Re.prependListener=="function")return Re.prependListener(pe,Ae);Re._events&&Re._events[pe]?t(Re._events[pe])?Re._events[pe].unshift(Ae):Re._events[pe]=[Ae,Re._events[pe]]:Re.on(pe,Ae)}(B,"error",ve),B.once("close",he),B.once("finish",xe),B.emit("pipe",re),ne.flowing||(d("pipe resume"),re.resume()),B},X.prototype.unpipe=function(B){var z=this._readableState,re={hasUnpiped:!1};if(z.pipesCount===0)return this;if(z.pipesCount===1)return B&&B!==z.pipes||(B||(B=z.pipes),z.pipes=null,z.pipesCount=0,z.flowing=!1,B&&B.emit("unpipe",this,re)),this;if(!B){var ne=z.pipes,de=z.pipesCount;z.pipes=null,z.pipesCount=0,z.flowing=!1;for(var H=0;H<de;H++)ne[H].emit("unpipe",this,{hasUnpiped:!1});return this}var ae=O(z.pipes,B);return ae===-1||(z.pipes.splice(ae,1),z.pipesCount-=1,z.pipesCount===1&&(z.pipes=z.pipes[0]),B.emit("unpipe",this,re)),this},X.prototype.on=function(B,z){var re=c.prototype.on.call(this,B,z);if(B==="data")this._readableState.flowing!==!1&&this.resume();else if(B==="readable"){var ne=this._readableState;ne.endEmitted||ne.readableListening||(ne.readableListening=ne.needReadable=!0,ne.emittedReadable=!1,ne.reading?ne.length&&K(this):f.nextTick(F,this))}return re},X.prototype.addListener=X.prototype.on,X.prototype.resume=function(){var B=this._readableState;return B.flowing||(d("resume"),B.flowing=!0,function(z,re){re.resumeScheduled||(re.resumeScheduled=!0,f.nextTick(A,z,re))}(this,B)),this},X.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},X.prototype.wrap=function(B){var z=this,re=this._readableState,ne=!1;for(var de in B.on("end",function(){if(d("wrapped end"),re.decoder&&!re.ended){var ae=re.decoder.end();ae&&ae.length&&z.push(ae)}z.push(null)}),B.on("data",function(ae){d("wrapped data"),re.decoder&&(ae=re.decoder.write(ae)),re.objectMode&&ae==null||(re.objectMode||ae&&ae.length)&&(z.push(ae)||(ne=!0,B.pause()))}),B)this[de]===void 0&&typeof B[de]=="function"&&(this[de]=function(ae){return function(){return B[ae].apply(B,arguments)}}(de));for(var H=0;H<M.length;H++)B.on(M[H],this.emit.bind(this,M[H]));return this._read=function(ae){d("wrapped _read",ae),ne&&(ne=!1,B.resume())},this},Object.defineProperty(X.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),X._fromList=_}).call(this)}).call(this,r("_process"),typeof yr<"u"?yr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(r,I,k){I.exports=i;var p=r("./_stream_duplex"),u=Object.create(r("core-util-is"));function f(c,a){var l=this._transformState;l.transforming=!1;var g=l.writecb;if(!g)return this.emit("error",new Error("write callback called multiple times"));l.writechunk=null,l.writecb=null,a!=null&&this.push(a),g(c);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function i(c){if(!(this instanceof i))return new i(c);p.call(this,c),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",t)}function t(){var c=this;typeof this._flush=="function"?this._flush(function(a,l){n(c,a,l)}):n(this,null,null)}function n(c,a,l){if(a)return c.emit("error",a);if(l!=null&&c.push(l),c._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(c._transformState.transforming)throw new Error("Calling transform done when still transforming");return c.push(null)}u.inherits=r("inherits"),u.inherits(i,p),i.prototype.push=function(c,a){return this._transformState.needTransform=!1,p.prototype.push.call(this,c,a)},i.prototype._transform=function(c,a,l){throw new Error("_transform() is not implemented")},i.prototype._write=function(c,a,l){var g=this._transformState;if(g.writecb=l,g.writechunk=c,g.writeencoding=a,!g.transforming){var b=this._readableState;(g.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},i.prototype._read=function(c){var a=this._transformState;a.writechunk!==null&&a.writecb&&!a.transforming?(a.transforming=!0,this._transform(a.writechunk,a.writeencoding,a.afterTransform)):a.needTransform=!0},i.prototype._destroy=function(c,a){var l=this;p.prototype._destroy.call(this,c,function(g){a(g),l.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(r,I,k){(function(p,u,f){(function(){var i=r("process-nextick-args");function t($){var D=this;this.next=null,this.entry=null,this.finish=function(){(function(F,A,v){var _=F.entry;for(F.entry=null;_;){var S=_.callback;A.pendingcb--,S(v),_=_.next}A.corkedRequestsFree.next=F})(D,$)}}I.exports=j;var n,c=!p.browser&&["v0.10","v0.9."].indexOf(p.version.slice(0,5))>-1?f:i.nextTick;j.WritableState=M;var a=Object.create(r("core-util-is"));a.inherits=r("inherits");var l={deprecate:r("util-deprecate")},g=r("./internal/streams/stream"),b=r("safe-buffer").Buffer,d=(u!==void 0?u:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},w,y=r("./internal/streams/destroy");function T(){}function M($,D){n=n||r("./_stream_duplex"),$=$||{};var F=D instanceof n;this.objectMode=!!$.objectMode,F&&(this.objectMode=this.objectMode||!!$.writableObjectMode);var A=$.highWaterMark,v=$.writableHighWaterMark,_=this.objectMode?16:16384;this.highWaterMark=A||A===0?A:F&&(v||v===0)?v:_,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var S=$.decodeStrings===!1;this.decodeStrings=!S,this.defaultEncoding=$.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(C){(function(O,B){var z=O._writableState,re=z.sync,ne=z.writecb;if(function(H){H.writing=!1,H.writecb=null,H.length-=H.writelen,H.writelen=0}(z),B)(function(H,ae,U,L,ee){--ae.pendingcb,U?(i.nextTick(ee,L),i.nextTick(ie,H,ae),H._writableState.errorEmitted=!0,H.emit("error",L)):(ee(L),H._writableState.errorEmitted=!0,H.emit("error",L),ie(H,ae))})(O,z,re,B,ne);else{var de=q(z);de||z.corked||z.bufferProcessing||!z.bufferedRequest||W(O,z),re?c(Y,O,z,de,ne):Y(O,z,de,ne)}})(D,C)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}function j($){if(n=n||r("./_stream_duplex"),!(w.call(j,this)||this instanceof n))return new j($);this._writableState=new M($,this),this.writable=!0,$&&(typeof $.write=="function"&&(this._write=$.write),typeof $.writev=="function"&&(this._writev=$.writev),typeof $.destroy=="function"&&(this._destroy=$.destroy),typeof $.final=="function"&&(this._final=$.final)),g.call(this)}function X($,D,F,A,v,_,S){D.writelen=A,D.writecb=S,D.writing=!0,D.sync=!0,F?$._writev(v,D.onwrite):$._write(v,_,D.onwrite),D.sync=!1}function Y($,D,F,A){F||function(v,_){_.length===0&&_.needDrain&&(_.needDrain=!1,v.emit("drain"))}($,D),D.pendingcb--,A(),ie($,D)}function W($,D){D.bufferProcessing=!0;var F=D.bufferedRequest;if($._writev&&F&&F.next){var A=D.bufferedRequestCount,v=new Array(A),_=D.corkedRequestsFree;_.entry=F;for(var S=0,C=!0;F;)v[S]=F,F.isBuf||(C=!1),F=F.next,S+=1;v.allBuffers=C,X($,D,!0,D.length,v,"",_.finish),D.pendingcb++,D.lastBufferedRequest=null,_.next?(D.corkedRequestsFree=_.next,_.next=null):D.corkedRequestsFree=new t(D),D.bufferedRequestCount=0}else{for(;F;){var O=F.chunk,B=F.encoding,z=F.callback;if(X($,D,!1,D.objectMode?1:O.length,O,B,z),F=F.next,D.bufferedRequestCount--,D.writing)break}F===null&&(D.lastBufferedRequest=null)}D.bufferedRequest=F,D.bufferProcessing=!1}function q($){return $.ending&&$.length===0&&$.bufferedRequest===null&&!$.finished&&!$.writing}function K($,D){$._final(function(F){D.pendingcb--,F&&$.emit("error",F),D.prefinished=!0,$.emit("prefinish"),ie($,D)})}function ie($,D){var F=q(D);return F&&(function(A,v){v.prefinished||v.finalCalled||(typeof A._final=="function"?(v.pendingcb++,v.finalCalled=!0,i.nextTick(K,A,v)):(v.prefinished=!0,A.emit("prefinish")))}($,D),D.pendingcb===0&&(D.finished=!0,$.emit("finish"))),F}a.inherits(j,g),M.prototype.getBuffer=function(){for(var $=this.bufferedRequest,D=[];$;)D.push($),$=$.next;return D},function(){try{Object.defineProperty(M.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(w=Function.prototype[Symbol.hasInstance],Object.defineProperty(j,Symbol.hasInstance,{value:function($){return!!w.call(this,$)||this===j&&$&&$._writableState instanceof M}})):w=function($){return $ instanceof this},j.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},j.prototype.write=function($,D,F){var A,v=this._writableState,_=!1,S=!v.objectMode&&(A=$,b.isBuffer(A)||A instanceof d);return S&&!b.isBuffer($)&&($=function(C){return b.from(C)}($)),typeof D=="function"&&(F=D,D=null),S?D="buffer":D||(D=v.defaultEncoding),typeof F!="function"&&(F=T),v.ended?function(C,O){var B=new Error("write after end");C.emit("error",B),i.nextTick(O,B)}(this,F):(S||function(C,O,B,z){var re=!0,ne=!1;return B===null?ne=new TypeError("May not write null values to stream"):typeof B=="string"||B===void 0||O.objectMode||(ne=new TypeError("Invalid non-string/buffer chunk")),ne&&(C.emit("error",ne),i.nextTick(z,ne),re=!1),re}(this,v,$,F))&&(v.pendingcb++,_=function(C,O,B,z,re,ne){if(!B){var de=function(L,ee,ce){return L.objectMode||L.decodeStrings===!1||typeof ee!="string"||(ee=b.from(ee,ce)),ee}(O,z,re);z!==de&&(B=!0,re="buffer",z=de)}var H=O.objectMode?1:z.length;O.length+=H;var ae=O.length<O.highWaterMark;if(ae||(O.needDrain=!0),O.writing||O.corked){var U=O.lastBufferedRequest;O.lastBufferedRequest={chunk:z,encoding:re,isBuf:B,callback:ne,next:null},U?U.next=O.lastBufferedRequest:O.bufferedRequest=O.lastBufferedRequest,O.bufferedRequestCount+=1}else X(C,O,!1,H,z,re,ne);return ae}(this,v,S,$,D,F)),_},j.prototype.cork=function(){this._writableState.corked++},j.prototype.uncork=function(){var $=this._writableState;$.corked&&($.corked--,$.writing||$.corked||$.bufferProcessing||!$.bufferedRequest||W(this,$))},j.prototype.setDefaultEncoding=function($){if(typeof $=="string"&&($=$.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf(($+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+$);return this._writableState.defaultEncoding=$,this},Object.defineProperty(j.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),j.prototype._write=function($,D,F){F(new Error("_write() is not implemented"))},j.prototype._writev=null,j.prototype.end=function($,D,F){var A=this._writableState;typeof $=="function"?(F=$,$=null,D=null):typeof D=="function"&&(F=D,D=null),$!=null&&this.write($,D),A.corked&&(A.corked=1,this.uncork()),A.ending||function(v,_,S){_.ending=!0,ie(v,_),S&&(_.finished?i.nextTick(S):v.once("finish",S)),_.ended=!0,v.writable=!1}(this,A,F)},Object.defineProperty(j.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function($){this._writableState&&(this._writableState.destroyed=$)}}),j.prototype.destroy=y.destroy,j.prototype._undestroy=y.undestroy,j.prototype._destroy=function($,D){this.end(),D($)}}).call(this)}).call(this,r("_process"),typeof yr<"u"?yr:typeof self<"u"?self:typeof window<"u"?window:{},r("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(r,I,k){var p=r("safe-buffer").Buffer,u=r("util");I.exports=function(){function f(){(function(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")})(this,f),this.head=null,this.tail=null,this.length=0}return f.prototype.push=function(i){var t={data:i,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},f.prototype.unshift=function(i){var t={data:i,next:this.head};this.length===0&&(this.tail=t),this.head=t,++this.length},f.prototype.shift=function(){if(this.length!==0){var i=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,i}},f.prototype.clear=function(){this.head=this.tail=null,this.length=0},f.prototype.join=function(i){if(this.length===0)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=i+t.data;return n},f.prototype.concat=function(i){if(this.length===0)return p.alloc(0);for(var t,n,c,a=p.allocUnsafe(i>>>0),l=this.head,g=0;l;)t=l.data,n=a,c=g,t.copy(n,c),g+=l.data.length,l=l.next;return a},f}(),u&&u.inspect&&u.inspect.custom&&(I.exports.prototype[u.inspect.custom]=function(){var f=u.inspect({length:this.length});return this.constructor.name+" "+f})},{"safe-buffer":520,util:188}],514:[function(r,I,k){var p=r("process-nextick-args");function u(f,i){f.emit("error",i)}I.exports={destroy:function(f,i){var t=this,n=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return n||c?(i?i(f):f&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,p.nextTick(u,this,f)):p.nextTick(u,this,f)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(f||null,function(a){!i&&a?t._writableState?t._writableState.errorEmitted||(t._writableState.errorEmitted=!0,p.nextTick(u,t,a)):p.nextTick(u,t,a):i&&i(a)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(r,I,k){arguments[4][490][0].apply(k,arguments)},{dup:490,events:422}],516:[function(r,I,k){I.exports=r("./readable").PassThrough},{"./readable":517}],517:[function(r,I,k){(k=I.exports=r("./lib/_stream_readable.js")).Stream=k,k.Readable=k,k.Writable=r("./lib/_stream_writable.js"),k.Duplex=r("./lib/_stream_duplex.js"),k.Transform=r("./lib/_stream_transform.js"),k.PassThrough=r("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(r,I,k){I.exports=r("./readable").Transform},{"./readable":517}],519:[function(r,I,k){I.exports=r("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(r,I,k){arguments[4][217][0].apply(k,arguments)},{buffer:220,dup:217}],521:[function(r,I,k){arguments[4][218][0].apply(k,arguments)},{dup:218,"safe-buffer":520}],522:[function(r,I,k){arguments[4][218][0].apply(k,arguments)},{dup:218,"safe-buffer":494}],523:[function(r,I,k){(function(p,u){(function(){var f=r("process/browser.js").nextTick,i=Function.prototype.apply,t=Array.prototype.slice,n={},c=0;function a(l,g){this._id=l,this._clearFn=g}k.setTimeout=function(){return new a(i.call(setTimeout,window,arguments),clearTimeout)},k.setInterval=function(){return new a(i.call(setInterval,window,arguments),clearInterval)},k.clearTimeout=k.clearInterval=function(l){l.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(window,this._id)},k.enroll=function(l,g){clearTimeout(l._idleTimeoutId),l._idleTimeout=g},k.unenroll=function(l){clearTimeout(l._idleTimeoutId),l._idleTimeout=-1},k._unrefActive=k.active=function(l){clearTimeout(l._idleTimeoutId);var g=l._idleTimeout;g>=0&&(l._idleTimeoutId=setTimeout(function(){l._onTimeout&&l._onTimeout()},g))},k.setImmediate=typeof p=="function"?p:function(l){var g=c++,b=!(arguments.length<2)&&t.call(arguments,1);return n[g]=!0,f(function(){n[g]&&(b?l.apply(null,b):l.call(null),k.clearImmediate(g))}),g},k.clearImmediate=typeof u=="function"?u:function(l){delete n[l]}}).call(this)}).call(this,r("timers").setImmediate,r("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(r,I,k){(function(p){(function(){function u(f){try{if(!p.localStorage)return!1}catch{return!1}var i=p.localStorage[f];return i!=null&&String(i).toLowerCase()==="true"}I.exports=function(f,i){if(u("noDeprecation"))return f;var t=!1;return function(){if(!t){if(u("throwDeprecation"))throw new Error(i);u("traceDeprecation")?console.trace(i):console.warn(i),t=!0}return f.apply(this,arguments)}}}).call(this)}).call(this,typeof yr<"u"?yr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(r,I,k){typeof Object.create=="function"?I.exports=function(p,u){p.super_=u,p.prototype=Object.create(u.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}})}:I.exports=function(p,u){p.super_=u;var f=function(){};f.prototype=u.prototype,p.prototype=new f,p.prototype.constructor=p}},{}],526:[function(r,I,k){I.exports=function(p){return p&&typeof p=="object"&&typeof p.copy=="function"&&typeof p.fill=="function"&&typeof p.readUInt8=="function"}},{}],527:[function(r,I,k){(function(p,u){(function(){var f=/%[sdj%]/g;k.format=function(v){if(!M(v)){for(var _=[],S=0;S<arguments.length;S++)_.push(n(arguments[S]));return _.join(" ")}S=1;for(var C=arguments,O=C.length,B=String(v).replace(f,function(re){if(re==="%%")return"%";if(S>=O)return re;switch(re){case"%s":return String(C[S++]);case"%d":return Number(C[S++]);case"%j":try{return JSON.stringify(C[S++])}catch{return"[Circular]"}default:return re}}),z=C[S];S<O;z=C[++S])y(z)||!Y(z)?B+=" "+z:B+=" "+n(z);return B},k.deprecate=function(v,_){if(j(u.process))return function(){return k.deprecate(v,_).apply(this,arguments)};if(p.noDeprecation===!0)return v;var S=!1;return function(){if(!S){if(p.throwDeprecation)throw new Error(_);p.traceDeprecation?console.trace(_):console.error(_),S=!0}return v.apply(this,arguments)}};var i,t={};function n(v,_){var S={seen:[],stylize:a};return arguments.length>=3&&(S.depth=arguments[2]),arguments.length>=4&&(S.colors=arguments[3]),w(_)?S.showHidden=_:_&&k._extend(S,_),j(S.showHidden)&&(S.showHidden=!1),j(S.depth)&&(S.depth=2),j(S.colors)&&(S.colors=!1),j(S.customInspect)&&(S.customInspect=!0),S.colors&&(S.stylize=c),l(S,v,S.depth)}function c(v,_){var S=n.styles[_];return S?"\x1B["+n.colors[S][0]+"m"+v+"\x1B["+n.colors[S][1]+"m":v}function a(v,_){return v}function l(v,_,S){if(v.customInspect&&_&&K(_.inspect)&&_.inspect!==k.inspect&&(!_.constructor||_.constructor.prototype!==_)){var C=_.inspect(S,v);return M(C)||(C=l(v,C,S)),C}var O=function(U,L){if(j(L))return U.stylize("undefined","undefined");if(M(L)){var ee="'"+JSON.stringify(L).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return U.stylize(ee,"string")}if(T(L))return U.stylize(""+L,"number");if(w(L))return U.stylize(""+L,"boolean");if(y(L))return U.stylize("null","null")}(v,_);if(O)return O;var B=Object.keys(_),z=function(U){var L={};return U.forEach(function(ee,ce){L[ee]=!0}),L}(B);if(v.showHidden&&(B=Object.getOwnPropertyNames(_)),q(_)&&(B.indexOf("message")>=0||B.indexOf("description")>=0))return g(_);if(B.length===0){if(K(_)){var re=_.name?": "+_.name:"";return v.stylize("[Function"+re+"]","special")}if(X(_))return v.stylize(RegExp.prototype.toString.call(_),"regexp");if(W(_))return v.stylize(Date.prototype.toString.call(_),"date");if(q(_))return g(_)}var ne,de="",H=!1,ae=["{","}"];return d(_)&&(H=!0,ae=["[","]"]),K(_)&&(de=" [Function"+(_.name?": "+_.name:"")+"]"),X(_)&&(de=" "+RegExp.prototype.toString.call(_)),W(_)&&(de=" "+Date.prototype.toUTCString.call(_)),q(_)&&(de=" "+g(_)),B.length!==0||H&&_.length!=0?S<0?X(_)?v.stylize(RegExp.prototype.toString.call(_),"regexp"):v.stylize("[Object]","special"):(v.seen.push(_),ne=H?function(U,L,ee,ce,ve){for(var he=[],xe=0,_e=L.length;xe<_e;++xe)A(L,String(xe))?he.push(b(U,L,ee,ce,String(xe),!0)):he.push("");return ve.forEach(function(Re){Re.match(/^\d+$/)||he.push(b(U,L,ee,ce,Re,!0))}),he}(v,_,S,z,B):B.map(function(U){return b(v,_,S,z,U,H)}),v.seen.pop(),function(U,L,ee){return U.reduce(function(ce,ve){return ve.indexOf(`
`)>=0,ce+ve.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?ee[0]+(L===""?"":L+`
 `)+" "+U.join(`,
  `)+" "+ee[1]:ee[0]+L+" "+U.join(", ")+" "+ee[1]}(ne,de,ae)):ae[0]+de+ae[1]}function g(v){return"["+Error.prototype.toString.call(v)+"]"}function b(v,_,S,C,O,B){var z,re,ne;if((ne=Object.getOwnPropertyDescriptor(_,O)||{value:_[O]}).get?re=ne.set?v.stylize("[Getter/Setter]","special"):v.stylize("[Getter]","special"):ne.set&&(re=v.stylize("[Setter]","special")),A(C,O)||(z="["+O+"]"),re||(v.seen.indexOf(ne.value)<0?(re=y(S)?l(v,ne.value,null):l(v,ne.value,S-1)).indexOf(`
`)>-1&&(re=B?re.split(`
`).map(function(de){return"  "+de}).join(`
`).substr(2):`
`+re.split(`
`).map(function(de){return"   "+de}).join(`
`)):re=v.stylize("[Circular]","special")),j(z)){if(B&&O.match(/^\d+$/))return re;(z=JSON.stringify(""+O)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(z=z.substr(1,z.length-2),z=v.stylize(z,"name")):(z=z.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),z=v.stylize(z,"string"))}return z+": "+re}function d(v){return Array.isArray(v)}function w(v){return typeof v=="boolean"}function y(v){return v===null}function T(v){return typeof v=="number"}function M(v){return typeof v=="string"}function j(v){return v===void 0}function X(v){return Y(v)&&ie(v)==="[object RegExp]"}function Y(v){return typeof v=="object"&&v!==null}function W(v){return Y(v)&&ie(v)==="[object Date]"}function q(v){return Y(v)&&(ie(v)==="[object Error]"||v instanceof Error)}function K(v){return typeof v=="function"}function ie(v){return Object.prototype.toString.call(v)}function $(v){return v<10?"0"+v.toString(10):v.toString(10)}k.debuglog=function(v){if(j(i)&&(i=p.env.NODE_DEBUG||""),v=v.toUpperCase(),!t[v])if(new RegExp("\\b"+v+"\\b","i").test(i)){var _=p.pid;t[v]=function(){var S=k.format.apply(k,arguments);console.error("%s %d: %s",v,_,S)}}else t[v]=function(){};return t[v]},k.inspect=n,n.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},n.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},k.isArray=d,k.isBoolean=w,k.isNull=y,k.isNullOrUndefined=function(v){return v==null},k.isNumber=T,k.isString=M,k.isSymbol=function(v){return typeof v=="symbol"},k.isUndefined=j,k.isRegExp=X,k.isObject=Y,k.isDate=W,k.isError=q,k.isFunction=K,k.isPrimitive=function(v){return v===null||typeof v=="boolean"||typeof v=="number"||typeof v=="string"||typeof v=="symbol"||v===void 0},k.isBuffer=r("./support/isBuffer");var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function F(){var v=new Date,_=[$(v.getHours()),$(v.getMinutes()),$(v.getSeconds())].join(":");return[v.getDate(),D[v.getMonth()],_].join(" ")}function A(v,_){return Object.prototype.hasOwnProperty.call(v,_)}k.log=function(){console.log("%s - %s",F(),k.format.apply(k,arguments))},k.inherits=r("inherits"),k._extend=function(v,_){if(!_||!Y(_))return v;for(var S=Object.keys(_),C=S.length;C--;)v[S[C]]=_[S[C]];return v}}).call(this)}).call(this,r("_process"),typeof yr<"u"?yr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(r,I,k){Object.defineProperty(k,"__esModule",{value:!0}),Object.defineProperty(k,"v1",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(k,"v3",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(k,"v4",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(k,"v5",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(k,"NIL",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(k,"version",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(k,"validate",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(k,"stringify",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(k,"parse",{enumerable:!0,get:function(){return l.default}});var p=g(r("./v1.js")),u=g(r("./v3.js")),f=g(r("./v4.js")),i=g(r("./v5.js")),t=g(r("./nil.js")),n=g(r("./version.js")),c=g(r("./validate.js")),a=g(r("./stringify.js")),l=g(r("./parse.js"));function g(b){return b&&b.__esModule?b:{default:b}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(r,I,k){function p(l){return 14+(l+64>>>9<<4)+1}function u(l,g){const b=(65535&l)+(65535&g);return(l>>16)+(g>>16)+(b>>16)<<16|65535&b}function f(l,g,b,d,w,y){return u((T=u(u(g,l),u(d,y)))<<(M=w)|T>>>32-M,b);var T,M}function i(l,g,b,d,w,y,T){return f(g&b|~g&d,l,g,w,y,T)}function t(l,g,b,d,w,y,T){return f(g&d|b&~d,l,g,w,y,T)}function n(l,g,b,d,w,y,T){return f(g^b^d,l,g,w,y,T)}function c(l,g,b,d,w,y,T){return f(b^(g|~d),l,g,w,y,T)}Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var a=function(l){if(typeof l=="string"){const g=unescape(encodeURIComponent(l));l=new Uint8Array(g.length);for(let b=0;b<g.length;++b)l[b]=g.charCodeAt(b)}return function(g){const b=[],d=32*g.length;for(let w=0;w<d;w+=8){const y=g[w>>5]>>>w%32&255,T=parseInt("0123456789abcdef".charAt(y>>>4&15)+"0123456789abcdef".charAt(15&y),16);b.push(T)}return b}(function(g,b){g[b>>5]|=128<<b%32,g[p(b)-1]=b;let d=1732584193,w=-271733879,y=-1732584194,T=271733878;for(let M=0;M<g.length;M+=16){const j=d,X=w,Y=y,W=T;d=i(d,w,y,T,g[M],7,-680876936),T=i(T,d,w,y,g[M+1],12,-389564586),y=i(y,T,d,w,g[M+2],17,606105819),w=i(w,y,T,d,g[M+3],22,-1044525330),d=i(d,w,y,T,g[M+4],7,-176418897),T=i(T,d,w,y,g[M+5],12,1200080426),y=i(y,T,d,w,g[M+6],17,-1473231341),w=i(w,y,T,d,g[M+7],22,-45705983),d=i(d,w,y,T,g[M+8],7,1770035416),T=i(T,d,w,y,g[M+9],12,-1958414417),y=i(y,T,d,w,g[M+10],17,-42063),w=i(w,y,T,d,g[M+11],22,-1990404162),d=i(d,w,y,T,g[M+12],7,1804603682),T=i(T,d,w,y,g[M+13],12,-40341101),y=i(y,T,d,w,g[M+14],17,-1502002290),w=i(w,y,T,d,g[M+15],22,1236535329),d=t(d,w,y,T,g[M+1],5,-165796510),T=t(T,d,w,y,g[M+6],9,-1069501632),y=t(y,T,d,w,g[M+11],14,643717713),w=t(w,y,T,d,g[M],20,-373897302),d=t(d,w,y,T,g[M+5],5,-701558691),T=t(T,d,w,y,g[M+10],9,38016083),y=t(y,T,d,w,g[M+15],14,-660478335),w=t(w,y,T,d,g[M+4],20,-405537848),d=t(d,w,y,T,g[M+9],5,568446438),T=t(T,d,w,y,g[M+14],9,-1019803690),y=t(y,T,d,w,g[M+3],14,-187363961),w=t(w,y,T,d,g[M+8],20,1163531501),d=t(d,w,y,T,g[M+13],5,-1444681467),T=t(T,d,w,y,g[M+2],9,-51403784),y=t(y,T,d,w,g[M+7],14,1735328473),w=t(w,y,T,d,g[M+12],20,-1926607734),d=n(d,w,y,T,g[M+5],4,-378558),T=n(T,d,w,y,g[M+8],11,-2022574463),y=n(y,T,d,w,g[M+11],16,1839030562),w=n(w,y,T,d,g[M+14],23,-35309556),d=n(d,w,y,T,g[M+1],4,-1530992060),T=n(T,d,w,y,g[M+4],11,1272893353),y=n(y,T,d,w,g[M+7],16,-155497632),w=n(w,y,T,d,g[M+10],23,-1094730640),d=n(d,w,y,T,g[M+13],4,681279174),T=n(T,d,w,y,g[M],11,-358537222),y=n(y,T,d,w,g[M+3],16,-722521979),w=n(w,y,T,d,g[M+6],23,76029189),d=n(d,w,y,T,g[M+9],4,-640364487),T=n(T,d,w,y,g[M+12],11,-421815835),y=n(y,T,d,w,g[M+15],16,530742520),w=n(w,y,T,d,g[M+2],23,-995338651),d=c(d,w,y,T,g[M],6,-198630844),T=c(T,d,w,y,g[M+7],10,1126891415),y=c(y,T,d,w,g[M+14],15,-1416354905),w=c(w,y,T,d,g[M+5],21,-57434055),d=c(d,w,y,T,g[M+12],6,1700485571),T=c(T,d,w,y,g[M+3],10,-1894986606),y=c(y,T,d,w,g[M+10],15,-1051523),w=c(w,y,T,d,g[M+1],21,-2054922799),d=c(d,w,y,T,g[M+8],6,1873313359),T=c(T,d,w,y,g[M+15],10,-30611744),y=c(y,T,d,w,g[M+6],15,-1560198380),w=c(w,y,T,d,g[M+13],21,1309151649),d=c(d,w,y,T,g[M+4],6,-145523070),T=c(T,d,w,y,g[M+11],10,-1120210379),y=c(y,T,d,w,g[M+2],15,718787259),w=c(w,y,T,d,g[M+9],21,-343485551),d=u(d,j),w=u(w,X),y=u(y,Y),T=u(T,W)}return[d,w,y,T]}(function(g){if(g.length===0)return[];const b=8*g.length,d=new Uint32Array(p(b));for(let w=0;w<b;w+=8)d[w>>5]|=(255&g[w/8])<<w%32;return d}(l),8*l.length))};k.default=a},{}],530:[function(r,I,k){Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,k.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(r,I,k){Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var p,u=(p=r("./validate.js"))&&p.__esModule?p:{default:p},f=function(i){if(!(0,u.default)(i))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(i.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(i.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(i.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(i.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(i.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};k.default=f},{"./validate.js":541}],532:[function(r,I,k){Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0,k.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(r,I,k){let p;Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(){if(!p&&(p=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!p))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return p(u)};const u=new Uint8Array(16)},{}],534:[function(r,I,k){function p(i,t,n,c){switch(i){case 0:return t&n^~t&c;case 1:return t^n^c;case 2:return t&n^t&c^n&c;case 3:return t^n^c}}function u(i,t){return i<<t|i>>>32-t}Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var f=function(i){const t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof i=="string"){const g=unescape(encodeURIComponent(i));i=[];for(let b=0;b<g.length;++b)i.push(g.charCodeAt(b))}else Array.isArray(i)||(i=Array.prototype.slice.call(i));i.push(128);const c=i.length/4+2,a=Math.ceil(c/16),l=new Array(a);for(let g=0;g<a;++g){const b=new Uint32Array(16);for(let d=0;d<16;++d)b[d]=i[64*g+4*d]<<24|i[64*g+4*d+1]<<16|i[64*g+4*d+2]<<8|i[64*g+4*d+3];l[g]=b}l[a-1][14]=8*(i.length-1)/Math.pow(2,32),l[a-1][14]=Math.floor(l[a-1][14]),l[a-1][15]=8*(i.length-1)&4294967295;for(let g=0;g<a;++g){const b=new Uint32Array(80);for(let j=0;j<16;++j)b[j]=l[g][j];for(let j=16;j<80;++j)b[j]=u(b[j-3]^b[j-8]^b[j-14]^b[j-16],1);let d=n[0],w=n[1],y=n[2],T=n[3],M=n[4];for(let j=0;j<80;++j){const X=Math.floor(j/20),Y=u(d,5)+p(X,w,y,T)+M+t[X]+b[j]>>>0;M=T,T=y,y=u(w,30)>>>0,w=d,d=Y}n[0]=n[0]+d>>>0,n[1]=n[1]+w>>>0,n[2]=n[2]+y>>>0,n[3]=n[3]+T>>>0,n[4]=n[4]+M>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]};k.default=f},{}],535:[function(r,I,k){Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var p,u=(p=r("./validate.js"))&&p.__esModule?p:{default:p};const f=[];for(let t=0;t<256;++t)f.push((t+256).toString(16).substr(1));var i=function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const c=(f[t[n+0]]+f[t[n+1]]+f[t[n+2]]+f[t[n+3]]+"-"+f[t[n+4]]+f[t[n+5]]+"-"+f[t[n+6]]+f[t[n+7]]+"-"+f[t[n+8]]+f[t[n+9]]+"-"+f[t[n+10]]+f[t[n+11]]+f[t[n+12]]+f[t[n+13]]+f[t[n+14]]+f[t[n+15]]).toLowerCase();if(!(0,u.default)(c))throw TypeError("Stringified UUID is invalid");return c};k.default=i},{"./validate.js":541}],536:[function(r,I,k){Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var p=f(r("./rng.js")),u=f(r("./stringify.js"));function f(l){return l&&l.__esModule?l:{default:l}}let i,t,n=0,c=0;var a=function(l,g,b){let d=g&&b||0;const w=g||new Array(16);let y=(l=l||{}).node||i,T=l.clockseq!==void 0?l.clockseq:t;if(y==null||T==null){const q=l.random||(l.rng||p.default)();y==null&&(y=i=[1|q[0],q[1],q[2],q[3],q[4],q[5]]),T==null&&(T=t=16383&(q[6]<<8|q[7]))}let M=l.msecs!==void 0?l.msecs:Date.now(),j=l.nsecs!==void 0?l.nsecs:c+1;const X=M-n+(j-c)/1e4;if(X<0&&l.clockseq===void 0&&(T=T+1&16383),(X<0||M>n)&&l.nsecs===void 0&&(j=0),j>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");n=M,c=j,t=T,M+=122192928e5;const Y=(1e4*(268435455&M)+j)%4294967296;w[d++]=Y>>>24&255,w[d++]=Y>>>16&255,w[d++]=Y>>>8&255,w[d++]=255&Y;const W=M/4294967296*1e4&268435455;w[d++]=W>>>8&255,w[d++]=255&W,w[d++]=W>>>24&15|16,w[d++]=W>>>16&255,w[d++]=T>>>8|128,w[d++]=255&T;for(let q=0;q<6;++q)w[d+q]=y[q];return g||(0,u.default)(w)};k.default=a},{"./rng.js":533,"./stringify.js":535}],537:[function(r,I,k){Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var p=f(r("./v35.js")),u=f(r("./md5.js"));function f(t){return t&&t.__esModule?t:{default:t}}var i=(0,p.default)("v3",48,u.default);k.default=i},{"./md5.js":529,"./v35.js":538}],538:[function(r,I,k){Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(n,c,a){function l(g,b,d,w){if(typeof g=="string"&&(g=function(T){T=unescape(encodeURIComponent(T));const M=[];for(let j=0;j<T.length;++j)M.push(T.charCodeAt(j));return M}(g)),typeof b=="string"&&(b=(0,u.default)(b)),b.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let y=new Uint8Array(16+g.length);if(y.set(b),y.set(g,b.length),y=a(y),y[6]=15&y[6]|c,y[8]=63&y[8]|128,d){w=w||0;for(let T=0;T<16;++T)d[w+T]=y[T];return d}return(0,p.default)(y)}try{l.name=n}catch{}return l.DNS=i,l.URL=t,l},k.URL=k.DNS=void 0;var p=f(r("./stringify.js")),u=f(r("./parse.js"));function f(n){return n&&n.__esModule?n:{default:n}}const i="6ba7b810-9dad-11d1-80b4-00c04fd430c8";k.DNS=i;const t="6ba7b811-9dad-11d1-80b4-00c04fd430c8";k.URL=t},{"./parse.js":531,"./stringify.js":535}],539:[function(r,I,k){Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var p=f(r("./rng.js")),u=f(r("./stringify.js"));function f(t){return t&&t.__esModule?t:{default:t}}var i=function(t,n,c){const a=(t=t||{}).random||(t.rng||p.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,n){c=c||0;for(let l=0;l<16;++l)n[c+l]=a[l];return n}return(0,u.default)(a)};k.default=i},{"./rng.js":533,"./stringify.js":535}],540:[function(r,I,k){Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var p=f(r("./v35.js")),u=f(r("./sha1.js"));function f(t){return t&&t.__esModule?t:{default:t}}var i=(0,p.default)("v5",80,u.default);k.default=i},{"./sha1.js":534,"./v35.js":538}],541:[function(r,I,k){Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var p,u=(p=r("./regex.js"))&&p.__esModule?p:{default:p},f=function(i){return typeof i=="string"&&u.default.test(i)};k.default=f},{"./regex.js":532}],542:[function(r,I,k){Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var p,u=(p=r("./validate.js"))&&p.__esModule?p:{default:p},f=function(i){if(!(0,u.default)(i))throw TypeError("Invalid UUID");return parseInt(i.substr(14,1),16)};k.default=f},{"./validate.js":541}],543:[function(r,I,k){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(k,"__esModule",{value:!0}),k.CHAR=`	
\r -퟿-�𐀀-􏿿`,k.S=` 	\r
`,k.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",k.NAME_CHAR="-"+k.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",k.CHAR_RE=new RegExp("^["+k.CHAR+"]$","u"),k.S_RE=new RegExp("^["+k.S+"]+$","u"),k.NAME_START_CHAR_RE=new RegExp("^["+k.NAME_START_CHAR+"]$","u"),k.NAME_CHAR_RE=new RegExp("^["+k.NAME_CHAR+"]$","u"),k.NAME_RE=new RegExp("^["+k.NAME_START_CHAR+"]["+k.NAME_CHAR+"]*$","u"),k.NMTOKEN_RE=new RegExp("^["+k.NAME_CHAR+"]+$","u");function p(u){return u>=65&&u<=90||u>=97&&u<=122||u===58||u===95||u===8204||u===8205||u>=192&&u<=214||u>=216&&u<=246||u>=248&&u<=767||u>=880&&u<=893||u>=895&&u<=8191||u>=8304&&u<=8591||u>=11264&&u<=12271||u>=12289&&u<=55295||u>=63744&&u<=64975||u>=65008&&u<=65533||u>=65536&&u<=983039}k.S_LIST=[32,10,13,9],k.isChar=function(u){return u>=32&&u<=55295||u===10||u===13||u===9||u>=57344&&u<=65533||u>=65536&&u<=1114111},k.isS=function(u){return u===32||u===10||u===13||u===9},k.isNameStartChar=p,k.isNameChar=function(u){return p(u)||u>=48&&u<=57||u===45||u===46||u===183||u>=768&&u<=879||u>=8255&&u<=8256}},{}],544:[function(r,I,k){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(k,"__esModule",{value:!0}),k.CHAR="-퟿-�𐀀-􏿿",k.RESTRICTED_CHAR="-\b\v\f---",k.S=` 	\r
`,k.NAME_START_CHAR=":A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",k.NAME_CHAR="-"+k.NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",k.CHAR_RE=new RegExp("^["+k.CHAR+"]$","u"),k.RESTRICTED_CHAR_RE=new RegExp("^["+k.RESTRICTED_CHAR+"]$","u"),k.S_RE=new RegExp("^["+k.S+"]+$","u"),k.NAME_START_CHAR_RE=new RegExp("^["+k.NAME_START_CHAR+"]$","u"),k.NAME_CHAR_RE=new RegExp("^["+k.NAME_CHAR+"]$","u"),k.NAME_RE=new RegExp("^["+k.NAME_START_CHAR+"]["+k.NAME_CHAR+"]*$","u"),k.NMTOKEN_RE=new RegExp("^["+k.NAME_CHAR+"]+$","u");function p(u){return u>=65&&u<=90||u>=97&&u<=122||u===58||u===95||u===8204||u===8205||u>=192&&u<=214||u>=216&&u<=246||u>=248&&u<=767||u>=880&&u<=893||u>=895&&u<=8191||u>=8304&&u<=8591||u>=11264&&u<=12271||u>=12289&&u<=55295||u>=63744&&u<=64975||u>=65008&&u<=65533||u>=65536&&u<=983039}k.S_LIST=[32,10,13,9],k.isChar=function(u){return u>=1&&u<=55295||u>=57344&&u<=65533||u>=65536&&u<=1114111},k.isRestrictedChar=function(u){return u>=1&&u<=8||u===11||u===12||u>=14&&u<=31||u>=127&&u<=132||u>=134&&u<=159},k.isCharAndNotRestricted=function(u){return u===9||u===10||u===13||u>31&&u<127||u===133||u>159&&u<=55295||u>=57344&&u<=65533||u>=65536&&u<=1114111},k.isS=function(u){return u===32||u===10||u===13||u===9},k.isNameStartChar=p,k.isNameChar=function(u){return p(u)||u>=48&&u<=57||u===45||u===46||u===183||u>=768&&u<=879||u>=8255&&u<=8256}},{}],545:[function(r,I,k){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function p(u){return u>=65&&u<=90||u===95||u>=97&&u<=122||u>=192&&u<=214||u>=216&&u<=246||u>=248&&u<=767||u>=880&&u<=893||u>=895&&u<=8191||u>=8204&&u<=8205||u>=8304&&u<=8591||u>=11264&&u<=12271||u>=12289&&u<=55295||u>=63744&&u<=64975||u>=65008&&u<=65533||u>=65536&&u<=983039}Object.defineProperty(k,"__esModule",{value:!0}),k.NC_NAME_START_CHAR="A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�𐀀-󯿿",k.NC_NAME_CHAR="-"+k.NC_NAME_START_CHAR+".0-9·̀-ͯ‿-⁀",k.NC_NAME_START_CHAR_RE=new RegExp("^["+k.NC_NAME_START_CHAR+"]$","u"),k.NC_NAME_CHAR_RE=new RegExp("^["+k.NC_NAME_CHAR+"]$","u"),k.NC_NAME_RE=new RegExp("^["+k.NC_NAME_START_CHAR+"]["+k.NC_NAME_CHAR+"]*$","u"),k.isNCNameStartChar=p,k.isNCNameChar=function(u){return p(u)||u===45||u===46||u>=48&&u<=57||u===183||u>=768&&u<=879||u>=8255&&u<=8256}},{}]},{},[15])(15)})}(Tu)),Tu.exports}var K1=Z1();const Q1=Ka(K1),Uh=(J,te)=>new Promise((r,I)=>{const k=new Worker(new URL("/upload/assets/excelParser.worker-C9sFjfCE.js",import.meta.url),{type:"module"});k.onmessage=p=>{const{type:u,progress:f,stage:i,result:t,error:n}=p.data;switch(u){case"progress":typeof f=="number"&&window.dispatchEvent(new CustomEvent("excelParseProgress",{detail:{progress:f,stage:i}}));break;case"complete":k.terminate(),r(t);break;case"error":k.terminate(),I(new Error(n));break}},k.onerror=p=>{k.terminate(),I(p)},k.postMessage({file:J,signal:te})});async function J1(){const J=new Q1.Workbook,te=J.addWorksheet("Products");te.addRow(["item code","qty","size","color","style code","style number","department","price","ctn"]),te.addRow(["12345",10,"M","Red","STY001","SN001","Mens",29.99,"1"]),te.addRow(["67890",5,"L","Blue","STY002","SN002","Womens",39.99,"2"]);const r=await J.xlsx.writeBuffer(),I=new Blob([r],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),k=window.URL.createObjectURL(I),p=document.createElement("a");p.href=k,p.download="inventory_template.xlsx",p.click(),window.URL.revokeObjectURL(k)}const ep=async(J="soh/sp soh.xlsx")=>{try{const te=await fetch(J);if(!te.ok)throw new Error(`Failed to fetch test data file: ${te.statusText}`);const r=await te.blob(),I=new File([r],J.split("/").pop()||"test_data.xlsx",{type:r.type});console.log("Starting to parse test data...");const{products:k,boxes:p}=await Uh(I);return console.log(`Parsed ${k.length} products from test data.`),{products:k,boxes:p}}catch(te){throw console.error("Error loading test data:",te),te}},tp=()=>{const{uploadInventory:J,stockHistory:te}=el(),[r,I]=tt.useState(null),[k,p]=tt.useState(!1),[u,f]=tt.useState(!1),[i,t]=tt.useState(null),[n,c]=tt.useState([]),[a,l]=tt.useState(!1),[g,b]=tt.useState(!1),[d,w]=tt.useState(0),[y,T]=tt.useState(null),[M,j]=tt.useState(0),[X,Y]=tt.useState(0),[W,q]=tt.useState(0),[K,ie]=tt.useState(0),[$,D]=tt.useState(0),[F,A]=tt.useState(0),[v,_]=tt.useState(!1),[S,C]=tt.useState(0),[O,B]=tt.useState(null),[z,re]=tt.useState(!1),ne=tt.useRef(null);tt.useEffect(()=>{const _e=pe=>{const{progress:Ae,stage:Se,processedBytes:Ue,totalBytes:ke,processedRows:We,totalRows:$e,rowsPerSecond:Ze,estimatedTimeRemaining:lt}=pe.detail;w(Ae),T(Se),Ue&&ke&&(j(Ue),Y(ke)),We&&$e&&(q(We),ie($e)),Ze&&D(Ze),typeof lt=="number"&&A(lt)},Re=pe=>{const{progress:Ae,stage:Se}=pe.detail;C(Ae),B(Se)};return window.addEventListener("excelParseProgress",_e),window.addEventListener("inventoryUploadProgress",Re),()=>{window.removeEventListener("excelParseProgress",_e),window.removeEventListener("inventoryUploadProgress",Re)}},[]);const de=async _e=>{if(!_e.name.endsWith(".xlsx")&&!_e.name.endsWith(".xls")){t("Please select an Excel file (.xlsx or .xls)"),I(null);return}if(_e.size>1024*1024*1024&&!window.confirm(`This file is ${he(_e.size)}. Processing may take a long time. Do you want to continue?`)){I(null);return}ne.current&&ne.current.abort(),I(_e),f(!1),t(null),c([]),b(!0),w(0),T(null),j(0),Y(_e.size),q(0),ie(0),D(0),A(0),_(!1),C(0),B(null),re(!1),ne.current=new AbortController;const Re=ne.current.signal;try{const{products:pe}=await Uh(_e,Re);if(Re.aborted)return;c(pe)}catch(pe){if(Re.aborted)return;console.error("Error parsing file:",pe),t(pe instanceof Error?pe.message:"Could not parse the Excel file. Please check the format."),I(null)}finally{Re.aborted||(b(!1),w(0),T(null),j(0),Y(0),q(0),ie(0),D(0),A(0),_(!1),C(0),B(null),re(!1))}},H=tt.useCallback(_e=>{_e.preventDefault(),l(!1);const Re=_e.dataTransfer.files[0];Re&&de(Re)},[]),ae=tt.useCallback(_e=>{_e.preventDefault(),l(!0)},[]),U=tt.useCallback(_e=>{_e.preventDefault(),l(!1)},[]),L=_e=>{var pe;const Re=(pe=_e.target.files)==null?void 0:pe[0];Re&&de(Re)},ee=async()=>{if(n.length){p(!0),_(!0),t(null),C(0),B(null);try{await J(n),f(!0),I(null),c([]);const _e=document.getElementById("file-upload");_e&&(_e.value="")}catch(_e){console.error("Error uploading inventory:",_e),t("Failed to update inventory. Please try again.")}finally{p(!1),_(!1)}}},ce=async()=>{re(!0),f(!1),t(null),c([]),b(!0),w(0),T(null),j(0),Y(0),q(0),ie(0),D(0),A(0),_(!1),C(0),B(null);try{const{products:_e,boxes:Re}=await ep();c(_e),b(!1),_(!0),await J(_e,Re),f(!0),I(null),c([])}catch(_e){console.error("Error loading test data:",_e),t(_e instanceof Error?_e.message:"Failed to load test data.")}finally{re(!1),_(!1),b(!1)}},ve=()=>{ne.current&&ne.current.abort(),I(null),c([]),b(!1),w(0),T(null),j(0),Y(0),q(0),ie(0),D(0),A(0),_(!1),C(0),B(null),re(!1);const _e=document.getElementById("file-upload");_e&&(_e.value="")},he=_e=>{if(_e===0)return"0 B";const Re=1024,pe=["B","KB","MB","GB","TB"],Ae=Math.floor(Math.log(_e)/Math.log(Re));return`${parseFloat((_e/Math.pow(Re,Ae)).toFixed(2))} ${pe[Ae]}`},xe=_e=>_e<60?`${_e} seconds`:_e<3600?`${Math.floor(_e/60)} minutes`:_e<86400?`${Math.floor(_e/3600)} hours`:`${Math.floor(_e/86400)} days`;return le.jsxs("div",{children:[le.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-6",children:"SOH Upload"}),le.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[le.jsx("div",{className:"lg:col-span-2",children:le.jsxs(_n,{children:[le.jsx(as,{children:le.jsx(ls,{children:"Upload Inventory File"})}),le.jsxs(Sn,{children:[u?le.jsxs("div",{className:"p-6 bg-emerald-50 rounded-md border border-emerald-100 flex items-start mb-6",children:[le.jsx(e1,{className:"h-5 w-5 text-emerald-500 mt-0.5 mr-3 flex-shrink-0"}),le.jsxs("div",{children:[le.jsx("h3",{className:"font-medium text-emerald-800 mb-1",children:"Upload Successful"}),le.jsx("p",{className:"text-emerald-600 text-sm",children:"Your inventory has been updated successfully."})]})]}):i?le.jsxs("div",{className:"p-6 bg-red-50 rounded-md border border-red-100 flex items-start mb-6",children:[le.jsx(Q0,{className:"h-5 w-5 text-red-500 mt-0.5 mr-3 flex-shrink-0"}),le.jsxs("div",{children:[le.jsx("h3",{className:"font-medium text-red-800 mb-1",children:"Upload Failed"}),le.jsx("p",{className:"text-red-600 text-sm",children:i})]})]}):null,le.jsxs("div",{onDrop:H,onDragOver:ae,onDragLeave:U,className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${a?"border-indigo-400 bg-indigo-50":r?"border-indigo-300 bg-indigo-50":"border-slate-300 hover:border-slate-400"}`,children:[le.jsx("input",{id:"file-upload",type:"file",accept:".xlsx,.xls",onChange:L,className:"hidden"}),r?le.jsxs("div",{children:[le.jsx(i1,{className:"h-12 w-12 text-indigo-500 mx-auto mb-2"}),le.jsx("p",{className:"text-indigo-700 font-medium mb-1",children:r.name}),le.jsx("p",{className:"text-slate-500 text-sm mb-2",children:he(r.size)}),g||v?le.jsxs("div",{className:"mb-4",children:[le.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5 mb-2",children:le.jsx("div",{className:"bg-indigo-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${v?S:d}%`}})}),le.jsxs("div",{className:"space-y-1",children:[le.jsx("p",{className:"text-slate-500 text-sm",children:v?`${O||"Saving..."} ${S.toFixed(0)}%`:`${y==="reading"?"Reading file...":y==="parsing"?"Processing data...":"Processing..."} ${d.toFixed(0)}%`}),g&&y==="reading"&&M>0&&le.jsxs("div",{className:"space-y-1",children:[le.jsxs("p",{className:"text-slate-400 text-xs",children:[he(M)," of ",he(X)]}),F>0&&le.jsxs("p",{className:"text-slate-400 text-xs",children:["Estimated time remaining: ",xe(F)]})]}),g&&y==="parsing"&&W>0&&le.jsxs("div",{className:"space-y-1",children:[le.jsxs("p",{className:"text-slate-400 text-xs",children:[W.toLocaleString()," of ",K.toLocaleString()," rows processed"]}),$>0&&le.jsxs("p",{className:"text-slate-400 text-xs",children:["Processing speed: ",$.toLocaleString()," rows/second"]}),F>0&&le.jsxs("p",{className:"text-slate-400 text-xs",children:["Estimated time remaining: ",xe(F)]})]}),v&&S>0&&O&&le.jsx("p",{className:"text-slate-400 text-xs",children:O})]})]}):le.jsx("p",{className:"text-slate-500 text-sm mb-4",children:n.length?`${n.length.toLocaleString()} products found`:"No products found"}),le.jsxs("div",{className:"flex justify-center space-x-3",children:[le.jsx(Fr,{variant:"primary",onClick:ee,isLoading:k,disabled:!n.length||k||g||v,children:k?"Uploading...":"Update Inventory"}),le.jsx(Fr,{variant:"outline",onClick:ve,disabled:k||v,children:"Cancel"})]})]}):le.jsxs("div",{children:[le.jsx(Du,{className:"h-12 w-12 text-slate-400 mx-auto mb-2"}),le.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-1",children:a?"Drop your file here":"Upload SOH Excel File"}),le.jsx("p",{className:"text-slate-500 mb-4",children:"Drag and drop your Excel file here, or click to browse"}),le.jsxs("label",{htmlFor:"file-upload",className:"inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 border border-slate-300 bg-transparent hover:bg-slate-100 focus-visible:ring-slate-500 h-10 px-4 cursor-pointer",children:[le.jsx(Du,{size:16,className:"mr-2"}),"Browse Files"]}),le.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Supported formats: .xlsx, .xls"}),le.jsx("div",{className:"mt-4",children:le.jsx(Fr,{variant:"secondary",onClick:ce,isLoading:z,disabled:z||g||v||k,children:z?"Loading Test Data...":"Load Test Data (sp soh.xlsx)"})})]})]}),le.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[le.jsx("p",{className:"text-sm text-slate-600",children:"Need a template? Download our sample Excel format"}),le.jsx(Fr,{variant:"outline",size:"sm",leftIcon:le.jsx(n1,{size:16}),onClick:J1,children:"Download Template"})]}),n.length>0&&le.jsxs("div",{className:"mt-6",children:[le.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-3",children:"Preview"}),le.jsxs("div",{className:"overflow-x-auto",children:[le.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[le.jsx("thead",{className:"bg-slate-50",children:le.jsxs("tr",{children:[le.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Barcode"}),le.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Department"}),le.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Style #"}),le.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Size/Color"}),le.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Quantity"}),le.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Price"})]})}),le.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:n.slice(0,5).map(_e=>le.jsxs("tr",{children:[le.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-slate-500",children:_e.barcode}),le.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:_e.department}),le.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:_e.styleNumber}),le.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:[_e.size," / ",_e.color]}),le.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:_e.quantity}),le.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:["$",_e.retailPrice.toFixed(2)]})]},_e.barcode))})]}),n.length>5&&le.jsxs("p",{className:"text-sm text-slate-500 mt-2 text-center",children:["Showing 5 of ",n.length," products"]})]})]})]})]})}),le.jsx("div",{children:le.jsxs(_n,{children:[le.jsx(as,{children:le.jsx(ls,{children:"Upload History"})}),le.jsx(Sn,{children:te.length===0?le.jsx("div",{className:"text-center py-6",children:le.jsx("p",{className:"text-slate-500",children:"No uploads yet"})}):le.jsx("div",{className:"space-y-4",children:te.map((_e,Re)=>le.jsx("div",{className:"p-3 border border-slate-200 rounded-md hover:bg-slate-50",children:le.jsxs("div",{className:"flex justify-between items-start",children:[le.jsxs("div",{children:[le.jsx("h4",{className:"font-medium text-slate-900",children:_e.fileName}),le.jsx("p",{className:"text-xs text-slate-500",children:new Date(_e.date).toLocaleString()})]}),le.jsxs("div",{className:"text-right",children:[le.jsxs("span",{className:"text-xs font-medium text-emerald-600",children:["+",_e.changes.added]})," / ",le.jsxs("span",{className:"text-xs font-medium text-amber-600",children:["~",_e.changes.updated]})," / ",le.jsxs("span",{className:"text-xs font-medium text-red-600",children:["-",_e.changes.removed]})]})]})},Re))})})]})})]})]})},rp=[{id:"1",name:"John Smith",role:"stock-manager"},{id:"2",name:"Jane Doe",role:"sales-staff"},{id:"3",name:"Robert Johnson",role:"sales-staff"}],np=()=>{const{currentUser:J}=so(),[te,r]=tt.useState(rp),[I,k]=tt.useState(!1),[p,u]=tt.useState(""),[f,i]=tt.useState("sales-staff");if(!J||J.role!=="stock-manager")return le.jsxs("div",{className:"text-center py-12",children:[le.jsx(tl,{className:"h-12 w-12 text-amber-500 mx-auto mb-4"}),le.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Access Denied"}),le.jsx("p",{className:"text-slate-600 mb-6",children:"You don't have permission to access this page."}),le.jsx(Fr,{variant:"primary",onClick:()=>window.location.href="/",children:"Back to Dashboard"})]});const t=()=>{if(!p)return;const n={id:`user-${Date.now()}`,name:p,role:f};r([...te,n]),u(""),i("sales-staff"),k(!1)};return le.jsxs("div",{children:[le.jsxs("div",{className:"flex items-center justify-between mb-6",children:[le.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"User Management"}),le.jsx(Fr,{onClick:()=>k(!0),leftIcon:le.jsx(d1,{size:16}),children:"Add User"})]}),le.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:te.map(n=>le.jsx(_n,{className:"hover:shadow-md transition-shadow",children:le.jsxs(Sn,{className:"p-6",children:[le.jsxs("div",{className:"flex items-start justify-between mb-4",children:[le.jsxs("div",{className:"flex items-center",children:[le.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-700 font-semibold mr-3",children:n.name.charAt(0)}),le.jsxs("div",{children:[le.jsx("h3",{className:"font-medium text-slate-900",children:n.name}),le.jsxs("div",{className:"flex items-center mt-1",children:[le.jsx(c1,{className:"h-3.5 w-3.5 text-slate-400 mr-1"}),le.jsx("span",{className:"text-xs text-slate-500",children:n.role==="stock-manager"?"Stock Manager":"Sales Staff"})]})]})]}),le.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${n.role==="stock-manager"?"bg-indigo-100 text-indigo-800":"bg-emerald-100 text-emerald-800"}`,children:n.role==="stock-manager"?"Admin":"Staff"})]}),le.jsxs("div",{className:"flex space-x-2 mt-4",children:[le.jsx(Fr,{variant:"outline",size:"sm",className:"flex-1",children:"Edit"}),n.id!==(J==null?void 0:J.id)&&le.jsx(Fr,{variant:"danger",size:"sm",className:"flex-1",children:"Remove"})]})]})},n.id))}),I&&le.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:le.jsxs(_n,{className:"w-full max-w-md",children:[le.jsx(as,{children:le.jsxs(ls,{className:"flex items-center",children:[le.jsx(Oh,{className:"h-5 w-5 text-indigo-600 mr-2"}),le.jsx("span",{children:"Add New User"})]})}),le.jsxs(Sn,{children:[le.jsxs("div",{className:"space-y-4",children:[le.jsxs("div",{children:[le.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),le.jsx(Rs,{placeholder:"John Smith",value:p,onChange:n=>u(n.target.value)})]}),le.jsxs("div",{children:[le.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),le.jsxs("select",{className:"block w-full rounded-md border-slate-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",value:f,onChange:n=>i(n.target.value),children:[le.jsx("option",{value:"sales-staff",children:"Sales Staff"}),le.jsx("option",{value:"stock-manager",children:"Stock Manager (Admin)"})]})]})]}),le.jsxs("div",{className:"mt-6 flex space-x-3",children:[le.jsx(Fr,{variant:"primary",onClick:t,disabled:!p,children:"Add User"}),le.jsx(Fr,{variant:"outline",onClick:()=>k(!1),children:"Cancel"})]})]})]})})]})},ip=[{id:"1",name:"Demo Admin",role:"stock-manager",password:"admin"},{id:"2",name:"Demo Staff",role:"sales-staff",password:"staff"}],sp=()=>{const{login:J}=so(),te=Ja(),[r,I]=tt.useState(""),[k,p]=tt.useState(""),[u,f]=tt.useState(""),i=t=>{if(t.preventDefault(),f(""),!r||!k){f("Username and password are required");return}const n=ip.find(c=>(c.name.toLowerCase()===r.toLowerCase()||r.toLowerCase()===c.role)&&c.password===k);n?(J({id:n.id,name:n.name,role:n.role}),te("/")):f("Invalid credentials")};return le.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:le.jsxs(_n,{className:"w-full max-w-md",children:[le.jsxs(as,{className:"text-center",children:[le.jsx("div",{className:"mx-auto bg-indigo-600 text-white w-16 h-16 flex items-center justify-center rounded-full mb-4",children:le.jsx(Xa,{size:32})}),le.jsx(ls,{className:"text-2xl font-bold text-slate-900",children:"StockTrack"}),le.jsx(b1,{children:"Inventory Management for Retail Stores"})]}),le.jsxs(Sn,{children:[u&&le.jsx("div",{className:"bg-red-50 text-red-800 p-3 rounded-md mb-4 text-sm",children:u}),le.jsx("form",{onSubmit:i,children:le.jsxs("div",{className:"space-y-4",children:[le.jsxs("div",{children:[le.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-slate-700 mb-1",children:"Username"}),le.jsx(Rs,{id:"username",value:r,onChange:t=>I(t.target.value),placeholder:"Enter your username",leftIcon:le.jsx(Oh,{className:"h-5 w-5 text-slate-400"})})]}),le.jsxs("div",{children:[le.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),le.jsx(Rs,{id:"password",type:"password",value:k,onChange:t=>p(t.target.value),placeholder:"Enter your password",leftIcon:le.jsx(s1,{className:"h-5 w-5 text-slate-400"})})]}),le.jsx("div",{className:"pt-2",children:le.jsx(Fr,{className:"w-full",type:"submit",children:"Log In"})})]})}),le.jsxs("div",{className:"mt-6 border-t border-slate-200 pt-4",children:[le.jsx("p",{className:"text-sm text-slate-500 mb-3",children:"For demo purposes, use:"}),le.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[le.jsxs("button",{onClick:()=>{I("Demo Admin"),p("admin")},className:"p-2 text-left text-sm border border-slate-200 rounded hover:bg-slate-50",children:[le.jsx("div",{className:"font-medium",children:"Admin"}),le.jsx("div",{className:"text-xs text-slate-500",children:"Password: admin"})]}),le.jsxs("button",{onClick:()=>{I("Demo Staff"),p("staff")},className:"p-2 text-left text-sm border border-slate-200 rounded hover:bg-slate-50",children:[le.jsx("div",{className:"font-medium",children:"Staff"}),le.jsx("div",{className:"text-xs text-slate-500",children:"Password: staff"})]})]})]})]})]})})},Iu=({element:J,adminOnly:te=!1})=>{const{isAuthenticated:r,isStockManager:I}=so();return r?te&&!I?le.jsx(Ru,{to:"/"}):le.jsx(le.Fragment,{children:J}):le.jsx(Ru,{to:"/login"})};function op(){return le.jsx(z0,{children:le.jsx(G0,{children:le.jsx($0,{children:le.jsxs(D0,{children:[le.jsx(Di,{path:"/login",element:le.jsx(sp,{})}),le.jsxs(Di,{path:"/",element:le.jsx(Iu,{element:le.jsx(g1,{})}),children:[le.jsx(Di,{index:!0,element:le.jsx(y1,{})}),le.jsx(Di,{path:"inventory",element:le.jsx(Y1,{})}),le.jsx(Di,{path:"boxes",element:le.jsx($1,{})}),le.jsx(Di,{path:"upload",element:le.jsx(Iu,{element:le.jsx(tp,{}),adminOnly:!0})}),le.jsx(Di,{path:"users",element:le.jsx(Iu,{element:le.jsx(np,{}),adminOnly:!0})})]}),le.jsx(Di,{path:"*",element:le.jsx(Ru,{to:"/"})})]})})})})}Ud.createRoot(document.getElementById("root")).render(le.jsx(tt.StrictMode,{children:le.jsx(op,{})}));
